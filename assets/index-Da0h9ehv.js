function oE(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function sE(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Qv={exports:{}},yu={},Gv={exports:{}},Me={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pa=Symbol.for("react.element"),aE=Symbol.for("react.portal"),lE=Symbol.for("react.fragment"),uE=Symbol.for("react.strict_mode"),cE=Symbol.for("react.profiler"),hE=Symbol.for("react.provider"),dE=Symbol.for("react.context"),fE=Symbol.for("react.forward_ref"),pE=Symbol.for("react.suspense"),gE=Symbol.for("react.memo"),mE=Symbol.for("react.lazy"),Np=Symbol.iterator;function vE(t){return t===null||typeof t!="object"?null:(t=Np&&t[Np]||t["@@iterator"],typeof t=="function"?t:null)}var Kv={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},qv=Object.assign,Yv={};function Bo(t,e,n){this.props=t,this.context=e,this.refs=Yv,this.updater=n||Kv}Bo.prototype.isReactComponent={};Bo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Bo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Zv(){}Zv.prototype=Bo.prototype;function vd(t,e,n){this.props=t,this.context=e,this.refs=Yv,this.updater=n||Kv}var yd=vd.prototype=new Zv;yd.constructor=vd;qv(yd,Bo.prototype);yd.isPureReactComponent=!0;var Op=Array.isArray,Xv=Object.prototype.hasOwnProperty,_d={current:null},Jv={key:!0,ref:!0,__self:!0,__source:!0};function ey(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)Xv.call(e,r)&&!Jv.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var u=Array(a),c=0;c<a;c++)u[c]=arguments[c+2];i.children=u}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:pa,type:t,key:o,ref:s,props:i,_owner:_d.current}}function yE(t,e){return{$$typeof:pa,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function wd(t){return typeof t=="object"&&t!==null&&t.$$typeof===pa}function _E(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Vp=/\/+/g;function uc(t,e){return typeof t=="object"&&t!==null&&t.key!=null?_E(""+t.key):e.toString(36)}function hl(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case pa:case aE:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+uc(s,0):r,Op(i)?(n="",t!=null&&(n=t.replace(Vp,"$&/")+"/"),hl(i,e,n,"",function(c){return c})):i!=null&&(wd(i)&&(i=yE(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(Vp,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",Op(t))for(var a=0;a<t.length;a++){o=t[a];var u=r+uc(o,a);s+=hl(o,e,n,u,i)}else if(u=vE(t),typeof u=="function")for(t=u.call(t),a=0;!(o=t.next()).done;)o=o.value,u=r+uc(o,a++),s+=hl(o,e,n,u,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function Fa(t,e,n){if(t==null)return t;var r=[],i=0;return hl(t,r,"","",function(o){return e.call(n,o,i++)}),r}function wE(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Zt={current:null},dl={transition:null},EE={ReactCurrentDispatcher:Zt,ReactCurrentBatchConfig:dl,ReactCurrentOwner:_d};function ty(){throw Error("act(...) is not supported in production builds of React.")}Me.Children={map:Fa,forEach:function(t,e,n){Fa(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Fa(t,function(){e++}),e},toArray:function(t){return Fa(t,function(e){return e})||[]},only:function(t){if(!wd(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Me.Component=Bo;Me.Fragment=lE;Me.Profiler=cE;Me.PureComponent=vd;Me.StrictMode=uE;Me.Suspense=pE;Me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=EE;Me.act=ty;Me.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=qv({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=_d.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(u in e)Xv.call(e,u)&&!Jv.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&a!==void 0?a[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){a=Array(u);for(var c=0;c<u;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:pa,type:t.type,key:i,ref:o,props:r,_owner:s}};Me.createContext=function(t){return t={$$typeof:dE,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:hE,_context:t},t.Consumer=t};Me.createElement=ey;Me.createFactory=function(t){var e=ey.bind(null,t);return e.type=t,e};Me.createRef=function(){return{current:null}};Me.forwardRef=function(t){return{$$typeof:fE,render:t}};Me.isValidElement=wd;Me.lazy=function(t){return{$$typeof:mE,_payload:{_status:-1,_result:t},_init:wE}};Me.memo=function(t,e){return{$$typeof:gE,type:t,compare:e===void 0?null:e}};Me.startTransition=function(t){var e=dl.transition;dl.transition={};try{t()}finally{dl.transition=e}};Me.unstable_act=ty;Me.useCallback=function(t,e){return Zt.current.useCallback(t,e)};Me.useContext=function(t){return Zt.current.useContext(t)};Me.useDebugValue=function(){};Me.useDeferredValue=function(t){return Zt.current.useDeferredValue(t)};Me.useEffect=function(t,e){return Zt.current.useEffect(t,e)};Me.useId=function(){return Zt.current.useId()};Me.useImperativeHandle=function(t,e,n){return Zt.current.useImperativeHandle(t,e,n)};Me.useInsertionEffect=function(t,e){return Zt.current.useInsertionEffect(t,e)};Me.useLayoutEffect=function(t,e){return Zt.current.useLayoutEffect(t,e)};Me.useMemo=function(t,e){return Zt.current.useMemo(t,e)};Me.useReducer=function(t,e,n){return Zt.current.useReducer(t,e,n)};Me.useRef=function(t){return Zt.current.useRef(t)};Me.useState=function(t){return Zt.current.useState(t)};Me.useSyncExternalStore=function(t,e,n){return Zt.current.useSyncExternalStore(t,e,n)};Me.useTransition=function(){return Zt.current.useTransition()};Me.version="18.3.1";Gv.exports=Me;var v=Gv.exports;const cr=sE(v),TE=oE({__proto__:null,default:cr},[v]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CE=v,AE=Symbol.for("react.element"),LE=Symbol.for("react.fragment"),SE=Object.prototype.hasOwnProperty,IE=CE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,xE={key:!0,ref:!0,__self:!0,__source:!0};function ny(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)SE.call(e,r)&&!xE.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:AE,type:t,key:o,ref:s,props:i,_owner:IE.current}}yu.Fragment=LE;yu.jsx=ny;yu.jsxs=ny;Qv.exports=yu;var N=Qv.exports,qc={},ry={exports:{}},wn={},iy={exports:{}},oy={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(j,U){var B=j.length;j.push(U);e:for(;0<B;){var q=B-1>>>1,Q=j[q];if(0<i(Q,U))j[q]=U,j[B]=Q,B=q;else break e}}function n(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var U=j[0],B=j.pop();if(B!==U){j[0]=B;e:for(var q=0,Q=j.length,Y=Q>>>1;q<Y;){var G=2*(q+1)-1,W=j[G],$=G+1,se=j[$];if(0>i(W,B))$<Q&&0>i(se,W)?(j[q]=se,j[$]=B,q=$):(j[q]=W,j[G]=B,q=G);else if($<Q&&0>i(se,B))j[q]=se,j[$]=B,q=$;else break e}}return U}function i(j,U){var B=j.sortIndex-U.sortIndex;return B!==0?B:j.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var u=[],c=[],h=1,d=null,f=3,g=!1,w=!1,A=!1,R=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function I(j){for(var U=n(c);U!==null;){if(U.callback===null)r(c);else if(U.startTime<=j)r(c),U.sortIndex=U.expirationTime,e(u,U);else break;U=n(c)}}function M(j){if(A=!1,I(j),!w)if(n(u)!==null)w=!0,O(V);else{var U=n(c);U!==null&&b(M,U.startTime-j)}}function V(j,U){w=!1,A&&(A=!1,E(p),p=-1),g=!0;var B=f;try{for(I(U),d=n(u);d!==null&&(!(d.expirationTime>U)||j&&!P());){var q=d.callback;if(typeof q=="function"){d.callback=null,f=d.priorityLevel;var Q=q(d.expirationTime<=U);U=t.unstable_now(),typeof Q=="function"?d.callback=Q:d===n(u)&&r(u),I(U)}else r(u);d=n(u)}if(d!==null)var Y=!0;else{var G=n(c);G!==null&&b(M,G.startTime-U),Y=!1}return Y}finally{d=null,f=B,g=!1}}var S=!1,C=null,p=-1,y=5,_=-1;function P(){return!(t.unstable_now()-_<y)}function k(){if(C!==null){var j=t.unstable_now();_=j;var U=!0;try{U=C(!0,j)}finally{U?L():(S=!1,C=null)}}else S=!1}var L;if(typeof x=="function")L=function(){x(k)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,z=F.port2;F.port1.onmessage=k,L=function(){z.postMessage(null)}}else L=function(){R(k,0)};function O(j){C=j,S||(S=!0,L())}function b(j,U){p=R(function(){j(t.unstable_now())},U)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(j){j.callback=null},t.unstable_continueExecution=function(){w||g||(w=!0,O(V))},t.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):y=0<j?Math.floor(1e3/j):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(j){switch(f){case 1:case 2:case 3:var U=3;break;default:U=f}var B=f;f=U;try{return j()}finally{f=B}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(j,U){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var B=f;f=j;try{return U()}finally{f=B}},t.unstable_scheduleCallback=function(j,U,B){var q=t.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?q+B:q):B=q,j){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=B+Q,j={id:h++,callback:U,priorityLevel:j,startTime:B,expirationTime:Q,sortIndex:-1},B>q?(j.sortIndex=B,e(c,j),n(u)===null&&j===n(c)&&(A?(E(p),p=-1):A=!0,b(M,B-q))):(j.sortIndex=Q,e(u,j),w||g||(w=!0,O(V))),j},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(j){var U=f;return function(){var B=f;f=U;try{return j.apply(this,arguments)}finally{f=B}}}})(oy);iy.exports=oy;var kE=iy.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PE=v,_n=kE;function ee(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var sy=new Set,zs={};function Fi(t,e){Lo(t,e),Lo(t+"Capture",e)}function Lo(t,e){for(zs[t]=e,t=0;t<e.length;t++)sy.add(e[t])}var dr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Yc=Object.prototype.hasOwnProperty,RE=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Fp={},Up={};function ME(t){return Yc.call(Up,t)?!0:Yc.call(Fp,t)?!1:RE.test(t)?Up[t]=!0:(Fp[t]=!0,!1)}function bE(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function DE(t,e,n,r){if(e===null||typeof e>"u"||bE(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Xt(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var bt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){bt[t]=new Xt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];bt[e]=new Xt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){bt[t]=new Xt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){bt[t]=new Xt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){bt[t]=new Xt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){bt[t]=new Xt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){bt[t]=new Xt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){bt[t]=new Xt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){bt[t]=new Xt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Ed=/[\-:]([a-z])/g;function Td(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Ed,Td);bt[e]=new Xt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Ed,Td);bt[e]=new Xt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Ed,Td);bt[e]=new Xt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){bt[t]=new Xt(t,1,!1,t.toLowerCase(),null,!1,!1)});bt.xlinkHref=new Xt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){bt[t]=new Xt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Cd(t,e,n,r){var i=bt.hasOwnProperty(e)?bt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(DE(e,n,i,r)&&(n=null),r||i===null?ME(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var _r=PE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ua=Symbol.for("react.element"),ro=Symbol.for("react.portal"),io=Symbol.for("react.fragment"),Ad=Symbol.for("react.strict_mode"),Zc=Symbol.for("react.profiler"),ay=Symbol.for("react.provider"),ly=Symbol.for("react.context"),Ld=Symbol.for("react.forward_ref"),Xc=Symbol.for("react.suspense"),Jc=Symbol.for("react.suspense_list"),Sd=Symbol.for("react.memo"),kr=Symbol.for("react.lazy"),uy=Symbol.for("react.offscreen"),jp=Symbol.iterator;function as(t){return t===null||typeof t!="object"?null:(t=jp&&t[jp]||t["@@iterator"],typeof t=="function"?t:null)}var rt=Object.assign,cc;function ws(t){if(cc===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);cc=e&&e[1]||""}return`
`+cc+t}var hc=!1;function dc(t,e){if(!t||hc)return"";hc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var u=`
`+i[s].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=s&&0<=a);break}}}finally{hc=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ws(t):""}function NE(t){switch(t.tag){case 5:return ws(t.type);case 16:return ws("Lazy");case 13:return ws("Suspense");case 19:return ws("SuspenseList");case 0:case 2:case 15:return t=dc(t.type,!1),t;case 11:return t=dc(t.type.render,!1),t;case 1:return t=dc(t.type,!0),t;default:return""}}function eh(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case io:return"Fragment";case ro:return"Portal";case Zc:return"Profiler";case Ad:return"StrictMode";case Xc:return"Suspense";case Jc:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case ly:return(t.displayName||"Context")+".Consumer";case ay:return(t._context.displayName||"Context")+".Provider";case Ld:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Sd:return e=t.displayName||null,e!==null?e:eh(t.type)||"Memo";case kr:e=t._payload,t=t._init;try{return eh(t(e))}catch{}}return null}function OE(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return eh(e);case 8:return e===Ad?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Jr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function cy(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function VE(t){var e=cy(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ja(t){t._valueTracker||(t._valueTracker=VE(t))}function hy(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=cy(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function kl(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function th(t,e){var n=e.checked;return rt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Bp(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Jr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function dy(t,e){e=e.checked,e!=null&&Cd(t,"checked",e,!1)}function nh(t,e){dy(t,e);var n=Jr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?rh(t,e.type,n):e.hasOwnProperty("defaultValue")&&rh(t,e.type,Jr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function zp(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function rh(t,e,n){(e!=="number"||kl(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Es=Array.isArray;function vo(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Jr(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function ih(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ee(91));return rt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function $p(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(ee(92));if(Es(n)){if(1<n.length)throw Error(ee(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Jr(n)}}function fy(t,e){var n=Jr(e.value),r=Jr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Hp(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function py(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function oh(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?py(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ba,gy=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ba=Ba||document.createElement("div"),Ba.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ba.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function $s(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Is={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},FE=["Webkit","ms","Moz","O"];Object.keys(Is).forEach(function(t){FE.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Is[e]=Is[t]})});function my(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Is.hasOwnProperty(t)&&Is[t]?(""+e).trim():e+"px"}function vy(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=my(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var UE=rt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function sh(t,e){if(e){if(UE[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ee(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ee(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ee(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ee(62))}}function ah(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var lh=null;function Id(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var uh=null,yo=null,_o=null;function Wp(t){if(t=va(t)){if(typeof uh!="function")throw Error(ee(280));var e=t.stateNode;e&&(e=Cu(e),uh(t.stateNode,t.type,e))}}function yy(t){yo?_o?_o.push(t):_o=[t]:yo=t}function _y(){if(yo){var t=yo,e=_o;if(_o=yo=null,Wp(t),e)for(t=0;t<e.length;t++)Wp(e[t])}}function wy(t,e){return t(e)}function Ey(){}var fc=!1;function Ty(t,e,n){if(fc)return t(e,n);fc=!0;try{return wy(t,e,n)}finally{fc=!1,(yo!==null||_o!==null)&&(Ey(),_y())}}function Hs(t,e){var n=t.stateNode;if(n===null)return null;var r=Cu(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(ee(231,e,typeof n));return n}var ch=!1;if(dr)try{var ls={};Object.defineProperty(ls,"passive",{get:function(){ch=!0}}),window.addEventListener("test",ls,ls),window.removeEventListener("test",ls,ls)}catch{ch=!1}function jE(t,e,n,r,i,o,s,a,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(h){this.onError(h)}}var xs=!1,Pl=null,Rl=!1,hh=null,BE={onError:function(t){xs=!0,Pl=t}};function zE(t,e,n,r,i,o,s,a,u){xs=!1,Pl=null,jE.apply(BE,arguments)}function $E(t,e,n,r,i,o,s,a,u){if(zE.apply(this,arguments),xs){if(xs){var c=Pl;xs=!1,Pl=null}else throw Error(ee(198));Rl||(Rl=!0,hh=c)}}function Ui(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Cy(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Qp(t){if(Ui(t)!==t)throw Error(ee(188))}function HE(t){var e=t.alternate;if(!e){if(e=Ui(t),e===null)throw Error(ee(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Qp(i),t;if(o===r)return Qp(i),e;o=o.sibling}throw Error(ee(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(ee(189))}}if(n.alternate!==r)throw Error(ee(190))}if(n.tag!==3)throw Error(ee(188));return n.stateNode.current===n?t:e}function Ay(t){return t=HE(t),t!==null?Ly(t):null}function Ly(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Ly(t);if(e!==null)return e;t=t.sibling}return null}var Sy=_n.unstable_scheduleCallback,Gp=_n.unstable_cancelCallback,WE=_n.unstable_shouldYield,QE=_n.unstable_requestPaint,ht=_n.unstable_now,GE=_n.unstable_getCurrentPriorityLevel,xd=_n.unstable_ImmediatePriority,Iy=_n.unstable_UserBlockingPriority,Ml=_n.unstable_NormalPriority,KE=_n.unstable_LowPriority,xy=_n.unstable_IdlePriority,_u=null,Yn=null;function qE(t){if(Yn&&typeof Yn.onCommitFiberRoot=="function")try{Yn.onCommitFiberRoot(_u,t,void 0,(t.current.flags&128)===128)}catch{}}var Fn=Math.clz32?Math.clz32:XE,YE=Math.log,ZE=Math.LN2;function XE(t){return t>>>=0,t===0?32:31-(YE(t)/ZE|0)|0}var za=64,$a=4194304;function Ts(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function bl(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=Ts(a):(o&=s,o!==0&&(r=Ts(o)))}else s=n&~i,s!==0?r=Ts(s):o!==0&&(r=Ts(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Fn(e),i=1<<n,r|=t[n],e&=~i;return r}function JE(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function e2(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-Fn(o),a=1<<s,u=i[s];u===-1?(!(a&n)||a&r)&&(i[s]=JE(a,e)):u<=e&&(t.expiredLanes|=a),o&=~a}}function dh(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function ky(){var t=za;return za<<=1,!(za&4194240)&&(za=64),t}function pc(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ga(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Fn(e),t[e]=n}function t2(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Fn(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function kd(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Fn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var ze=0;function Py(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Ry,Pd,My,by,Dy,fh=!1,Ha=[],Ur=null,jr=null,Br=null,Ws=new Map,Qs=new Map,Mr=[],n2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Kp(t,e){switch(t){case"focusin":case"focusout":Ur=null;break;case"dragenter":case"dragleave":jr=null;break;case"mouseover":case"mouseout":Br=null;break;case"pointerover":case"pointerout":Ws.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Qs.delete(e.pointerId)}}function us(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=va(e),e!==null&&Pd(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function r2(t,e,n,r,i){switch(e){case"focusin":return Ur=us(Ur,t,e,n,r,i),!0;case"dragenter":return jr=us(jr,t,e,n,r,i),!0;case"mouseover":return Br=us(Br,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return Ws.set(o,us(Ws.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Qs.set(o,us(Qs.get(o)||null,t,e,n,r,i)),!0}return!1}function Ny(t){var e=_i(t.target);if(e!==null){var n=Ui(e);if(n!==null){if(e=n.tag,e===13){if(e=Cy(n),e!==null){t.blockedOn=e,Dy(t.priority,function(){My(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function fl(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=ph(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);lh=r,n.target.dispatchEvent(r),lh=null}else return e=va(n),e!==null&&Pd(e),t.blockedOn=n,!1;e.shift()}return!0}function qp(t,e,n){fl(t)&&n.delete(e)}function i2(){fh=!1,Ur!==null&&fl(Ur)&&(Ur=null),jr!==null&&fl(jr)&&(jr=null),Br!==null&&fl(Br)&&(Br=null),Ws.forEach(qp),Qs.forEach(qp)}function cs(t,e){t.blockedOn===e&&(t.blockedOn=null,fh||(fh=!0,_n.unstable_scheduleCallback(_n.unstable_NormalPriority,i2)))}function Gs(t){function e(i){return cs(i,t)}if(0<Ha.length){cs(Ha[0],t);for(var n=1;n<Ha.length;n++){var r=Ha[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ur!==null&&cs(Ur,t),jr!==null&&cs(jr,t),Br!==null&&cs(Br,t),Ws.forEach(e),Qs.forEach(e),n=0;n<Mr.length;n++)r=Mr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Mr.length&&(n=Mr[0],n.blockedOn===null);)Ny(n),n.blockedOn===null&&Mr.shift()}var wo=_r.ReactCurrentBatchConfig,Dl=!0;function o2(t,e,n,r){var i=ze,o=wo.transition;wo.transition=null;try{ze=1,Rd(t,e,n,r)}finally{ze=i,wo.transition=o}}function s2(t,e,n,r){var i=ze,o=wo.transition;wo.transition=null;try{ze=4,Rd(t,e,n,r)}finally{ze=i,wo.transition=o}}function Rd(t,e,n,r){if(Dl){var i=ph(t,e,n,r);if(i===null)Ac(t,e,r,Nl,n),Kp(t,r);else if(r2(i,t,e,n,r))r.stopPropagation();else if(Kp(t,r),e&4&&-1<n2.indexOf(t)){for(;i!==null;){var o=va(i);if(o!==null&&Ry(o),o=ph(t,e,n,r),o===null&&Ac(t,e,r,Nl,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Ac(t,e,r,null,n)}}var Nl=null;function ph(t,e,n,r){if(Nl=null,t=Id(r),t=_i(t),t!==null)if(e=Ui(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Cy(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Nl=t,null}function Oy(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(GE()){case xd:return 1;case Iy:return 4;case Ml:case KE:return 16;case xy:return 536870912;default:return 16}default:return 16}}var Nr=null,Md=null,pl=null;function Vy(){if(pl)return pl;var t,e=Md,n=e.length,r,i="value"in Nr?Nr.value:Nr.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return pl=i.slice(t,1<r?1-r:void 0)}function gl(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Wa(){return!0}function Yp(){return!1}function En(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Wa:Yp,this.isPropagationStopped=Yp,this}return rt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Wa)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Wa)},persist:function(){},isPersistent:Wa}),e}var zo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bd=En(zo),ma=rt({},zo,{view:0,detail:0}),a2=En(ma),gc,mc,hs,wu=rt({},ma,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Dd,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==hs&&(hs&&t.type==="mousemove"?(gc=t.screenX-hs.screenX,mc=t.screenY-hs.screenY):mc=gc=0,hs=t),gc)},movementY:function(t){return"movementY"in t?t.movementY:mc}}),Zp=En(wu),l2=rt({},wu,{dataTransfer:0}),u2=En(l2),c2=rt({},ma,{relatedTarget:0}),vc=En(c2),h2=rt({},zo,{animationName:0,elapsedTime:0,pseudoElement:0}),d2=En(h2),f2=rt({},zo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),p2=En(f2),g2=rt({},zo,{data:0}),Xp=En(g2),m2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},v2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},y2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _2(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=y2[t])?!!e[t]:!1}function Dd(){return _2}var w2=rt({},ma,{key:function(t){if(t.key){var e=m2[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=gl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?v2[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Dd,charCode:function(t){return t.type==="keypress"?gl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?gl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),E2=En(w2),T2=rt({},wu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Jp=En(T2),C2=rt({},ma,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Dd}),A2=En(C2),L2=rt({},zo,{propertyName:0,elapsedTime:0,pseudoElement:0}),S2=En(L2),I2=rt({},wu,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),x2=En(I2),k2=[9,13,27,32],Nd=dr&&"CompositionEvent"in window,ks=null;dr&&"documentMode"in document&&(ks=document.documentMode);var P2=dr&&"TextEvent"in window&&!ks,Fy=dr&&(!Nd||ks&&8<ks&&11>=ks),eg=" ",tg=!1;function Uy(t,e){switch(t){case"keyup":return k2.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jy(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var oo=!1;function R2(t,e){switch(t){case"compositionend":return jy(e);case"keypress":return e.which!==32?null:(tg=!0,eg);case"textInput":return t=e.data,t===eg&&tg?null:t;default:return null}}function M2(t,e){if(oo)return t==="compositionend"||!Nd&&Uy(t,e)?(t=Vy(),pl=Md=Nr=null,oo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Fy&&e.locale!=="ko"?null:e.data;default:return null}}var b2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ng(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!b2[t.type]:e==="textarea"}function By(t,e,n,r){yy(r),e=Ol(e,"onChange"),0<e.length&&(n=new bd("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ps=null,Ks=null;function D2(t){Xy(t,0)}function Eu(t){var e=lo(t);if(hy(e))return t}function N2(t,e){if(t==="change")return e}var zy=!1;if(dr){var yc;if(dr){var _c="oninput"in document;if(!_c){var rg=document.createElement("div");rg.setAttribute("oninput","return;"),_c=typeof rg.oninput=="function"}yc=_c}else yc=!1;zy=yc&&(!document.documentMode||9<document.documentMode)}function ig(){Ps&&(Ps.detachEvent("onpropertychange",$y),Ks=Ps=null)}function $y(t){if(t.propertyName==="value"&&Eu(Ks)){var e=[];By(e,Ks,t,Id(t)),Ty(D2,e)}}function O2(t,e,n){t==="focusin"?(ig(),Ps=e,Ks=n,Ps.attachEvent("onpropertychange",$y)):t==="focusout"&&ig()}function V2(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Eu(Ks)}function F2(t,e){if(t==="click")return Eu(e)}function U2(t,e){if(t==="input"||t==="change")return Eu(e)}function j2(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var jn=typeof Object.is=="function"?Object.is:j2;function qs(t,e){if(jn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Yc.call(e,i)||!jn(t[i],e[i]))return!1}return!0}function og(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function sg(t,e){var n=og(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=og(n)}}function Hy(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Hy(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Wy(){for(var t=window,e=kl();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=kl(t.document)}return e}function Od(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function B2(t){var e=Wy(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Hy(n.ownerDocument.documentElement,n)){if(r!==null&&Od(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=sg(n,o);var s=sg(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var z2=dr&&"documentMode"in document&&11>=document.documentMode,so=null,gh=null,Rs=null,mh=!1;function ag(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;mh||so==null||so!==kl(r)||(r=so,"selectionStart"in r&&Od(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Rs&&qs(Rs,r)||(Rs=r,r=Ol(gh,"onSelect"),0<r.length&&(e=new bd("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=so)))}function Qa(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ao={animationend:Qa("Animation","AnimationEnd"),animationiteration:Qa("Animation","AnimationIteration"),animationstart:Qa("Animation","AnimationStart"),transitionend:Qa("Transition","TransitionEnd")},wc={},Qy={};dr&&(Qy=document.createElement("div").style,"AnimationEvent"in window||(delete ao.animationend.animation,delete ao.animationiteration.animation,delete ao.animationstart.animation),"TransitionEvent"in window||delete ao.transitionend.transition);function Tu(t){if(wc[t])return wc[t];if(!ao[t])return t;var e=ao[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Qy)return wc[t]=e[n];return t}var Gy=Tu("animationend"),Ky=Tu("animationiteration"),qy=Tu("animationstart"),Yy=Tu("transitionend"),Zy=new Map,lg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ii(t,e){Zy.set(t,e),Fi(e,[t])}for(var Ec=0;Ec<lg.length;Ec++){var Tc=lg[Ec],$2=Tc.toLowerCase(),H2=Tc[0].toUpperCase()+Tc.slice(1);ii($2,"on"+H2)}ii(Gy,"onAnimationEnd");ii(Ky,"onAnimationIteration");ii(qy,"onAnimationStart");ii("dblclick","onDoubleClick");ii("focusin","onFocus");ii("focusout","onBlur");ii(Yy,"onTransitionEnd");Lo("onMouseEnter",["mouseout","mouseover"]);Lo("onMouseLeave",["mouseout","mouseover"]);Lo("onPointerEnter",["pointerout","pointerover"]);Lo("onPointerLeave",["pointerout","pointerover"]);Fi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Fi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Fi("onBeforeInput",["compositionend","keypress","textInput","paste"]);Fi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Fi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Fi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),W2=new Set("cancel close invalid load scroll toggle".split(" ").concat(Cs));function ug(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,$E(r,e,void 0,t),t.currentTarget=null}function Xy(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],u=a.instance,c=a.currentTarget;if(a=a.listener,u!==o&&i.isPropagationStopped())break e;ug(i,a,c),o=u}else for(s=0;s<r.length;s++){if(a=r[s],u=a.instance,c=a.currentTarget,a=a.listener,u!==o&&i.isPropagationStopped())break e;ug(i,a,c),o=u}}}if(Rl)throw t=hh,Rl=!1,hh=null,t}function Ye(t,e){var n=e[Eh];n===void 0&&(n=e[Eh]=new Set);var r=t+"__bubble";n.has(r)||(Jy(e,t,2,!1),n.add(r))}function Cc(t,e,n){var r=0;e&&(r|=4),Jy(n,t,r,e)}var Ga="_reactListening"+Math.random().toString(36).slice(2);function Ys(t){if(!t[Ga]){t[Ga]=!0,sy.forEach(function(n){n!=="selectionchange"&&(W2.has(n)||Cc(n,!1,t),Cc(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ga]||(e[Ga]=!0,Cc("selectionchange",!1,e))}}function Jy(t,e,n,r){switch(Oy(e)){case 1:var i=o2;break;case 4:i=s2;break;default:i=Rd}n=i.bind(null,e,n,t),i=void 0,!ch||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Ac(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var u=s.tag;if((u===3||u===4)&&(u=s.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;s=s.return}for(;a!==null;){if(s=_i(a),s===null)return;if(u=s.tag,u===5||u===6){r=o=s;continue e}a=a.parentNode}}r=r.return}Ty(function(){var c=o,h=Id(n),d=[];e:{var f=Zy.get(t);if(f!==void 0){var g=bd,w=t;switch(t){case"keypress":if(gl(n)===0)break e;case"keydown":case"keyup":g=E2;break;case"focusin":w="focus",g=vc;break;case"focusout":w="blur",g=vc;break;case"beforeblur":case"afterblur":g=vc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Zp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=u2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=A2;break;case Gy:case Ky:case qy:g=d2;break;case Yy:g=S2;break;case"scroll":g=a2;break;case"wheel":g=x2;break;case"copy":case"cut":case"paste":g=p2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Jp}var A=(e&4)!==0,R=!A&&t==="scroll",E=A?f!==null?f+"Capture":null:f;A=[];for(var x=c,I;x!==null;){I=x;var M=I.stateNode;if(I.tag===5&&M!==null&&(I=M,E!==null&&(M=Hs(x,E),M!=null&&A.push(Zs(x,M,I)))),R)break;x=x.return}0<A.length&&(f=new g(f,w,null,n,h),d.push({event:f,listeners:A}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",f&&n!==lh&&(w=n.relatedTarget||n.fromElement)&&(_i(w)||w[fr]))break e;if((g||f)&&(f=h.window===h?h:(f=h.ownerDocument)?f.defaultView||f.parentWindow:window,g?(w=n.relatedTarget||n.toElement,g=c,w=w?_i(w):null,w!==null&&(R=Ui(w),w!==R||w.tag!==5&&w.tag!==6)&&(w=null)):(g=null,w=c),g!==w)){if(A=Zp,M="onMouseLeave",E="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(A=Jp,M="onPointerLeave",E="onPointerEnter",x="pointer"),R=g==null?f:lo(g),I=w==null?f:lo(w),f=new A(M,x+"leave",g,n,h),f.target=R,f.relatedTarget=I,M=null,_i(h)===c&&(A=new A(E,x+"enter",w,n,h),A.target=I,A.relatedTarget=R,M=A),R=M,g&&w)t:{for(A=g,E=w,x=0,I=A;I;I=Ji(I))x++;for(I=0,M=E;M;M=Ji(M))I++;for(;0<x-I;)A=Ji(A),x--;for(;0<I-x;)E=Ji(E),I--;for(;x--;){if(A===E||E!==null&&A===E.alternate)break t;A=Ji(A),E=Ji(E)}A=null}else A=null;g!==null&&cg(d,f,g,A,!1),w!==null&&R!==null&&cg(d,R,w,A,!0)}}e:{if(f=c?lo(c):window,g=f.nodeName&&f.nodeName.toLowerCase(),g==="select"||g==="input"&&f.type==="file")var V=N2;else if(ng(f))if(zy)V=U2;else{V=V2;var S=O2}else(g=f.nodeName)&&g.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(V=F2);if(V&&(V=V(t,c))){By(d,V,n,h);break e}S&&S(t,f,c),t==="focusout"&&(S=f._wrapperState)&&S.controlled&&f.type==="number"&&rh(f,"number",f.value)}switch(S=c?lo(c):window,t){case"focusin":(ng(S)||S.contentEditable==="true")&&(so=S,gh=c,Rs=null);break;case"focusout":Rs=gh=so=null;break;case"mousedown":mh=!0;break;case"contextmenu":case"mouseup":case"dragend":mh=!1,ag(d,n,h);break;case"selectionchange":if(z2)break;case"keydown":case"keyup":ag(d,n,h)}var C;if(Nd)e:{switch(t){case"compositionstart":var p="onCompositionStart";break e;case"compositionend":p="onCompositionEnd";break e;case"compositionupdate":p="onCompositionUpdate";break e}p=void 0}else oo?Uy(t,n)&&(p="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(p="onCompositionStart");p&&(Fy&&n.locale!=="ko"&&(oo||p!=="onCompositionStart"?p==="onCompositionEnd"&&oo&&(C=Vy()):(Nr=h,Md="value"in Nr?Nr.value:Nr.textContent,oo=!0)),S=Ol(c,p),0<S.length&&(p=new Xp(p,t,null,n,h),d.push({event:p,listeners:S}),C?p.data=C:(C=jy(n),C!==null&&(p.data=C)))),(C=P2?R2(t,n):M2(t,n))&&(c=Ol(c,"onBeforeInput"),0<c.length&&(h=new Xp("onBeforeInput","beforeinput",null,n,h),d.push({event:h,listeners:c}),h.data=C))}Xy(d,e)})}function Zs(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Ol(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Hs(t,n),o!=null&&r.unshift(Zs(t,o,i)),o=Hs(t,e),o!=null&&r.push(Zs(t,o,i))),t=t.return}return r}function Ji(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function cg(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var a=n,u=a.alternate,c=a.stateNode;if(u!==null&&u===r)break;a.tag===5&&c!==null&&(a=c,i?(u=Hs(n,o),u!=null&&s.unshift(Zs(n,u,a))):i||(u=Hs(n,o),u!=null&&s.push(Zs(n,u,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var Q2=/\r\n?/g,G2=/\u0000|\uFFFD/g;function hg(t){return(typeof t=="string"?t:""+t).replace(Q2,`
`).replace(G2,"")}function Ka(t,e,n){if(e=hg(e),hg(t)!==e&&n)throw Error(ee(425))}function Vl(){}var vh=null,yh=null;function _h(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var wh=typeof setTimeout=="function"?setTimeout:void 0,K2=typeof clearTimeout=="function"?clearTimeout:void 0,dg=typeof Promise=="function"?Promise:void 0,q2=typeof queueMicrotask=="function"?queueMicrotask:typeof dg<"u"?function(t){return dg.resolve(null).then(t).catch(Y2)}:wh;function Y2(t){setTimeout(function(){throw t})}function Lc(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Gs(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Gs(e)}function zr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function fg(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var $o=Math.random().toString(36).slice(2),Kn="__reactFiber$"+$o,Xs="__reactProps$"+$o,fr="__reactContainer$"+$o,Eh="__reactEvents$"+$o,Z2="__reactListeners$"+$o,X2="__reactHandles$"+$o;function _i(t){var e=t[Kn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[fr]||n[Kn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=fg(t);t!==null;){if(n=t[Kn])return n;t=fg(t)}return e}t=n,n=t.parentNode}return null}function va(t){return t=t[Kn]||t[fr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function lo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ee(33))}function Cu(t){return t[Xs]||null}var Th=[],uo=-1;function oi(t){return{current:t}}function Ze(t){0>uo||(t.current=Th[uo],Th[uo]=null,uo--)}function Ke(t,e){uo++,Th[uo]=t.current,t.current=e}var ei={},Qt=oi(ei),on=oi(!1),ki=ei;function So(t,e){var n=t.type.contextTypes;if(!n)return ei;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function sn(t){return t=t.childContextTypes,t!=null}function Fl(){Ze(on),Ze(Qt)}function pg(t,e,n){if(Qt.current!==ei)throw Error(ee(168));Ke(Qt,e),Ke(on,n)}function e0(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(ee(108,OE(t)||"Unknown",i));return rt({},n,r)}function Ul(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ei,ki=Qt.current,Ke(Qt,t),Ke(on,on.current),!0}function gg(t,e,n){var r=t.stateNode;if(!r)throw Error(ee(169));n?(t=e0(t,e,ki),r.__reactInternalMemoizedMergedChildContext=t,Ze(on),Ze(Qt),Ke(Qt,t)):Ze(on),Ke(on,n)}var ar=null,Au=!1,Sc=!1;function t0(t){ar===null?ar=[t]:ar.push(t)}function J2(t){Au=!0,t0(t)}function si(){if(!Sc&&ar!==null){Sc=!0;var t=0,e=ze;try{var n=ar;for(ze=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}ar=null,Au=!1}catch(i){throw ar!==null&&(ar=ar.slice(t+1)),Sy(xd,si),i}finally{ze=e,Sc=!1}}return null}var co=[],ho=0,jl=null,Bl=0,Cn=[],An=0,Pi=null,lr=1,ur="";function mi(t,e){co[ho++]=Bl,co[ho++]=jl,jl=t,Bl=e}function n0(t,e,n){Cn[An++]=lr,Cn[An++]=ur,Cn[An++]=Pi,Pi=t;var r=lr;t=ur;var i=32-Fn(r)-1;r&=~(1<<i),n+=1;var o=32-Fn(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,lr=1<<32-Fn(e)+i|n<<i|r,ur=o+t}else lr=1<<o|n<<i|r,ur=t}function Vd(t){t.return!==null&&(mi(t,1),n0(t,1,0))}function Fd(t){for(;t===jl;)jl=co[--ho],co[ho]=null,Bl=co[--ho],co[ho]=null;for(;t===Pi;)Pi=Cn[--An],Cn[An]=null,ur=Cn[--An],Cn[An]=null,lr=Cn[--An],Cn[An]=null}var yn=null,gn=null,Xe=!1,Vn=null;function r0(t,e){var n=Ln(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function mg(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,yn=t,gn=zr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,yn=t,gn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Pi!==null?{id:lr,overflow:ur}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Ln(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,yn=t,gn=null,!0):!1;default:return!1}}function Ch(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Ah(t){if(Xe){var e=gn;if(e){var n=e;if(!mg(t,e)){if(Ch(t))throw Error(ee(418));e=zr(n.nextSibling);var r=yn;e&&mg(t,e)?r0(r,n):(t.flags=t.flags&-4097|2,Xe=!1,yn=t)}}else{if(Ch(t))throw Error(ee(418));t.flags=t.flags&-4097|2,Xe=!1,yn=t}}}function vg(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;yn=t}function qa(t){if(t!==yn)return!1;if(!Xe)return vg(t),Xe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!_h(t.type,t.memoizedProps)),e&&(e=gn)){if(Ch(t))throw i0(),Error(ee(418));for(;e;)r0(t,e),e=zr(e.nextSibling)}if(vg(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ee(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){gn=zr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}gn=null}}else gn=yn?zr(t.stateNode.nextSibling):null;return!0}function i0(){for(var t=gn;t;)t=zr(t.nextSibling)}function Io(){gn=yn=null,Xe=!1}function Ud(t){Vn===null?Vn=[t]:Vn.push(t)}var eT=_r.ReactCurrentBatchConfig;function ds(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ee(309));var r=n.stateNode}if(!r)throw Error(ee(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(ee(284));if(!n._owner)throw Error(ee(290,t))}return t}function Ya(t,e){throw t=Object.prototype.toString.call(e),Error(ee(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function yg(t){var e=t._init;return e(t._payload)}function o0(t){function e(E,x){if(t){var I=E.deletions;I===null?(E.deletions=[x],E.flags|=16):I.push(x)}}function n(E,x){if(!t)return null;for(;x!==null;)e(E,x),x=x.sibling;return null}function r(E,x){for(E=new Map;x!==null;)x.key!==null?E.set(x.key,x):E.set(x.index,x),x=x.sibling;return E}function i(E,x){return E=Qr(E,x),E.index=0,E.sibling=null,E}function o(E,x,I){return E.index=I,t?(I=E.alternate,I!==null?(I=I.index,I<x?(E.flags|=2,x):I):(E.flags|=2,x)):(E.flags|=1048576,x)}function s(E){return t&&E.alternate===null&&(E.flags|=2),E}function a(E,x,I,M){return x===null||x.tag!==6?(x=bc(I,E.mode,M),x.return=E,x):(x=i(x,I),x.return=E,x)}function u(E,x,I,M){var V=I.type;return V===io?h(E,x,I.props.children,M,I.key):x!==null&&(x.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===kr&&yg(V)===x.type)?(M=i(x,I.props),M.ref=ds(E,x,I),M.return=E,M):(M=Tl(I.type,I.key,I.props,null,E.mode,M),M.ref=ds(E,x,I),M.return=E,M)}function c(E,x,I,M){return x===null||x.tag!==4||x.stateNode.containerInfo!==I.containerInfo||x.stateNode.implementation!==I.implementation?(x=Dc(I,E.mode,M),x.return=E,x):(x=i(x,I.children||[]),x.return=E,x)}function h(E,x,I,M,V){return x===null||x.tag!==7?(x=Si(I,E.mode,M,V),x.return=E,x):(x=i(x,I),x.return=E,x)}function d(E,x,I){if(typeof x=="string"&&x!==""||typeof x=="number")return x=bc(""+x,E.mode,I),x.return=E,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Ua:return I=Tl(x.type,x.key,x.props,null,E.mode,I),I.ref=ds(E,null,x),I.return=E,I;case ro:return x=Dc(x,E.mode,I),x.return=E,x;case kr:var M=x._init;return d(E,M(x._payload),I)}if(Es(x)||as(x))return x=Si(x,E.mode,I,null),x.return=E,x;Ya(E,x)}return null}function f(E,x,I,M){var V=x!==null?x.key:null;if(typeof I=="string"&&I!==""||typeof I=="number")return V!==null?null:a(E,x,""+I,M);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case Ua:return I.key===V?u(E,x,I,M):null;case ro:return I.key===V?c(E,x,I,M):null;case kr:return V=I._init,f(E,x,V(I._payload),M)}if(Es(I)||as(I))return V!==null?null:h(E,x,I,M,null);Ya(E,I)}return null}function g(E,x,I,M,V){if(typeof M=="string"&&M!==""||typeof M=="number")return E=E.get(I)||null,a(x,E,""+M,V);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case Ua:return E=E.get(M.key===null?I:M.key)||null,u(x,E,M,V);case ro:return E=E.get(M.key===null?I:M.key)||null,c(x,E,M,V);case kr:var S=M._init;return g(E,x,I,S(M._payload),V)}if(Es(M)||as(M))return E=E.get(I)||null,h(x,E,M,V,null);Ya(x,M)}return null}function w(E,x,I,M){for(var V=null,S=null,C=x,p=x=0,y=null;C!==null&&p<I.length;p++){C.index>p?(y=C,C=null):y=C.sibling;var _=f(E,C,I[p],M);if(_===null){C===null&&(C=y);break}t&&C&&_.alternate===null&&e(E,C),x=o(_,x,p),S===null?V=_:S.sibling=_,S=_,C=y}if(p===I.length)return n(E,C),Xe&&mi(E,p),V;if(C===null){for(;p<I.length;p++)C=d(E,I[p],M),C!==null&&(x=o(C,x,p),S===null?V=C:S.sibling=C,S=C);return Xe&&mi(E,p),V}for(C=r(E,C);p<I.length;p++)y=g(C,E,p,I[p],M),y!==null&&(t&&y.alternate!==null&&C.delete(y.key===null?p:y.key),x=o(y,x,p),S===null?V=y:S.sibling=y,S=y);return t&&C.forEach(function(P){return e(E,P)}),Xe&&mi(E,p),V}function A(E,x,I,M){var V=as(I);if(typeof V!="function")throw Error(ee(150));if(I=V.call(I),I==null)throw Error(ee(151));for(var S=V=null,C=x,p=x=0,y=null,_=I.next();C!==null&&!_.done;p++,_=I.next()){C.index>p?(y=C,C=null):y=C.sibling;var P=f(E,C,_.value,M);if(P===null){C===null&&(C=y);break}t&&C&&P.alternate===null&&e(E,C),x=o(P,x,p),S===null?V=P:S.sibling=P,S=P,C=y}if(_.done)return n(E,C),Xe&&mi(E,p),V;if(C===null){for(;!_.done;p++,_=I.next())_=d(E,_.value,M),_!==null&&(x=o(_,x,p),S===null?V=_:S.sibling=_,S=_);return Xe&&mi(E,p),V}for(C=r(E,C);!_.done;p++,_=I.next())_=g(C,E,p,_.value,M),_!==null&&(t&&_.alternate!==null&&C.delete(_.key===null?p:_.key),x=o(_,x,p),S===null?V=_:S.sibling=_,S=_);return t&&C.forEach(function(k){return e(E,k)}),Xe&&mi(E,p),V}function R(E,x,I,M){if(typeof I=="object"&&I!==null&&I.type===io&&I.key===null&&(I=I.props.children),typeof I=="object"&&I!==null){switch(I.$$typeof){case Ua:e:{for(var V=I.key,S=x;S!==null;){if(S.key===V){if(V=I.type,V===io){if(S.tag===7){n(E,S.sibling),x=i(S,I.props.children),x.return=E,E=x;break e}}else if(S.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===kr&&yg(V)===S.type){n(E,S.sibling),x=i(S,I.props),x.ref=ds(E,S,I),x.return=E,E=x;break e}n(E,S);break}else e(E,S);S=S.sibling}I.type===io?(x=Si(I.props.children,E.mode,M,I.key),x.return=E,E=x):(M=Tl(I.type,I.key,I.props,null,E.mode,M),M.ref=ds(E,x,I),M.return=E,E=M)}return s(E);case ro:e:{for(S=I.key;x!==null;){if(x.key===S)if(x.tag===4&&x.stateNode.containerInfo===I.containerInfo&&x.stateNode.implementation===I.implementation){n(E,x.sibling),x=i(x,I.children||[]),x.return=E,E=x;break e}else{n(E,x);break}else e(E,x);x=x.sibling}x=Dc(I,E.mode,M),x.return=E,E=x}return s(E);case kr:return S=I._init,R(E,x,S(I._payload),M)}if(Es(I))return w(E,x,I,M);if(as(I))return A(E,x,I,M);Ya(E,I)}return typeof I=="string"&&I!==""||typeof I=="number"?(I=""+I,x!==null&&x.tag===6?(n(E,x.sibling),x=i(x,I),x.return=E,E=x):(n(E,x),x=bc(I,E.mode,M),x.return=E,E=x),s(E)):n(E,x)}return R}var xo=o0(!0),s0=o0(!1),zl=oi(null),$l=null,fo=null,jd=null;function Bd(){jd=fo=$l=null}function zd(t){var e=zl.current;Ze(zl),t._currentValue=e}function Lh(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Eo(t,e){$l=t,jd=fo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(rn=!0),t.firstContext=null)}function xn(t){var e=t._currentValue;if(jd!==t)if(t={context:t,memoizedValue:e,next:null},fo===null){if($l===null)throw Error(ee(308));fo=t,$l.dependencies={lanes:0,firstContext:t}}else fo=fo.next=t;return e}var wi=null;function $d(t){wi===null?wi=[t]:wi.push(t)}function a0(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,$d(e)):(n.next=i.next,i.next=n),e.interleaved=n,pr(t,r)}function pr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Pr=!1;function Hd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function l0(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function hr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function $r(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Oe&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,pr(t,n)}return i=r.interleaved,i===null?(e.next=e,$d(r)):(e.next=i.next,i.next=e),r.interleaved=e,pr(t,n)}function ml(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,kd(t,n)}}function _g(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Hl(t,e,n,r){var i=t.updateQueue;Pr=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var u=a,c=u.next;u.next=null,s===null?o=c:s.next=c,s=u;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==s&&(a===null?h.firstBaseUpdate=c:a.next=c,h.lastBaseUpdate=u))}if(o!==null){var d=i.baseState;s=0,h=c=u=null,a=o;do{var f=a.lane,g=a.eventTime;if((r&f)===f){h!==null&&(h=h.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var w=t,A=a;switch(f=e,g=n,A.tag){case 1:if(w=A.payload,typeof w=="function"){d=w.call(g,d,f);break e}d=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=A.payload,f=typeof w=="function"?w.call(g,d,f):w,f==null)break e;d=rt({},d,f);break e;case 2:Pr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else g={eventTime:g,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(c=h=g,u=d):h=h.next=g,s|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(h===null&&(u=d),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=h,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);Mi|=s,t.lanes=s,t.memoizedState=d}}function wg(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(ee(191,i));i.call(r)}}}var ya={},Zn=oi(ya),Js=oi(ya),ea=oi(ya);function Ei(t){if(t===ya)throw Error(ee(174));return t}function Wd(t,e){switch(Ke(ea,e),Ke(Js,t),Ke(Zn,ya),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:oh(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=oh(e,t)}Ze(Zn),Ke(Zn,e)}function ko(){Ze(Zn),Ze(Js),Ze(ea)}function u0(t){Ei(ea.current);var e=Ei(Zn.current),n=oh(e,t.type);e!==n&&(Ke(Js,t),Ke(Zn,n))}function Qd(t){Js.current===t&&(Ze(Zn),Ze(Js))}var tt=oi(0);function Wl(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Ic=[];function Gd(){for(var t=0;t<Ic.length;t++)Ic[t]._workInProgressVersionPrimary=null;Ic.length=0}var vl=_r.ReactCurrentDispatcher,xc=_r.ReactCurrentBatchConfig,Ri=0,nt=null,mt=null,Tt=null,Ql=!1,Ms=!1,ta=0,tT=0;function Ut(){throw Error(ee(321))}function Kd(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!jn(t[n],e[n]))return!1;return!0}function qd(t,e,n,r,i,o){if(Ri=o,nt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,vl.current=t===null||t.memoizedState===null?oT:sT,t=n(r,i),Ms){o=0;do{if(Ms=!1,ta=0,25<=o)throw Error(ee(301));o+=1,Tt=mt=null,e.updateQueue=null,vl.current=aT,t=n(r,i)}while(Ms)}if(vl.current=Gl,e=mt!==null&&mt.next!==null,Ri=0,Tt=mt=nt=null,Ql=!1,e)throw Error(ee(300));return t}function Yd(){var t=ta!==0;return ta=0,t}function Qn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tt===null?nt.memoizedState=Tt=t:Tt=Tt.next=t,Tt}function kn(){if(mt===null){var t=nt.alternate;t=t!==null?t.memoizedState:null}else t=mt.next;var e=Tt===null?nt.memoizedState:Tt.next;if(e!==null)Tt=e,mt=t;else{if(t===null)throw Error(ee(310));mt=t,t={memoizedState:mt.memoizedState,baseState:mt.baseState,baseQueue:mt.baseQueue,queue:mt.queue,next:null},Tt===null?nt.memoizedState=Tt=t:Tt=Tt.next=t}return Tt}function na(t,e){return typeof e=="function"?e(t):e}function kc(t){var e=kn(),n=e.queue;if(n===null)throw Error(ee(311));n.lastRenderedReducer=t;var r=mt,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,u=null,c=o;do{var h=c.lane;if((Ri&h)===h)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var d={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(a=u=d,s=r):u=u.next=d,nt.lanes|=h,Mi|=h}c=c.next}while(c!==null&&c!==o);u===null?s=r:u.next=a,jn(r,e.memoizedState)||(rn=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,nt.lanes|=o,Mi|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Pc(t){var e=kn(),n=e.queue;if(n===null)throw Error(ee(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);jn(o,e.memoizedState)||(rn=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function c0(){}function h0(t,e){var n=nt,r=kn(),i=e(),o=!jn(r.memoizedState,i);if(o&&(r.memoizedState=i,rn=!0),r=r.queue,Zd(p0.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||Tt!==null&&Tt.memoizedState.tag&1){if(n.flags|=2048,ra(9,f0.bind(null,n,r,i,e),void 0,null),Ct===null)throw Error(ee(349));Ri&30||d0(n,e,i)}return i}function d0(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=nt.updateQueue,e===null?(e={lastEffect:null,stores:null},nt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function f0(t,e,n,r){e.value=n,e.getSnapshot=r,g0(e)&&m0(t)}function p0(t,e,n){return n(function(){g0(e)&&m0(t)})}function g0(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!jn(t,n)}catch{return!0}}function m0(t){var e=pr(t,1);e!==null&&Un(e,t,1,-1)}function Eg(t){var e=Qn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:na,lastRenderedState:t},e.queue=t,t=t.dispatch=iT.bind(null,nt,t),[e.memoizedState,t]}function ra(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=nt.updateQueue,e===null?(e={lastEffect:null,stores:null},nt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function v0(){return kn().memoizedState}function yl(t,e,n,r){var i=Qn();nt.flags|=t,i.memoizedState=ra(1|e,n,void 0,r===void 0?null:r)}function Lu(t,e,n,r){var i=kn();r=r===void 0?null:r;var o=void 0;if(mt!==null){var s=mt.memoizedState;if(o=s.destroy,r!==null&&Kd(r,s.deps)){i.memoizedState=ra(e,n,o,r);return}}nt.flags|=t,i.memoizedState=ra(1|e,n,o,r)}function Tg(t,e){return yl(8390656,8,t,e)}function Zd(t,e){return Lu(2048,8,t,e)}function y0(t,e){return Lu(4,2,t,e)}function _0(t,e){return Lu(4,4,t,e)}function w0(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function E0(t,e,n){return n=n!=null?n.concat([t]):null,Lu(4,4,w0.bind(null,e,t),n)}function Xd(){}function T0(t,e){var n=kn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Kd(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function C0(t,e){var n=kn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Kd(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function A0(t,e,n){return Ri&21?(jn(n,e)||(n=ky(),nt.lanes|=n,Mi|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,rn=!0),t.memoizedState=n)}function nT(t,e){var n=ze;ze=n!==0&&4>n?n:4,t(!0);var r=xc.transition;xc.transition={};try{t(!1),e()}finally{ze=n,xc.transition=r}}function L0(){return kn().memoizedState}function rT(t,e,n){var r=Wr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},S0(t))I0(e,n);else if(n=a0(t,e,n,r),n!==null){var i=Yt();Un(n,t,r,i),x0(n,e,r)}}function iT(t,e,n){var r=Wr(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(S0(t))I0(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,jn(a,s)){var u=e.interleaved;u===null?(i.next=i,$d(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}n=a0(t,e,i,r),n!==null&&(i=Yt(),Un(n,t,r,i),x0(n,e,r))}}function S0(t){var e=t.alternate;return t===nt||e!==null&&e===nt}function I0(t,e){Ms=Ql=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function x0(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,kd(t,n)}}var Gl={readContext:xn,useCallback:Ut,useContext:Ut,useEffect:Ut,useImperativeHandle:Ut,useInsertionEffect:Ut,useLayoutEffect:Ut,useMemo:Ut,useReducer:Ut,useRef:Ut,useState:Ut,useDebugValue:Ut,useDeferredValue:Ut,useTransition:Ut,useMutableSource:Ut,useSyncExternalStore:Ut,useId:Ut,unstable_isNewReconciler:!1},oT={readContext:xn,useCallback:function(t,e){return Qn().memoizedState=[t,e===void 0?null:e],t},useContext:xn,useEffect:Tg,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,yl(4194308,4,w0.bind(null,e,t),n)},useLayoutEffect:function(t,e){return yl(4194308,4,t,e)},useInsertionEffect:function(t,e){return yl(4,2,t,e)},useMemo:function(t,e){var n=Qn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Qn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=rT.bind(null,nt,t),[r.memoizedState,t]},useRef:function(t){var e=Qn();return t={current:t},e.memoizedState=t},useState:Eg,useDebugValue:Xd,useDeferredValue:function(t){return Qn().memoizedState=t},useTransition:function(){var t=Eg(!1),e=t[0];return t=nT.bind(null,t[1]),Qn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=nt,i=Qn();if(Xe){if(n===void 0)throw Error(ee(407));n=n()}else{if(n=e(),Ct===null)throw Error(ee(349));Ri&30||d0(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,Tg(p0.bind(null,r,o,t),[t]),r.flags|=2048,ra(9,f0.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=Qn(),e=Ct.identifierPrefix;if(Xe){var n=ur,r=lr;n=(r&~(1<<32-Fn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=ta++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=tT++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},sT={readContext:xn,useCallback:T0,useContext:xn,useEffect:Zd,useImperativeHandle:E0,useInsertionEffect:y0,useLayoutEffect:_0,useMemo:C0,useReducer:kc,useRef:v0,useState:function(){return kc(na)},useDebugValue:Xd,useDeferredValue:function(t){var e=kn();return A0(e,mt.memoizedState,t)},useTransition:function(){var t=kc(na)[0],e=kn().memoizedState;return[t,e]},useMutableSource:c0,useSyncExternalStore:h0,useId:L0,unstable_isNewReconciler:!1},aT={readContext:xn,useCallback:T0,useContext:xn,useEffect:Zd,useImperativeHandle:E0,useInsertionEffect:y0,useLayoutEffect:_0,useMemo:C0,useReducer:Pc,useRef:v0,useState:function(){return Pc(na)},useDebugValue:Xd,useDeferredValue:function(t){var e=kn();return mt===null?e.memoizedState=t:A0(e,mt.memoizedState,t)},useTransition:function(){var t=Pc(na)[0],e=kn().memoizedState;return[t,e]},useMutableSource:c0,useSyncExternalStore:h0,useId:L0,unstable_isNewReconciler:!1};function Nn(t,e){if(t&&t.defaultProps){e=rt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Sh(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:rt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Su={isMounted:function(t){return(t=t._reactInternals)?Ui(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Yt(),i=Wr(t),o=hr(r,i);o.payload=e,n!=null&&(o.callback=n),e=$r(t,o,i),e!==null&&(Un(e,t,i,r),ml(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Yt(),i=Wr(t),o=hr(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=$r(t,o,i),e!==null&&(Un(e,t,i,r),ml(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Yt(),r=Wr(t),i=hr(n,r);i.tag=2,e!=null&&(i.callback=e),e=$r(t,i,r),e!==null&&(Un(e,t,r,n),ml(e,t,r))}};function Cg(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!qs(n,r)||!qs(i,o):!0}function k0(t,e,n){var r=!1,i=ei,o=e.contextType;return typeof o=="object"&&o!==null?o=xn(o):(i=sn(e)?ki:Qt.current,r=e.contextTypes,o=(r=r!=null)?So(t,i):ei),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Su,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function Ag(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Su.enqueueReplaceState(e,e.state,null)}function Ih(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Hd(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=xn(o):(o=sn(e)?ki:Qt.current,i.context=So(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Sh(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Su.enqueueReplaceState(i,i.state,null),Hl(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Po(t,e){try{var n="",r=e;do n+=NE(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function Rc(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function xh(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var lT=typeof WeakMap=="function"?WeakMap:Map;function P0(t,e,n){n=hr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){ql||(ql=!0,Fh=r),xh(t,e)},n}function R0(t,e,n){n=hr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){xh(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){xh(t,e),typeof r!="function"&&(Hr===null?Hr=new Set([this]):Hr.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function Lg(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new lT;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=TT.bind(null,t,e,n),e.then(t,t))}function Sg(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Ig(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=hr(-1,1),e.tag=2,$r(n,e,1))),n.lanes|=1),t)}var uT=_r.ReactCurrentOwner,rn=!1;function qt(t,e,n,r){e.child=t===null?s0(e,null,n,r):xo(e,t.child,n,r)}function xg(t,e,n,r,i){n=n.render;var o=e.ref;return Eo(e,i),r=qd(t,e,n,r,o,i),n=Yd(),t!==null&&!rn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,gr(t,e,i)):(Xe&&n&&Vd(e),e.flags|=1,qt(t,e,r,i),e.child)}function kg(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!af(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,M0(t,e,o,r,i)):(t=Tl(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:qs,n(s,r)&&t.ref===e.ref)return gr(t,e,i)}return e.flags|=1,t=Qr(o,r),t.ref=e.ref,t.return=e,e.child=t}function M0(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(qs(o,r)&&t.ref===e.ref)if(rn=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(rn=!0);else return e.lanes=t.lanes,gr(t,e,i)}return kh(t,e,n,r,i)}function b0(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ke(go,fn),fn|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ke(go,fn),fn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Ke(go,fn),fn|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,Ke(go,fn),fn|=r;return qt(t,e,i,n),e.child}function D0(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function kh(t,e,n,r,i){var o=sn(n)?ki:Qt.current;return o=So(e,o),Eo(e,i),n=qd(t,e,n,r,o,i),r=Yd(),t!==null&&!rn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,gr(t,e,i)):(Xe&&r&&Vd(e),e.flags|=1,qt(t,e,n,i),e.child)}function Pg(t,e,n,r,i){if(sn(n)){var o=!0;Ul(e)}else o=!1;if(Eo(e,i),e.stateNode===null)_l(t,e),k0(e,n,r),Ih(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var u=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=xn(c):(c=sn(n)?ki:Qt.current,c=So(e,c));var h=n.getDerivedStateFromProps,d=typeof h=="function"||typeof s.getSnapshotBeforeUpdate=="function";d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||u!==c)&&Ag(e,s,r,c),Pr=!1;var f=e.memoizedState;s.state=f,Hl(e,r,s,i),u=e.memoizedState,a!==r||f!==u||on.current||Pr?(typeof h=="function"&&(Sh(e,n,h,r),u=e.memoizedState),(a=Pr||Cg(e,n,a,r,f,u,c))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),s.props=r,s.state=u,s.context=c,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,l0(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Nn(e.type,a),s.props=c,d=e.pendingProps,f=s.context,u=n.contextType,typeof u=="object"&&u!==null?u=xn(u):(u=sn(n)?ki:Qt.current,u=So(e,u));var g=n.getDerivedStateFromProps;(h=typeof g=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==d||f!==u)&&Ag(e,s,r,u),Pr=!1,f=e.memoizedState,s.state=f,Hl(e,r,s,i);var w=e.memoizedState;a!==d||f!==w||on.current||Pr?(typeof g=="function"&&(Sh(e,n,g,r),w=e.memoizedState),(c=Pr||Cg(e,n,c,r,f,w,u)||!1)?(h||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,w,u),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,w,u)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=w),s.props=r,s.state=w,s.context=u,r=c):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return Ph(t,e,n,r,o,i)}function Ph(t,e,n,r,i,o){D0(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&gg(e,n,!1),gr(t,e,o);r=e.stateNode,uT.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=xo(e,t.child,null,o),e.child=xo(e,null,a,o)):qt(t,e,a,o),e.memoizedState=r.state,i&&gg(e,n,!0),e.child}function N0(t){var e=t.stateNode;e.pendingContext?pg(t,e.pendingContext,e.pendingContext!==e.context):e.context&&pg(t,e.context,!1),Wd(t,e.containerInfo)}function Rg(t,e,n,r,i){return Io(),Ud(i),e.flags|=256,qt(t,e,n,r),e.child}var Rh={dehydrated:null,treeContext:null,retryLane:0};function Mh(t){return{baseLanes:t,cachePool:null,transitions:null}}function O0(t,e,n){var r=e.pendingProps,i=tt.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ke(tt,i&1),t===null)return Ah(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=ku(s,r,0,null),t=Si(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=Mh(n),e.memoizedState=Rh,t):Jd(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return cT(t,e,s,r,a,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,a=i.sibling;var u={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=Qr(i,u),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=Qr(a,o):(o=Si(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?Mh(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=Rh,r}return o=t.child,t=o.sibling,r=Qr(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Jd(t,e){return e=ku({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Za(t,e,n,r){return r!==null&&Ud(r),xo(e,t.child,null,n),t=Jd(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function cT(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=Rc(Error(ee(422))),Za(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=ku({mode:"visible",children:r.children},i,0,null),o=Si(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&xo(e,t.child,null,s),e.child.memoizedState=Mh(s),e.memoizedState=Rh,o);if(!(e.mode&1))return Za(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(ee(419)),r=Rc(o,r,void 0),Za(t,e,s,r)}if(a=(s&t.childLanes)!==0,rn||a){if(r=Ct,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,pr(t,i),Un(r,t,i,-1))}return sf(),r=Rc(Error(ee(421))),Za(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=CT.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,gn=zr(i.nextSibling),yn=e,Xe=!0,Vn=null,t!==null&&(Cn[An++]=lr,Cn[An++]=ur,Cn[An++]=Pi,lr=t.id,ur=t.overflow,Pi=e),e=Jd(e,r.children),e.flags|=4096,e)}function Mg(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Lh(t.return,e,n)}function Mc(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function V0(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(qt(t,e,r.children,n),r=tt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Mg(t,n,e);else if(t.tag===19)Mg(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ke(tt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Wl(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Mc(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Wl(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Mc(e,!0,n,null,o);break;case"together":Mc(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function _l(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function gr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Mi|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ee(153));if(e.child!==null){for(t=e.child,n=Qr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Qr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function hT(t,e,n){switch(e.tag){case 3:N0(e),Io();break;case 5:u0(e);break;case 1:sn(e.type)&&Ul(e);break;case 4:Wd(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ke(zl,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ke(tt,tt.current&1),e.flags|=128,null):n&e.child.childLanes?O0(t,e,n):(Ke(tt,tt.current&1),t=gr(t,e,n),t!==null?t.sibling:null);Ke(tt,tt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return V0(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ke(tt,tt.current),r)break;return null;case 22:case 23:return e.lanes=0,b0(t,e,n)}return gr(t,e,n)}var F0,bh,U0,j0;F0=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};bh=function(){};U0=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Ei(Zn.current);var o=null;switch(n){case"input":i=th(t,i),r=th(t,r),o=[];break;case"select":i=rt({},i,{value:void 0}),r=rt({},r,{value:void 0}),o=[];break;case"textarea":i=ih(t,i),r=ih(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Vl)}sh(n,r);var s;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(zs.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var u=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&u!==a&&(u!=null||a!=null))if(c==="style")if(a){for(s in a)!a.hasOwnProperty(s)||u&&u.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in u)u.hasOwnProperty(s)&&a[s]!==u[s]&&(n||(n={}),n[s]=u[s])}else n||(o||(o=[]),o.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(o=o||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(o=o||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(zs.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&Ye("scroll",t),o||a===u||(o=[])):(o=o||[]).push(c,u))}n&&(o=o||[]).push("style",n);var c=o;(e.updateQueue=c)&&(e.flags|=4)}};j0=function(t,e,n,r){n!==r&&(e.flags|=4)};function fs(t,e){if(!Xe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function jt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function dT(t,e,n){var r=e.pendingProps;switch(Fd(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return jt(e),null;case 1:return sn(e.type)&&Fl(),jt(e),null;case 3:return r=e.stateNode,ko(),Ze(on),Ze(Qt),Gd(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(qa(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Vn!==null&&(Bh(Vn),Vn=null))),bh(t,e),jt(e),null;case 5:Qd(e);var i=Ei(ea.current);if(n=e.type,t!==null&&e.stateNode!=null)U0(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(ee(166));return jt(e),null}if(t=Ei(Zn.current),qa(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[Kn]=e,r[Xs]=o,t=(e.mode&1)!==0,n){case"dialog":Ye("cancel",r),Ye("close",r);break;case"iframe":case"object":case"embed":Ye("load",r);break;case"video":case"audio":for(i=0;i<Cs.length;i++)Ye(Cs[i],r);break;case"source":Ye("error",r);break;case"img":case"image":case"link":Ye("error",r),Ye("load",r);break;case"details":Ye("toggle",r);break;case"input":Bp(r,o),Ye("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ye("invalid",r);break;case"textarea":$p(r,o),Ye("invalid",r)}sh(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&Ka(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&Ka(r.textContent,a,t),i=["children",""+a]):zs.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&Ye("scroll",r)}switch(n){case"input":ja(r),zp(r,o,!0);break;case"textarea":ja(r),Hp(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Vl)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=py(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[Kn]=e,t[Xs]=r,F0(t,e,!1,!1),e.stateNode=t;e:{switch(s=ah(n,r),n){case"dialog":Ye("cancel",t),Ye("close",t),i=r;break;case"iframe":case"object":case"embed":Ye("load",t),i=r;break;case"video":case"audio":for(i=0;i<Cs.length;i++)Ye(Cs[i],t);i=r;break;case"source":Ye("error",t),i=r;break;case"img":case"image":case"link":Ye("error",t),Ye("load",t),i=r;break;case"details":Ye("toggle",t),i=r;break;case"input":Bp(t,r),i=th(t,r),Ye("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=rt({},r,{value:void 0}),Ye("invalid",t);break;case"textarea":$p(t,r),i=ih(t,r),Ye("invalid",t);break;default:i=r}sh(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var u=a[o];o==="style"?vy(t,u):o==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&gy(t,u)):o==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&$s(t,u):typeof u=="number"&&$s(t,""+u):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(zs.hasOwnProperty(o)?u!=null&&o==="onScroll"&&Ye("scroll",t):u!=null&&Cd(t,o,u,s))}switch(n){case"input":ja(t),zp(t,r,!1);break;case"textarea":ja(t),Hp(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Jr(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?vo(t,!!r.multiple,o,!1):r.defaultValue!=null&&vo(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Vl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return jt(e),null;case 6:if(t&&e.stateNode!=null)j0(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(ee(166));if(n=Ei(ea.current),Ei(Zn.current),qa(e)){if(r=e.stateNode,n=e.memoizedProps,r[Kn]=e,(o=r.nodeValue!==n)&&(t=yn,t!==null))switch(t.tag){case 3:Ka(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ka(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Kn]=e,e.stateNode=r}return jt(e),null;case 13:if(Ze(tt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Xe&&gn!==null&&e.mode&1&&!(e.flags&128))i0(),Io(),e.flags|=98560,o=!1;else if(o=qa(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(ee(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(ee(317));o[Kn]=e}else Io(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;jt(e),o=!1}else Vn!==null&&(Bh(Vn),Vn=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||tt.current&1?yt===0&&(yt=3):sf())),e.updateQueue!==null&&(e.flags|=4),jt(e),null);case 4:return ko(),bh(t,e),t===null&&Ys(e.stateNode.containerInfo),jt(e),null;case 10:return zd(e.type._context),jt(e),null;case 17:return sn(e.type)&&Fl(),jt(e),null;case 19:if(Ze(tt),o=e.memoizedState,o===null)return jt(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)fs(o,!1);else{if(yt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=Wl(t),s!==null){for(e.flags|=128,fs(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ke(tt,tt.current&1|2),e.child}t=t.sibling}o.tail!==null&&ht()>Ro&&(e.flags|=128,r=!0,fs(o,!1),e.lanes=4194304)}else{if(!r)if(t=Wl(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),fs(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!Xe)return jt(e),null}else 2*ht()-o.renderingStartTime>Ro&&n!==1073741824&&(e.flags|=128,r=!0,fs(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=ht(),e.sibling=null,n=tt.current,Ke(tt,r?n&1|2:n&1),e):(jt(e),null);case 22:case 23:return of(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?fn&1073741824&&(jt(e),e.subtreeFlags&6&&(e.flags|=8192)):jt(e),null;case 24:return null;case 25:return null}throw Error(ee(156,e.tag))}function fT(t,e){switch(Fd(e),e.tag){case 1:return sn(e.type)&&Fl(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ko(),Ze(on),Ze(Qt),Gd(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Qd(e),null;case 13:if(Ze(tt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ee(340));Io()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ze(tt),null;case 4:return ko(),null;case 10:return zd(e.type._context),null;case 22:case 23:return of(),null;case 24:return null;default:return null}}var Xa=!1,Ht=!1,pT=typeof WeakSet=="function"?WeakSet:Set,oe=null;function po(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){st(t,e,r)}else n.current=null}function Dh(t,e,n){try{n()}catch(r){st(t,e,r)}}var bg=!1;function gT(t,e){if(vh=Dl,t=Wy(),Od(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,u=-1,c=0,h=0,d=t,f=null;t:for(;;){for(var g;d!==n||i!==0&&d.nodeType!==3||(a=s+i),d!==o||r!==0&&d.nodeType!==3||(u=s+r),d.nodeType===3&&(s+=d.nodeValue.length),(g=d.firstChild)!==null;)f=d,d=g;for(;;){if(d===t)break t;if(f===n&&++c===i&&(a=s),f===o&&++h===r&&(u=s),(g=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=g}n=a===-1||u===-1?null:{start:a,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(yh={focusedElem:t,selectionRange:n},Dl=!1,oe=e;oe!==null;)if(e=oe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,oe=t;else for(;oe!==null;){e=oe;try{var w=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var A=w.memoizedProps,R=w.memoizedState,E=e.stateNode,x=E.getSnapshotBeforeUpdate(e.elementType===e.type?A:Nn(e.type,A),R);E.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var I=e.stateNode.containerInfo;I.nodeType===1?I.textContent="":I.nodeType===9&&I.documentElement&&I.removeChild(I.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ee(163))}}catch(M){st(e,e.return,M)}if(t=e.sibling,t!==null){t.return=e.return,oe=t;break}oe=e.return}return w=bg,bg=!1,w}function bs(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&Dh(e,n,o)}i=i.next}while(i!==r)}}function Iu(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Nh(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function B0(t){var e=t.alternate;e!==null&&(t.alternate=null,B0(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Kn],delete e[Xs],delete e[Eh],delete e[Z2],delete e[X2])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function z0(t){return t.tag===5||t.tag===3||t.tag===4}function Dg(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||z0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Oh(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Vl));else if(r!==4&&(t=t.child,t!==null))for(Oh(t,e,n),t=t.sibling;t!==null;)Oh(t,e,n),t=t.sibling}function Vh(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Vh(t,e,n),t=t.sibling;t!==null;)Vh(t,e,n),t=t.sibling}var xt=null,On=!1;function Ir(t,e,n){for(n=n.child;n!==null;)$0(t,e,n),n=n.sibling}function $0(t,e,n){if(Yn&&typeof Yn.onCommitFiberUnmount=="function")try{Yn.onCommitFiberUnmount(_u,n)}catch{}switch(n.tag){case 5:Ht||po(n,e);case 6:var r=xt,i=On;xt=null,Ir(t,e,n),xt=r,On=i,xt!==null&&(On?(t=xt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):xt.removeChild(n.stateNode));break;case 18:xt!==null&&(On?(t=xt,n=n.stateNode,t.nodeType===8?Lc(t.parentNode,n):t.nodeType===1&&Lc(t,n),Gs(t)):Lc(xt,n.stateNode));break;case 4:r=xt,i=On,xt=n.stateNode.containerInfo,On=!0,Ir(t,e,n),xt=r,On=i;break;case 0:case 11:case 14:case 15:if(!Ht&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&Dh(n,e,s),i=i.next}while(i!==r)}Ir(t,e,n);break;case 1:if(!Ht&&(po(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){st(n,e,a)}Ir(t,e,n);break;case 21:Ir(t,e,n);break;case 22:n.mode&1?(Ht=(r=Ht)||n.memoizedState!==null,Ir(t,e,n),Ht=r):Ir(t,e,n);break;default:Ir(t,e,n)}}function Ng(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new pT),e.forEach(function(r){var i=AT.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function bn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:xt=a.stateNode,On=!1;break e;case 3:xt=a.stateNode.containerInfo,On=!0;break e;case 4:xt=a.stateNode.containerInfo,On=!0;break e}a=a.return}if(xt===null)throw Error(ee(160));$0(o,s,i),xt=null,On=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(c){st(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)H0(e,t),e=e.sibling}function H0(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(bn(e,t),Wn(t),r&4){try{bs(3,t,t.return),Iu(3,t)}catch(A){st(t,t.return,A)}try{bs(5,t,t.return)}catch(A){st(t,t.return,A)}}break;case 1:bn(e,t),Wn(t),r&512&&n!==null&&po(n,n.return);break;case 5:if(bn(e,t),Wn(t),r&512&&n!==null&&po(n,n.return),t.flags&32){var i=t.stateNode;try{$s(i,"")}catch(A){st(t,t.return,A)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&dy(i,o),ah(a,s);var c=ah(a,o);for(s=0;s<u.length;s+=2){var h=u[s],d=u[s+1];h==="style"?vy(i,d):h==="dangerouslySetInnerHTML"?gy(i,d):h==="children"?$s(i,d):Cd(i,h,d,c)}switch(a){case"input":nh(i,o);break;case"textarea":fy(i,o);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var g=o.value;g!=null?vo(i,!!o.multiple,g,!1):f!==!!o.multiple&&(o.defaultValue!=null?vo(i,!!o.multiple,o.defaultValue,!0):vo(i,!!o.multiple,o.multiple?[]:"",!1))}i[Xs]=o}catch(A){st(t,t.return,A)}}break;case 6:if(bn(e,t),Wn(t),r&4){if(t.stateNode===null)throw Error(ee(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(A){st(t,t.return,A)}}break;case 3:if(bn(e,t),Wn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Gs(e.containerInfo)}catch(A){st(t,t.return,A)}break;case 4:bn(e,t),Wn(t);break;case 13:bn(e,t),Wn(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(nf=ht())),r&4&&Ng(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(Ht=(c=Ht)||h,bn(e,t),Ht=c):bn(e,t),Wn(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!h&&t.mode&1)for(oe=t,h=t.child;h!==null;){for(d=oe=h;oe!==null;){switch(f=oe,g=f.child,f.tag){case 0:case 11:case 14:case 15:bs(4,f,f.return);break;case 1:po(f,f.return);var w=f.stateNode;if(typeof w.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,w.props=e.memoizedProps,w.state=e.memoizedState,w.componentWillUnmount()}catch(A){st(r,n,A)}}break;case 5:po(f,f.return);break;case 22:if(f.memoizedState!==null){Vg(d);continue}}g!==null?(g.return=f,oe=g):Vg(d)}h=h.sibling}e:for(h=null,d=t;;){if(d.tag===5){if(h===null){h=d;try{i=d.stateNode,c?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=d.stateNode,u=d.memoizedProps.style,s=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=my("display",s))}catch(A){st(t,t.return,A)}}}else if(d.tag===6){if(h===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(A){st(t,t.return,A)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:bn(e,t),Wn(t),r&4&&Ng(t);break;case 21:break;default:bn(e,t),Wn(t)}}function Wn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(z0(n)){var r=n;break e}n=n.return}throw Error(ee(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&($s(i,""),r.flags&=-33);var o=Dg(t);Vh(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=Dg(t);Oh(t,a,s);break;default:throw Error(ee(161))}}catch(u){st(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function mT(t,e,n){oe=t,W0(t)}function W0(t,e,n){for(var r=(t.mode&1)!==0;oe!==null;){var i=oe,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||Xa;if(!s){var a=i.alternate,u=a!==null&&a.memoizedState!==null||Ht;a=Xa;var c=Ht;if(Xa=s,(Ht=u)&&!c)for(oe=i;oe!==null;)s=oe,u=s.child,s.tag===22&&s.memoizedState!==null?Fg(i):u!==null?(u.return=s,oe=u):Fg(i);for(;o!==null;)oe=o,W0(o),o=o.sibling;oe=i,Xa=a,Ht=c}Og(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,oe=o):Og(t)}}function Og(t){for(;oe!==null;){var e=oe;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ht||Iu(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ht)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Nn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&wg(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}wg(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var h=c.memoizedState;if(h!==null){var d=h.dehydrated;d!==null&&Gs(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ee(163))}Ht||e.flags&512&&Nh(e)}catch(f){st(e,e.return,f)}}if(e===t){oe=null;break}if(n=e.sibling,n!==null){n.return=e.return,oe=n;break}oe=e.return}}function Vg(t){for(;oe!==null;){var e=oe;if(e===t){oe=null;break}var n=e.sibling;if(n!==null){n.return=e.return,oe=n;break}oe=e.return}}function Fg(t){for(;oe!==null;){var e=oe;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Iu(4,e)}catch(u){st(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(u){st(e,i,u)}}var o=e.return;try{Nh(e)}catch(u){st(e,o,u)}break;case 5:var s=e.return;try{Nh(e)}catch(u){st(e,s,u)}}}catch(u){st(e,e.return,u)}if(e===t){oe=null;break}var a=e.sibling;if(a!==null){a.return=e.return,oe=a;break}oe=e.return}}var vT=Math.ceil,Kl=_r.ReactCurrentDispatcher,ef=_r.ReactCurrentOwner,Sn=_r.ReactCurrentBatchConfig,Oe=0,Ct=null,gt=null,Rt=0,fn=0,go=oi(0),yt=0,ia=null,Mi=0,xu=0,tf=0,Ds=null,en=null,nf=0,Ro=1/0,sr=null,ql=!1,Fh=null,Hr=null,Ja=!1,Or=null,Yl=0,Ns=0,Uh=null,wl=-1,El=0;function Yt(){return Oe&6?ht():wl!==-1?wl:wl=ht()}function Wr(t){return t.mode&1?Oe&2&&Rt!==0?Rt&-Rt:eT.transition!==null?(El===0&&(El=ky()),El):(t=ze,t!==0||(t=window.event,t=t===void 0?16:Oy(t.type)),t):1}function Un(t,e,n,r){if(50<Ns)throw Ns=0,Uh=null,Error(ee(185));ga(t,n,r),(!(Oe&2)||t!==Ct)&&(t===Ct&&(!(Oe&2)&&(xu|=n),yt===4&&br(t,Rt)),an(t,r),n===1&&Oe===0&&!(e.mode&1)&&(Ro=ht()+500,Au&&si()))}function an(t,e){var n=t.callbackNode;e2(t,e);var r=bl(t,t===Ct?Rt:0);if(r===0)n!==null&&Gp(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Gp(n),e===1)t.tag===0?J2(Ug.bind(null,t)):t0(Ug.bind(null,t)),q2(function(){!(Oe&6)&&si()}),n=null;else{switch(Py(r)){case 1:n=xd;break;case 4:n=Iy;break;case 16:n=Ml;break;case 536870912:n=xy;break;default:n=Ml}n=J0(n,Q0.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Q0(t,e){if(wl=-1,El=0,Oe&6)throw Error(ee(327));var n=t.callbackNode;if(To()&&t.callbackNode!==n)return null;var r=bl(t,t===Ct?Rt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Zl(t,r);else{e=r;var i=Oe;Oe|=2;var o=K0();(Ct!==t||Rt!==e)&&(sr=null,Ro=ht()+500,Li(t,e));do try{wT();break}catch(a){G0(t,a)}while(!0);Bd(),Kl.current=o,Oe=i,gt!==null?e=0:(Ct=null,Rt=0,e=yt)}if(e!==0){if(e===2&&(i=dh(t),i!==0&&(r=i,e=jh(t,i))),e===1)throw n=ia,Li(t,0),br(t,r),an(t,ht()),n;if(e===6)br(t,r);else{if(i=t.current.alternate,!(r&30)&&!yT(i)&&(e=Zl(t,r),e===2&&(o=dh(t),o!==0&&(r=o,e=jh(t,o))),e===1))throw n=ia,Li(t,0),br(t,r),an(t,ht()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(ee(345));case 2:vi(t,en,sr);break;case 3:if(br(t,r),(r&130023424)===r&&(e=nf+500-ht(),10<e)){if(bl(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Yt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=wh(vi.bind(null,t,en,sr),e);break}vi(t,en,sr);break;case 4:if(br(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-Fn(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=ht()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*vT(r/1960))-r,10<r){t.timeoutHandle=wh(vi.bind(null,t,en,sr),r);break}vi(t,en,sr);break;case 5:vi(t,en,sr);break;default:throw Error(ee(329))}}}return an(t,ht()),t.callbackNode===n?Q0.bind(null,t):null}function jh(t,e){var n=Ds;return t.current.memoizedState.isDehydrated&&(Li(t,e).flags|=256),t=Zl(t,e),t!==2&&(e=en,en=n,e!==null&&Bh(e)),t}function Bh(t){en===null?en=t:en.push.apply(en,t)}function yT(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!jn(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function br(t,e){for(e&=~tf,e&=~xu,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Fn(e),r=1<<n;t[n]=-1,e&=~r}}function Ug(t){if(Oe&6)throw Error(ee(327));To();var e=bl(t,0);if(!(e&1))return an(t,ht()),null;var n=Zl(t,e);if(t.tag!==0&&n===2){var r=dh(t);r!==0&&(e=r,n=jh(t,r))}if(n===1)throw n=ia,Li(t,0),br(t,e),an(t,ht()),n;if(n===6)throw Error(ee(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,vi(t,en,sr),an(t,ht()),null}function rf(t,e){var n=Oe;Oe|=1;try{return t(e)}finally{Oe=n,Oe===0&&(Ro=ht()+500,Au&&si())}}function bi(t){Or!==null&&Or.tag===0&&!(Oe&6)&&To();var e=Oe;Oe|=1;var n=Sn.transition,r=ze;try{if(Sn.transition=null,ze=1,t)return t()}finally{ze=r,Sn.transition=n,Oe=e,!(Oe&6)&&si()}}function of(){fn=go.current,Ze(go)}function Li(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,K2(n)),gt!==null)for(n=gt.return;n!==null;){var r=n;switch(Fd(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Fl();break;case 3:ko(),Ze(on),Ze(Qt),Gd();break;case 5:Qd(r);break;case 4:ko();break;case 13:Ze(tt);break;case 19:Ze(tt);break;case 10:zd(r.type._context);break;case 22:case 23:of()}n=n.return}if(Ct=t,gt=t=Qr(t.current,null),Rt=fn=e,yt=0,ia=null,tf=xu=Mi=0,en=Ds=null,wi!==null){for(e=0;e<wi.length;e++)if(n=wi[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}wi=null}return t}function G0(t,e){do{var n=gt;try{if(Bd(),vl.current=Gl,Ql){for(var r=nt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Ql=!1}if(Ri=0,Tt=mt=nt=null,Ms=!1,ta=0,ef.current=null,n===null||n.return===null){yt=1,ia=e,gt=null;break}e:{var o=t,s=n.return,a=n,u=e;if(e=Rt,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,h=a,d=h.tag;if(!(h.mode&1)&&(d===0||d===11||d===15)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var g=Sg(s);if(g!==null){g.flags&=-257,Ig(g,s,a,o,e),g.mode&1&&Lg(o,c,e),e=g,u=c;var w=e.updateQueue;if(w===null){var A=new Set;A.add(u),e.updateQueue=A}else w.add(u);break e}else{if(!(e&1)){Lg(o,c,e),sf();break e}u=Error(ee(426))}}else if(Xe&&a.mode&1){var R=Sg(s);if(R!==null){!(R.flags&65536)&&(R.flags|=256),Ig(R,s,a,o,e),Ud(Po(u,a));break e}}o=u=Po(u,a),yt!==4&&(yt=2),Ds===null?Ds=[o]:Ds.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var E=P0(o,u,e);_g(o,E);break e;case 1:a=u;var x=o.type,I=o.stateNode;if(!(o.flags&128)&&(typeof x.getDerivedStateFromError=="function"||I!==null&&typeof I.componentDidCatch=="function"&&(Hr===null||!Hr.has(I)))){o.flags|=65536,e&=-e,o.lanes|=e;var M=R0(o,a,e);_g(o,M);break e}}o=o.return}while(o!==null)}Y0(n)}catch(V){e=V,gt===n&&n!==null&&(gt=n=n.return);continue}break}while(!0)}function K0(){var t=Kl.current;return Kl.current=Gl,t===null?Gl:t}function sf(){(yt===0||yt===3||yt===2)&&(yt=4),Ct===null||!(Mi&268435455)&&!(xu&268435455)||br(Ct,Rt)}function Zl(t,e){var n=Oe;Oe|=2;var r=K0();(Ct!==t||Rt!==e)&&(sr=null,Li(t,e));do try{_T();break}catch(i){G0(t,i)}while(!0);if(Bd(),Oe=n,Kl.current=r,gt!==null)throw Error(ee(261));return Ct=null,Rt=0,yt}function _T(){for(;gt!==null;)q0(gt)}function wT(){for(;gt!==null&&!WE();)q0(gt)}function q0(t){var e=X0(t.alternate,t,fn);t.memoizedProps=t.pendingProps,e===null?Y0(t):gt=e,ef.current=null}function Y0(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=fT(n,e),n!==null){n.flags&=32767,gt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{yt=6,gt=null;return}}else if(n=dT(n,e,fn),n!==null){gt=n;return}if(e=e.sibling,e!==null){gt=e;return}gt=e=t}while(e!==null);yt===0&&(yt=5)}function vi(t,e,n){var r=ze,i=Sn.transition;try{Sn.transition=null,ze=1,ET(t,e,n,r)}finally{Sn.transition=i,ze=r}return null}function ET(t,e,n,r){do To();while(Or!==null);if(Oe&6)throw Error(ee(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(ee(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(t2(t,o),t===Ct&&(gt=Ct=null,Rt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ja||(Ja=!0,J0(Ml,function(){return To(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Sn.transition,Sn.transition=null;var s=ze;ze=1;var a=Oe;Oe|=4,ef.current=null,gT(t,n),H0(n,t),B2(yh),Dl=!!vh,yh=vh=null,t.current=n,mT(n),QE(),Oe=a,ze=s,Sn.transition=o}else t.current=n;if(Ja&&(Ja=!1,Or=t,Yl=i),o=t.pendingLanes,o===0&&(Hr=null),qE(n.stateNode),an(t,ht()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(ql)throw ql=!1,t=Fh,Fh=null,t;return Yl&1&&t.tag!==0&&To(),o=t.pendingLanes,o&1?t===Uh?Ns++:(Ns=0,Uh=t):Ns=0,si(),null}function To(){if(Or!==null){var t=Py(Yl),e=Sn.transition,n=ze;try{if(Sn.transition=null,ze=16>t?16:t,Or===null)var r=!1;else{if(t=Or,Or=null,Yl=0,Oe&6)throw Error(ee(331));var i=Oe;for(Oe|=4,oe=t.current;oe!==null;){var o=oe,s=o.child;if(oe.flags&16){var a=o.deletions;if(a!==null){for(var u=0;u<a.length;u++){var c=a[u];for(oe=c;oe!==null;){var h=oe;switch(h.tag){case 0:case 11:case 15:bs(8,h,o)}var d=h.child;if(d!==null)d.return=h,oe=d;else for(;oe!==null;){h=oe;var f=h.sibling,g=h.return;if(B0(h),h===c){oe=null;break}if(f!==null){f.return=g,oe=f;break}oe=g}}}var w=o.alternate;if(w!==null){var A=w.child;if(A!==null){w.child=null;do{var R=A.sibling;A.sibling=null,A=R}while(A!==null)}}oe=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,oe=s;else e:for(;oe!==null;){if(o=oe,o.flags&2048)switch(o.tag){case 0:case 11:case 15:bs(9,o,o.return)}var E=o.sibling;if(E!==null){E.return=o.return,oe=E;break e}oe=o.return}}var x=t.current;for(oe=x;oe!==null;){s=oe;var I=s.child;if(s.subtreeFlags&2064&&I!==null)I.return=s,oe=I;else e:for(s=x;oe!==null;){if(a=oe,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Iu(9,a)}}catch(V){st(a,a.return,V)}if(a===s){oe=null;break e}var M=a.sibling;if(M!==null){M.return=a.return,oe=M;break e}oe=a.return}}if(Oe=i,si(),Yn&&typeof Yn.onPostCommitFiberRoot=="function")try{Yn.onPostCommitFiberRoot(_u,t)}catch{}r=!0}return r}finally{ze=n,Sn.transition=e}}return!1}function jg(t,e,n){e=Po(n,e),e=P0(t,e,1),t=$r(t,e,1),e=Yt(),t!==null&&(ga(t,1,e),an(t,e))}function st(t,e,n){if(t.tag===3)jg(t,t,n);else for(;e!==null;){if(e.tag===3){jg(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Hr===null||!Hr.has(r))){t=Po(n,t),t=R0(e,t,1),e=$r(e,t,1),t=Yt(),e!==null&&(ga(e,1,t),an(e,t));break}}e=e.return}}function TT(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Yt(),t.pingedLanes|=t.suspendedLanes&n,Ct===t&&(Rt&n)===n&&(yt===4||yt===3&&(Rt&130023424)===Rt&&500>ht()-nf?Li(t,0):tf|=n),an(t,e)}function Z0(t,e){e===0&&(t.mode&1?(e=$a,$a<<=1,!($a&130023424)&&($a=4194304)):e=1);var n=Yt();t=pr(t,e),t!==null&&(ga(t,e,n),an(t,n))}function CT(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Z0(t,n)}function AT(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(ee(314))}r!==null&&r.delete(e),Z0(t,n)}var X0;X0=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||on.current)rn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return rn=!1,hT(t,e,n);rn=!!(t.flags&131072)}else rn=!1,Xe&&e.flags&1048576&&n0(e,Bl,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;_l(t,e),t=e.pendingProps;var i=So(e,Qt.current);Eo(e,n),i=qd(null,e,r,t,i,n);var o=Yd();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,sn(r)?(o=!0,Ul(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Hd(e),i.updater=Su,e.stateNode=i,i._reactInternals=e,Ih(e,r,t,n),e=Ph(null,e,r,!0,o,n)):(e.tag=0,Xe&&o&&Vd(e),qt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(_l(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=ST(r),t=Nn(r,t),i){case 0:e=kh(null,e,r,t,n);break e;case 1:e=Pg(null,e,r,t,n);break e;case 11:e=xg(null,e,r,t,n);break e;case 14:e=kg(null,e,r,Nn(r.type,t),n);break e}throw Error(ee(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Nn(r,i),kh(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Nn(r,i),Pg(t,e,r,i,n);case 3:e:{if(N0(e),t===null)throw Error(ee(387));r=e.pendingProps,o=e.memoizedState,i=o.element,l0(t,e),Hl(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=Po(Error(ee(423)),e),e=Rg(t,e,r,n,i);break e}else if(r!==i){i=Po(Error(ee(424)),e),e=Rg(t,e,r,n,i);break e}else for(gn=zr(e.stateNode.containerInfo.firstChild),yn=e,Xe=!0,Vn=null,n=s0(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Io(),r===i){e=gr(t,e,n);break e}qt(t,e,r,n)}e=e.child}return e;case 5:return u0(e),t===null&&Ah(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,_h(r,i)?s=null:o!==null&&_h(r,o)&&(e.flags|=32),D0(t,e),qt(t,e,s,n),e.child;case 6:return t===null&&Ah(e),null;case 13:return O0(t,e,n);case 4:return Wd(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=xo(e,null,r,n):qt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Nn(r,i),xg(t,e,r,i,n);case 7:return qt(t,e,e.pendingProps,n),e.child;case 8:return qt(t,e,e.pendingProps.children,n),e.child;case 12:return qt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,Ke(zl,r._currentValue),r._currentValue=s,o!==null)if(jn(o.value,s)){if(o.children===i.children&&!on.current){e=gr(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var u=a.firstContext;u!==null;){if(u.context===r){if(o.tag===1){u=hr(-1,n&-n),u.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var h=c.pending;h===null?u.next=u:(u.next=h.next,h.next=u),c.pending=u}}o.lanes|=n,u=o.alternate,u!==null&&(u.lanes|=n),Lh(o.return,n,e),a.lanes|=n;break}u=u.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(ee(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),Lh(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}qt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Eo(e,n),i=xn(i),r=r(i),e.flags|=1,qt(t,e,r,n),e.child;case 14:return r=e.type,i=Nn(r,e.pendingProps),i=Nn(r.type,i),kg(t,e,r,i,n);case 15:return M0(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Nn(r,i),_l(t,e),e.tag=1,sn(r)?(t=!0,Ul(e)):t=!1,Eo(e,n),k0(e,r,i),Ih(e,r,i,n),Ph(null,e,r,!0,t,n);case 19:return V0(t,e,n);case 22:return b0(t,e,n)}throw Error(ee(156,e.tag))};function J0(t,e){return Sy(t,e)}function LT(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ln(t,e,n,r){return new LT(t,e,n,r)}function af(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ST(t){if(typeof t=="function")return af(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Ld)return 11;if(t===Sd)return 14}return 2}function Qr(t,e){var n=t.alternate;return n===null?(n=Ln(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Tl(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")af(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case io:return Si(n.children,i,o,e);case Ad:s=8,i|=8;break;case Zc:return t=Ln(12,n,e,i|2),t.elementType=Zc,t.lanes=o,t;case Xc:return t=Ln(13,n,e,i),t.elementType=Xc,t.lanes=o,t;case Jc:return t=Ln(19,n,e,i),t.elementType=Jc,t.lanes=o,t;case uy:return ku(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ay:s=10;break e;case ly:s=9;break e;case Ld:s=11;break e;case Sd:s=14;break e;case kr:s=16,r=null;break e}throw Error(ee(130,t==null?t:typeof t,""))}return e=Ln(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function Si(t,e,n,r){return t=Ln(7,t,r,e),t.lanes=n,t}function ku(t,e,n,r){return t=Ln(22,t,r,e),t.elementType=uy,t.lanes=n,t.stateNode={isHidden:!1},t}function bc(t,e,n){return t=Ln(6,t,null,e),t.lanes=n,t}function Dc(t,e,n){return e=Ln(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function IT(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=pc(0),this.expirationTimes=pc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pc(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function lf(t,e,n,r,i,o,s,a,u){return t=new IT(t,e,n,a,u),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Ln(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Hd(o),t}function xT(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ro,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function e1(t){if(!t)return ei;t=t._reactInternals;e:{if(Ui(t)!==t||t.tag!==1)throw Error(ee(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(sn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ee(171))}if(t.tag===1){var n=t.type;if(sn(n))return e0(t,n,e)}return e}function t1(t,e,n,r,i,o,s,a,u){return t=lf(n,r,!0,t,i,o,s,a,u),t.context=e1(null),n=t.current,r=Yt(),i=Wr(n),o=hr(r,i),o.callback=e??null,$r(n,o,i),t.current.lanes=i,ga(t,i,r),an(t,r),t}function Pu(t,e,n,r){var i=e.current,o=Yt(),s=Wr(i);return n=e1(n),e.context===null?e.context=n:e.pendingContext=n,e=hr(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=$r(i,e,s),t!==null&&(Un(t,i,s,o),ml(t,i,s)),s}function Xl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Bg(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function uf(t,e){Bg(t,e),(t=t.alternate)&&Bg(t,e)}function kT(){return null}var n1=typeof reportError=="function"?reportError:function(t){console.error(t)};function cf(t){this._internalRoot=t}Ru.prototype.render=cf.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ee(409));Pu(t,e,null,null)};Ru.prototype.unmount=cf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;bi(function(){Pu(null,t,null,null)}),e[fr]=null}};function Ru(t){this._internalRoot=t}Ru.prototype.unstable_scheduleHydration=function(t){if(t){var e=by();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Mr.length&&e!==0&&e<Mr[n].priority;n++);Mr.splice(n,0,t),n===0&&Ny(t)}};function hf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Mu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function zg(){}function PT(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var c=Xl(s);o.call(c)}}var s=t1(e,r,t,0,null,!1,!1,"",zg);return t._reactRootContainer=s,t[fr]=s.current,Ys(t.nodeType===8?t.parentNode:t),bi(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=Xl(u);a.call(c)}}var u=lf(t,0,!1,null,null,!1,!1,"",zg);return t._reactRootContainer=u,t[fr]=u.current,Ys(t.nodeType===8?t.parentNode:t),bi(function(){Pu(e,u,n,r)}),u}function bu(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var u=Xl(s);a.call(u)}}Pu(e,s,t,i)}else s=PT(n,e,t,i,r);return Xl(s)}Ry=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Ts(e.pendingLanes);n!==0&&(kd(e,n|1),an(e,ht()),!(Oe&6)&&(Ro=ht()+500,si()))}break;case 13:bi(function(){var r=pr(t,1);if(r!==null){var i=Yt();Un(r,t,1,i)}}),uf(t,1)}};Pd=function(t){if(t.tag===13){var e=pr(t,134217728);if(e!==null){var n=Yt();Un(e,t,134217728,n)}uf(t,134217728)}};My=function(t){if(t.tag===13){var e=Wr(t),n=pr(t,e);if(n!==null){var r=Yt();Un(n,t,e,r)}uf(t,e)}};by=function(){return ze};Dy=function(t,e){var n=ze;try{return ze=t,e()}finally{ze=n}};uh=function(t,e,n){switch(e){case"input":if(nh(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Cu(r);if(!i)throw Error(ee(90));hy(r),nh(r,i)}}}break;case"textarea":fy(t,n);break;case"select":e=n.value,e!=null&&vo(t,!!n.multiple,e,!1)}};wy=rf;Ey=bi;var RT={usingClientEntryPoint:!1,Events:[va,lo,Cu,yy,_y,rf]},ps={findFiberByHostInstance:_i,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},MT={bundleType:ps.bundleType,version:ps.version,rendererPackageName:ps.rendererPackageName,rendererConfig:ps.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_r.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Ay(t),t===null?null:t.stateNode},findFiberByHostInstance:ps.findFiberByHostInstance||kT,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var el=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!el.isDisabled&&el.supportsFiber)try{_u=el.inject(MT),Yn=el}catch{}}wn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=RT;wn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!hf(e))throw Error(ee(200));return xT(t,e,null,n)};wn.createRoot=function(t,e){if(!hf(t))throw Error(ee(299));var n=!1,r="",i=n1;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=lf(t,1,!1,null,null,n,!1,r,i),t[fr]=e.current,Ys(t.nodeType===8?t.parentNode:t),new cf(e)};wn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ee(188)):(t=Object.keys(t).join(","),Error(ee(268,t)));return t=Ay(e),t=t===null?null:t.stateNode,t};wn.flushSync=function(t){return bi(t)};wn.hydrate=function(t,e,n){if(!Mu(e))throw Error(ee(200));return bu(null,t,e,!0,n)};wn.hydrateRoot=function(t,e,n){if(!hf(t))throw Error(ee(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=n1;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=t1(e,null,t,1,n??null,i,!1,o,s),t[fr]=e.current,Ys(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Ru(e)};wn.render=function(t,e,n){if(!Mu(e))throw Error(ee(200));return bu(null,t,e,!1,n)};wn.unmountComponentAtNode=function(t){if(!Mu(t))throw Error(ee(40));return t._reactRootContainer?(bi(function(){bu(null,null,t,!1,function(){t._reactRootContainer=null,t[fr]=null})}),!0):!1};wn.unstable_batchedUpdates=rf;wn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Mu(n))throw Error(ee(200));if(t==null||t._reactInternals===void 0)throw Error(ee(38));return bu(t,e,n,!1,r)};wn.version="18.3.1-next-f1338f8080-20240426";function r1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r1)}catch(t){console.error(t)}}r1(),ry.exports=wn;var ji=ry.exports,$g=ji;qc.createRoot=$g.createRoot,qc.hydrateRoot=$g.hydrateRoot;var Hg={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i1=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},bT=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],a=t[n++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},o1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,h=o>>2,d=(o&3)<<4|a>>4;let f=(a&15)<<2|c>>6,g=c&63;u||(g=64,s||(f=64)),r.push(n[h],n[d],n[f],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(i1(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):bT(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||c==null||d==null)throw new DT;const f=o<<2|a>>4;if(r.push(f),c!==64){const g=a<<4&240|c>>2;if(r.push(g),d!==64){const w=c<<6&192|d;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class DT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const NT=function(t){const e=i1(t);return o1.encodeByteArray(e,!0)},Jl=function(t){return NT(t).replace(/\./g,"")},OT=function(t){try{return o1.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FT=()=>VT().__FIREBASE_DEFAULTS__,UT=()=>{if(typeof process>"u"||typeof Hg>"u")return;const t=Hg.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},jT=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&OT(t[1]);return e&&JSON.parse(e)},df=()=>{try{return FT()||UT()||jT()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},BT=t=>{var e,n;return(n=(e=df())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},s1=t=>{const e=BT(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},a1=()=>{var t;return(t=df())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l1(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Jl(JSON.stringify(n)),Jl(JSON.stringify(s)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $T(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function HT(){var t;const e=(t=df())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function WT(){return!HT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function QT(){try{return typeof indexedDB=="object"}catch{return!1}}function GT(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KT="FirebaseError";class Bi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=KT,Object.setPrototypeOf(this,Bi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,u1.prototype.create)}}class u1{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?qT(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Bi(i,a,r)}}function qT(t,e){return t.replace(YT,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const YT=/\{\$([^}]+)}/g;function zh(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(Wg(o)&&Wg(s)){if(!zh(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Wg(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pn(t){return t&&t._delegate?t._delegate:t}class Mo{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZT{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new zT;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(JT(e))try{this.getOrInitializeService({instanceIdentifier:yi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=yi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=yi){return this.instances.has(e)}getOptions(e=yi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:XT(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=yi){return this.component?this.component.multipleInstances?e:yi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function XT(t){return t===yi?void 0:t}function JT(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new ZT(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ne;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ne||(Ne={}));const tC={debug:Ne.DEBUG,verbose:Ne.VERBOSE,info:Ne.INFO,warn:Ne.WARN,error:Ne.ERROR,silent:Ne.SILENT},nC=Ne.INFO,rC={[Ne.DEBUG]:"log",[Ne.VERBOSE]:"log",[Ne.INFO]:"info",[Ne.WARN]:"warn",[Ne.ERROR]:"error"},iC=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=rC[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class c1{constructor(e){this.name=e,this._logLevel=nC,this._logHandler=iC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ne))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?tC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ne.DEBUG,...e),this._logHandler(this,Ne.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ne.VERBOSE,...e),this._logHandler(this,Ne.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ne.INFO,...e),this._logHandler(this,Ne.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ne.WARN,...e),this._logHandler(this,Ne.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ne.ERROR,...e),this._logHandler(this,Ne.ERROR,...e)}}const oC=(t,e)=>e.some(n=>t instanceof n);let Qg,Gg;function sC(){return Qg||(Qg=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function aC(){return Gg||(Gg=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const h1=new WeakMap,$h=new WeakMap,d1=new WeakMap,Nc=new WeakMap,ff=new WeakMap;function lC(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Gr(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&h1.set(n,t)}).catch(()=>{}),ff.set(e,t),e}function uC(t){if($h.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});$h.set(t,e)}let Hh={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return $h.get(t);if(e==="objectStoreNames")return t.objectStoreNames||d1.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Gr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function cC(t){Hh=t(Hh)}function hC(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Oc(this),e,...n);return d1.set(r,e.sort?e.sort():[e]),Gr(r)}:aC().includes(t)?function(...e){return t.apply(Oc(this),e),Gr(h1.get(this))}:function(...e){return Gr(t.apply(Oc(this),e))}}function dC(t){return typeof t=="function"?hC(t):(t instanceof IDBTransaction&&uC(t),oC(t,sC())?new Proxy(t,Hh):t)}function Gr(t){if(t instanceof IDBRequest)return lC(t);if(Nc.has(t))return Nc.get(t);const e=dC(t);return e!==t&&(Nc.set(t,e),ff.set(e,t)),e}const Oc=t=>ff.get(t);function fC(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=Gr(s);return r&&s.addEventListener("upgradeneeded",u=>{r(Gr(s.result),u.oldVersion,u.newVersion,Gr(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const pC=["get","getKey","getAll","getAllKeys","count"],gC=["put","add","delete","clear"],Vc=new Map;function Kg(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Vc.get(e))return Vc.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=gC.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||pC.includes(n)))return;const o=async function(s,...a){const u=this.transaction(s,i?"readwrite":"readonly");let c=u.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&u.done]))[0]};return Vc.set(e,o),o}cC(t=>({...t,get:(e,n,r)=>Kg(e,n)||t.get(e,n,r),has:(e,n)=>!!Kg(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(vC(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function vC(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Wh="@firebase/app",qg="0.10.9";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mr=new c1("@firebase/app"),yC="@firebase/app-compat",_C="@firebase/analytics-compat",wC="@firebase/analytics",EC="@firebase/app-check-compat",TC="@firebase/app-check",CC="@firebase/auth",AC="@firebase/auth-compat",LC="@firebase/database",SC="@firebase/database-compat",IC="@firebase/functions",xC="@firebase/functions-compat",kC="@firebase/installations",PC="@firebase/installations-compat",RC="@firebase/messaging",MC="@firebase/messaging-compat",bC="@firebase/performance",DC="@firebase/performance-compat",NC="@firebase/remote-config",OC="@firebase/remote-config-compat",VC="@firebase/storage",FC="@firebase/storage-compat",UC="@firebase/firestore",jC="@firebase/vertexai-preview",BC="@firebase/firestore-compat",zC="firebase",$C="10.13.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qh="[DEFAULT]",HC={[Wh]:"fire-core",[yC]:"fire-core-compat",[wC]:"fire-analytics",[_C]:"fire-analytics-compat",[TC]:"fire-app-check",[EC]:"fire-app-check-compat",[CC]:"fire-auth",[AC]:"fire-auth-compat",[LC]:"fire-rtdb",[SC]:"fire-rtdb-compat",[IC]:"fire-fn",[xC]:"fire-fn-compat",[kC]:"fire-iid",[PC]:"fire-iid-compat",[RC]:"fire-fcm",[MC]:"fire-fcm-compat",[bC]:"fire-perf",[DC]:"fire-perf-compat",[NC]:"fire-rc",[OC]:"fire-rc-compat",[VC]:"fire-gcs",[FC]:"fire-gcs-compat",[UC]:"fire-fst",[BC]:"fire-fst-compat",[jC]:"fire-vertex","fire-js":"fire-js",[zC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eu=new Map,WC=new Map,Gh=new Map;function Yg(t,e){try{t.container.addComponent(e)}catch(n){mr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function oa(t){const e=t.name;if(Gh.has(e))return mr.debug(`There were multiple attempts to register component ${e}.`),!1;Gh.set(e,t);for(const n of eu.values())Yg(n,t);for(const n of WC.values())Yg(n,t);return!0}function f1(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Kr=new u1("app","Firebase",QC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GC{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Mo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Kr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p1=$C;function g1(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Qh,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Kr.create("bad-app-name",{appName:String(i)});if(n||(n=a1()),!n)throw Kr.create("no-options");const o=eu.get(i);if(o){if(zh(n,o.options)&&zh(r,o.config))return o;throw Kr.create("duplicate-app",{appName:i})}const s=new eC(i);for(const u of Gh.values())s.addComponent(u);const a=new GC(n,r,s);return eu.set(i,a),a}function m1(t=Qh){const e=eu.get(t);if(!e&&t===Qh&&a1())return g1();if(!e)throw Kr.create("no-app",{appName:t});return e}function qr(t,e,n){var r;let i=(r=HC[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),mr.warn(a.join(" "));return}oa(new Mo(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KC="firebase-heartbeat-database",qC=1,sa="firebase-heartbeat-store";let Fc=null;function v1(){return Fc||(Fc=fC(KC,qC,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(sa)}catch(n){console.warn(n)}}}}).catch(t=>{throw Kr.create("idb-open",{originalErrorMessage:t.message})})),Fc}async function YC(t){try{const n=(await v1()).transaction(sa),r=await n.objectStore(sa).get(y1(t));return await n.done,r}catch(e){if(e instanceof Bi)mr.warn(e.message);else{const n=Kr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});mr.warn(n.message)}}}async function Zg(t,e){try{const r=(await v1()).transaction(sa,"readwrite");await r.objectStore(sa).put(e,y1(t)),await r.done}catch(n){if(n instanceof Bi)mr.warn(n.message);else{const r=Kr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});mr.warn(r.message)}}}function y1(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZC=1024,XC=30*24*60*60*1e3;class JC{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new tA(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n,r;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Xg();return console.log("heartbeats",(e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats),((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{const u=new Date(a.date).valueOf();return Date.now()-u<=XC}),this._storage.overwrite(this._heartbeatsCache))}catch(i){mr.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Xg(),{heartbeatsToSend:r,unsentEntries:i}=eA(this._heartbeatsCache.heartbeats),o=Jl(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return mr.warn(n),""}}}function Xg(){return new Date().toISOString().substring(0,10)}function eA(t,e=ZC){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),Jg(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Jg(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class tA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return QT()?GT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await YC(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Zg(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Zg(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Jg(t){return Jl(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nA(t){oa(new Mo("platform-logger",e=>new mC(e),"PRIVATE")),oa(new Mo("heartbeat",e=>new JC(e),"PRIVATE")),qr(Wh,qg,t),qr(Wh,qg,"esm2017"),qr("fire-js","")}nA("");var rA="firebase",iA="10.13.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */qr(rA,iA,"app");var em=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ii,_1;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,p){function y(){}y.prototype=p.prototype,C.D=p.prototype,C.prototype=new y,C.prototype.constructor=C,C.C=function(_,P,k){for(var L=Array(arguments.length-2),F=2;F<arguments.length;F++)L[F-2]=arguments[F];return p.prototype[P].apply(_,L)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(C,p,y){y||(y=0);var _=Array(16);if(typeof p=="string")for(var P=0;16>P;++P)_[P]=p.charCodeAt(y++)|p.charCodeAt(y++)<<8|p.charCodeAt(y++)<<16|p.charCodeAt(y++)<<24;else for(P=0;16>P;++P)_[P]=p[y++]|p[y++]<<8|p[y++]<<16|p[y++]<<24;p=C.g[0],y=C.g[1],P=C.g[2];var k=C.g[3],L=p+(k^y&(P^k))+_[0]+3614090360&4294967295;p=y+(L<<7&4294967295|L>>>25),L=k+(P^p&(y^P))+_[1]+3905402710&4294967295,k=p+(L<<12&4294967295|L>>>20),L=P+(y^k&(p^y))+_[2]+606105819&4294967295,P=k+(L<<17&4294967295|L>>>15),L=y+(p^P&(k^p))+_[3]+3250441966&4294967295,y=P+(L<<22&4294967295|L>>>10),L=p+(k^y&(P^k))+_[4]+4118548399&4294967295,p=y+(L<<7&4294967295|L>>>25),L=k+(P^p&(y^P))+_[5]+1200080426&4294967295,k=p+(L<<12&4294967295|L>>>20),L=P+(y^k&(p^y))+_[6]+2821735955&4294967295,P=k+(L<<17&4294967295|L>>>15),L=y+(p^P&(k^p))+_[7]+4249261313&4294967295,y=P+(L<<22&4294967295|L>>>10),L=p+(k^y&(P^k))+_[8]+1770035416&4294967295,p=y+(L<<7&4294967295|L>>>25),L=k+(P^p&(y^P))+_[9]+2336552879&4294967295,k=p+(L<<12&4294967295|L>>>20),L=P+(y^k&(p^y))+_[10]+4294925233&4294967295,P=k+(L<<17&4294967295|L>>>15),L=y+(p^P&(k^p))+_[11]+2304563134&4294967295,y=P+(L<<22&4294967295|L>>>10),L=p+(k^y&(P^k))+_[12]+1804603682&4294967295,p=y+(L<<7&4294967295|L>>>25),L=k+(P^p&(y^P))+_[13]+4254626195&4294967295,k=p+(L<<12&4294967295|L>>>20),L=P+(y^k&(p^y))+_[14]+2792965006&4294967295,P=k+(L<<17&4294967295|L>>>15),L=y+(p^P&(k^p))+_[15]+1236535329&4294967295,y=P+(L<<22&4294967295|L>>>10),L=p+(P^k&(y^P))+_[1]+4129170786&4294967295,p=y+(L<<5&4294967295|L>>>27),L=k+(y^P&(p^y))+_[6]+3225465664&4294967295,k=p+(L<<9&4294967295|L>>>23),L=P+(p^y&(k^p))+_[11]+643717713&4294967295,P=k+(L<<14&4294967295|L>>>18),L=y+(k^p&(P^k))+_[0]+3921069994&4294967295,y=P+(L<<20&4294967295|L>>>12),L=p+(P^k&(y^P))+_[5]+3593408605&4294967295,p=y+(L<<5&4294967295|L>>>27),L=k+(y^P&(p^y))+_[10]+38016083&4294967295,k=p+(L<<9&4294967295|L>>>23),L=P+(p^y&(k^p))+_[15]+3634488961&4294967295,P=k+(L<<14&4294967295|L>>>18),L=y+(k^p&(P^k))+_[4]+3889429448&4294967295,y=P+(L<<20&4294967295|L>>>12),L=p+(P^k&(y^P))+_[9]+568446438&4294967295,p=y+(L<<5&4294967295|L>>>27),L=k+(y^P&(p^y))+_[14]+3275163606&4294967295,k=p+(L<<9&4294967295|L>>>23),L=P+(p^y&(k^p))+_[3]+4107603335&4294967295,P=k+(L<<14&4294967295|L>>>18),L=y+(k^p&(P^k))+_[8]+1163531501&4294967295,y=P+(L<<20&4294967295|L>>>12),L=p+(P^k&(y^P))+_[13]+2850285829&4294967295,p=y+(L<<5&4294967295|L>>>27),L=k+(y^P&(p^y))+_[2]+4243563512&4294967295,k=p+(L<<9&4294967295|L>>>23),L=P+(p^y&(k^p))+_[7]+1735328473&4294967295,P=k+(L<<14&4294967295|L>>>18),L=y+(k^p&(P^k))+_[12]+2368359562&4294967295,y=P+(L<<20&4294967295|L>>>12),L=p+(y^P^k)+_[5]+4294588738&4294967295,p=y+(L<<4&4294967295|L>>>28),L=k+(p^y^P)+_[8]+2272392833&4294967295,k=p+(L<<11&4294967295|L>>>21),L=P+(k^p^y)+_[11]+1839030562&4294967295,P=k+(L<<16&4294967295|L>>>16),L=y+(P^k^p)+_[14]+4259657740&4294967295,y=P+(L<<23&4294967295|L>>>9),L=p+(y^P^k)+_[1]+2763975236&4294967295,p=y+(L<<4&4294967295|L>>>28),L=k+(p^y^P)+_[4]+1272893353&4294967295,k=p+(L<<11&4294967295|L>>>21),L=P+(k^p^y)+_[7]+4139469664&4294967295,P=k+(L<<16&4294967295|L>>>16),L=y+(P^k^p)+_[10]+3200236656&4294967295,y=P+(L<<23&4294967295|L>>>9),L=p+(y^P^k)+_[13]+681279174&4294967295,p=y+(L<<4&4294967295|L>>>28),L=k+(p^y^P)+_[0]+3936430074&4294967295,k=p+(L<<11&4294967295|L>>>21),L=P+(k^p^y)+_[3]+3572445317&4294967295,P=k+(L<<16&4294967295|L>>>16),L=y+(P^k^p)+_[6]+76029189&4294967295,y=P+(L<<23&4294967295|L>>>9),L=p+(y^P^k)+_[9]+3654602809&4294967295,p=y+(L<<4&4294967295|L>>>28),L=k+(p^y^P)+_[12]+3873151461&4294967295,k=p+(L<<11&4294967295|L>>>21),L=P+(k^p^y)+_[15]+530742520&4294967295,P=k+(L<<16&4294967295|L>>>16),L=y+(P^k^p)+_[2]+3299628645&4294967295,y=P+(L<<23&4294967295|L>>>9),L=p+(P^(y|~k))+_[0]+4096336452&4294967295,p=y+(L<<6&4294967295|L>>>26),L=k+(y^(p|~P))+_[7]+1126891415&4294967295,k=p+(L<<10&4294967295|L>>>22),L=P+(p^(k|~y))+_[14]+2878612391&4294967295,P=k+(L<<15&4294967295|L>>>17),L=y+(k^(P|~p))+_[5]+4237533241&4294967295,y=P+(L<<21&4294967295|L>>>11),L=p+(P^(y|~k))+_[12]+1700485571&4294967295,p=y+(L<<6&4294967295|L>>>26),L=k+(y^(p|~P))+_[3]+2399980690&4294967295,k=p+(L<<10&4294967295|L>>>22),L=P+(p^(k|~y))+_[10]+4293915773&4294967295,P=k+(L<<15&4294967295|L>>>17),L=y+(k^(P|~p))+_[1]+2240044497&4294967295,y=P+(L<<21&4294967295|L>>>11),L=p+(P^(y|~k))+_[8]+1873313359&4294967295,p=y+(L<<6&4294967295|L>>>26),L=k+(y^(p|~P))+_[15]+4264355552&4294967295,k=p+(L<<10&4294967295|L>>>22),L=P+(p^(k|~y))+_[6]+2734768916&4294967295,P=k+(L<<15&4294967295|L>>>17),L=y+(k^(P|~p))+_[13]+1309151649&4294967295,y=P+(L<<21&4294967295|L>>>11),L=p+(P^(y|~k))+_[4]+4149444226&4294967295,p=y+(L<<6&4294967295|L>>>26),L=k+(y^(p|~P))+_[11]+3174756917&4294967295,k=p+(L<<10&4294967295|L>>>22),L=P+(p^(k|~y))+_[2]+718787259&4294967295,P=k+(L<<15&4294967295|L>>>17),L=y+(k^(P|~p))+_[9]+3951481745&4294967295,C.g[0]=C.g[0]+p&4294967295,C.g[1]=C.g[1]+(P+(L<<21&4294967295|L>>>11))&4294967295,C.g[2]=C.g[2]+P&4294967295,C.g[3]=C.g[3]+k&4294967295}r.prototype.u=function(C,p){p===void 0&&(p=C.length);for(var y=p-this.blockSize,_=this.B,P=this.h,k=0;k<p;){if(P==0)for(;k<=y;)i(this,C,k),k+=this.blockSize;if(typeof C=="string"){for(;k<p;)if(_[P++]=C.charCodeAt(k++),P==this.blockSize){i(this,_),P=0;break}}else for(;k<p;)if(_[P++]=C[k++],P==this.blockSize){i(this,_),P=0;break}}this.h=P,this.o+=p},r.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var p=1;p<C.length-8;++p)C[p]=0;var y=8*this.o;for(p=C.length-8;p<C.length;++p)C[p]=y&255,y/=256;for(this.u(C),C=Array(16),p=y=0;4>p;++p)for(var _=0;32>_;_+=8)C[y++]=this.g[p]>>>_&255;return C};function o(C,p){var y=a;return Object.prototype.hasOwnProperty.call(y,C)?y[C]:y[C]=p(C)}function s(C,p){this.h=p;for(var y=[],_=!0,P=C.length-1;0<=P;P--){var k=C[P]|0;_&&k==p||(y[P]=k,_=!1)}this.g=y}var a={};function u(C){return-128<=C&&128>C?o(C,function(p){return new s([p|0],0>p?-1:0)}):new s([C|0],0>C?-1:0)}function c(C){if(isNaN(C)||!isFinite(C))return d;if(0>C)return R(c(-C));for(var p=[],y=1,_=0;C>=y;_++)p[_]=C/y|0,y*=4294967296;return new s(p,0)}function h(C,p){if(C.length==0)throw Error("number format error: empty string");if(p=p||10,2>p||36<p)throw Error("radix out of range: "+p);if(C.charAt(0)=="-")return R(h(C.substring(1),p));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var y=c(Math.pow(p,8)),_=d,P=0;P<C.length;P+=8){var k=Math.min(8,C.length-P),L=parseInt(C.substring(P,P+k),p);8>k?(k=c(Math.pow(p,k)),_=_.j(k).add(c(L))):(_=_.j(y),_=_.add(c(L)))}return _}var d=u(0),f=u(1),g=u(16777216);t=s.prototype,t.m=function(){if(A(this))return-R(this).m();for(var C=0,p=1,y=0;y<this.g.length;y++){var _=this.i(y);C+=(0<=_?_:4294967296+_)*p,p*=4294967296}return C},t.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(w(this))return"0";if(A(this))return"-"+R(this).toString(C);for(var p=c(Math.pow(C,6)),y=this,_="";;){var P=M(y,p).g;y=E(y,P.j(p));var k=((0<y.g.length?y.g[0]:y.h)>>>0).toString(C);if(y=P,w(y))return k+_;for(;6>k.length;)k="0"+k;_=k+_}},t.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function w(C){if(C.h!=0)return!1;for(var p=0;p<C.g.length;p++)if(C.g[p]!=0)return!1;return!0}function A(C){return C.h==-1}t.l=function(C){return C=E(this,C),A(C)?-1:w(C)?0:1};function R(C){for(var p=C.g.length,y=[],_=0;_<p;_++)y[_]=~C.g[_];return new s(y,~C.h).add(f)}t.abs=function(){return A(this)?R(this):this},t.add=function(C){for(var p=Math.max(this.g.length,C.g.length),y=[],_=0,P=0;P<=p;P++){var k=_+(this.i(P)&65535)+(C.i(P)&65535),L=(k>>>16)+(this.i(P)>>>16)+(C.i(P)>>>16);_=L>>>16,k&=65535,L&=65535,y[P]=L<<16|k}return new s(y,y[y.length-1]&-2147483648?-1:0)};function E(C,p){return C.add(R(p))}t.j=function(C){if(w(this)||w(C))return d;if(A(this))return A(C)?R(this).j(R(C)):R(R(this).j(C));if(A(C))return R(this.j(R(C)));if(0>this.l(g)&&0>C.l(g))return c(this.m()*C.m());for(var p=this.g.length+C.g.length,y=[],_=0;_<2*p;_++)y[_]=0;for(_=0;_<this.g.length;_++)for(var P=0;P<C.g.length;P++){var k=this.i(_)>>>16,L=this.i(_)&65535,F=C.i(P)>>>16,z=C.i(P)&65535;y[2*_+2*P]+=L*z,x(y,2*_+2*P),y[2*_+2*P+1]+=k*z,x(y,2*_+2*P+1),y[2*_+2*P+1]+=L*F,x(y,2*_+2*P+1),y[2*_+2*P+2]+=k*F,x(y,2*_+2*P+2)}for(_=0;_<p;_++)y[_]=y[2*_+1]<<16|y[2*_];for(_=p;_<2*p;_++)y[_]=0;return new s(y,0)};function x(C,p){for(;(C[p]&65535)!=C[p];)C[p+1]+=C[p]>>>16,C[p]&=65535,p++}function I(C,p){this.g=C,this.h=p}function M(C,p){if(w(p))throw Error("division by zero");if(w(C))return new I(d,d);if(A(C))return p=M(R(C),p),new I(R(p.g),R(p.h));if(A(p))return p=M(C,R(p)),new I(R(p.g),p.h);if(30<C.g.length){if(A(C)||A(p))throw Error("slowDivide_ only works with positive integers.");for(var y=f,_=p;0>=_.l(C);)y=V(y),_=V(_);var P=S(y,1),k=S(_,1);for(_=S(_,2),y=S(y,2);!w(_);){var L=k.add(_);0>=L.l(C)&&(P=P.add(y),k=L),_=S(_,1),y=S(y,1)}return p=E(C,P.j(p)),new I(P,p)}for(P=d;0<=C.l(p);){for(y=Math.max(1,Math.floor(C.m()/p.m())),_=Math.ceil(Math.log(y)/Math.LN2),_=48>=_?1:Math.pow(2,_-48),k=c(y),L=k.j(p);A(L)||0<L.l(C);)y-=_,k=c(y),L=k.j(p);w(k)&&(k=f),P=P.add(k),C=E(C,L)}return new I(P,C)}t.A=function(C){return M(this,C).h},t.and=function(C){for(var p=Math.max(this.g.length,C.g.length),y=[],_=0;_<p;_++)y[_]=this.i(_)&C.i(_);return new s(y,this.h&C.h)},t.or=function(C){for(var p=Math.max(this.g.length,C.g.length),y=[],_=0;_<p;_++)y[_]=this.i(_)|C.i(_);return new s(y,this.h|C.h)},t.xor=function(C){for(var p=Math.max(this.g.length,C.g.length),y=[],_=0;_<p;_++)y[_]=this.i(_)^C.i(_);return new s(y,this.h^C.h)};function V(C){for(var p=C.g.length+1,y=[],_=0;_<p;_++)y[_]=C.i(_)<<1|C.i(_-1)>>>31;return new s(y,C.h)}function S(C,p){var y=p>>5;p%=32;for(var _=C.g.length-y,P=[],k=0;k<_;k++)P[k]=0<p?C.i(k+y)>>>p|C.i(k+y+1)<<32-p:C.i(k+y);return new s(P,C.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,_1=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=c,s.fromString=h,Ii=s}).apply(typeof em<"u"?em:typeof self<"u"?self:typeof window<"u"?window:{});var tl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var w1,E1,As,T1,Cl,Kh,C1,A1,L1;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,m,T){return l==Array.prototype||l==Object.prototype||(l[m]=T.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof tl=="object"&&tl];for(var m=0;m<l.length;++m){var T=l[m];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var r=n(this);function i(l,m){if(m)e:{var T=r;l=l.split(".");for(var D=0;D<l.length-1;D++){var H=l[D];if(!(H in T))break e;T=T[H]}l=l[l.length-1],D=T[l],m=m(D),m!=D&&m!=null&&e(T,l,{configurable:!0,writable:!0,value:m})}}function o(l,m){l instanceof String&&(l+="");var T=0,D=!1,H={next:function(){if(!D&&T<l.length){var K=T++;return{value:m(K,l[K]),done:!1}}return D=!0,{done:!0,value:void 0}}};return H[Symbol.iterator]=function(){return H},H}i("Array.prototype.values",function(l){return l||function(){return o(this,function(m,T){return T})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},a=this||self;function u(l){var m=typeof l;return m=m!="object"?m:l?Array.isArray(l)?"array":m:"null",m=="array"||m=="object"&&typeof l.length=="number"}function c(l){var m=typeof l;return m=="object"&&l!=null||m=="function"}function h(l,m,T){return l.call.apply(l.bind,arguments)}function d(l,m,T){if(!l)throw Error();if(2<arguments.length){var D=Array.prototype.slice.call(arguments,2);return function(){var H=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(H,D),l.apply(m,H)}}return function(){return l.apply(m,arguments)}}function f(l,m,T){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:d,f.apply(null,arguments)}function g(l,m){var T=Array.prototype.slice.call(arguments,1);return function(){var D=T.slice();return D.push.apply(D,arguments),l.apply(this,D)}}function w(l,m){function T(){}T.prototype=m.prototype,l.aa=m.prototype,l.prototype=new T,l.prototype.constructor=l,l.Qb=function(D,H,K){for(var ne=Array(arguments.length-2),We=2;We<arguments.length;We++)ne[We-2]=arguments[We];return m.prototype[H].apply(D,ne)}}function A(l){const m=l.length;if(0<m){const T=Array(m);for(let D=0;D<m;D++)T[D]=l[D];return T}return[]}function R(l,m){for(let T=1;T<arguments.length;T++){const D=arguments[T];if(u(D)){const H=l.length||0,K=D.length||0;l.length=H+K;for(let ne=0;ne<K;ne++)l[H+ne]=D[ne]}else l.push(D)}}class E{constructor(m,T){this.i=m,this.j=T,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function x(l){return/^[\s\xa0]*$/.test(l)}function I(){var l=a.navigator;return l&&(l=l.userAgent)?l:""}function M(l){return M[" "](l),l}M[" "]=function(){};var V=I().indexOf("Gecko")!=-1&&!(I().toLowerCase().indexOf("webkit")!=-1&&I().indexOf("Edge")==-1)&&!(I().indexOf("Trident")!=-1||I().indexOf("MSIE")!=-1)&&I().indexOf("Edge")==-1;function S(l,m,T){for(const D in l)m.call(T,l[D],D,l)}function C(l,m){for(const T in l)m.call(void 0,l[T],T,l)}function p(l){const m={};for(const T in l)m[T]=l[T];return m}const y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function _(l,m){let T,D;for(let H=1;H<arguments.length;H++){D=arguments[H];for(T in D)l[T]=D[T];for(let K=0;K<y.length;K++)T=y[K],Object.prototype.hasOwnProperty.call(D,T)&&(l[T]=D[T])}}function P(l){var m=1;l=l.split(":");const T=[];for(;0<m&&l.length;)T.push(l.shift()),m--;return l.length&&T.push(l.join(":")),T}function k(l){a.setTimeout(()=>{throw l},0)}function L(){var l=U;let m=null;return l.g&&(m=l.g,l.g=l.g.next,l.g||(l.h=null),m.next=null),m}class F{constructor(){this.h=this.g=null}add(m,T){const D=z.get();D.set(m,T),this.h?this.h.next=D:this.g=D,this.h=D}}var z=new E(()=>new O,l=>l.reset());class O{constructor(){this.next=this.g=this.h=null}set(m,T){this.h=m,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let b,j=!1,U=new F,B=()=>{const l=a.Promise.resolve(void 0);b=()=>{l.then(q)}};var q=()=>{for(var l;l=L();){try{l.h.call(l.g)}catch(T){k(T)}var m=z;m.j(l),100>m.h&&(m.h++,l.next=m.g,m.g=l)}j=!1};function Q(){this.s=this.s,this.C=this.C}Q.prototype.s=!1,Q.prototype.ma=function(){this.s||(this.s=!0,this.N())},Q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Y(l,m){this.type=l,this.g=this.target=m,this.defaultPrevented=!1}Y.prototype.h=function(){this.defaultPrevented=!0};var G=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var l=!1,m=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const T=()=>{};a.addEventListener("test",T,m),a.removeEventListener("test",T,m)}catch{}return l}();function W(l,m){if(Y.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var T=this.type=l.type,D=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=m,m=l.relatedTarget){if(V){e:{try{M(m.nodeName);var H=!0;break e}catch{}H=!1}H||(m=null)}}else T=="mouseover"?m=l.fromElement:T=="mouseout"&&(m=l.toElement);this.relatedTarget=m,D?(this.clientX=D.clientX!==void 0?D.clientX:D.pageX,this.clientY=D.clientY!==void 0?D.clientY:D.pageY,this.screenX=D.screenX||0,this.screenY=D.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:$[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&W.aa.h.call(this)}}w(W,Y);var $={2:"touch",3:"pen",4:"mouse"};W.prototype.h=function(){W.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var se="closure_listenable_"+(1e6*Math.random()|0),ce=0;function te(l,m,T,D,H){this.listener=l,this.proxy=null,this.src=m,this.type=T,this.capture=!!D,this.ha=H,this.key=++ce,this.da=this.fa=!1}function Z(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function ue(l){this.src=l,this.g={},this.h=0}ue.prototype.add=function(l,m,T,D,H){var K=l.toString();l=this.g[K],l||(l=this.g[K]=[],this.h++);var ne=Le(l,m,D,H);return-1<ne?(m=l[ne],T||(m.fa=!1)):(m=new te(m,this.src,K,!!D,H),m.fa=T,l.push(m)),m};function de(l,m){var T=m.type;if(T in l.g){var D=l.g[T],H=Array.prototype.indexOf.call(D,m,void 0),K;(K=0<=H)&&Array.prototype.splice.call(D,H,1),K&&(Z(m),l.g[T].length==0&&(delete l.g[T],l.h--))}}function Le(l,m,T,D){for(var H=0;H<l.length;++H){var K=l[H];if(!K.da&&K.listener==m&&K.capture==!!T&&K.ha==D)return H}return-1}var _e="closure_lm_"+(1e6*Math.random()|0),re={};function ye(l,m,T,D,H){if(Array.isArray(m)){for(var K=0;K<m.length;K++)ye(l,m[K],T,D,H);return null}return T=$e(T),l&&l[se]?l.K(m,T,c(D)?!!D.capture:!!D,H):me(l,m,T,!1,D,H)}function me(l,m,T,D,H,K){if(!m)throw Error("Invalid event type");var ne=c(H)?!!H.capture:!!H,We=xe(l);if(We||(l[_e]=We=new ue(l)),T=We.add(m,T,D,ne,K),T.proxy)return T;if(D=fe(),T.proxy=D,D.src=l,D.listener=T,l.addEventListener)G||(H=ne),H===void 0&&(H=!1),l.addEventListener(m.toString(),D,H);else if(l.attachEvent)l.attachEvent(Se(m.toString()),D);else if(l.addListener&&l.removeListener)l.addListener(D);else throw Error("addEventListener and attachEvent are unavailable.");return T}function fe(){function l(T){return m.call(l.src,l.listener,T)}const m=pe;return l}function we(l,m,T,D,H){if(Array.isArray(m))for(var K=0;K<m.length;K++)we(l,m[K],T,D,H);else D=c(D)?!!D.capture:!!D,T=$e(T),l&&l[se]?(l=l.i,m=String(m).toString(),m in l.g&&(K=l.g[m],T=Le(K,T,D,H),-1<T&&(Z(K[T]),Array.prototype.splice.call(K,T,1),K.length==0&&(delete l.g[m],l.h--)))):l&&(l=xe(l))&&(m=l.g[m.toString()],l=-1,m&&(l=Le(m,T,D,H)),(T=-1<l?m[l]:null)&&le(T))}function le(l){if(typeof l!="number"&&l&&!l.da){var m=l.src;if(m&&m[se])de(m.i,l);else{var T=l.type,D=l.proxy;m.removeEventListener?m.removeEventListener(T,D,l.capture):m.detachEvent?m.detachEvent(Se(T),D):m.addListener&&m.removeListener&&m.removeListener(D),(T=xe(m))?(de(T,l),T.h==0&&(T.src=null,m[_e]=null)):Z(l)}}}function Se(l){return l in re?re[l]:re[l]="on"+l}function pe(l,m){if(l.da)l=!0;else{m=new W(m,this);var T=l.listener,D=l.ha||l.src;l.fa&&le(l),l=T.call(D,m)}return l}function xe(l){return l=l[_e],l instanceof ue?l:null}var ie="__closure_events_fn_"+(1e9*Math.random()>>>0);function $e(l){return typeof l=="function"?l:(l[ie]||(l[ie]=function(m){return l.handleEvent(m)}),l[ie])}function je(){Q.call(this),this.i=new ue(this),this.M=this,this.F=null}w(je,Q),je.prototype[se]=!0,je.prototype.removeEventListener=function(l,m,T,D){we(this,l,m,T,D)};function Be(l,m){var T,D=l.F;if(D)for(T=[];D;D=D.F)T.push(D);if(l=l.M,D=m.type||m,typeof m=="string")m=new Y(m,l);else if(m instanceof Y)m.target=m.target||l;else{var H=m;m=new Y(D,l),_(m,H)}if(H=!0,T)for(var K=T.length-1;0<=K;K--){var ne=m.g=T[K];H=He(ne,D,!0,m)&&H}if(ne=m.g=l,H=He(ne,D,!0,m)&&H,H=He(ne,D,!1,m)&&H,T)for(K=0;K<T.length;K++)ne=m.g=T[K],H=He(ne,D,!1,m)&&H}je.prototype.N=function(){if(je.aa.N.call(this),this.i){var l=this.i,m;for(m in l.g){for(var T=l.g[m],D=0;D<T.length;D++)Z(T[D]);delete l.g[m],l.h--}}this.F=null},je.prototype.K=function(l,m,T,D){return this.i.add(String(l),m,!1,T,D)},je.prototype.L=function(l,m,T,D){return this.i.add(String(l),m,!0,T,D)};function He(l,m,T,D){if(m=l.i.g[String(m)],!m)return!0;m=m.concat();for(var H=!0,K=0;K<m.length;++K){var ne=m[K];if(ne&&!ne.da&&ne.capture==T){var We=ne.listener,It=ne.ha||ne.src;ne.fa&&de(l.i,ne),H=We.call(It,D)!==!1&&H}}return H&&!D.defaultPrevented}function Pe(l,m,T){if(typeof l=="function")T&&(l=f(l,T));else if(l&&typeof l.handleEvent=="function")l=f(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:a.setTimeout(l,m||0)}function et(l){l.g=Pe(()=>{l.g=null,l.i&&(l.i=!1,et(l))},l.l);const m=l.h;l.h=null,l.m.apply(null,m)}class Nt extends Q{constructor(m,T){super(),this.m=m,this.l=T,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:et(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ut(l){Q.call(this),this.h=l,this.g={}}w(ut,Q);var At=[];function Ot(l){S(l.g,function(m,T){this.g.hasOwnProperty(T)&&le(m)},l),l.g={}}ut.prototype.N=function(){ut.aa.N.call(this),Ot(this)},ut.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Jt=a.JSON.stringify,wr=a.JSON.parse,Hi=class{stringify(l){return a.JSON.stringify(l,void 0)}parse(l){return a.JSON.parse(l,void 0)}};function Bn(){}Bn.prototype.h=null;function zn(l){return l.h||(l.h=l.i())}function Rn(){}var $n={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Lt(){Y.call(this,"d")}w(Lt,Y);function Gt(){Y.call(this,"c")}w(Gt,Y);var St={},un=null;function Hn(){return un=un||new je}St.La="serverreachability";function cn(l){Y.call(this,St.La,l)}w(cn,Y);function _t(l){const m=Hn();Be(m,new cn(m))}St.STAT_EVENT="statevent";function Go(l,m){Y.call(this,St.STAT_EVENT,l),this.stat=m}w(Go,Y);function wt(l){const m=Hn();Be(m,new Go(m,l))}St.Ma="timingevent";function li(l,m){Y.call(this,St.Ma,l),this.size=m}w(li,Y);function Er(l,m){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){l()},m)}function Tr(){this.g=!0}Tr.prototype.xa=function(){this.g=!1};function Wi(l,m,T,D,H,K){l.info(function(){if(l.g)if(K)for(var ne="",We=K.split("&"),It=0;It<We.length;It++){var Ve=We[It].split("=");if(1<Ve.length){var Vt=Ve[0];Ve=Ve[1];var Ft=Vt.split("_");ne=2<=Ft.length&&Ft[1]=="type"?ne+(Vt+"="+Ve+"&"):ne+(Vt+"=redacted&")}}else ne=null;else ne=K;return"XMLHTTP REQ ("+D+") [attempt "+H+"]: "+m+`
`+T+`
`+ne})}function La(l,m,T,D,H,K,ne){l.info(function(){return"XMLHTTP RESP ("+D+") [ attempt "+H+"]: "+m+`
`+T+`
`+K+" "+ne})}function rr(l,m,T,D){l.info(function(){return"XMLHTTP TEXT ("+m+"): "+Sa(l,T)+(D?" "+D:"")})}function Qi(l,m){l.info(function(){return"TIMEOUT: "+m})}Tr.prototype.info=function(){};function Sa(l,m){if(!l.g)return m;if(!m)return null;try{var T=JSON.parse(m);if(T){for(l=0;l<T.length;l++)if(Array.isArray(T[l])){var D=T[l];if(!(2>D.length)){var H=D[1];if(Array.isArray(H)&&!(1>H.length)){var K=H[0];if(K!="noop"&&K!="stop"&&K!="close")for(var ne=1;ne<H.length;ne++)H[ne]=""}}}}return Jt(T)}catch{return m}}var ui={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ko={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Gi;function ci(){}w(ci,Bn),ci.prototype.g=function(){return new XMLHttpRequest},ci.prototype.i=function(){return{}},Gi=new ci;function hn(l,m,T,D){this.j=l,this.i=m,this.l=T,this.R=D||1,this.U=new ut(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new qo}function qo(){this.i=null,this.g="",this.h=!1}var Yo={},Cr={};function Ki(l,m,T){l.L=1,l.v=Pa(ir(m)),l.m=T,l.P=!0,Zo(l,null)}function Zo(l,m){l.F=Date.now(),qi(l),l.A=ir(l.v);var T=l.A,D=l.R;Array.isArray(D)||(D=[String(D)]),fp(T.i,"t",D),l.C=0,T=l.j.J,l.h=new qo,l.g=Rp(l.j,T?m:null,!l.m),0<l.O&&(l.M=new Nt(f(l.Y,l,l.g),l.O)),m=l.U,T=l.g,D=l.ca;var H="readystatechange";Array.isArray(H)||(H&&(At[0]=H.toString()),H=At);for(var K=0;K<H.length;K++){var ne=ye(T,H[K],D||m.handleEvent,!1,m.h||m);if(!ne)break;m.g[ne.key]=ne}m=l.H?p(l.H):{},l.m?(l.u||(l.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,m)):(l.u="GET",l.g.ea(l.A,l.u,null,m)),_t(),Wi(l.i,l.u,l.A,l.l,l.R,l.m)}hn.prototype.ca=function(l){l=l.target;const m=this.M;m&&or(l)==3?m.j():this.Y(l)},hn.prototype.Y=function(l){try{if(l==this.g)e:{const Ft=or(this.g);var m=this.g.Ba();const Xi=this.g.Z();if(!(3>Ft)&&(Ft!=3||this.g&&(this.h.h||this.g.oa()||wp(this.g)))){this.J||Ft!=4||m==7||(m==8||0>=Xi?_t(3):_t(2)),Ee(this);var T=this.g.Z();this.X=T;t:if(hi(this)){var D=wp(this.g);l="";var H=D.length,K=or(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){di(this),Xo(this);var ne="";break t}this.h.i=new a.TextDecoder}for(m=0;m<H;m++)this.h.h=!0,l+=this.h.i.decode(D[m],{stream:!(K&&m==H-1)});D.length=0,this.h.g+=l,this.C=0,ne=this.h.g}else ne=this.g.oa();if(this.o=T==200,La(this.i,this.u,this.A,this.l,this.R,Ft,T),this.o){if(this.T&&!this.K){t:{if(this.g){var We,It=this.g;if((We=It.g?It.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(We)){var Ve=We;break t}}Ve=null}if(T=Ve)rr(this.i,this.l,T,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,tc(this,T);else{this.o=!1,this.s=3,wt(12),di(this),Xo(this);break e}}if(this.P){T=!0;let Mn;for(;!this.J&&this.C<ne.length;)if(Mn=Ia(this,ne),Mn==Cr){Ft==4&&(this.s=4,wt(14),T=!1),rr(this.i,this.l,null,"[Incomplete Response]");break}else if(Mn==Yo){this.s=4,wt(15),rr(this.i,this.l,ne,"[Invalid Chunk]"),T=!1;break}else rr(this.i,this.l,Mn,null),tc(this,Mn);if(hi(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ft!=4||ne.length!=0||this.h.h||(this.s=1,wt(16),T=!1),this.o=this.o&&T,!T)rr(this.i,this.l,ne,"[Invalid Chunked Response]"),di(this),Xo(this);else if(0<ne.length&&!this.W){this.W=!0;var Vt=this.j;Vt.g==this&&Vt.ba&&!Vt.M&&(Vt.j.info("Great, no buffering proxy detected. Bytes received: "+ne.length),ac(Vt),Vt.M=!0,wt(11))}}else rr(this.i,this.l,ne,null),tc(this,ne);Ft==4&&di(this),this.o&&!this.J&&(Ft==4?Ip(this.j,this):(this.o=!1,qi(this)))}else rE(this.g),T==400&&0<ne.indexOf("Unknown SID")?(this.s=3,wt(12)):(this.s=0,wt(13)),di(this),Xo(this)}}}catch{}finally{}};function hi(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function Ia(l,m){var T=l.C,D=m.indexOf(`
`,T);return D==-1?Cr:(T=Number(m.substring(T,D)),isNaN(T)?Yo:(D+=1,D+T>m.length?Cr:(m=m.slice(D,D+T),l.C=D+T,m)))}hn.prototype.cancel=function(){this.J=!0,di(this)};function qi(l){l.S=Date.now()+l.I,Ar(l,l.I)}function Ar(l,m){if(l.B!=null)throw Error("WatchDog timer not null");l.B=Er(f(l.ba,l),m)}function Ee(l){l.B&&(a.clearTimeout(l.B),l.B=null)}hn.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(Qi(this.i,this.A),this.L!=2&&(_t(),wt(17)),di(this),this.s=2,Xo(this)):Ar(this,this.S-l)};function Xo(l){l.j.G==0||l.J||Ip(l.j,l)}function di(l){Ee(l);var m=l.M;m&&typeof m.ma=="function"&&m.ma(),l.M=null,Ot(l.U),l.g&&(m=l.g,l.g=null,m.abort(),m.ma())}function tc(l,m){try{var T=l.j;if(T.G!=0&&(T.g==l||nc(T.h,l))){if(!l.K&&nc(T.h,l)&&T.G==3){try{var D=T.Da.g.parse(m)}catch{D=null}if(Array.isArray(D)&&D.length==3){var H=D;if(H[0]==0){e:if(!T.u){if(T.g)if(T.g.F+3e3<l.F)Na(T),ba(T);else break e;sc(T),wt(18)}}else T.za=H[1],0<T.za-T.T&&37500>H[2]&&T.F&&T.v==0&&!T.C&&(T.C=Er(f(T.Za,T),6e3));if(1>=ip(T.h)&&T.ca){try{T.ca()}catch{}T.ca=void 0}}else pi(T,11)}else if((l.K||T.g==l)&&Na(T),!x(m))for(H=T.Da.g.parse(m),m=0;m<H.length;m++){let Ve=H[m];if(T.T=Ve[0],Ve=Ve[1],T.G==2)if(Ve[0]=="c"){T.K=Ve[1],T.ia=Ve[2];const Vt=Ve[3];Vt!=null&&(T.la=Vt,T.j.info("VER="+T.la));const Ft=Ve[4];Ft!=null&&(T.Aa=Ft,T.j.info("SVER="+T.Aa));const Xi=Ve[5];Xi!=null&&typeof Xi=="number"&&0<Xi&&(D=1.5*Xi,T.L=D,T.j.info("backChannelRequestTimeoutMs_="+D)),D=T;const Mn=l.g;if(Mn){const Va=Mn.g?Mn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Va){var K=D.h;K.g||Va.indexOf("spdy")==-1&&Va.indexOf("quic")==-1&&Va.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(rc(K,K.h),K.h=null))}if(D.D){const lc=Mn.g?Mn.g.getResponseHeader("X-HTTP-Session-Id"):null;lc&&(D.ya=lc,qe(D.I,D.D,lc))}}T.G=3,T.l&&T.l.ua(),T.ba&&(T.R=Date.now()-l.F,T.j.info("Handshake RTT: "+T.R+"ms")),D=T;var ne=l;if(D.qa=Pp(D,D.J?D.ia:null,D.W),ne.K){op(D.h,ne);var We=ne,It=D.L;It&&(We.I=It),We.B&&(Ee(We),qi(We)),D.g=ne}else Lp(D);0<T.i.length&&Da(T)}else Ve[0]!="stop"&&Ve[0]!="close"||pi(T,7);else T.G==3&&(Ve[0]=="stop"||Ve[0]=="close"?Ve[0]=="stop"?pi(T,7):oc(T):Ve[0]!="noop"&&T.l&&T.l.ta(Ve),T.v=0)}}_t(4)}catch{}}var Bw=class{constructor(l,m){this.g=l,this.map=m}};function np(l){this.l=l||10,a.PerformanceNavigationTiming?(l=a.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function rp(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function ip(l){return l.h?1:l.g?l.g.size:0}function nc(l,m){return l.h?l.h==m:l.g?l.g.has(m):!1}function rc(l,m){l.g?l.g.add(m):l.h=m}function op(l,m){l.h&&l.h==m?l.h=null:l.g&&l.g.has(m)&&l.g.delete(m)}np.prototype.cancel=function(){if(this.i=sp(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function sp(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let m=l.i;for(const T of l.g.values())m=m.concat(T.D);return m}return A(l.i)}function zw(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(u(l)){for(var m=[],T=l.length,D=0;D<T;D++)m.push(l[D]);return m}m=[],T=0;for(D in l)m[T++]=l[D];return m}function $w(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(u(l)||typeof l=="string"){var m=[];l=l.length;for(var T=0;T<l;T++)m.push(T);return m}m=[],T=0;for(const D in l)m[T++]=D;return m}}}function ap(l,m){if(l.forEach&&typeof l.forEach=="function")l.forEach(m,void 0);else if(u(l)||typeof l=="string")Array.prototype.forEach.call(l,m,void 0);else for(var T=$w(l),D=zw(l),H=D.length,K=0;K<H;K++)m.call(void 0,D[K],T&&T[K],l)}var lp=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Hw(l,m){if(l){l=l.split("&");for(var T=0;T<l.length;T++){var D=l[T].indexOf("="),H=null;if(0<=D){var K=l[T].substring(0,D);H=l[T].substring(D+1)}else K=l[T];m(K,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function fi(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof fi){this.h=l.h,xa(this,l.j),this.o=l.o,this.g=l.g,ka(this,l.s),this.l=l.l;var m=l.i,T=new ts;T.i=m.i,m.g&&(T.g=new Map(m.g),T.h=m.h),up(this,T),this.m=l.m}else l&&(m=String(l).match(lp))?(this.h=!1,xa(this,m[1]||"",!0),this.o=Jo(m[2]||""),this.g=Jo(m[3]||"",!0),ka(this,m[4]),this.l=Jo(m[5]||"",!0),up(this,m[6]||"",!0),this.m=Jo(m[7]||"")):(this.h=!1,this.i=new ts(null,this.h))}fi.prototype.toString=function(){var l=[],m=this.j;m&&l.push(es(m,cp,!0),":");var T=this.g;return(T||m=="file")&&(l.push("//"),(m=this.o)&&l.push(es(m,cp,!0),"@"),l.push(encodeURIComponent(String(T)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.s,T!=null&&l.push(":",String(T))),(T=this.l)&&(this.g&&T.charAt(0)!="/"&&l.push("/"),l.push(es(T,T.charAt(0)=="/"?Gw:Qw,!0))),(T=this.i.toString())&&l.push("?",T),(T=this.m)&&l.push("#",es(T,qw)),l.join("")};function ir(l){return new fi(l)}function xa(l,m,T){l.j=T?Jo(m,!0):m,l.j&&(l.j=l.j.replace(/:$/,""))}function ka(l,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);l.s=m}else l.s=null}function up(l,m,T){m instanceof ts?(l.i=m,Yw(l.i,l.h)):(T||(m=es(m,Kw)),l.i=new ts(m,l.h))}function qe(l,m,T){l.i.set(m,T)}function Pa(l){return qe(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function Jo(l,m){return l?m?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function es(l,m,T){return typeof l=="string"?(l=encodeURI(l).replace(m,Ww),T&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function Ww(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var cp=/[#\/\?@]/g,Qw=/[#\?:]/g,Gw=/[#\?]/g,Kw=/[#\?@]/g,qw=/#/g;function ts(l,m){this.h=this.g=null,this.i=l||null,this.j=!!m}function Lr(l){l.g||(l.g=new Map,l.h=0,l.i&&Hw(l.i,function(m,T){l.add(decodeURIComponent(m.replace(/\+/g," ")),T)}))}t=ts.prototype,t.add=function(l,m){Lr(this),this.i=null,l=Yi(this,l);var T=this.g.get(l);return T||this.g.set(l,T=[]),T.push(m),this.h+=1,this};function hp(l,m){Lr(l),m=Yi(l,m),l.g.has(m)&&(l.i=null,l.h-=l.g.get(m).length,l.g.delete(m))}function dp(l,m){return Lr(l),m=Yi(l,m),l.g.has(m)}t.forEach=function(l,m){Lr(this),this.g.forEach(function(T,D){T.forEach(function(H){l.call(m,H,D,this)},this)},this)},t.na=function(){Lr(this);const l=Array.from(this.g.values()),m=Array.from(this.g.keys()),T=[];for(let D=0;D<m.length;D++){const H=l[D];for(let K=0;K<H.length;K++)T.push(m[D])}return T},t.V=function(l){Lr(this);let m=[];if(typeof l=="string")dp(this,l)&&(m=m.concat(this.g.get(Yi(this,l))));else{l=Array.from(this.g.values());for(let T=0;T<l.length;T++)m=m.concat(l[T])}return m},t.set=function(l,m){return Lr(this),this.i=null,l=Yi(this,l),dp(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[m]),this.h+=1,this},t.get=function(l,m){return l?(l=this.V(l),0<l.length?String(l[0]):m):m};function fp(l,m,T){hp(l,m),0<T.length&&(l.i=null,l.g.set(Yi(l,m),A(T)),l.h+=T.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],m=Array.from(this.g.keys());for(var T=0;T<m.length;T++){var D=m[T];const K=encodeURIComponent(String(D)),ne=this.V(D);for(D=0;D<ne.length;D++){var H=K;ne[D]!==""&&(H+="="+encodeURIComponent(String(ne[D]))),l.push(H)}}return this.i=l.join("&")};function Yi(l,m){return m=String(m),l.j&&(m=m.toLowerCase()),m}function Yw(l,m){m&&!l.j&&(Lr(l),l.i=null,l.g.forEach(function(T,D){var H=D.toLowerCase();D!=H&&(hp(this,D),fp(this,H,T))},l)),l.j=m}function Zw(l,m){const T=new Tr;if(a.Image){const D=new Image;D.onload=g(Sr,T,"TestLoadImage: loaded",!0,m,D),D.onerror=g(Sr,T,"TestLoadImage: error",!1,m,D),D.onabort=g(Sr,T,"TestLoadImage: abort",!1,m,D),D.ontimeout=g(Sr,T,"TestLoadImage: timeout",!1,m,D),a.setTimeout(function(){D.ontimeout&&D.ontimeout()},1e4),D.src=l}else m(!1)}function Xw(l,m){const T=new Tr,D=new AbortController,H=setTimeout(()=>{D.abort(),Sr(T,"TestPingServer: timeout",!1,m)},1e4);fetch(l,{signal:D.signal}).then(K=>{clearTimeout(H),K.ok?Sr(T,"TestPingServer: ok",!0,m):Sr(T,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(H),Sr(T,"TestPingServer: error",!1,m)})}function Sr(l,m,T,D,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),D(T)}catch{}}function Jw(){this.g=new Hi}function eE(l,m,T){const D=T||"";try{ap(l,function(H,K){let ne=H;c(H)&&(ne=Jt(H)),m.push(D+K+"="+encodeURIComponent(ne))})}catch(H){throw m.push(D+"type="+encodeURIComponent("_badmap")),H}}function ns(l){this.l=l.Ub||null,this.j=l.eb||!1}w(ns,Bn),ns.prototype.g=function(){return new Ra(this.l,this.j)},ns.prototype.i=function(l){return function(){return l}}({});function Ra(l,m){je.call(this),this.D=l,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}w(Ra,je),t=Ra.prototype,t.open=function(l,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=m,this.readyState=1,is(this)},t.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(m.body=l),(this.D||a).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,rs(this)),this.readyState=0},t.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,is(this)),this.g&&(this.readyState=3,is(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;pp(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function pp(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}t.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var m=l.value?l.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!l.done}))&&(this.response=this.responseText+=m)}l.done?rs(this):is(this),this.readyState==3&&pp(this)}},t.Ra=function(l){this.g&&(this.response=this.responseText=l,rs(this))},t.Qa=function(l){this.g&&(this.response=l,rs(this))},t.ga=function(){this.g&&rs(this)};function rs(l){l.readyState=4,l.l=null,l.j=null,l.v=null,is(l)}t.setRequestHeader=function(l,m){this.u.append(l,m)},t.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],m=this.h.entries();for(var T=m.next();!T.done;)T=T.value,l.push(T[0]+": "+T[1]),T=m.next();return l.join(`\r
`)};function is(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(Ra.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function gp(l){let m="";return S(l,function(T,D){m+=D,m+=":",m+=T,m+=`\r
`}),m}function ic(l,m,T){e:{for(D in T){var D=!1;break e}D=!0}D||(T=gp(T),typeof l=="string"?T!=null&&encodeURIComponent(String(T)):qe(l,m,T))}function ot(l){je.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}w(ot,je);var tE=/^https?$/i,nE=["POST","PUT"];t=ot.prototype,t.Ha=function(l){this.J=l},t.ea=function(l,m,T,D){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);m=m?m.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Gi.g(),this.v=this.o?zn(this.o):zn(Gi),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(m,String(l),!0),this.B=!1}catch(K){mp(this,K);return}if(l=T||"",T=new Map(this.headers),D)if(Object.getPrototypeOf(D)===Object.prototype)for(var H in D)T.set(H,D[H]);else if(typeof D.keys=="function"&&typeof D.get=="function")for(const K of D.keys())T.set(K,D.get(K));else throw Error("Unknown input type for opt_headers: "+String(D));D=Array.from(T.keys()).find(K=>K.toLowerCase()=="content-type"),H=a.FormData&&l instanceof a.FormData,!(0<=Array.prototype.indexOf.call(nE,m,void 0))||D||H||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,ne]of T)this.g.setRequestHeader(K,ne);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{_p(this),this.u=!0,this.g.send(l),this.u=!1}catch(K){mp(this,K)}};function mp(l,m){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=m,l.m=5,vp(l),Ma(l)}function vp(l){l.A||(l.A=!0,Be(l,"complete"),Be(l,"error"))}t.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,Be(this,"complete"),Be(this,"abort"),Ma(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ma(this,!0)),ot.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?yp(this):this.bb())},t.bb=function(){yp(this)};function yp(l){if(l.h&&typeof s<"u"&&(!l.v[1]||or(l)!=4||l.Z()!=2)){if(l.u&&or(l)==4)Pe(l.Ea,0,l);else if(Be(l,"readystatechange"),or(l)==4){l.h=!1;try{const ne=l.Z();e:switch(ne){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var T;if(!(T=m)){var D;if(D=ne===0){var H=String(l.D).match(lp)[1]||null;!H&&a.self&&a.self.location&&(H=a.self.location.protocol.slice(0,-1)),D=!tE.test(H?H.toLowerCase():"")}T=D}if(T)Be(l,"complete"),Be(l,"success");else{l.m=6;try{var K=2<or(l)?l.g.statusText:""}catch{K=""}l.l=K+" ["+l.Z()+"]",vp(l)}}finally{Ma(l)}}}}function Ma(l,m){if(l.g){_p(l);const T=l.g,D=l.v[0]?()=>{}:null;l.g=null,l.v=null,m||Be(l,"ready");try{T.onreadystatechange=D}catch{}}}function _p(l){l.I&&(a.clearTimeout(l.I),l.I=null)}t.isActive=function(){return!!this.g};function or(l){return l.g?l.g.readyState:0}t.Z=function(){try{return 2<or(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(l){if(this.g){var m=this.g.responseText;return l&&m.indexOf(l)==0&&(m=m.substring(l.length)),wr(m)}};function wp(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function rE(l){const m={};l=(l.g&&2<=or(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let D=0;D<l.length;D++){if(x(l[D]))continue;var T=P(l[D]);const H=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const K=m[H]||[];m[H]=K,K.push(T)}C(m,function(D){return D.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function os(l,m,T){return T&&T.internalChannelParams&&T.internalChannelParams[l]||m}function Ep(l){this.Aa=0,this.i=[],this.j=new Tr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=os("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=os("baseRetryDelayMs",5e3,l),this.cb=os("retryDelaySeedMs",1e4,l),this.Wa=os("forwardChannelMaxRetries",2,l),this.wa=os("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new np(l&&l.concurrentRequestLimit),this.Da=new Jw,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Ep.prototype,t.la=8,t.G=1,t.connect=function(l,m,T,D){wt(0),this.W=l,this.H=m||{},T&&D!==void 0&&(this.H.OSID=T,this.H.OAID=D),this.F=this.X,this.I=Pp(this,null,this.W),Da(this)};function oc(l){if(Tp(l),l.G==3){var m=l.U++,T=ir(l.I);if(qe(T,"SID",l.K),qe(T,"RID",m),qe(T,"TYPE","terminate"),ss(l,T),m=new hn(l,l.j,m),m.L=2,m.v=Pa(ir(T)),T=!1,a.navigator&&a.navigator.sendBeacon)try{T=a.navigator.sendBeacon(m.v.toString(),"")}catch{}!T&&a.Image&&(new Image().src=m.v,T=!0),T||(m.g=Rp(m.j,null),m.g.ea(m.v)),m.F=Date.now(),qi(m)}kp(l)}function ba(l){l.g&&(ac(l),l.g.cancel(),l.g=null)}function Tp(l){ba(l),l.u&&(a.clearTimeout(l.u),l.u=null),Na(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&a.clearTimeout(l.s),l.s=null)}function Da(l){if(!rp(l.h)&&!l.s){l.s=!0;var m=l.Ga;b||B(),j||(b(),j=!0),U.add(m,l),l.B=0}}function iE(l,m){return ip(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=m.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=Er(f(l.Ga,l,m),xp(l,l.B)),l.B++,!0)}t.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const H=new hn(this,this.j,l);let K=this.o;if(this.S&&(K?(K=p(K),_(K,this.S)):K=this.S),this.m!==null||this.O||(H.H=K,K=null),this.P)e:{for(var m=0,T=0;T<this.i.length;T++){t:{var D=this.i[T];if("__data__"in D.map&&(D=D.map.__data__,typeof D=="string")){D=D.length;break t}D=void 0}if(D===void 0)break;if(m+=D,4096<m){m=T;break e}if(m===4096||T===this.i.length-1){m=T+1;break e}}m=1e3}else m=1e3;m=Ap(this,H,m),T=ir(this.I),qe(T,"RID",l),qe(T,"CVER",22),this.D&&qe(T,"X-HTTP-Session-Id",this.D),ss(this,T),K&&(this.O?m="headers="+encodeURIComponent(String(gp(K)))+"&"+m:this.m&&ic(T,this.m,K)),rc(this.h,H),this.Ua&&qe(T,"TYPE","init"),this.P?(qe(T,"$req",m),qe(T,"SID","null"),H.T=!0,Ki(H,T,null)):Ki(H,T,m),this.G=2}}else this.G==3&&(l?Cp(this,l):this.i.length==0||rp(this.h)||Cp(this))};function Cp(l,m){var T;m?T=m.l:T=l.U++;const D=ir(l.I);qe(D,"SID",l.K),qe(D,"RID",T),qe(D,"AID",l.T),ss(l,D),l.m&&l.o&&ic(D,l.m,l.o),T=new hn(l,l.j,T,l.B+1),l.m===null&&(T.H=l.o),m&&(l.i=m.D.concat(l.i)),m=Ap(l,T,1e3),T.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),rc(l.h,T),Ki(T,D,m)}function ss(l,m){l.H&&S(l.H,function(T,D){qe(m,D,T)}),l.l&&ap({},function(T,D){qe(m,D,T)})}function Ap(l,m,T){T=Math.min(l.i.length,T);var D=l.l?f(l.l.Na,l.l,l):null;e:{var H=l.i;let K=-1;for(;;){const ne=["count="+T];K==-1?0<T?(K=H[0].g,ne.push("ofs="+K)):K=0:ne.push("ofs="+K);let We=!0;for(let It=0;It<T;It++){let Ve=H[It].g;const Vt=H[It].map;if(Ve-=K,0>Ve)K=Math.max(0,H[It].g-100),We=!1;else try{eE(Vt,ne,"req"+Ve+"_")}catch{D&&D(Vt)}}if(We){D=ne.join("&");break e}}}return l=l.i.splice(0,T),m.D=l,D}function Lp(l){if(!l.g&&!l.u){l.Y=1;var m=l.Fa;b||B(),j||(b(),j=!0),U.add(m,l),l.v=0}}function sc(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=Er(f(l.Fa,l),xp(l,l.v)),l.v++,!0)}t.Fa=function(){if(this.u=null,Sp(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=Er(f(this.ab,this),l)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,wt(10),ba(this),Sp(this))};function ac(l){l.A!=null&&(a.clearTimeout(l.A),l.A=null)}function Sp(l){l.g=new hn(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var m=ir(l.qa);qe(m,"RID","rpc"),qe(m,"SID",l.K),qe(m,"AID",l.T),qe(m,"CI",l.F?"0":"1"),!l.F&&l.ja&&qe(m,"TO",l.ja),qe(m,"TYPE","xmlhttp"),ss(l,m),l.m&&l.o&&ic(m,l.m,l.o),l.L&&(l.g.I=l.L);var T=l.g;l=l.ia,T.L=1,T.v=Pa(ir(m)),T.m=null,T.P=!0,Zo(T,l)}t.Za=function(){this.C!=null&&(this.C=null,ba(this),sc(this),wt(19))};function Na(l){l.C!=null&&(a.clearTimeout(l.C),l.C=null)}function Ip(l,m){var T=null;if(l.g==m){Na(l),ac(l),l.g=null;var D=2}else if(nc(l.h,m))T=m.D,op(l.h,m),D=1;else return;if(l.G!=0){if(m.o)if(D==1){T=m.m?m.m.length:0,m=Date.now()-m.F;var H=l.B;D=Hn(),Be(D,new li(D,T)),Da(l)}else Lp(l);else if(H=m.s,H==3||H==0&&0<m.X||!(D==1&&iE(l,m)||D==2&&sc(l)))switch(T&&0<T.length&&(m=l.h,m.i=m.i.concat(T)),H){case 1:pi(l,5);break;case 4:pi(l,10);break;case 3:pi(l,6);break;default:pi(l,2)}}}function xp(l,m){let T=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(T*=2),T*m}function pi(l,m){if(l.j.info("Error code "+m),m==2){var T=f(l.fb,l),D=l.Xa;const H=!D;D=new fi(D||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||xa(D,"https"),Pa(D),H?Zw(D.toString(),T):Xw(D.toString(),T)}else wt(2);l.G=0,l.l&&l.l.sa(m),kp(l),Tp(l)}t.fb=function(l){l?(this.j.info("Successfully pinged google.com"),wt(2)):(this.j.info("Failed to ping google.com"),wt(1))};function kp(l){if(l.G=0,l.ka=[],l.l){const m=sp(l.h);(m.length!=0||l.i.length!=0)&&(R(l.ka,m),R(l.ka,l.i),l.h.i.length=0,A(l.i),l.i.length=0),l.l.ra()}}function Pp(l,m,T){var D=T instanceof fi?ir(T):new fi(T);if(D.g!="")m&&(D.g=m+"."+D.g),ka(D,D.s);else{var H=a.location;D=H.protocol,m=m?m+"."+H.hostname:H.hostname,H=+H.port;var K=new fi(null);D&&xa(K,D),m&&(K.g=m),H&&ka(K,H),T&&(K.l=T),D=K}return T=l.D,m=l.ya,T&&m&&qe(D,T,m),qe(D,"VER",l.la),ss(l,D),D}function Rp(l,m,T){if(m&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=l.Ca&&!l.pa?new ot(new ns({eb:T})):new ot(l.pa),m.Ha(l.J),m}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Mp(){}t=Mp.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Oa(){}Oa.prototype.g=function(l,m){return new dn(l,m)};function dn(l,m){je.call(this),this.g=new Ep(m),this.l=l,this.h=m&&m.messageUrlParams||null,l=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(l?l["X-WebChannel-Content-Type"]=m.messageContentType:l={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(l?l["X-WebChannel-Client-Profile"]=m.va:l={"X-WebChannel-Client-Profile":m.va}),this.g.S=l,(l=m&&m.Sb)&&!x(l)&&(this.g.m=l),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!x(m)&&(this.g.D=m,l=this.h,l!==null&&m in l&&(l=this.h,m in l&&delete l[m])),this.j=new Zi(this)}w(dn,je),dn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},dn.prototype.close=function(){oc(this.g)},dn.prototype.o=function(l){var m=this.g;if(typeof l=="string"){var T={};T.__data__=l,l=T}else this.u&&(T={},T.__data__=Jt(l),l=T);m.i.push(new Bw(m.Ya++,l)),m.G==3&&Da(m)},dn.prototype.N=function(){this.g.l=null,delete this.j,oc(this.g),delete this.g,dn.aa.N.call(this)};function bp(l){Lt.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var m=l.__sm__;if(m){e:{for(const T in m){l=T;break e}l=void 0}(this.i=l)&&(l=this.i,m=m!==null&&l in m?m[l]:void 0),this.data=m}else this.data=l}w(bp,Lt);function Dp(){Gt.call(this),this.status=1}w(Dp,Gt);function Zi(l){this.g=l}w(Zi,Mp),Zi.prototype.ua=function(){Be(this.g,"a")},Zi.prototype.ta=function(l){Be(this.g,new bp(l))},Zi.prototype.sa=function(l){Be(this.g,new Dp)},Zi.prototype.ra=function(){Be(this.g,"b")},Oa.prototype.createWebChannel=Oa.prototype.g,dn.prototype.send=dn.prototype.o,dn.prototype.open=dn.prototype.m,dn.prototype.close=dn.prototype.close,L1=function(){return new Oa},A1=function(){return Hn()},C1=St,Kh={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ui.NO_ERROR=0,ui.TIMEOUT=8,ui.HTTP_ERROR=6,Cl=ui,Ko.COMPLETE="complete",T1=Ko,Rn.EventType=$n,$n.OPEN="a",$n.CLOSE="b",$n.ERROR="c",$n.MESSAGE="d",je.prototype.listen=je.prototype.K,As=Rn,E1=ns,ot.prototype.listenOnce=ot.prototype.L,ot.prototype.getLastError=ot.prototype.Ka,ot.prototype.getLastErrorCode=ot.prototype.Ba,ot.prototype.getStatus=ot.prototype.Z,ot.prototype.getResponseJson=ot.prototype.Oa,ot.prototype.getResponseText=ot.prototype.oa,ot.prototype.send=ot.prototype.ea,ot.prototype.setWithCredentials=ot.prototype.Ha,w1=ot}).apply(typeof tl<"u"?tl:typeof self<"u"?self:typeof window<"u"?window:{});const tm="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}$t.UNAUTHENTICATED=new $t(null),$t.GOOGLE_CREDENTIALS=new $t("google-credentials-uid"),$t.FIRST_PARTY=new $t("first-party-uid"),$t.MOCK_USER=new $t("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ho="10.13.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Di=new c1("@firebase/firestore");function gs(){return Di.logLevel}function ae(t,...e){if(Di.logLevel<=Ne.DEBUG){const n=e.map(pf);Di.debug(`Firestore (${Ho}): ${t}`,...n)}}function vr(t,...e){if(Di.logLevel<=Ne.ERROR){const n=e.map(pf);Di.error(`Firestore (${Ho}): ${t}`,...n)}}function bo(t,...e){if(Di.logLevel<=Ne.WARN){const n=e.map(pf);Di.warn(`Firestore (${Ho}): ${t}`,...n)}}function pf(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(t="Unexpected state"){const e=`FIRESTORE (${Ho}) INTERNAL ASSERTION FAILED: `+t;throw vr(e),new Error(e)}function Qe(t,e){t||Te()}function Ae(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ge extends Bi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class oA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n($t.UNAUTHENTICATED))}shutdown(){}}class sA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class aA{constructor(e){this.t=e,this.currentUser=$t.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let o=new Yr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Yr,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const u=o;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},a=u=>{ae("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?a(u):(ae("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Yr)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ae("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Qe(typeof r.accessToken=="string"),new S1(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Qe(e===null||typeof e=="string"),new $t(e)}}class lA{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=$t.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class uA{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new lA(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n($t.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class cA{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class hA{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=o=>{o.error!=null&&ae("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,ae("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{ae("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):ae("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Qe(typeof n.token=="string"),this.R=n.token,new cA(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dA(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I1{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=dA(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}}function Ue(t,e){return t<e?-1:t>e?1:0}function Do(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ge(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ge(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ge(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ge(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return dt.fromMillis(Date.now())}static fromDate(e){return dt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new dt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ue(this.nanoseconds,e.nanoseconds):Ue(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ce(e)}static min(){return new Ce(new dt(0,0))}static max(){return new Ce(new dt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{constructor(e,n,r){n===void 0?n=0:n>e.length&&Te(),r===void 0?r=e.length-n:r>e.length-n&&Te(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return aa.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof aa?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Je extends aa{construct(e,n,r){return new Je(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ge(J.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Je(n)}static emptyPath(){return new Je([])}}const fA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Pt extends aa{construct(e,n,r){return new Pt(e,n,r)}static isValidIdentifier(e){return fA.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Pt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Pt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new ge(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new ge(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new ge(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new ge(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Pt(n)}static emptyPath(){return new Pt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(e){this.path=e}static fromPath(e){return new ve(Je.fromString(e))}static fromName(e){return new ve(Je.fromString(e).popFirst(5))}static empty(){return new ve(Je.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Je.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Je.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ve(new Je(e.slice()))}}function pA(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Ce.fromTimestamp(r===1e9?new dt(n+1,0):new dt(n,r));return new ti(i,ve.empty(),e)}function gA(t){return new ti(t.readTime,t.key,-1)}class ti{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ti(Ce.min(),ve.empty(),-1)}static max(){return new ti(Ce.max(),ve.empty(),-1)}}function mA(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ve.comparator(t.documentKey,e.documentKey),n!==0?n:Ue(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class yA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _a(t){if(t.code!==J.FAILED_PRECONDITION||t.message!==vA)throw t;ae("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Te(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new X((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof X?n:X.resolve(n)}catch(n){return X.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):X.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):X.reject(n)}static resolve(e){return new X((n,r)=>{n(e)})}static reject(e){return new X((n,r)=>{r(e)})}static waitFor(e){return new X((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},u=>r(u))}),s=!0,o===i&&n()})}static or(e){let n=X.resolve(!1);for(const r of e)n=n.next(i=>i?X.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new X((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let u=0;u<o;u++){const c=u;n(e[c]).next(h=>{s[c]=h,++a,a===o&&r(s)},h=>i(h))}})}static doWhile(e,n){return new X((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function _A(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function wa(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}gf.oe=-1;function Du(t){return t==null}function tu(t){return t===0&&1/t==-1/0}function wA(t){return typeof t=="number"&&Number.isInteger(t)&&!tu(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nm(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function zi(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function x1(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{constructor(e,n){this.comparator=e,this.root=n||kt.EMPTY}insert(e,n){return new it(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,kt.BLACK,null,null))}remove(e){return new it(this.comparator,this.root.remove(e,this.comparator).copy(null,null,kt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new nl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new nl(this.root,e,this.comparator,!1)}getReverseIterator(){return new nl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new nl(this.root,e,this.comparator,!0)}}class nl{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class kt{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??kt.RED,this.left=i??kt.EMPTY,this.right=o??kt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new kt(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return kt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return kt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,kt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,kt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Te();const e=this.left.check();if(e!==this.right.check())throw Te();return e+(this.isRed()?0:1)}}kt.EMPTY=null,kt.RED=!0,kt.BLACK=!1;kt.EMPTY=new class{constructor(){this.size=0}get key(){throw Te()}get value(){throw Te()}get color(){throw Te()}get left(){throw Te()}get right(){throw Te()}copy(e,n,r,i,o){return this}insert(e,n,r){return new kt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e){this.comparator=e,this.data=new it(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new rm(this.data.getIterator())}getIteratorFrom(e){return new rm(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Mt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Mt(this.comparator);return n.data=e,n}}class rm{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this.fields=e,e.sort(Pt.comparator)}static empty(){return new mn([])}unionWith(e){let n=new Mt(Pt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new mn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Do(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new k1("Invalid base64 string: "+o):o}}(e);return new Dt(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new Dt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ue(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Dt.EMPTY_BYTE_STRING=new Dt("");const EA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ni(t){if(Qe(!!t),typeof t=="string"){let e=0;const n=EA.exec(t);if(Qe(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ct(t.seconds),nanos:ct(t.nanos)}}function ct(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ni(t){return typeof t=="string"?Dt.fromBase64String(t):Dt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mf(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function vf(t){const e=t.mapValue.fields.__previous_value__;return mf(e)?vf(e):e}function la(t){const e=ni(t.mapValue.fields.__local_write_time__.timestampValue);return new dt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TA{constructor(e,n,r,i,o,s,a,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c}}class ua{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new ua("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof ua&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Oi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?mf(t)?4:AA(t)?9007199254740991:CA(t)?10:11:Te()}function tr(t,e){if(t===e)return!0;const n=Oi(t);if(n!==Oi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return la(t).isEqual(la(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=ni(i.timestampValue),a=ni(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return Ni(i.bytesValue).isEqual(Ni(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return ct(i.geoPointValue.latitude)===ct(o.geoPointValue.latitude)&&ct(i.geoPointValue.longitude)===ct(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return ct(i.integerValue)===ct(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=ct(i.doubleValue),a=ct(o.doubleValue);return s===a?tu(s)===tu(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return Do(t.arrayValue.values||[],e.arrayValue.values||[],tr);case 10:case 11:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(nm(s)!==nm(a))return!1;for(const u in s)if(s.hasOwnProperty(u)&&(a[u]===void 0||!tr(s[u],a[u])))return!1;return!0}(t,e);default:return Te()}}function ca(t,e){return(t.values||[]).find(n=>tr(n,e))!==void 0}function No(t,e){if(t===e)return 0;const n=Oi(t),r=Oi(e);if(n!==r)return Ue(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ue(t.booleanValue,e.booleanValue);case 2:return function(o,s){const a=ct(o.integerValue||o.doubleValue),u=ct(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return im(t.timestampValue,e.timestampValue);case 4:return im(la(t),la(e));case 5:return Ue(t.stringValue,e.stringValue);case 6:return function(o,s){const a=Ni(o),u=Ni(s);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),u=s.split("/");for(let c=0;c<a.length&&c<u.length;c++){const h=Ue(a[c],u[c]);if(h!==0)return h}return Ue(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const a=Ue(ct(o.latitude),ct(s.latitude));return a!==0?a:Ue(ct(o.longitude),ct(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return om(t.arrayValue,e.arrayValue);case 10:return function(o,s){var a,u,c,h;const d=o.fields||{},f=s.fields||{},g=(a=d.value)===null||a===void 0?void 0:a.arrayValue,w=(u=f.value)===null||u===void 0?void 0:u.arrayValue,A=Ue(((c=g==null?void 0:g.values)===null||c===void 0?void 0:c.length)||0,((h=w==null?void 0:w.values)===null||h===void 0?void 0:h.length)||0);return A!==0?A:om(g,w)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===rl.mapValue&&s===rl.mapValue)return 0;if(o===rl.mapValue)return 1;if(s===rl.mapValue)return-1;const a=o.fields||{},u=Object.keys(a),c=s.fields||{},h=Object.keys(c);u.sort(),h.sort();for(let d=0;d<u.length&&d<h.length;++d){const f=Ue(u[d],h[d]);if(f!==0)return f;const g=No(a[u[d]],c[h[d]]);if(g!==0)return g}return Ue(u.length,h.length)}(t.mapValue,e.mapValue);default:throw Te()}}function im(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ue(t,e);const n=ni(t),r=ni(e),i=Ue(n.seconds,r.seconds);return i!==0?i:Ue(n.nanos,r.nanos)}function om(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=No(n[i],r[i]);if(o)return o}return Ue(n.length,r.length)}function Oo(t){return qh(t)}function qh(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ni(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ni(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ve.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=qh(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${qh(n.fields[s])}`;return i+"}"}(t.mapValue):Te()}function Yh(t){return!!t&&"integerValue"in t}function yf(t){return!!t&&"arrayValue"in t}function sm(t){return!!t&&"nullValue"in t}function am(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Al(t){return!!t&&"mapValue"in t}function CA(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Os(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return zi(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Os(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Os(t.arrayValue.values[n]);return e}return Object.assign({},t)}function AA(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.value=e}static empty(){return new nn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Al(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Os(n)}setAll(e){let n=Pt.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=Os(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());Al(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return tr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Al(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){zi(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new nn(Os(this.value))}}function P1(t){const e=[];return zi(t.fields,(n,r)=>{const i=new Pt([n]);if(Al(r)){const o=P1(r.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new mn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new Wt(e,0,Ce.min(),Ce.min(),Ce.min(),nn.empty(),0)}static newFoundDocument(e,n,r,i){return new Wt(e,1,n,Ce.min(),r,i,0)}static newNoDocument(e,n){return new Wt(e,2,n,Ce.min(),Ce.min(),nn.empty(),0)}static newUnknownDocument(e,n){return new Wt(e,3,n,Ce.min(),Ce.min(),nn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=nn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=nn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Wt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Wt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu{constructor(e,n){this.position=e,this.inclusive=n}}function lm(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?r=ve.comparator(ve.fromName(s.referenceValue),n.key):r=No(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function um(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!tr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru{constructor(e,n="asc"){this.field=e,this.dir=n}}function LA(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{}class vt extends R1{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new IA(e,n,r):n==="array-contains"?new PA(e,r):n==="in"?new RA(e,r):n==="not-in"?new MA(e,r):n==="array-contains-any"?new bA(e,r):new vt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new xA(e,r):new kA(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(No(n,this.value)):n!==null&&Oi(this.value)===Oi(n)&&this.matchesComparison(No(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class nr extends R1{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new nr(e,n)}matches(e){return M1(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function M1(t){return t.op==="and"}function b1(t){return SA(t)&&M1(t)}function SA(t){for(const e of t.filters)if(e instanceof nr)return!1;return!0}function Zh(t){if(t instanceof vt)return t.field.canonicalString()+t.op.toString()+Oo(t.value);if(b1(t))return t.filters.map(e=>Zh(e)).join(",");{const e=t.filters.map(n=>Zh(n)).join(",");return`${t.op}(${e})`}}function D1(t,e){return t instanceof vt?function(r,i){return i instanceof vt&&r.op===i.op&&r.field.isEqual(i.field)&&tr(r.value,i.value)}(t,e):t instanceof nr?function(r,i){return i instanceof nr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&D1(s,i.filters[a]),!0):!1}(t,e):void Te()}function N1(t){return t instanceof vt?function(n){return`${n.field.canonicalString()} ${n.op} ${Oo(n.value)}`}(t):t instanceof nr?function(n){return n.op.toString()+" {"+n.getFilters().map(N1).join(" ,")+"}"}(t):"Filter"}class IA extends vt{constructor(e,n,r){super(e,n,r),this.key=ve.fromName(r.referenceValue)}matches(e){const n=ve.comparator(e.key,this.key);return this.matchesComparison(n)}}class xA extends vt{constructor(e,n){super(e,"in",n),this.keys=O1("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class kA extends vt{constructor(e,n){super(e,"not-in",n),this.keys=O1("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function O1(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ve.fromName(r.referenceValue))}class PA extends vt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return yf(n)&&ca(n.arrayValue,this.value)}}class RA extends vt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ca(this.value.arrayValue,n)}}class MA extends vt{constructor(e,n){super(e,"not-in",n)}matches(e){if(ca(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!ca(this.value.arrayValue,n)}}class bA extends vt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!yf(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>ca(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DA{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}}function cm(t,e=null,n=[],r=[],i=null,o=null,s=null){return new DA(t,e,n,r,i,o,s)}function _f(t){const e=Ae(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Zh(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Du(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Oo(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Oo(r)).join(",")),e.ue=n}return e.ue}function wf(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!LA(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!D1(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!um(t.startAt,e.startAt)&&um(t.endAt,e.endAt)}function Xh(t){return ve.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function NA(t,e,n,r,i,o,s,a){return new Nu(t,e,n,r,i,o,s,a)}function V1(t){return new Nu(t)}function hm(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function OA(t){return t.collectionGroup!==null}function Vs(t){const e=Ae(t);if(e.ce===null){e.ce=[];const n=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Mt(Pt.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new ru(o,r))}),n.has(Pt.keyField().canonicalString())||e.ce.push(new ru(Pt.keyField(),r))}return e.ce}function Xn(t){const e=Ae(t);return e.le||(e.le=VA(e,Vs(t))),e.le}function VA(t,e){if(t.limitType==="F")return cm(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new ru(i.field,o)});const n=t.endAt?new nu(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new nu(t.startAt.position,t.startAt.inclusive):null;return cm(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Jh(t,e,n){return new Nu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ou(t,e){return wf(Xn(t),Xn(e))&&t.limitType===e.limitType}function F1(t){return`${_f(Xn(t))}|lt:${t.limitType}`}function eo(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>N1(i)).join(", ")}]`),Du(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Oo(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Oo(i)).join(",")),`Target(${r})`}(Xn(t))}; limitType=${t.limitType})`}function Vu(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):ve.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of Vs(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,u){const c=lm(s,a,u);return s.inclusive?c<=0:c<0}(r.startAt,Vs(r),i)||r.endAt&&!function(s,a,u){const c=lm(s,a,u);return s.inclusive?c>=0:c>0}(r.endAt,Vs(r),i))}(t,e)}function FA(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function U1(t){return(e,n)=>{let r=!1;for(const i of Vs(t)){const o=UA(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function UA(t,e,n){const r=t.field.isKeyField()?ve.comparator(e.key,n.key):function(o,s,a){const u=s.data.field(o),c=a.data.field(o);return u!==null&&c!==null?No(u,c):Te()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Te()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){zi(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return x1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jA=new it(ve.comparator);function yr(){return jA}const j1=new it(ve.comparator);function Ls(...t){let e=j1;for(const n of t)e=e.insert(n.key,n);return e}function B1(t){let e=j1;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ti(){return Fs()}function z1(){return Fs()}function Fs(){return new Wo(t=>t.toString(),(t,e)=>t.isEqual(e))}const BA=new it(ve.comparator),zA=new Mt(ve.comparator);function be(...t){let e=zA;for(const n of t)e=e.add(n);return e}const $A=new Mt(Ue);function HA(){return $A}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ef(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:tu(e)?"-0":e}}function $1(t){return{integerValue:""+t}}function WA(t,e){return wA(e)?$1(e):Ef(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fu{constructor(){this._=void 0}}function QA(t,e,n){return t instanceof iu?function(i,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&mf(o)&&(o=vf(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof ha?W1(t,e):t instanceof da?Q1(t,e):function(i,o){const s=H1(i,o),a=dm(s)+dm(i.Pe);return Yh(s)&&Yh(i.Pe)?$1(a):Ef(i.serializer,a)}(t,e)}function GA(t,e,n){return t instanceof ha?W1(t,e):t instanceof da?Q1(t,e):n}function H1(t,e){return t instanceof ou?function(r){return Yh(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class iu extends Fu{}class ha extends Fu{constructor(e){super(),this.elements=e}}function W1(t,e){const n=G1(e);for(const r of t.elements)n.some(i=>tr(i,r))||n.push(r);return{arrayValue:{values:n}}}class da extends Fu{constructor(e){super(),this.elements=e}}function Q1(t,e){let n=G1(e);for(const r of t.elements)n=n.filter(i=>!tr(i,r));return{arrayValue:{values:n}}}class ou extends Fu{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function dm(t){return ct(t.integerValue||t.doubleValue)}function G1(t){return yf(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function KA(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof ha&&i instanceof ha||r instanceof da&&i instanceof da?Do(r.elements,i.elements,tr):r instanceof ou&&i instanceof ou?tr(r.Pe,i.Pe):r instanceof iu&&i instanceof iu}(t.transform,e.transform)}class qA{constructor(e,n){this.version=e,this.transformResults=n}}class Jn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Jn}static exists(e){return new Jn(void 0,e)}static updateTime(e){return new Jn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ll(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Uu{}function K1(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Y1(t.key,Jn.none()):new Ea(t.key,t.data,Jn.none());{const n=t.data,r=nn.empty();let i=new Mt(Pt.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new ai(t.key,r,new mn(i.toArray()),Jn.none())}}function YA(t,e,n){t instanceof Ea?function(i,o,s){const a=i.value.clone(),u=pm(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof ai?function(i,o,s){if(!Ll(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=pm(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(q1(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Us(t,e,n,r){return t instanceof Ea?function(o,s,a,u){if(!Ll(o.precondition,s))return a;const c=o.value.clone(),h=gm(o.fieldTransforms,u,s);return c.setAll(h),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof ai?function(o,s,a,u){if(!Ll(o.precondition,s))return a;const c=gm(o.fieldTransforms,u,s),h=s.data;return h.setAll(q1(o)),h.setAll(c),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(o,s,a){return Ll(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function ZA(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=H1(r.transform,i||null);o!=null&&(n===null&&(n=nn.empty()),n.set(r.field,o))}return n||null}function fm(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Do(r,i,(o,s)=>KA(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Ea extends Uu{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ai extends Uu{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function q1(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function pm(t,e,n){const r=new Map;Qe(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,GA(s,a,n[i]))}return r}function gm(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,QA(o,s,e))}return r}class Y1 extends Uu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class XA extends Uu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JA{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&YA(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Us(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Us(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=z1();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const u=K1(s,a);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(Ce.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),be())}isEqual(e){return this.batchId===e.batchId&&Do(this.mutations,e.mutations,(n,r)=>fm(n,r))&&Do(this.baseMutations,e.baseMutations,(n,r)=>fm(n,r))}}class Tf{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Qe(e.mutations.length===r.length);let i=function(){return BA}();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new Tf(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e3{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t3{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pt,De;function n3(t){switch(t){default:return Te();case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0}}function Z1(t){if(t===void 0)return vr("GRPC error has no .code"),J.UNKNOWN;switch(t){case pt.OK:return J.OK;case pt.CANCELLED:return J.CANCELLED;case pt.UNKNOWN:return J.UNKNOWN;case pt.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case pt.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case pt.INTERNAL:return J.INTERNAL;case pt.UNAVAILABLE:return J.UNAVAILABLE;case pt.UNAUTHENTICATED:return J.UNAUTHENTICATED;case pt.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case pt.NOT_FOUND:return J.NOT_FOUND;case pt.ALREADY_EXISTS:return J.ALREADY_EXISTS;case pt.PERMISSION_DENIED:return J.PERMISSION_DENIED;case pt.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case pt.ABORTED:return J.ABORTED;case pt.OUT_OF_RANGE:return J.OUT_OF_RANGE;case pt.UNIMPLEMENTED:return J.UNIMPLEMENTED;case pt.DATA_LOSS:return J.DATA_LOSS;default:return Te()}}(De=pt||(pt={}))[De.OK=0]="OK",De[De.CANCELLED=1]="CANCELLED",De[De.UNKNOWN=2]="UNKNOWN",De[De.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",De[De.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",De[De.NOT_FOUND=5]="NOT_FOUND",De[De.ALREADY_EXISTS=6]="ALREADY_EXISTS",De[De.PERMISSION_DENIED=7]="PERMISSION_DENIED",De[De.UNAUTHENTICATED=16]="UNAUTHENTICATED",De[De.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",De[De.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",De[De.ABORTED=10]="ABORTED",De[De.OUT_OF_RANGE=11]="OUT_OF_RANGE",De[De.UNIMPLEMENTED=12]="UNIMPLEMENTED",De[De.INTERNAL=13]="INTERNAL",De[De.UNAVAILABLE=14]="UNAVAILABLE",De[De.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r3(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i3=new Ii([4294967295,4294967295],0);function mm(t){const e=r3().encode(t),n=new _1;return n.update(e),new Uint8Array(n.digest())}function vm(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Ii([n,r],0),new Ii([i,o],0)]}class Cf{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ss(`Invalid padding: ${n}`);if(r<0)throw new Ss(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ss(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ss(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Ii.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Ii.fromNumber(r)));return i.compare(i3)===1&&(i=new Ii([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=mm(e),[r,i]=vm(n);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new Cf(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Ie===0)return;const n=mm(e),[r,i]=vm(n);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ss extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Ta.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new ju(Ce.min(),i,new it(Ue),yr(),be())}}class Ta{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Ta(r,n,be(),be(),be())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sl{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class X1{constructor(e,n){this.targetId=e,this.me=n}}class J1{constructor(e,n,r=Dt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class ym{constructor(){this.fe=0,this.ge=wm(),this.pe=Dt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=be(),n=be(),r=be();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Te()}}),new Ta(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=wm()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Qe(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class o3{constructor(e){this.Le=e,this.Be=new Map,this.ke=yr(),this.qe=_m(),this.Qe=new it(Ue)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:Te()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const o=i.target;if(Xh(o))if(r===0){const s=new ve(o.path);this.Ue(n,s,Wt.newNoDocument(s,Ce.min()))}else Qe(r===1);else{const s=this.Ye(n);if(s!==r){const a=this.Ze(e),u=a?this.Xe(a,e,s):1;if(u!==0){this.je(n);const c=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,c)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,a;try{s=Ni(r).toUint8Array()}catch(u){if(u instanceof k1)return bo("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new Cf(s,i,o)}catch(u){return bo(u instanceof Ss?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,o,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((o,s)=>{const a=this.Je(s);if(a){if(o.current&&Xh(a.target)){const u=new ve(a.target.path);this.ke.get(u)!==null||this.it(s,u)||this.Ue(s,u,Wt.newNoDocument(u,e))}o.be&&(n.set(s,o.ve()),o.Ce())}});let r=be();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{const c=this.Je(u);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));const i=new ju(e,n,this.Qe,this.ke,r);return this.ke=yr(),this.qe=_m(),this.Qe=new it(Ue),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new ym,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Mt(Ue),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||ae("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new ym),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function _m(){return new it(ve.comparator)}function wm(){return new it(ve.comparator)}const s3={asc:"ASCENDING",desc:"DESCENDING"},a3={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},l3={and:"AND",or:"OR"};class u3{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function ed(t,e){return t.useProto3Json||Du(e)?e:{value:e}}function su(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function e_(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function c3(t,e){return su(t,e.toTimestamp())}function er(t){return Qe(!!t),Ce.fromTimestamp(function(n){const r=ni(n);return new dt(r.seconds,r.nanos)}(t))}function Af(t,e){return td(t,e).canonicalString()}function td(t,e){const n=function(i){return new Je(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function t_(t){const e=Je.fromString(t);return Qe(s_(e)),e}function nd(t,e){return Af(t.databaseId,e.path)}function Uc(t,e){const n=t_(e);if(n.get(1)!==t.databaseId.projectId)throw new ge(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ge(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ve(r_(n))}function n_(t,e){return Af(t.databaseId,e)}function h3(t){const e=t_(t);return e.length===4?Je.emptyPath():r_(e)}function rd(t){return new Je(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function r_(t){return Qe(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Em(t,e,n){return{name:nd(t,e),fields:n.value.mapValue.fields}}function d3(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Te()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(c,h){return c.useProto3Json?(Qe(h===void 0||typeof h=="string"),Dt.fromBase64String(h||"")):(Qe(h===void 0||h instanceof Buffer||h instanceof Uint8Array),Dt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(c){const h=c.code===void 0?J.UNKNOWN:Z1(c.code);return new ge(h,c.message||"")}(s);n=new J1(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Uc(t,r.document.name),o=er(r.document.updateTime),s=r.document.createTime?er(r.document.createTime):Ce.min(),a=new nn({mapValue:{fields:r.document.fields}}),u=Wt.newFoundDocument(i,o,s,a),c=r.targetIds||[],h=r.removedTargetIds||[];n=new Sl(c,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Uc(t,r.document),o=r.readTime?er(r.readTime):Ce.min(),s=Wt.newNoDocument(i,o),a=r.removedTargetIds||[];n=new Sl([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Uc(t,r.document),o=r.removedTargetIds||[];n=new Sl([],o,i,null)}else{if(!("filter"in e))return Te();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new t3(i,o),a=r.targetId;n=new X1(a,s)}}return n}function f3(t,e){let n;if(e instanceof Ea)n={update:Em(t,e.key,e.value)};else if(e instanceof Y1)n={delete:nd(t,e.key)};else if(e instanceof ai)n={update:Em(t,e.key,e.data),updateMask:T3(e.fieldMask)};else{if(!(e instanceof XA))return Te();n={verify:nd(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof iu)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof ha)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof da)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof ou)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw Te()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:c3(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Te()}(t,e.precondition)),n}function p3(t,e){return t&&t.length>0?(Qe(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?er(i.updateTime):er(o);return s.isEqual(Ce.min())&&(s=er(o)),new qA(s,i.transformResults||[])}(n,e))):[]}function g3(t,e){return{documents:[n_(t,e.path)]}}function m3(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=n_(t,i);const o=function(c){if(c.length!==0)return o_(nr.create(c,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const s=function(c){if(c.length!==0)return c.map(h=>function(f){return{field:to(f.field),direction:_3(f.dir)}}(h))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const a=ed(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:n,parent:i}}function v3(t){let e=h3(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Qe(r===1);const h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];n.where&&(o=function(d){const f=i_(d);return f instanceof nr&&b1(f)?f.getFilters():[f]}(n.where));let s=[];n.orderBy&&(s=function(d){return d.map(f=>function(w){return new ru(no(w.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(d){let f;return f=typeof d=="object"?d.value:d,Du(f)?null:f}(n.limit));let u=null;n.startAt&&(u=function(d){const f=!!d.before,g=d.values||[];return new nu(g,f)}(n.startAt));let c=null;return n.endAt&&(c=function(d){const f=!d.before,g=d.values||[];return new nu(g,f)}(n.endAt)),NA(e,i,s,o,a,"F",u,c)}function y3(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function i_(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=no(n.unaryFilter.field);return vt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=no(n.unaryFilter.field);return vt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=no(n.unaryFilter.field);return vt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=no(n.unaryFilter.field);return vt.create(s,"!=",{nullValue:"NULL_VALUE"});default:return Te()}}(t):t.fieldFilter!==void 0?function(n){return vt.create(no(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Te()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return nr.create(n.compositeFilter.filters.map(r=>i_(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Te()}}(n.compositeFilter.op))}(t):Te()}function _3(t){return s3[t]}function w3(t){return a3[t]}function E3(t){return l3[t]}function to(t){return{fieldPath:t.canonicalString()}}function no(t){return Pt.fromServerFormat(t.fieldPath)}function o_(t){return t instanceof vt?function(n){if(n.op==="=="){if(am(n.value))return{unaryFilter:{field:to(n.field),op:"IS_NAN"}};if(sm(n.value))return{unaryFilter:{field:to(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(am(n.value))return{unaryFilter:{field:to(n.field),op:"IS_NOT_NAN"}};if(sm(n.value))return{unaryFilter:{field:to(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:to(n.field),op:w3(n.op),value:n.value}}}(t):t instanceof nr?function(n){const r=n.getFilters().map(i=>o_(i));return r.length===1?r[0]:{compositeFilter:{op:E3(n.op),filters:r}}}(t):Te()}function T3(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function s_(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr{constructor(e,n,r,i,o=Ce.min(),s=Ce.min(),a=Dt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new Vr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Vr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Vr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Vr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C3{constructor(e){this.ct=e}}function A3(t){const e=v3({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Jh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L3{constructor(){this.un=new S3}addToCollectionParentIndex(e,n){return this.un.add(n),X.resolve()}getCollectionParents(e,n){return X.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return X.resolve()}deleteFieldIndex(e,n){return X.resolve()}deleteAllFieldIndexes(e){return X.resolve()}createTargetIndexes(e,n){return X.resolve()}getDocumentsMatchingTarget(e,n){return X.resolve(null)}getIndexType(e,n){return X.resolve(0)}getFieldIndexes(e,n){return X.resolve([])}getNextCollectionGroupToUpdate(e){return X.resolve(null)}getMinOffset(e,n){return X.resolve(ti.min())}getMinOffsetFromCollectionGroup(e,n){return X.resolve(ti.min())}updateCollectionGroup(e,n,r){return X.resolve()}updateIndexEntries(e,n){return X.resolve()}}class S3{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Mt(Je.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Mt(Je.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Vo(0)}static kn(){return new Vo(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I3{constructor(){this.changes=new Wo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Wt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?X.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x3{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k3{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Us(r.mutation,i,mn.empty(),dt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,be()).next(()=>r))}getLocalViewOfDocuments(e,n,r=be()){const i=Ti();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=Ls();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=Ti();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,be()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=yr();const s=Fs(),a=function(){return Fs()}();return n.forEach((u,c)=>{const h=r.get(c.key);i.has(c.key)&&(h===void 0||h.mutation instanceof ai)?o=o.insert(c.key,c):h!==void 0?(s.set(c.key,h.mutation.getFieldMask()),Us(h.mutation,c,h.mutation.getFieldMask(),dt.now())):s.set(c.key,mn.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((c,h)=>s.set(c,h)),n.forEach((c,h)=>{var d;return a.set(c,new x3(h,(d=s.get(c))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Fs();let i=new it((s,a)=>s-a),o=be();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(u=>{const c=n.get(u);if(c===null)return;let h=r.get(u)||mn.empty();h=a.applyToLocalView(c,h),r.set(u,h);const d=(i.get(a.batchId)||be()).add(u);i=i.insert(a.batchId,d)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,h=u.value,d=z1();h.forEach(f=>{if(!o.has(f)){const g=K1(n.get(f),r.get(f));g!==null&&d.set(f,g),o=o.add(f)}}),s.push(this.documentOverlayCache.saveOverlays(e,c,d))}return X.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return ve.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):OA(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):X.resolve(Ti());let a=-1,u=o;return s.next(c=>X.forEach(c,(h,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),o.get(h)?X.resolve():this.remoteDocumentCache.getEntry(e,h).next(f=>{u=u.insert(h,f)}))).next(()=>this.populateOverlays(e,c,o)).next(()=>this.computeViews(e,u,c,be())).next(h=>({batchId:a,changes:B1(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ve(n)).next(r=>{let i=Ls();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=Ls();return this.indexManager.getCollectionParents(e,o).next(a=>X.forEach(a,u=>{const c=function(d,f){return new Nu(f,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(h=>{h.forEach((d,f)=>{s=s.insert(d,f)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((u,c)=>{const h=c.getKey();s.get(h)===null&&(s=s.insert(h,Wt.newInvalidDocument(h)))});let a=Ls();return s.forEach((u,c)=>{const h=o.get(u);h!==void 0&&Us(h.mutation,c,mn.empty(),dt.now()),Vu(n,c)&&(a=a.insert(u,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P3{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return X.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:er(i.createTime)}}(n)),X.resolve()}getNamedQuery(e,n){return X.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:A3(i.bundledQuery),readTime:er(i.readTime)}}(n)),X.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R3{constructor(){this.overlays=new it(ve.comparator),this.Ir=new Map}getOverlay(e,n){return X.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ti();return X.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),X.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),X.resolve()}getOverlaysForCollection(e,n,r){const i=Ti(),o=n.length+1,s=new ve(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return X.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new it((c,h)=>c-h);const s=this.overlays.getIterator();for(;s.hasNext();){const c=s.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let h=o.get(c.largestBatchId);h===null&&(h=Ti(),o=o.insert(c.largestBatchId,h)),h.set(c.getKey(),c)}}const a=Ti(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,h)=>a.set(c,h)),!(a.size()>=i)););return X.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new e3(n,r));let o=this.Ir.get(n);o===void 0&&(o=be(),this.Ir.set(n,o)),this.Ir.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M3{constructor(){this.sessionToken=Dt.EMPTY_BYTE_STRING}getSessionToken(e){return X.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,X.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lf{constructor(){this.Tr=new Mt(Et.Er),this.dr=new Mt(Et.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new Et(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Et(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new ve(new Je([])),r=new Et(n,e),i=new Et(n,e+1),o=[];return this.dr.forEachInRange([r,i],s=>{this.Vr(s),o.push(s.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new ve(new Je([])),r=new Et(n,e),i=new Et(n,e+1);let o=be();return this.dr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new Et(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Et{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return ve.comparator(e.key,n.key)||Ue(e.wr,n.wr)}static Ar(e,n){return Ue(e.wr,n.wr)||ve.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b3{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Mt(Et.Er)}checkEmpty(e){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new JA(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.br=this.br.add(new Et(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return X.resolve(s)}lookupMutationBatch(e,n){return X.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),o=i<0?0:i;return X.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Et(n,0),i=new Et(n,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],s=>{const a=this.Dr(s.wr);o.push(a)}),X.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Mt(Ue);return n.forEach(i=>{const o=new Et(i,0),s=new Et(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,s],a=>{r=r.add(a.wr)})}),X.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;ve.isDocumentKey(o)||(o=o.child(""));const s=new Et(new ve(o),0);let a=new Mt(Ue);return this.br.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u.wr)),!0)},s),X.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Qe(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return X.forEach(n.mutations,i=>{const o=new Et(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new Et(n,0),i=this.br.firstAfterOrEqual(r);return X.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,X.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D3{constructor(e){this.Mr=e,this.docs=function(){return new it(ve.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return X.resolve(r?r.document.mutableCopy():Wt.newInvalidDocument(n))}getEntries(e,n){let r=yr();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Wt.newInvalidDocument(i))}),X.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=yr();const s=n.path,a=new ve(s.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:c,value:{document:h}}=u.getNext();if(!s.isPrefixOf(c.path))break;c.path.length>s.length+1||mA(gA(h),r)<=0||(i.has(h.key)||Vu(n,h))&&(o=o.insert(h.key,h.mutableCopy()))}return X.resolve(o)}getAllFromCollectionGroup(e,n,r,i){Te()}Or(e,n){return X.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new N3(this)}getSize(e){return X.resolve(this.size)}}class N3 extends I3{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),X.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O3{constructor(e){this.persistence=e,this.Nr=new Wo(n=>_f(n),wf),this.lastRemoteSnapshotVersion=Ce.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Lf,this.targetCount=0,this.kr=Vo.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),X.resolve()}getLastRemoteSnapshotVersion(e){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return X.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),X.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Vo(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,X.resolve()}updateTargetData(e,n){return this.Kn(n),X.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,X.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Nr.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),X.waitFor(o).next(()=>i)}getTargetCount(e){return X.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return X.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),X.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),X.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),X.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return X.resolve(r)}containsKey(e,n){return X.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V3{constructor(e,n){this.qr={},this.overlays={},this.Qr=new gf(0),this.Kr=!1,this.Kr=!0,this.$r=new M3,this.referenceDelegate=e(this),this.Ur=new O3(this),this.indexManager=new L3,this.remoteDocumentCache=function(i){return new D3(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new C3(n),this.Gr=new P3(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new R3,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new b3(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){ae("MemoryPersistence","Starting transaction:",e);const i=new F3(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,n){return X.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class F3 extends yA{constructor(e){super(),this.currentSequenceNumber=e}}class Sf{constructor(e){this.persistence=e,this.Jr=new Lf,this.Yr=null}static Zr(e){return new Sf(e)}get Xr(){if(this.Yr)return this.Yr;throw Te()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),X.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),X.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),X.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.Xr,r=>{const i=ve.fromPath(r);return this.ei(e,i).next(o=>{o||n.removeEntry(i,Ce.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return X.or([()=>X.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class If{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=be(),i=be();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new If(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U3{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j3{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return WT()?8:_A($T())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.Yi(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Zi(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new U3;return this.Xi(e,n,s).next(a=>{if(o.result=a,this.zi)return this.es(e,n,s,a.size)})}).next(()=>o.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(gs()<=Ne.DEBUG&&ae("QueryEngine","SDK will not create cache indexes for query:",eo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),X.resolve()):(gs()<=Ne.DEBUG&&ae("QueryEngine","Query:",eo(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(gs()<=Ne.DEBUG&&ae("QueryEngine","The SDK decides to create cache indexes for query:",eo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Xn(n))):X.resolve())}Yi(e,n){if(hm(n))return X.resolve(null);let r=Xn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Jh(n,null,"F"),r=Xn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=be(...o);return this.Ji.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.ts(n,a);return this.ns(n,c,s,u.readTime)?this.Yi(e,Jh(n,null,"F")):this.rs(e,c,n,u)}))})))}Zi(e,n,r,i){return hm(n)||i.isEqual(Ce.min())?X.resolve(null):this.Ji.getDocuments(e,r).next(o=>{const s=this.ts(n,o);return this.ns(n,s,r,i)?X.resolve(null):(gs()<=Ne.DEBUG&&ae("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),eo(n)),this.rs(e,s,n,pA(i,-1)).next(a=>a))})}ts(e,n){let r=new Mt(U1(e));return n.forEach((i,o)=>{Vu(e,o)&&(r=r.add(o))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,n,r){return gs()<=Ne.DEBUG&&ae("QueryEngine","Using full collection scan to execute query:",eo(n)),this.Ji.getDocumentsMatchingQuery(e,n,ti.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B3{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new it(Ue),this._s=new Wo(o=>_f(o),wf),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new k3(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function z3(t,e,n,r){return new B3(t,e,n,r)}async function a_(t,e){const n=Ae(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let u=be();for(const c of i){s.push(c.batchId);for(const h of c.mutations)u=u.add(h.key)}for(const c of o){a.push(c.batchId);for(const h of c.mutations)u=u.add(h.key)}return n.localDocuments.getDocuments(r,u).next(c=>({hs:c,removedBatchIds:s,addedBatchIds:a}))})})}function $3(t,e){const n=Ae(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,u,c,h){const d=c.batch,f=d.keys();let g=X.resolve();return f.forEach(w=>{g=g.next(()=>h.getEntry(u,w)).next(A=>{const R=c.docVersions.get(w);Qe(R!==null),A.version.compareTo(R)<0&&(d.applyToRemoteDocument(A,c),A.isValidDocument()&&(A.setReadTime(c.commitVersion),h.addEntry(A)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(u,d))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=be();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(u=u.add(a.batch.mutations[c].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function l_(t){const e=Ae(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function H3(t,e){const n=Ae(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const a=[];e.targetChanges.forEach((h,d)=>{const f=i.get(d);if(!f)return;a.push(n.Ur.removeMatchingKeys(o,h.removedDocuments,d).next(()=>n.Ur.addMatchingKeys(o,h.addedDocuments,d)));let g=f.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(d)!==null?g=g.withResumeToken(Dt.EMPTY_BYTE_STRING,Ce.min()).withLastLimboFreeSnapshotVersion(Ce.min()):h.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(h.resumeToken,r)),i=i.insert(d,g),function(A,R,E){return A.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=3e8?!0:E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0}(f,g,h)&&a.push(n.Ur.updateTargetData(o,g))});let u=yr(),c=be();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(W3(o,s,e.documentUpdates).next(h=>{u=h.Ps,c=h.Is})),!r.isEqual(Ce.min())){const h=n.Ur.getLastRemoteSnapshotVersion(o).next(d=>n.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(h)}return X.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,u,c)).next(()=>u)}).then(o=>(n.os=i,o))}function W3(t,e,n){let r=be(),i=be();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=yr();return n.forEach((a,u)=>{const c=o.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(Ce.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||u.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):ae("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{Ps:s,Is:i}})}function Q3(t,e){const n=Ae(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function G3(t,e){const n=Ae(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(o=>o?(i=o,X.resolve(i)):n.Ur.allocateTargetId(r).next(s=>(i=new Vr(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function id(t,e,n){const r=Ae(t),i=r.os.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!wa(s))throw s;ae("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function Tm(t,e,n){const r=Ae(t);let i=Ce.min(),o=be();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,c,h){const d=Ae(u),f=d._s.get(h);return f!==void 0?X.resolve(d.os.get(f)):d.Ur.getTargetData(c,h)}(r,s,Xn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.ss.getDocumentsMatchingQuery(s,e,n?i:Ce.min(),n?o:be())).next(a=>(K3(r,FA(e),a),{documents:a,Ts:o})))}function K3(t,e,n){let r=t.us.get(e)||Ce.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.us.set(e,r)}class Cm{constructor(){this.activeTargetIds=HA()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class q3{constructor(){this.so=new Cm,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Cm,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y3{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Am{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){ae("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){ae("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let il=null;function jc(){return il===null?il=function(){return 268435456+Math.round(2147483648*Math.random())}():il++,"0x"+il.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z3={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X3{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bt="WebChannelConnection";class J3 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(n,r,i,o,s){const a=jc(),u=this.xo(n,r.toUriEncodedString());ae("RestConnection",`Sending RPC '${n}' ${a}:`,u,i);const c={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(c,o,s),this.No(n,u,c,i).then(h=>(ae("RestConnection",`Received RPC '${n}' ${a}: `,h),h),h=>{throw bo("RestConnection",`RPC '${n}' ${a} failed with error: `,h,"url: ",u,"request:",i),h})}Lo(n,r,i,o,s,a){return this.Mo(n,r,i,o,s)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ho}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}xo(n,r){const i=Z3[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const o=jc();return new Promise((s,a)=>{const u=new w1;u.setWithCredentials(!0),u.listenOnce(T1.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Cl.NO_ERROR:const h=u.getResponseJson();ae(Bt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),s(h);break;case Cl.TIMEOUT:ae(Bt,`RPC '${e}' ${o} timed out`),a(new ge(J.DEADLINE_EXCEEDED,"Request time out"));break;case Cl.HTTP_ERROR:const d=u.getStatus();if(ae(Bt,`RPC '${e}' ${o} failed with status:`,d,"response text:",u.getResponseText()),d>0){let f=u.getResponseJson();Array.isArray(f)&&(f=f[0]);const g=f==null?void 0:f.error;if(g&&g.status&&g.message){const w=function(R){const E=R.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(E)>=0?E:J.UNKNOWN}(g.status);a(new ge(w,g.message))}else a(new ge(J.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new ge(J.UNAVAILABLE,"Connection failed."));break;default:Te()}}finally{ae(Bt,`RPC '${e}' ${o} completed.`)}});const c=JSON.stringify(i);ae(Bt,`RPC '${e}' ${o} sending request:`,i),u.send(n,"POST",c,r,15)})}Bo(e,n,r){const i=jc(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=L1(),a=A1(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.xmlHttpFactory=new E1({})),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const h=o.join("");ae(Bt,`Creating RPC '${e}' stream ${i}: ${h}`,u);const d=s.createWebChannel(h,u);let f=!1,g=!1;const w=new X3({Io:R=>{g?ae(Bt,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(f||(ae(Bt,`Opening RPC '${e}' stream ${i} transport.`),d.open(),f=!0),ae(Bt,`RPC '${e}' stream ${i} sending:`,R),d.send(R))},To:()=>d.close()}),A=(R,E,x)=>{R.listen(E,I=>{try{x(I)}catch(M){setTimeout(()=>{throw M},0)}})};return A(d,As.EventType.OPEN,()=>{g||(ae(Bt,`RPC '${e}' stream ${i} transport opened.`),w.yo())}),A(d,As.EventType.CLOSE,()=>{g||(g=!0,ae(Bt,`RPC '${e}' stream ${i} transport closed`),w.So())}),A(d,As.EventType.ERROR,R=>{g||(g=!0,bo(Bt,`RPC '${e}' stream ${i} transport errored:`,R),w.So(new ge(J.UNAVAILABLE,"The operation could not be completed")))}),A(d,As.EventType.MESSAGE,R=>{var E;if(!g){const x=R.data[0];Qe(!!x);const I=x,M=I.error||((E=I[0])===null||E===void 0?void 0:E.error);if(M){ae(Bt,`RPC '${e}' stream ${i} received error:`,M);const V=M.status;let S=function(y){const _=pt[y];if(_!==void 0)return Z1(_)}(V),C=M.message;S===void 0&&(S=J.INTERNAL,C="Unknown error status: "+V+" with message "+M.message),g=!0,w.So(new ge(S,C)),d.close()}else ae(Bt,`RPC '${e}' stream ${i} received:`,x),w.bo(x)}}),A(a,C1.STAT_EVENT,R=>{R.stat===Kh.PROXY?ae(Bt,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===Kh.NOPROXY&&ae(Bt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{w.wo()},0),w}}function Bc(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bu(t){return new u3(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u_{constructor(e,n,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&ae("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c_{constructor(e,n,r,i,o,s,a,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new u_(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===J.RESOURCE_EXHAUSTED?(vr(n.toString()),vr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new ge(J.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return ae("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(ae("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class eL extends c_{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=d3(this.serializer,e),r=function(o){if(!("targetChange"in o))return Ce.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?Ce.min():s.readTime?er(s.readTime):Ce.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=rd(this.serializer),n.addTarget=function(o,s){let a;const u=s.target;if(a=Xh(u)?{documents:g3(o,u)}:{query:m3(o,u)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=e_(o,s.resumeToken);const c=ed(o,s.expectedCount);c!==null&&(a.expectedCount=c)}else if(s.snapshotVersion.compareTo(Ce.min())>0){a.readTime=su(o,s.snapshotVersion.toTimestamp());const c=ed(o,s.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=y3(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=rd(this.serializer),n.removeTarget=e,this.a_(n)}}class tL extends c_{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Qe(!!e.streamToken),this.lastStreamToken=e.streamToken,Qe(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Qe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=p3(e.writeResults,e.commitTime),r=er(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=rd(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>f3(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nL extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new ge(J.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Mo(e,td(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ge(J.UNKNOWN,o.toString())})}Lo(e,n,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Lo(e,td(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ge(J.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class rL{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(vr(n),this.D_=!1):ae("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iL{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(s=>{r.enqueueAndForget(async()=>{$i(this)&&(ae("RemoteStore","Restarting streams for network reachability change."),await async function(u){const c=Ae(u);c.L_.add(4),await Ca(c),c.q_.set("Unknown"),c.L_.delete(4),await zu(c)}(this))})}),this.q_=new rL(r,i)}}async function zu(t){if($i(t))for(const e of t.B_)await e(!0)}async function Ca(t){for(const e of t.B_)await e(!1)}function h_(t,e){const n=Ae(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),Rf(n)?Pf(n):Qo(n).r_()&&kf(n,e))}function xf(t,e){const n=Ae(t),r=Qo(n);n.N_.delete(e),r.r_()&&d_(n,e),n.N_.size===0&&(r.r_()?r.o_():$i(n)&&n.q_.set("Unknown"))}function kf(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ce.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Qo(t).A_(e)}function d_(t,e){t.Q_.xe(e),Qo(t).R_(e)}function Pf(t){t.Q_=new o3({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Qo(t).start(),t.q_.v_()}function Rf(t){return $i(t)&&!Qo(t).n_()&&t.N_.size>0}function $i(t){return Ae(t).L_.size===0}function f_(t){t.Q_=void 0}async function oL(t){t.q_.set("Online")}async function sL(t){t.N_.forEach((e,n)=>{kf(t,e)})}async function aL(t,e){f_(t),Rf(t)?(t.q_.M_(e),Pf(t)):t.q_.set("Unknown")}async function lL(t,e,n){if(t.q_.set("Online"),e instanceof J1&&e.state===2&&e.cause)try{await async function(i,o){const s=o.cause;for(const a of o.targetIds)i.N_.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.N_.delete(a),i.Q_.removeTarget(a))}(t,e)}catch(r){ae("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await au(t,r)}else if(e instanceof Sl?t.Q_.Ke(e):e instanceof X1?t.Q_.He(e):t.Q_.We(e),!n.isEqual(Ce.min()))try{const r=await l_(t.localStore);n.compareTo(r)>=0&&await function(o,s){const a=o.Q_.rt(s);return a.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const h=o.N_.get(c);h&&o.N_.set(c,h.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,c)=>{const h=o.N_.get(u);if(!h)return;o.N_.set(u,h.withResumeToken(Dt.EMPTY_BYTE_STRING,h.snapshotVersion)),d_(o,u);const d=new Vr(h.target,u,c,h.sequenceNumber);kf(o,d)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){ae("RemoteStore","Failed to raise snapshot:",r),await au(t,r)}}async function au(t,e,n){if(!wa(e))throw e;t.L_.add(1),await Ca(t),t.q_.set("Offline"),n||(n=()=>l_(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ae("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await zu(t)})}function p_(t,e){return e().catch(n=>au(t,n,e))}async function $u(t){const e=Ae(t),n=ri(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;uL(e);)try{const i=await Q3(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,cL(e,i)}catch(i){await au(e,i)}g_(e)&&m_(e)}function uL(t){return $i(t)&&t.O_.length<10}function cL(t,e){t.O_.push(e);const n=ri(t);n.r_()&&n.V_&&n.m_(e.mutations)}function g_(t){return $i(t)&&!ri(t).n_()&&t.O_.length>0}function m_(t){ri(t).start()}async function hL(t){ri(t).p_()}async function dL(t){const e=ri(t);for(const n of t.O_)e.m_(n.mutations)}async function fL(t,e,n){const r=t.O_.shift(),i=Tf.from(r,e,n);await p_(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await $u(t)}async function pL(t,e){e&&ri(t).V_&&await async function(r,i){if(function(s){return n3(s)&&s!==J.ABORTED}(i.code)){const o=r.O_.shift();ri(r).s_(),await p_(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await $u(r)}}(t,e),g_(t)&&m_(t)}async function Lm(t,e){const n=Ae(t);n.asyncQueue.verifyOperationInProgress(),ae("RemoteStore","RemoteStore received new credentials");const r=$i(n);n.L_.add(3),await Ca(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await zu(n)}async function gL(t,e){const n=Ae(t);e?(n.L_.delete(2),await zu(n)):e||(n.L_.add(2),await Ca(n),n.q_.set("Unknown"))}function Qo(t){return t.K_||(t.K_=function(n,r,i){const o=Ae(n);return o.w_(),new eL(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:oL.bind(null,t),Ro:sL.bind(null,t),mo:aL.bind(null,t),d_:lL.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),Rf(t)?Pf(t):t.q_.set("Unknown")):(await t.K_.stop(),f_(t))})),t.K_}function ri(t){return t.U_||(t.U_=function(n,r,i){const o=Ae(n);return o.w_(),new tL(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:hL.bind(null,t),mo:pL.bind(null,t),f_:dL.bind(null,t),g_:fL.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await $u(t)):(await t.U_.stop(),t.O_.length>0&&(ae("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mf{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Yr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new Mf(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ge(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function bf(t,e){if(vr("AsyncQueue",`${e}: ${t}`),wa(t))return new ge(J.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ve.comparator(n.key,r.key):(n,r)=>ve.comparator(n.key,r.key),this.keyedMap=Ls(),this.sortedSet=new it(this.comparator)}static emptySet(e){return new Co(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Co)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Co;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sm{constructor(){this.W_=new it(ve.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):Te():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Fo{constructor(e,n,r,i,o,s,a,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new Fo(e,n,Co.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ou(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mL{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class vL{constructor(){this.queries=Im(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=Ae(n),o=i.queries;i.queries=Im(),o.forEach((s,a)=>{for(const u of a.j_)u.onError(r)})})(this,new ge(J.ABORTED,"Firestore shutting down"))}}function Im(){return new Wo(t=>F1(t),Ou)}async function yL(t,e){const n=Ae(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.H_()&&e.J_()&&(r=2):(o=new mL,r=e.J_()?0:1);try{switch(r){case 0:o.z_=await n.onListen(i,!0);break;case 1:o.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const a=bf(s,`Initialization of query '${eo(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.j_.push(e),e.Z_(n.onlineState),o.z_&&e.X_(o.z_)&&Df(n)}async function _L(t,e){const n=Ae(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const s=o.j_.indexOf(e);s>=0&&(o.j_.splice(s,1),o.j_.length===0?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function wL(t,e){const n=Ae(t);let r=!1;for(const i of e){const o=i.query,s=n.queries.get(o);if(s){for(const a of s.j_)a.X_(i)&&(r=!0);s.z_=i}}r&&Df(n)}function EL(t,e,n){const r=Ae(t),i=r.queries.get(e);if(i)for(const o of i.j_)o.onError(n);r.queries.delete(e)}function Df(t){t.Y_.forEach(e=>{e.next()})}var od,xm;(xm=od||(od={})).ea="default",xm.Cache="cache";class TL{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Fo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Fo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==od.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v_{constructor(e){this.key=e}}class y_{constructor(e){this.key=e}}class CL{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=be(),this.mutatedKeys=be(),this.Aa=U1(e),this.Ra=new Co(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new Sm,i=n?n.Ra:this.Ra;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,d)=>{const f=i.get(h),g=Vu(this.query,d)?d:null,w=!!f&&this.mutatedKeys.has(f.key),A=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let R=!1;f&&g?f.data.isEqual(g.data)?w!==A&&(r.track({type:3,doc:g}),R=!0):this.ga(f,g)||(r.track({type:2,doc:g}),R=!0,(u&&this.Aa(g,u)>0||c&&this.Aa(g,c)<0)&&(a=!0)):!f&&g?(r.track({type:0,doc:g}),R=!0):f&&!g&&(r.track({type:1,doc:f}),R=!0,(u||c)&&(a=!0)),R&&(g?(s=s.add(g),o=A?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{Ra:s,fa:r,ns:a,mutatedKeys:o}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const s=e.fa.G_();s.sort((h,d)=>function(g,w){const A=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te()}};return A(g)-A(w)}(h.type,d.type)||this.Aa(h.doc,d.doc)),this.pa(r),i=i!=null&&i;const a=n&&!i?this.ya():[],u=this.da.size===0&&this.current&&!i?1:0,c=u!==this.Ea;return this.Ea=u,s.length!==0||c?{snapshot:new Fo(this.query,e.Ra,o,s,e.mutatedKeys,u===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Sm,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=be(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new y_(r))}),this.da.forEach(r=>{e.has(r)||n.push(new v_(r))}),n}ba(e){this.Ta=e.Ts,this.da=be();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Fo.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class AL{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class LL{constructor(e){this.key=e,this.va=!1}}class SL{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new Wo(a=>F1(a),Ou),this.Ma=new Map,this.xa=new Set,this.Oa=new it(ve.comparator),this.Na=new Map,this.La=new Lf,this.Ba={},this.ka=new Map,this.qa=Vo.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function IL(t,e,n=!0){const r=A_(t);let i;const o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=await __(r,e,n,!0),i}async function xL(t,e){const n=A_(t);await __(n,e,!0,!1)}async function __(t,e,n,r){const i=await G3(t.localStore,Xn(e)),o=i.targetId,s=n?t.sharedClientState.addLocalQueryTarget(o):"not-current";let a;return r&&(a=await kL(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&h_(t.remoteStore,i),a}async function kL(t,e,n,r,i){t.Ka=(d,f,g)=>async function(A,R,E,x){let I=R.view.ma(E);I.ns&&(I=await Tm(A.localStore,R.query,!1).then(({documents:C})=>R.view.ma(C,I)));const M=x&&x.targetChanges.get(R.targetId),V=x&&x.targetMismatches.get(R.targetId)!=null,S=R.view.applyChanges(I,A.isPrimaryClient,M,V);return Pm(A,R.targetId,S.wa),S.snapshot}(t,d,f,g);const o=await Tm(t.localStore,e,!0),s=new CL(e,o.Ts),a=s.ma(o.documents),u=Ta.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=s.applyChanges(a,t.isPrimaryClient,u);Pm(t,n,c.wa);const h=new AL(e,n,s);return t.Fa.set(e,h),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),c.snapshot}async function PL(t,e,n){const r=Ae(t),i=r.Fa.get(e),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter(s=>!Ou(s,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await id(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&xf(r.remoteStore,i.targetId),sd(r,i.targetId)}).catch(_a)):(sd(r,i.targetId),await id(r.localStore,i.targetId,!0))}async function RL(t,e){const n=Ae(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),xf(n.remoteStore,r.targetId))}async function ML(t,e,n){const r=UL(t);try{const i=await function(s,a){const u=Ae(s),c=dt.now(),h=a.reduce((g,w)=>g.add(w.key),be());let d,f;return u.persistence.runTransaction("Locally write mutations","readwrite",g=>{let w=yr(),A=be();return u.cs.getEntries(g,h).next(R=>{w=R,w.forEach((E,x)=>{x.isValidDocument()||(A=A.add(E))})}).next(()=>u.localDocuments.getOverlayedDocuments(g,w)).next(R=>{d=R;const E=[];for(const x of a){const I=ZA(x,d.get(x.key).overlayedDocument);I!=null&&E.push(new ai(x.key,I,P1(I.value.mapValue),Jn.exists(!0)))}return u.mutationQueue.addMutationBatch(g,c,E,a)}).next(R=>{f=R;const E=R.applyToLocalDocumentSet(d,A);return u.documentOverlayCache.saveOverlays(g,R.batchId,E)})}).then(()=>({batchId:f.batchId,changes:B1(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,u){let c=s.Ba[s.currentUser.toKey()];c||(c=new it(Ue)),c=c.insert(a,u),s.Ba[s.currentUser.toKey()]=c}(r,i.batchId,n),await Aa(r,i.changes),await $u(r.remoteStore)}catch(i){const o=bf(i,"Failed to persist write");n.reject(o)}}async function w_(t,e){const n=Ae(t);try{const r=await H3(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.Na.get(o);s&&(Qe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.va=!0:i.modifiedDocuments.size>0?Qe(s.va):i.removedDocuments.size>0&&(Qe(s.va),s.va=!1))}),await Aa(n,r,e)}catch(r){await _a(r)}}function km(t,e,n){const r=Ae(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((o,s)=>{const a=s.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const u=Ae(s);u.onlineState=a;let c=!1;u.queries.forEach((h,d)=>{for(const f of d.j_)f.Z_(a)&&(c=!0)}),c&&Df(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function bL(t,e,n){const r=Ae(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),o=i&&i.key;if(o){let s=new it(ve.comparator);s=s.insert(o,Wt.newNoDocument(o,Ce.min()));const a=be().add(o),u=new ju(Ce.min(),new Map,new it(Ue),s,a);await w_(r,u),r.Oa=r.Oa.remove(o),r.Na.delete(e),Nf(r)}else await id(r.localStore,e,!1).then(()=>sd(r,e,n)).catch(_a)}async function DL(t,e){const n=Ae(t),r=e.batch.batchId;try{const i=await $3(n.localStore,e);T_(n,r,null),E_(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Aa(n,i)}catch(i){await _a(i)}}async function NL(t,e,n){const r=Ae(t);try{const i=await function(s,a){const u=Ae(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let h;return u.mutationQueue.lookupMutationBatch(c,a).next(d=>(Qe(d!==null),h=d.keys(),u.mutationQueue.removeMutationBatch(c,d))).next(()=>u.mutationQueue.performConsistencyCheck(c)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(c,h,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,h)).next(()=>u.localDocuments.getDocuments(c,h))})}(r.localStore,e);T_(r,e,n),E_(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Aa(r,i)}catch(i){await _a(i)}}function E_(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function T_(t,e,n){const r=Ae(t);let i=r.Ba[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function sd(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||C_(t,r)})}function C_(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(xf(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),Nf(t))}function Pm(t,e,n){for(const r of n)r instanceof v_?(t.La.addReference(r.key,e),OL(t,r)):r instanceof y_?(ae("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||C_(t,r.key)):Te()}function OL(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(ae("SyncEngine","New document in limbo: "+n),t.xa.add(r),Nf(t))}function Nf(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new ve(Je.fromString(e)),r=t.qa.next();t.Na.set(r,new LL(n)),t.Oa=t.Oa.insert(n,r),h_(t.remoteStore,new Vr(Xn(V1(n.path)),r,"TargetPurposeLimboResolution",gf.oe))}}async function Aa(t,e,n){const r=Ae(t),i=[],o=[],s=[];r.Fa.isEmpty()||(r.Fa.forEach((a,u)=>{s.push(r.Ka(u,e,n).then(c=>{var h;if((c||n)&&r.isPrimaryClient){const d=c?!c.fromCache:(h=n==null?void 0:n.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,d?"current":"not-current")}if(c){i.push(c);const d=If.Wi(u.targetId,c);o.push(d)}}))}),await Promise.all(s),r.Ca.d_(i),await async function(u,c){const h=Ae(u);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>X.forEach(c,f=>X.forEach(f.$i,g=>h.persistence.referenceDelegate.addReference(d,f.targetId,g)).next(()=>X.forEach(f.Ui,g=>h.persistence.referenceDelegate.removeReference(d,f.targetId,g)))))}catch(d){if(!wa(d))throw d;ae("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const f=d.targetId;if(!d.fromCache){const g=h.os.get(f),w=g.snapshotVersion,A=g.withLastLimboFreeSnapshotVersion(w);h.os=h.os.insert(f,A)}}}(r.localStore,o))}async function VL(t,e){const n=Ae(t);if(!n.currentUser.isEqual(e)){ae("SyncEngine","User change. New user:",e.toKey());const r=await a_(n.localStore,e);n.currentUser=e,function(o,s){o.ka.forEach(a=>{a.forEach(u=>{u.reject(new ge(J.CANCELLED,s))})}),o.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Aa(n,r.hs)}}function FL(t,e){const n=Ae(t),r=n.Na.get(e);if(r&&r.va)return be().add(r.key);{let i=be();const o=n.Ma.get(e);if(!o)return i;for(const s of o){const a=n.Fa.get(s);i=i.unionWith(a.view.Va)}return i}}function A_(t){const e=Ae(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=w_.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=FL.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=bL.bind(null,e),e.Ca.d_=wL.bind(null,e.eventManager),e.Ca.$a=EL.bind(null,e.eventManager),e}function UL(t){const e=Ae(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=DL.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=NL.bind(null,e),e}class Rm{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Bu(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return z3(this.persistence,new j3,e.initialUser,this.serializer)}createPersistence(e){return new V3(Sf.Zr,this.serializer)}createSharedClientState(e){return new q3}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class jL{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>km(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=VL.bind(null,this.syncEngine),await gL(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new vL}()}createDatastore(e){const n=Bu(e.databaseInfo.databaseId),r=function(o){return new J3(o)}(e.databaseInfo);return function(o,s,a,u){return new nL(o,s,a,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,a){return new iL(r,i,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,n=>km(this.syncEngine,n,0),function(){return Am.D()?new Am:new Y3}())}createSyncEngine(e,n){return function(i,o,s,a,u,c,h){const d=new SL(i,o,s,a,u,c);return h&&(d.Qa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const o=Ae(i);ae("RemoteStore","RemoteStore shutting down."),o.L_.add(5),await Ca(o),o.k_.shutdown(),o.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BL{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ga(this.observer.next,e)}error(e){this.observer.error?this.Ga(this.observer.error,e):vr("Uncaught Error in snapshot listener:",e.toString())}za(){this.muted=!0}Ga(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zL{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=$t.UNAUTHENTICATED,this.clientId=I1.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async o=>{ae("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(ae("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ge(J.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Yr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=bf(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function zc(t,e){t.asyncQueue.verifyOperationInProgress(),ae("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await a_(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Mm(t,e){t.asyncQueue.verifyOperationInProgress();const n=await HL(t);ae("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Lm(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>Lm(e.remoteStore,i)),t._onlineComponents=e}function $L(t){return t.name==="FirebaseError"?t.code===J.FAILED_PRECONDITION||t.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function HL(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ae("FirestoreClient","Using user provided OfflineComponentProvider");try{await zc(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!$L(n))throw n;bo("Error using user provided cache. Falling back to memory cache: "+n),await zc(t,new Rm)}}else ae("FirestoreClient","Using default OfflineComponentProvider"),await zc(t,new Rm);return t._offlineComponents}async function L_(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ae("FirestoreClient","Using user provided OnlineComponentProvider"),await Mm(t,t._uninitializedComponentsProvider._online)):(ae("FirestoreClient","Using default OnlineComponentProvider"),await Mm(t,new jL))),t._onlineComponents}function WL(t){return L_(t).then(e=>e.syncEngine)}async function QL(t){const e=await L_(t),n=e.eventManager;return n.onListen=IL.bind(null,e.syncEngine),n.onUnlisten=PL.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=xL.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=RL.bind(null,e.syncEngine),n}function GL(t,e,n={}){const r=new Yr;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,a,u,c){const h=new BL({next:f=>{s.enqueueAndForget(()=>_L(o,d)),f.fromCache&&u.source==="server"?c.reject(new ge(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(f)},error:f=>c.reject(f)}),d=new TL(a,h,{includeMetadataChanges:!0,_a:!0});return yL(o,d)}(await QL(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S_(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bm=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I_(t,e,n){if(!n)throw new ge(J.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function KL(t,e,n,r){if(e===!0&&r===!0)throw new ge(J.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Dm(t){if(!ve.isDocumentKey(t))throw new ge(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Nm(t){if(ve.isDocumentKey(t))throw new ge(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Of(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Te()}function Uo(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ge(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Of(t);throw new ge(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ge(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ge(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}KL("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=S_((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new ge(J.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new ge(J.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new ge(J.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Hu{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Om({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ge(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new ge(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Om(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new oA;switch(r.type){case"firstParty":return new uA(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ge(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=bm.get(n);r&&(ae("ComponentProvider","Removing Datastore"),bm.delete(n),r.terminate())}(this),Promise.resolve()}}function qL(t,e,n,r={}){var i;const o=(t=Uo(t,Hu))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&bo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=$t.MOCK_USER;else{a=l1(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new ge(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new $t(c)}t._authCredentials=new sA(new S1(a,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Wu(this.firestore,e,this._query)}}class In{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Zr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new In(this.firestore,e,this._key)}}class Zr extends Wu{constructor(e,n,r){super(e,n,V1(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new In(this.firestore,null,new ve(e))}withConverter(e){return new Zr(this.firestore,e,this._path)}}function Vf(t,e,...n){if(t=Pn(t),I_("collection","path",e),t instanceof Hu){const r=Je.fromString(e,...n);return Nm(r),new Zr(t,null,r)}{if(!(t instanceof In||t instanceof Zr))throw new ge(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Je.fromString(e,...n));return Nm(r),new Zr(t.firestore,null,r)}}function Ff(t,e,...n){if(t=Pn(t),arguments.length===1&&(e=I1.newId()),I_("doc","path",e),t instanceof Hu){const r=Je.fromString(e,...n);return Dm(r),new In(t,null,new ve(r))}{if(!(t instanceof In||t instanceof Zr))throw new ge(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Je.fromString(e,...n));return Dm(r),new In(t.firestore,t instanceof Zr?t.converter:null,new ve(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YL{constructor(){this.au=Promise.resolve(),this.uu=[],this.cu=!1,this.lu=[],this.hu=null,this.Pu=!1,this.Iu=!1,this.Tu=[],this.t_=new u_(this,"async_queue_retry"),this.Eu=()=>{const n=Bc();n&&ae("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()};const e=Bc();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Eu)}get isShuttingDown(){return this.cu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.du(),this.Au(e)}enterRestrictedMode(e){if(!this.cu){this.cu=!0,this.Iu=e||!1;const n=Bc();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Eu)}}enqueue(e){if(this.du(),this.cu)return new Promise(()=>{});const n=new Yr;return this.Au(()=>this.cu&&this.Iu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.uu.push(e),this.Ru()))}async Ru(){if(this.uu.length!==0){try{await this.uu[0](),this.uu.shift(),this.t_.reset()}catch(e){if(!wa(e))throw e;ae("AsyncQueue","Operation failed with retryable error: "+e)}this.uu.length>0&&this.t_.Go(()=>this.Ru())}}Au(e){const n=this.au.then(()=>(this.Pu=!0,e().catch(r=>{this.hu=r,this.Pu=!1;const i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw vr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Pu=!1,r))));return this.au=n,n}enqueueAfterDelay(e,n,r){this.du(),this.Tu.indexOf(e)>-1&&(n=0);const i=Mf.createAndSchedule(this,e,n,r,o=>this.Vu(o));return this.lu.push(i),i}du(){this.hu&&Te()}verifyOperationInProgress(){}async mu(){let e;do e=this.au,await e;while(e!==this.au)}fu(e){for(const n of this.lu)if(n.timerId===e)return!0;return!1}gu(e){return this.mu().then(()=>{this.lu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.lu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.mu()})}pu(e){this.Tu.push(e)}Vu(e){const n=this.lu.indexOf(e);this.lu.splice(n,1)}}class Qu extends Hu{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new YL}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||k_(this),this._firestoreClient.terminate()}}function ZL(t,e){const n=typeof t=="object"?t:m1(),r=typeof t=="string"?t:"(default)",i=f1(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=s1("firestore");o&&qL(i,...o)}return i}function x_(t){return t._firestoreClient||k_(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function k_(t){var e,n,r;const i=t._freezeSettings(),o=function(a,u,c,h){return new TA(a,u,c,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,S_(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new zL(t._authCredentials,t._appCheckCredentials,t._queue,o),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new jo(Dt.fromBase64String(e))}catch(n){throw new ge(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new jo(Dt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gu{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ge(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Pt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uf{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jf{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ge(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ge(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ue(this._lat,e._lat)||Ue(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bf{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XL=/^__.*__$/;class JL{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ai(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ea(e,this.data,n,this.fieldTransforms)}}class P_{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ai(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function R_(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te()}}class zf{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.yu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get wu(){return this.settings.wu}Su(e){return new zf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}bu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.vu(e),i}Cu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.yu(),i}Fu(e){return this.Su({path:void 0,Du:!0})}Mu(e){return lu(e,this.settings.methodName,this.settings.xu||!1,this.path,this.settings.Ou)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}yu(){if(this.path)for(let e=0;e<this.path.length;e++)this.vu(this.path.get(e))}vu(e){if(e.length===0)throw this.Mu("Document fields must not be empty");if(R_(this.wu)&&XL.test(e))throw this.Mu('Document fields cannot begin and end with "__"')}}class eS{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Bu(e)}Nu(e,n,r,i=!1){return new zf({wu:e,methodName:n,Ou:r,path:Pt.emptyPath(),Du:!1,xu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function M_(t){const e=t._freezeSettings(),n=Bu(t._databaseId);return new eS(t._databaseId,!!e.ignoreUndefinedProperties,n)}function tS(t,e,n,r,i,o={}){const s=t.Nu(o.merge||o.mergeFields?2:0,e,n,i);$f("Data must be an object, but it was:",s,r);const a=b_(r,s);let u,c;if(o.merge)u=new mn(s.fieldMask),c=s.fieldTransforms;else if(o.mergeFields){const h=[];for(const d of o.mergeFields){const f=ad(e,d,n);if(!s.contains(f))throw new ge(J.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);N_(h,f)||h.push(f)}u=new mn(h),c=s.fieldTransforms.filter(d=>u.covers(d.field))}else u=null,c=s.fieldTransforms;return new JL(new nn(a),u,c)}class Ku extends Uf{_toFieldTransform(e){if(e.wu!==2)throw e.wu===1?e.Mu(`${this._methodName}() can only appear at the top level of your update data`):e.Mu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ku}}function nS(t,e,n,r){const i=t.Nu(1,e,n);$f("Data must be an object, but it was:",i,r);const o=[],s=nn.empty();zi(r,(u,c)=>{const h=Hf(e,u,n);c=Pn(c);const d=i.Cu(h);if(c instanceof Ku)o.push(h);else{const f=qu(c,d);f!=null&&(o.push(h),s.set(h,f))}});const a=new mn(o);return new P_(s,a,i.fieldTransforms)}function rS(t,e,n,r,i,o){const s=t.Nu(1,e,n),a=[ad(e,r,n)],u=[i];if(o.length%2!=0)throw new ge(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<o.length;f+=2)a.push(ad(e,o[f])),u.push(o[f+1]);const c=[],h=nn.empty();for(let f=a.length-1;f>=0;--f)if(!N_(c,a[f])){const g=a[f];let w=u[f];w=Pn(w);const A=s.Cu(g);if(w instanceof Ku)c.push(g);else{const R=qu(w,A);R!=null&&(c.push(g),h.set(g,R))}}const d=new mn(c);return new P_(h,d,s.fieldTransforms)}function qu(t,e){if(D_(t=Pn(t)))return $f("Unsupported field value:",e,t),b_(t,e);if(t instanceof Uf)return function(r,i){if(!R_(i.wu))throw i.Mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Mu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Du&&e.wu!==4)throw e.Mu("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let u=qu(a,i.Fu(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=Pn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return WA(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=dt.fromDate(r);return{timestampValue:su(i.serializer,o)}}if(r instanceof dt){const o=new dt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:su(i.serializer,o)}}if(r instanceof jf)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof jo)return{bytesValue:e_(i.serializer,r._byteString)};if(r instanceof In){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Mu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Af(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Bf)return function(s,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(u=>{if(typeof u!="number")throw a.Mu("VectorValues must only contain numeric values.");return Ef(a.serializer,u)})}}}}}}(r,i);throw i.Mu(`Unsupported field value: ${Of(r)}`)}(t,e)}function b_(t,e){const n={};return x1(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):zi(t,(r,i)=>{const o=qu(i,e.bu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function D_(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof dt||t instanceof jf||t instanceof jo||t instanceof In||t instanceof Uf||t instanceof Bf)}function $f(t,e,n){if(!D_(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Of(n);throw r==="an object"?e.Mu(t+" a custom object"):e.Mu(t+" "+r)}}function ad(t,e,n){if((e=Pn(e))instanceof Gu)return e._internalPath;if(typeof e=="string")return Hf(t,e);throw lu("Field path arguments must be of type string or ",t,!1,void 0,n)}const iS=new RegExp("[~\\*/\\[\\]]");function Hf(t,e,n){if(e.search(iS)>=0)throw lu(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Gu(...e.split("."))._internalPath}catch{throw lu(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function lu(t,e,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new ge(J.INVALID_ARGUMENT,a+t+u)}function N_(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O_{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new In(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new oS(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(V_("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class oS extends O_{data(){return super.data()}}function V_(t,e){return typeof e=="string"?Hf(t,e):e instanceof Gu?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sS(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ge(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class aS{convertValue(e,n="none"){switch(Oi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ct(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ni(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Te()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return zi(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;const o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>ct(s.doubleValue));return new Bf(o)}convertGeoPoint(e){return new jf(ct(e.latitude),ct(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=vf(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(la(e));default:return null}}convertTimestamp(e){const n=ni(e);return new dt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Je.fromString(e);Qe(s_(r));const i=new ua(r.get(1),r.get(3)),o=new ve(r.popFirst(5));return i.isEqual(n)||vr(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lS(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class uS extends O_{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Il(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(V_("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Il extends uS{data(e={}){return super.data(e)}}class cS{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new ol(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Il(this._firestore,this._userDataWriter,r.key,r,new ol(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ge(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{const u=new Il(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ol(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{const u=new Il(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ol(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,h=-1;return a.type!==0&&(c=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:hS(a.type),doc:u,oldIndex:c,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function hS(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te()}}class dS extends aS{constructor(e){super(),this.firestore=e}convertBytes(e){return new jo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new In(this.firestore,null,n)}}function F_(t){t=Uo(t,Wu);const e=Uo(t.firestore,Qu),n=x_(e),r=new dS(e);return sS(t._query),GL(n,t._query).then(i=>new cS(e,r,t,i))}function U_(t,e,n,...r){t=Uo(t,In);const i=Uo(t.firestore,Qu),o=M_(i);let s;return s=typeof(e=Pn(e))=="string"||e instanceof Gu?rS(o,"updateDoc",t._key,e,n,r):nS(o,"updateDoc",t._key,e),j_(i,[s.toMutation(t._key,Jn.exists(!0))])}function fS(t,e){const n=Uo(t.firestore,Qu),r=Ff(t),i=lS(t.converter,e);return j_(n,[tS(M_(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Jn.exists(!1))]).then(()=>r)}function j_(t,e){return function(r,i){const o=new Yr;return r.asyncQueue.enqueueAndForget(async()=>ML(await WL(r),i,o)),o.promise}(x_(t),e)}(function(e,n=!0){(function(i){Ho=i})(p1),oa(new Mo("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new Qu(new aA(r.getProvider("auth-internal")),new hA(r.getProvider("app-check-internal")),function(c,h){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new ge(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ua(c.options.projectId,h)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),qr(tm,"4.7.0",e),qr(tm,"4.7.0","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B_="firebasestorage.googleapis.com",z_="storageBucket",pS=2*60*1e3,gS=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt extends Bi{constructor(e,n,r=0){super($c(e),`Firebase Storage: ${n} (${$c(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,lt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return $c(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var at;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(at||(at={}));function $c(t){return"storage/"+t}function Wf(){const t="An unknown error occurred, please check the error payload for server response.";return new lt(at.UNKNOWN,t)}function mS(t){return new lt(at.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function vS(t){return new lt(at.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function yS(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new lt(at.UNAUTHENTICATED,t)}function _S(){return new lt(at.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function wS(t){return new lt(at.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function ES(){return new lt(at.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function TS(){return new lt(at.CANCELED,"User canceled the upload/download.")}function CS(t){return new lt(at.INVALID_URL,"Invalid URL '"+t+"'.")}function AS(t){return new lt(at.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function LS(){return new lt(at.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+z_+"' property when initializing the app?")}function SS(){return new lt(at.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function IS(){return new lt(at.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function xS(t){return new lt(at.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function ld(t){return new lt(at.INVALID_ARGUMENT,t)}function $_(){return new lt(at.APP_DELETED,"The Firebase app was deleted.")}function kS(t){return new lt(at.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function js(t,e){return new lt(at.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function ms(t){throw new lt(at.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=vn.makeFromUrl(e,n)}catch{return new vn(e,"")}if(r.path==="")return r;throw AS(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function o(M){M.path.charAt(M.path.length-1)==="/"&&(M.path_=M.path_.slice(0,-1))}const s="(/(.*))?$",a=new RegExp("^gs://"+i+s,"i"),u={bucket:1,path:3};function c(M){M.path_=decodeURIComponent(M.path)}const h="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",g=new RegExp(`^https?://${d}/${h}/b/${i}/o${f}`,"i"),w={bucket:1,path:3},A=n===B_?"(?:storage.googleapis.com|storage.cloud.google.com)":n,R="([^?#]*)",E=new RegExp(`^https?://${A}/${i}/${R}`,"i"),I=[{regex:a,indices:u,postModify:o},{regex:g,indices:w,postModify:c},{regex:E,indices:{bucket:1,path:2},postModify:c}];for(let M=0;M<I.length;M++){const V=I[M],S=V.regex.exec(e);if(S){const C=S[V.indices.bucket];let p=S[V.indices.path];p||(p=""),r=new vn(C,p),V.postModify(r);break}}if(r==null)throw CS(e);return r}}class PS{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RS(t,e,n){let r=1,i=null,o=null,s=!1,a=0;function u(){return a===2}let c=!1;function h(...R){c||(c=!0,e.apply(null,R))}function d(R){i=setTimeout(()=>{i=null,t(g,u())},R)}function f(){o&&clearTimeout(o)}function g(R,...E){if(c){f();return}if(R){f(),h.call(null,R,...E);return}if(u()||s){f(),h.call(null,R,...E);return}r<64&&(r*=2);let I;a===1?(a=2,I=0):I=(r+Math.random())*1e3,d(I)}let w=!1;function A(R){w||(w=!0,f(),!c&&(i!==null?(R||(a=2),clearTimeout(i),d(0)):R||(a=1)))}return d(0),o=setTimeout(()=>{s=!0,A(!0)},n),A}function MS(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bS(t){return t!==void 0}function DS(t){return typeof t=="object"&&!Array.isArray(t)}function Qf(t){return typeof t=="string"||t instanceof String}function Vm(t){return Gf()&&t instanceof Blob}function Gf(){return typeof Blob<"u"}function Fm(t,e,n,r){if(r<e)throw ld(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw ld(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kf(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function H_(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var xi;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(xi||(xi={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NS(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||i||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OS{constructor(e,n,r,i,o,s,a,u,c,h,d,f=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=u,this.timeout_=c,this.progressCallback_=h,this.connectionFactory_=d,this.retry=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((g,w)=>{this.resolve_=g,this.reject_=w,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new sl(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const s=a=>{const u=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,c)};this.progressCallback_!==null&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(s),this.pendingConnection_=null;const a=o.getErrorCode()===xi.NO_ERROR,u=o.getStatus();if(!a||NS(u,this.additionalRetryCodes_)&&this.retry){const h=o.getErrorCode()===xi.ABORT;r(!1,new sl(!1,null,h));return}const c=this.successCodes_.indexOf(u)!==-1;r(!0,new sl(c,o))})},n=(r,i)=>{const o=this.resolve_,s=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const u=this.callback_(a,a.getResponse());bS(u)?o(u):o()}catch(u){s(u)}else if(a!==null){const u=Wf();u.serverResponse=a.getErrorText(),this.errorCallback_?s(this.errorCallback_(a,u)):s(u)}else if(i.canceled){const u=this.appDelete_?$_():TS();s(u)}else{const u=ES();s(u)}};this.canceled_?n(!1,new sl(!1,null,!0)):this.backoffId_=RS(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&MS(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class sl{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function VS(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function FS(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function US(t,e){e&&(t["X-Firebase-GMPID"]=e)}function jS(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function BS(t,e,n,r,i,o,s=!0){const a=H_(t.urlParams),u=t.url+a,c=Object.assign({},t.headers);return US(c,e),VS(c,n),FS(c,o),jS(c,r),new OS(u,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zS(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function $S(...t){const e=zS();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(Gf())return new Blob(t);throw new lt(at.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function HS(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WS(t){if(typeof atob>"u")throw xS("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Hc{constructor(e,n){this.data=e,this.contentType=n||null}}function QS(t,e){switch(t){case qn.RAW:return new Hc(W_(e));case qn.BASE64:case qn.BASE64URL:return new Hc(Q_(t,e));case qn.DATA_URL:return new Hc(KS(e),qS(e))}throw Wf()}function W_(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const o=r,s=t.charCodeAt(++n);r=65536|(o&1023)<<10|s&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function GS(t){let e;try{e=decodeURIComponent(t)}catch{throw js(qn.DATA_URL,"Malformed data URL.")}return W_(e)}function Q_(t,e){switch(t){case qn.BASE64:{const i=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(i||o)throw js(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case qn.BASE64URL:{const i=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(i||o)throw js(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=WS(e)}catch(i){throw i.message.includes("polyfill")?i:js(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class G_{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw js(qn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=YS(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function KS(t){const e=new G_(t);return e.base64?Q_(qn.BASE64,e.rest):GS(e.rest)}function qS(t){return new G_(t).contentType}function YS(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr{constructor(e,n){let r=0,i="";Vm(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(Vm(this.data_)){const r=this.data_,i=HS(r,e,n);return i===null?null:new Dr(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Dr(r,!0)}}static getBlob(...e){if(Gf()){const n=e.map(r=>r instanceof Dr?r.data_:r);return new Dr($S.apply(null,n))}else{const n=e.map(s=>Qf(s)?QS(qn.RAW,s).data:s.data_);let r=0;n.forEach(s=>{r+=s.byteLength});const i=new Uint8Array(r);let o=0;return n.forEach(s=>{for(let a=0;a<s.length;a++)i[o++]=s[a]}),new Dr(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K_(t){let e;try{e=JSON.parse(t)}catch{return null}return DS(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZS(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function XS(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function q_(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JS(t,e){return e}class Kt{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||JS}}let al=null;function eI(t){return!Qf(t)||t.length<2?t:q_(t)}function Y_(){if(al)return al;const t=[];t.push(new Kt("bucket")),t.push(new Kt("generation")),t.push(new Kt("metageneration")),t.push(new Kt("name","fullPath",!0));function e(o,s){return eI(s)}const n=new Kt("name");n.xform=e,t.push(n);function r(o,s){return s!==void 0?Number(s):s}const i=new Kt("size");return i.xform=r,t.push(i),t.push(new Kt("timeCreated")),t.push(new Kt("updated")),t.push(new Kt("md5Hash",null,!0)),t.push(new Kt("cacheControl",null,!0)),t.push(new Kt("contentDisposition",null,!0)),t.push(new Kt("contentEncoding",null,!0)),t.push(new Kt("contentLanguage",null,!0)),t.push(new Kt("contentType",null,!0)),t.push(new Kt("metadata","customMetadata",!0)),al=t,al}function tI(t,e){function n(){const r=t.bucket,i=t.fullPath,o=new vn(r,i);return e._makeStorageReference(o)}Object.defineProperty(t,"ref",{get:n})}function nI(t,e,n){const r={};r.type="file";const i=n.length;for(let o=0;o<i;o++){const s=n[o];r[s.local]=s.xform(r,e[s.server])}return tI(r,t),r}function Z_(t,e,n){const r=K_(e);return r===null?null:nI(t,r,n)}function rI(t,e,n,r){const i=K_(e);if(i===null||!Qf(i.downloadTokens))return null;const o=i.downloadTokens;if(o.length===0)return null;const s=encodeURIComponent;return o.split(",").map(c=>{const h=t.bucket,d=t.fullPath,f="/b/"+s(h)+"/o/"+s(d),g=Kf(f,n,r),w=H_({alt:"media",token:c});return g+w})[0]}function iI(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}class X_{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J_(t){if(!t)throw Wf()}function oI(t,e){function n(r,i){const o=Z_(t,i,e);return J_(o!==null),o}return n}function sI(t,e){function n(r,i){const o=Z_(t,i,e);return J_(o!==null),rI(o,i,t.host,t._protocol)}return n}function ew(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=_S():i=yS():n.getStatus()===402?i=vS(t.bucket):n.getStatus()===403?i=wS(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function aI(t){const e=ew(t);function n(r,i){let o=e(r,i);return r.getStatus()===404&&(o=mS(t.path)),o.serverResponse=i.serverResponse,o}return n}function lI(t,e,n){const r=e.fullServerUrl(),i=Kf(r,t.host,t._protocol),o="GET",s=t.maxOperationRetryTime,a=new X_(i,o,sI(t,n),s);return a.errorHandler=aI(e),a}function uI(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function cI(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=uI(null,e)),r}function hI(t,e,n,r,i){const o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};function a(){let I="";for(let M=0;M<2;M++)I=I+Math.random().toString().slice(2);return I}const u=a();s["Content-Type"]="multipart/related; boundary="+u;const c=cI(e,r,i),h=iI(c,n),d="--"+u+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+h+`\r
--`+u+`\r
Content-Type: `+c.contentType+`\r
\r
`,f=`\r
--`+u+"--",g=Dr.getBlob(d,r,f);if(g===null)throw SS();const w={name:c.fullPath},A=Kf(o,t.host,t._protocol),R="POST",E=t.maxUploadRetryTime,x=new X_(A,R,oI(t,n),E);return x.urlParams=w,x.headers=s,x.body=g.uploadData(),x.errorHandler=ew(e),x}class dI{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=xi.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=xi.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=xi.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw ms("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const o in i)i.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,i[o].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw ms("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw ms("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw ms("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw ms("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class fI extends dI{initXhr(){this.xhr_.responseType="text"}}function tw(){return new fI}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi{constructor(e,n){this._service=e,n instanceof vn?this._location=n:this._location=vn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Vi(e,n)}get root(){const e=new vn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return q_(this._location.path)}get storage(){return this._service}get parent(){const e=ZS(this._location.path);if(e===null)return null;const n=new vn(this._location.bucket,e);return new Vi(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw kS(e)}}function pI(t,e,n){t._throwIfRoot("uploadBytes");const r=hI(t.storage,t._location,Y_(),new Dr(e,!0),n);return t.storage.makeRequestWithTokens(r,tw).then(i=>({metadata:i,ref:t}))}function gI(t){t._throwIfRoot("getDownloadURL");const e=lI(t.storage,t._location,Y_());return t.storage.makeRequestWithTokens(e,tw).then(n=>{if(n===null)throw IS();return n})}function mI(t,e){const n=XS(t._location.path,e),r=new vn(t._location.bucket,n);return new Vi(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vI(t){return/^[A-Za-z]+:\/\//.test(t)}function yI(t,e){return new Vi(t,e)}function nw(t,e){if(t instanceof qf){const n=t;if(n._bucket==null)throw LS();const r=new Vi(n,n._bucket);return e!=null?nw(r,e):r}else return e!==void 0?mI(t,e):t}function _I(t,e){if(e&&vI(e)){if(t instanceof qf)return yI(t,e);throw ld("To use ref(service, url), the first argument must be a Storage instance.")}else return nw(t,e)}function Um(t,e){const n=e==null?void 0:e[z_];return n==null?null:vn.makeFromBucketSpec(n,t)}function wI(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:l1(i,t.app.options.projectId))}class qf{constructor(e,n,r,i,o){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=B_,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=pS,this._maxUploadRetryTime=gS,this._requests=new Set,i!=null?this._bucket=vn.makeFromBucketSpec(i,this._host):this._bucket=Um(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=vn.makeFromBucketSpec(this._url,e):this._bucket=Um(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Fm("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Fm("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Vi(this,e)}_makeRequest(e,n,r,i,o=!0){if(this._deleted)return new PS($_());{const s=BS(e,this._appId,r,i,n,this._firebaseVersion,o);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const jm="@firebase/storage",Bm="0.13.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rw="storage";function EI(t,e,n){return t=Pn(t),pI(t,e,n)}function TI(t){return t=Pn(t),gI(t)}function CI(t,e){return t=Pn(t),_I(t,e)}function AI(t=m1(),e){t=Pn(t);const r=f1(t,rw).getImmediate({identifier:e}),i=s1("storage");return i&&LI(r,...i),r}function LI(t,e,n,r={}){wI(t,e,n,r)}function SI(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new qf(n,r,i,e,p1)}function II(){oa(new Mo(rw,SI,"PUBLIC").setMultipleInstances(!0)),qr(jm,Bm,""),qr(jm,Bm,"esm2017")}II();const xI={apiKey:"AIzaSyBj4voLaMllaLyTz0a5RZn7S_Y5AYCUszo",authDomain:"tokyood-hackathon-45ed0.firebaseapp.com",projectId:"tokyood-hackathon-45ed0",storageBucket:"tokyood-hackathon-45ed0.appspot.com",messagingSenderId:"596279055158",appId:"1:596279055158:web:ce50eb0c408b07865c5997",measurementId:"G-1KC0KHE486"},iw=g1(xI),fa=ZL(iw),kI=AI(iw),ow=t=>t instanceof dt?t.toDate().toLocaleString("ja-JP",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"}):"",sw="/CReal/assets/CRealLogo-8BVX959D.jpg",PI=()=>{const[t,e]=v.useState([]),[n,r]=v.useState([]),[i,o]=v.useState(!0),[s,a]=v.useState(null),[u,c]=v.useState(""),[h,d]=v.useState(""),[f,g]=v.useState(""),[w,A]=v.useState(""),[R,E]=v.useState("");v.useEffect(()=>{(async()=>{try{const V=Vf(fa,"reports"),p=(await F_(V)).docs.map(y=>({id:y.id,...y.data()})).filter(y=>!y.solved);e(p),r(p)}catch(V){console.error("Error fetching reports: ",V)}finally{o(!1)}})()},[]),v.useEffect(()=>{(()=>{let V=t;u&&(V=V.filter(S=>S.disasterType===u)),h&&(V=V.filter(S=>S.damageType===h)),f&&(V=V.filter(S=>S.damageLevel===f)),w&&(V=V.filter(S=>S.affectedArea===w)),R&&(V=V.filter(S=>S.responseAction===R)),r(V)})()},[u,h,f,w,R,t]);const x=M=>{a(M)},I=async()=>{if(s)try{const M=Ff(fa,"reports",s.id);await U_(M,{solved:!0}),e(t.filter(V=>V.id!==s.id)),r(n.filter(V=>V.id!==s.id))}catch(M){console.error("Error updating report: ",M)}finally{a(null)}};return i?N.jsx("div",{children:"Loading..."}):N.jsxs("div",{className:"flex h-screen w-screen",children:[N.jsxs("div",{className:"w-3/12 flex flex-col justify-start bg-gray-100",children:[N.jsx("div",{className:"mt-8 flex justify-center mb-4",children:N.jsx("img",{src:sw,alt:"",className:"w-32 h-auto"})}),N.jsxs("div",{className:"p-4 text-gray-700",children:[N.jsx("h2",{className:"text-xl font-semibold mb-2",children:""}),N.jsxs("div",{className:"mb-4",children:[N.jsx("label",{className:"block font-semibold mb-1",children:":"}),N.jsxs("select",{value:u,onChange:M=>c(M.target.value),className:"border p-2 rounded w-full bg-white",children:[N.jsx("option",{value:"",children:""}),N.jsx("option",{value:"",children:""}),N.jsx("option",{value:"",children:""}),N.jsx("option",{value:"",children:""}),N.jsx("option",{value:"",children:""}),N.jsx("option",{value:"",children:""}),N.jsx("option",{value:"",children:""}),N.jsx("option",{value:"",children:""}),N.jsx("option",{value:"",children:""})]})]}),N.jsxs("div",{className:"mb-4",children:[N.jsx("label",{className:"block font-semibold mb-1",children:":"}),N.jsxs("select",{value:f,onChange:M=>g(M.target.value),className:"border p-2 rounded w-full bg-white",children:[N.jsx("option",{value:"",children:""}),N.jsx("option",{value:"",children:""}),N.jsx("option",{value:"",children:""}),N.jsx("option",{value:"",children:""}),N.jsx("option",{value:"",children:""}),N.jsx("option",{value:"",children:""})]})]}),N.jsxs("div",{className:"mb-4",children:[N.jsx("label",{className:"block font-semibold mb-1",children:":"}),N.jsxs("select",{value:h,onChange:M=>d(M.target.value),className:"border p-2 rounded w-full bg-white",children:[N.jsx("option",{value:"",children:""}),N.jsx("option",{value:"",children:""}),N.jsx("option",{value:"",children:""}),N.jsx("option",{value:"",children:""}),N.jsx("option",{value:"",children:""}),N.jsx("option",{value:"",children:""}),N.jsx("option",{value:"",children:""}),N.jsx("option",{value:"",children:""})]})]}),N.jsxs("div",{className:"mb-4",children:[N.jsx("label",{className:"block font-semibold mb-1",children:":"}),N.jsxs("select",{value:w,onChange:M=>A(M.target.value),className:"border p-2 rounded w-full bg-white",children:[N.jsx("option",{value:"",children:""}),N.jsx("option",{value:"",children:""}),N.jsx("option",{value:"",children:""}),N.jsx("option",{value:"",children:""}),N.jsx("option",{value:"",children:""}),N.jsx("option",{value:"",children:""}),N.jsx("option",{value:"",children:""}),N.jsx("option",{value:"",children:""})]})]}),N.jsxs("div",{className:"mb-4",children:[N.jsx("label",{className:"block font-semibold mb-1",children:":"}),N.jsxs("select",{value:R,onChange:M=>E(M.target.value),className:"border p-2 rounded w-full bg-white",children:[N.jsx("option",{value:"",children:""}),N.jsx("option",{value:"",children:""}),N.jsx("option",{value:"",children:""}),N.jsx("option",{value:"",children:""}),N.jsx("option",{value:"",children:""}),N.jsx("option",{value:"",children:""}),N.jsx("option",{value:"",children:""}),N.jsx("option",{value:"",children:""})]})]})]})]}),N.jsxs("div",{className:"pl-4 bg-white w-full",children:[N.jsx("ul",{className:"flex flex-wrap gap-4 mt-8",children:n.map(M=>N.jsx("li",{className:"flex",children:N.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg shadow-md text-gray-700 w-80",children:[N.jsx("div",{className:"flex items-center justify-center",children:N.jsx("img",{src:M.imageUrl,alt:M.title,className:"h-auto w-auto max-h-48 max-w-72"})}),N.jsx("p",{className:"text-sm text-gray-500",children:ow(M.timestamp)}),N.jsx("h2",{className:"text-xl font-semibold mb-2",children:M.title}),N.jsx("p",{className:"mb-2",children:M.description}),N.jsxs("div",{className:"flex",children:[N.jsx("p",{className:"font-semibold",children:":"}),N.jsx("p",{children:M.disasterType})]}),N.jsxs("div",{className:"flex",children:[N.jsx("p",{className:"font-semibold",children:":"}),N.jsx("p",{children:M.damageType})]}),N.jsxs("div",{className:"flex",children:[N.jsx("p",{className:"font-semibold",children:":"}),N.jsx("p",{children:M.damageLevel})]}),N.jsxs("div",{className:"flex",children:[N.jsx("p",{className:"font-semibold",children:":"}),N.jsx("p",{children:M.affectedArea})]}),N.jsxs("div",{className:"mb-2 flex",children:[N.jsx("p",{className:"font-semibold",children:":"}),N.jsx("p",{children:M.responseAction})]}),N.jsx("button",{onClick:()=>x(M),className:"bg-green-500 text-white px-4 py-2 rounded w-full mt-2",disabled:M.solved,children:M.solved?"":""})]})},M.id))}),s&&N.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center",children:N.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-md text-center",children:[N.jsx("p",{className:"text-gray-700",children:""}),N.jsxs("div",{className:"mt-4",children:[N.jsx("button",{onClick:I,className:"bg-green-500 text-white px-4 py-2 rounded mr-2",children:""}),N.jsx("button",{onClick:()=>a(null),className:"bg-red-500 text-white px-4 py-2 rounded",children:""})]})]})})]})]})};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var ud=function(t,e){return ud=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},ud(t,e)};function Ge(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");ud(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var he=function(){return he=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},he.apply(this,arguments)};function Yf(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function RI(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(h){try{c(r.next(h))}catch(d){s(d)}}function u(h){try{c(r.throw(h))}catch(d){s(d)}}function c(h){h.done?o(h.value):i(h.value).then(a,u)}c((r=r.apply(t,[])).next())})}function MI(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(c){return function(h){return u([c,h])}}function u(c){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){n.label=c[1];break}if(c[0]===6&&n.label<o[1]){n.label=o[1],o=c;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(c);break}o[2]&&n.ops.pop(),n.trys.pop();continue}c=e.call(t,n)}catch(h){c=[6,h],i=0}finally{r=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function aw(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var bI=function(t,e,n,r,i,o,s,a){if(!t){var u;if(e===void 0)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,o,s,a],h=0;u=new Error(e.replace(/%s/g,function(){return c[h++]})),u.name="Invariant Violation"}throw u.framesToPop=1,u}},DI=bI,ft=aw(DI),Ie=v.createContext(null);function NI(){ft(!!v.useContext,"useGoogleMap is React hook and requires React version 16.8+");var t=v.useContext(Ie);return ft(!!t,"useGoogleMap needs a GoogleMap available up in the tree"),t}function OI(t,e,n){return Object.keys(t).reduce(function(i,o){return e(i,t[o],o)},n)}function VI(t,e){Object.keys(t).forEach(function(n){return e(t[n],n)})}function FI(t,e,n,r){var i={},o=function(s,a){var u=n[a];u!==e[a]&&(i[a]=u,s(r,u))};return VI(t,o),i}function UI(t,e,n){var r=OI(n,function(o,s,a){return typeof t[a]=="function"&&o.push(google.maps.event.addListener(e,s,t[a])),o},[]);return r}function jI(t){google.maps.event.removeListener(t)}function Re(t){t===void 0&&(t=[]),t.forEach(jI)}function ke(t){var e=t.updaterMap,n=t.eventMap,r=t.prevProps,i=t.nextProps,o=t.instance,s=UI(i,o,n);return FI(e,r,i,o),s}var zm={onDblClick:"dblclick",onDragEnd:"dragend",onDragStart:"dragstart",onMapTypeIdChanged:"maptypeid_changed",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseDown:"mousedown",onMouseUp:"mouseup",onRightClick:"rightclick",onTilesLoaded:"tilesloaded",onBoundsChanged:"bounds_changed",onCenterChanged:"center_changed",onClick:"click",onDrag:"drag",onHeadingChanged:"heading_changed",onIdle:"idle",onProjectionChanged:"projection_changed",onResize:"resize",onTiltChanged:"tilt_changed",onZoomChanged:"zoom_changed"},$m={extraMapTypes:function(t,e){e.forEach(function(r,i){t.mapTypes.set(String(i),r)})},center:function(t,e){t.setCenter(e)},clickableIcons:function(t,e){t.setClickableIcons(e)},heading:function(t,e){t.setHeading(e)},mapTypeId:function(t,e){t.setMapTypeId(e)},options:function(t,e){t.setOptions(e)},streetView:function(t,e){t.setStreetView(e)},tilt:function(t,e){t.setTilt(e)},zoom:function(t,e){t.setZoom(e)}};function BI(t){var e=t.children,n=t.options,r=t.id,i=t.mapContainerStyle,o=t.mapContainerClassName,s=t.center,a=t.onClick,u=t.onDblClick,c=t.onDrag,h=t.onDragEnd,d=t.onDragStart,f=t.onMouseMove,g=t.onMouseOut,w=t.onMouseOver,A=t.onMouseDown,R=t.onMouseUp,E=t.onRightClick,x=t.onCenterChanged,I=t.onLoad,M=t.onUnmount,V=v.useState(null),S=V[0],C=V[1],p=v.useRef(null),y=v.useState(null),_=y[0],P=y[1],k=v.useState(null),L=k[0],F=k[1],z=v.useState(null),O=z[0],b=z[1],j=v.useState(null),U=j[0],B=j[1],q=v.useState(null),Q=q[0],Y=q[1],G=v.useState(null),W=G[0],$=G[1],se=v.useState(null),ce=se[0],te=se[1],Z=v.useState(null),ue=Z[0],de=Z[1],Le=v.useState(null),_e=Le[0],re=Le[1],ye=v.useState(null),me=ye[0],fe=ye[1],we=v.useState(null),le=we[0],Se=we[1],pe=v.useState(null),xe=pe[0],ie=pe[1];return v.useEffect(function(){n&&S!==null&&S.setOptions(n)},[S,n]),v.useEffect(function(){S!==null&&typeof s<"u"&&S.setCenter(s)},[S,s]),v.useEffect(function(){S&&u&&(L!==null&&google.maps.event.removeListener(L),F(google.maps.event.addListener(S,"dblclick",u)))},[u]),v.useEffect(function(){S&&h&&(O!==null&&google.maps.event.removeListener(O),b(google.maps.event.addListener(S,"dragend",h)))},[h]),v.useEffect(function(){S&&d&&(U!==null&&google.maps.event.removeListener(U),B(google.maps.event.addListener(S,"dragstart",d)))},[d]),v.useEffect(function(){S&&A&&(Q!==null&&google.maps.event.removeListener(Q),Y(google.maps.event.addListener(S,"mousedown",A)))},[A]),v.useEffect(function(){S&&f&&(W!==null&&google.maps.event.removeListener(W),$(google.maps.event.addListener(S,"mousemove",f)))},[f]),v.useEffect(function(){S&&g&&(ce!==null&&google.maps.event.removeListener(ce),te(google.maps.event.addListener(S,"mouseout",g)))},[g]),v.useEffect(function(){S&&w&&(ue!==null&&google.maps.event.removeListener(ue),de(google.maps.event.addListener(S,"mouseover",w)))},[w]),v.useEffect(function(){S&&R&&(_e!==null&&google.maps.event.removeListener(_e),re(google.maps.event.addListener(S,"mouseup",R)))},[R]),v.useEffect(function(){S&&E&&(me!==null&&google.maps.event.removeListener(me),fe(google.maps.event.addListener(S,"rightclick",E)))},[E]),v.useEffect(function(){S&&a&&(le!==null&&google.maps.event.removeListener(le),Se(google.maps.event.addListener(S,"click",a)))},[a]),v.useEffect(function(){S&&c&&(xe!==null&&google.maps.event.removeListener(xe),ie(google.maps.event.addListener(S,"drag",c)))},[c]),v.useEffect(function(){S&&x&&(_!==null&&google.maps.event.removeListener(_),P(google.maps.event.addListener(S,"center_changed",x)))},[a]),v.useEffect(function(){var $e=p.current===null?null:new google.maps.Map(p.current,n);return C($e),$e!==null&&I&&I($e),function(){$e!==null&&M&&M($e)}},[]),N.jsx("div",{id:r,ref:p,style:i,className:o,children:N.jsx(Ie.Provider,{value:S,children:S!==null?e:null})})}v.memo(BI);var zI=function(t){Ge(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={map:null},n.registeredEvents=[],n.mapRef=null,n.getInstance=function(){return n.mapRef===null?null:new google.maps.Map(n.mapRef,n.props.options)},n.panTo=function(r){var i=n.getInstance();i&&i.panTo(r)},n.setMapCallback=function(){n.state.map!==null&&n.props.onLoad&&n.props.onLoad(n.state.map)},n.getRef=function(r){n.mapRef=r},n}return e.prototype.componentDidMount=function(){var n=this.getInstance();this.registeredEvents=ke({updaterMap:$m,eventMap:zm,prevProps:{},nextProps:this.props,instance:n}),this.setState(function(){return{map:n}},this.setMapCallback)},e.prototype.componentDidUpdate=function(n){this.state.map!==null&&(Re(this.registeredEvents),this.registeredEvents=ke({updaterMap:$m,eventMap:zm,prevProps:n,nextProps:this.props,instance:this.state.map}))},e.prototype.componentWillUnmount=function(){this.state.map!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.map),Re(this.registeredEvents))},e.prototype.render=function(){return N.jsx("div",{id:this.props.id,ref:this.getRef,style:this.props.mapContainerStyle,className:this.props.mapContainerClassName,children:N.jsx(Ie.Provider,{value:this.state.map,children:this.state.map!==null?this.props.children:null})})},e}(v.PureComponent),Ci=typeof document<"u";function lw(t){var e=t.url,n=t.id,r=t.nonce;return Ci?new Promise(function(o,s){var a=document.getElementById(n),u=window;if(a){var c=a.getAttribute("data-state");if(a.src===e&&c!=="error"){if(c==="ready")return o(n);var h=u.initMap,d=a.onerror;u.initMap=function(){h&&h(),o(n)},a.onerror=function(g){d&&d(g),s(g)};return}else a.remove()}var f=document.createElement("script");f.type="text/javascript",f.src=e,f.id=n,f.async=!0,f.nonce=r||"",f.onerror=function(w){f.setAttribute("data-state","error"),s(w)},u.initMap=function(){f.setAttribute("data-state","ready"),o(n)},document.head.appendChild(f)}).catch(function(i){throw console.error("injectScript error: ",i),i}):Promise.reject(new Error("document is undefined"))}function Hm(t){var e=t.href;return e&&(e.indexOf("https://fonts.googleapis.com/css?family=Roboto")===0||e.indexOf("https://fonts.googleapis.com/css?family=Google+Sans+Text")===0)?!0:t.tagName.toLowerCase()==="style"&&t.styleSheet&&t.styleSheet.cssText&&t.styleSheet.cssText.replace(`\r
`,"").indexOf(".gm-style")===0?(t.styleSheet.cssText="",!0):t.tagName.toLowerCase()==="style"&&t.innerHTML&&t.innerHTML.replace(`\r
`,"").indexOf(".gm-style")===0?(t.innerHTML="",!0):t.tagName.toLowerCase()==="style"&&!t.styleSheet&&!t.innerHTML}function uw(){var t=document.getElementsByTagName("head")[0];if(t){var e=t.insertBefore.bind(t);t.insertBefore=function(i,o){return Hm(i)||Reflect.apply(e,t,[i,o]),i};var n=t.appendChild.bind(t);t.appendChild=function(i){return Hm(i)||Reflect.apply(n,t,[i]),i}}}function cw(t){var e=t.googleMapsApiKey,n=t.googleMapsClientId,r=t.version,i=r===void 0?"weekly":r,o=t.language,s=t.region,a=t.libraries,u=t.channel,c=t.mapIds,h=t.authReferrerPolicy,d=[];return ft(e&&n||!(e&&n),"You need to specify either googleMapsApiKey or googleMapsClientId for @react-google-maps/api load script to work. You cannot use both at the same time."),e?d.push("key=".concat(e)):n&&d.push("client=".concat(n)),i&&d.push("v=".concat(i)),o&&d.push("language=".concat(o)),s&&d.push("region=".concat(s)),a&&a.length&&d.push("libraries=".concat(a.sort().join(","))),u&&d.push("channel=".concat(u)),c&&c.length&&d.push("map_ids=".concat(c.join(","))),h&&d.push("auth_referrer_policy=".concat(h)),d.push("callback=initMap"),"https://maps.googleapis.com/maps/api/js?".concat(d.join("&"))}var vs=!1;function hw(){return N.jsx("div",{children:"Loading..."})}var cd={id:"script-loader",version:"weekly"},$I=function(t){Ge(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.check=v.createRef(),n.state={loaded:!1},n.cleanupCallback=function(){delete window.google.maps,n.injectScript()},n.isCleaningUp=function(){return RI(n,void 0,void 0,function(){function r(i){if(!vs)i();else if(Ci)var o=window.setInterval(function(){vs||(window.clearInterval(o),i())},1)}return MI(this,function(i){return[2,new Promise(r)]})})},n.cleanup=function(){vs=!0;var r=document.getElementById(n.props.id);r&&r.parentNode&&r.parentNode.removeChild(r),Array.prototype.slice.call(document.getElementsByTagName("script")).filter(function(o){return typeof o.src=="string"&&o.src.includes("maps.googleapis")}).forEach(function(o){o.parentNode&&o.parentNode.removeChild(o)}),Array.prototype.slice.call(document.getElementsByTagName("link")).filter(function(o){return o.href==="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Google+Sans"}).forEach(function(o){o.parentNode&&o.parentNode.removeChild(o)}),Array.prototype.slice.call(document.getElementsByTagName("style")).filter(function(o){return o.innerText!==void 0&&o.innerText.length>0&&o.innerText.includes(".gm-")}).forEach(function(o){o.parentNode&&o.parentNode.removeChild(o)})},n.injectScript=function(){n.props.preventGoogleFontsLoading&&uw(),ft(!!n.props.id,'LoadScript requires "id" prop to be a string: %s',n.props.id);var r={id:n.props.id,nonce:n.props.nonce,url:cw(n.props)};lw(r).then(function(){n.props.onLoad&&n.props.onLoad(),n.setState(function(){return{loaded:!0}})}).catch(function(i){n.props.onError&&n.props.onError(i),console.error(`
          There has been an Error with loading Google Maps API script, please check that you provided correct google API key (`.concat(n.props.googleMapsApiKey||"-",") or Client ID (").concat(n.props.googleMapsClientId||"-",`) to <LoadScript />
          Otherwise it is a Network issue.
        `))})},n}return e.prototype.componentDidMount=function(){if(Ci){if(window.google&&window.google.maps&&!vs){console.error("google api is already presented");return}this.isCleaningUp().then(this.injectScript).catch(function(r){console.error("Error at injecting script after cleaning up: ",r)})}},e.prototype.componentDidUpdate=function(n){this.props.libraries!==n.libraries&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),Ci&&n.language!==this.props.language&&(this.cleanup(),this.setState(function(){return{loaded:!1}},this.cleanupCallback))},e.prototype.componentWillUnmount=function(){var n=this;if(Ci){this.cleanup();var r=function(){n.check.current||(delete window.google,vs=!1)};window.setTimeout(r,1),this.props.onUnmount&&this.props.onUnmount()}},e.prototype.render=function(){return N.jsxs(N.Fragment,{children:[N.jsx("div",{ref:this.check}),this.state.loaded?this.props.children:this.props.loadingElement||N.jsx(hw,{})]})},e.defaultProps=cd,e}(v.PureComponent),Wm;function HI(t){var e=t.id,n=e===void 0?cd.id:e,r=t.version,i=r===void 0?cd.version:r,o=t.nonce,s=t.googleMapsApiKey,a=t.googleMapsClientId,u=t.language,c=t.region,h=t.libraries,d=t.preventGoogleFontsLoading,f=t.channel,g=t.mapIds,w=t.authReferrerPolicy,A=v.useRef(!1),R=v.useState(!1),E=R[0],x=R[1],I=v.useState(void 0),M=I[0],V=I[1];v.useEffect(function(){return A.current=!0,function(){A.current=!1}},[]),v.useEffect(function(){Ci&&d&&uw()},[d]),v.useEffect(function(){E&&ft(!!window.google,"useLoadScript was marked as loaded, but window.google is not present. Something went wrong.")},[E]);var S=cw({version:i,googleMapsApiKey:s,googleMapsClientId:a,language:u,region:c,libraries:h,channel:f,mapIds:g,authReferrerPolicy:w});v.useEffect(function(){if(!Ci)return;function y(){A.current&&(x(!0),Wm=S)}if(window.google&&window.google.maps&&Wm===S){y();return}lw({id:n,url:S,nonce:o}).then(y).catch(function(P){A.current&&V(P),console.warn(`
        There has been an Error with loading Google Maps API script, please check that you provided correct google API key (`.concat(s||"-",") or Client ID (").concat(a||"-",`)
        Otherwise it is a Network issue.
      `)),console.error(P)})},[n,S,o]);var C=v.useRef();return v.useEffect(function(){C.current&&h!==C.current&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),C.current=h},[h]),{isLoaded:E,loadError:M,url:S}}var WI=N.jsx(hw,{});function QI(t){var e=t.loadingElement,n=t.onLoad,r=t.onError,i=t.onUnmount,o=t.children,s=Yf(t,["loadingElement","onLoad","onError","onUnmount","children"]),a=HI(s),u=a.isLoaded,c=a.loadError;return v.useEffect(function(){u&&typeof n=="function"&&n()},[u,n]),v.useEffect(function(){c&&typeof r=="function"&&r(c)},[c,r]),v.useEffect(function(){return function(){i&&i()}},[i]),u?o:e||WI}v.memo(QI);var Qm;(function(t){t[t.INITIALIZED=0]="INITIALIZED",t[t.LOADING=1]="LOADING",t[t.SUCCESS=2]="SUCCESS",t[t.FAILURE=3]="FAILURE"})(Qm||(Qm={}));var Gm={},Km={options:function(t,e){t.setOptions(e)}};function GI(t){var e=t.options,n=t.onLoad,r=t.onUnmount,i=v.useContext(Ie),o=v.useState(null),s=o[0],a=o[1];return v.useEffect(function(){s!==null&&s.setMap(i)},[i]),v.useEffect(function(){e&&s!==null&&s.setOptions(e)},[s,e]),v.useEffect(function(){var u=new google.maps.TrafficLayer(he(he({},e||{}),{map:i}));return a(u),n&&n(u),function(){s!==null&&(r&&r(s),s.setMap(null))}},[]),null}v.memo(GI);(function(t){Ge(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={trafficLayer:null},n.setTrafficLayerCallback=function(){n.state.trafficLayer!==null&&n.props.onLoad&&n.props.onLoad(n.state.trafficLayer)},n.registeredEvents=[],n}return e.prototype.componentDidMount=function(){var n=new google.maps.TrafficLayer(he(he({},this.props.options||{}),{map:this.context}));this.registeredEvents=ke({updaterMap:Km,eventMap:Gm,prevProps:{},nextProps:this.props,instance:n}),this.setState(function(){return{trafficLayer:n}},this.setTrafficLayerCallback)},e.prototype.componentDidUpdate=function(n){this.state.trafficLayer!==null&&(Re(this.registeredEvents),this.registeredEvents=ke({updaterMap:Km,eventMap:Gm,prevProps:n,nextProps:this.props,instance:this.state.trafficLayer}))},e.prototype.componentWillUnmount=function(){this.state.trafficLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.trafficLayer),Re(this.registeredEvents),this.state.trafficLayer.setMap(null))},e.prototype.render=function(){return null},e.contextType=Ie,e})(v.PureComponent);function KI(t){var e=t.onLoad,n=t.onUnmount,r=v.useContext(Ie),i=v.useState(null),o=i[0],s=i[1];return v.useEffect(function(){o!==null&&o.setMap(r)},[r]),v.useEffect(function(){var a=new google.maps.BicyclingLayer;return s(a),a.setMap(r),e&&e(a),function(){a!==null&&(n&&n(a),a.setMap(null))}},[]),null}v.memo(KI);(function(t){Ge(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={bicyclingLayer:null},n.setBicyclingLayerCallback=function(){n.state.bicyclingLayer!==null&&(n.state.bicyclingLayer.setMap(n.context),n.props.onLoad&&n.props.onLoad(n.state.bicyclingLayer))},n}return e.prototype.componentDidMount=function(){var n=new google.maps.BicyclingLayer;this.setState(function(){return{bicyclingLayer:n}},this.setBicyclingLayerCallback)},e.prototype.componentWillUnmount=function(){this.state.bicyclingLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.bicyclingLayer),this.state.bicyclingLayer.setMap(null))},e.prototype.render=function(){return null},e.contextType=Ie,e})(v.PureComponent);function qI(t){var e=t.onLoad,n=t.onUnmount,r=v.useContext(Ie),i=v.useState(null),o=i[0],s=i[1];return v.useEffect(function(){o!==null&&o.setMap(r)},[r]),v.useEffect(function(){var a=new google.maps.TransitLayer;return s(a),a.setMap(r),e&&e(a),function(){o!==null&&(n&&n(o),o.setMap(null))}},[]),null}v.memo(qI);(function(t){Ge(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={transitLayer:null},n.setTransitLayerCallback=function(){n.state.transitLayer!==null&&(n.state.transitLayer.setMap(n.context),n.props.onLoad&&n.props.onLoad(n.state.transitLayer))},n}return e.prototype.componentDidMount=function(){var n=new google.maps.TransitLayer;this.setState(function(){return{transitLayer:n}},this.setTransitLayerCallback)},e.prototype.componentWillUnmount=function(){this.state.transitLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.transitLayer),this.state.transitLayer.setMap(null))},e.prototype.render=function(){return null},e.contextType=Ie,e})(v.PureComponent);var qm={onCircleComplete:"circlecomplete",onMarkerComplete:"markercomplete",onOverlayComplete:"overlaycomplete",onPolygonComplete:"polygoncomplete",onPolylineComplete:"polylinecomplete",onRectangleComplete:"rectanglecomplete"},Ym={drawingMode:function(t,e){t.setDrawingMode(e)},options:function(t,e){t.setOptions(e)}};function YI(t){var e=t.options,n=t.drawingMode,r=t.onCircleComplete,i=t.onMarkerComplete,o=t.onOverlayComplete,s=t.onPolygonComplete,a=t.onPolylineComplete,u=t.onRectangleComplete,c=t.onLoad,h=t.onUnmount,d=v.useContext(Ie),f=v.useState(null),g=f[0],w=f[1],A=v.useState(null),R=A[0],E=A[1],x=v.useState(null),I=x[0],M=x[1],V=v.useState(null),S=V[0],C=V[1],p=v.useState(null),y=p[0],_=p[1],P=v.useState(null),k=P[0],L=P[1],F=v.useState(null),z=F[0],O=F[1];return v.useEffect(function(){g!==null&&g.setMap(d)},[d]),v.useEffect(function(){e&&g!==null&&g.setOptions(e)},[g,e]),v.useEffect(function(){g!==null&&g.setDrawingMode(n??null)},[g,n]),v.useEffect(function(){g&&r&&(R!==null&&google.maps.event.removeListener(R),E(google.maps.event.addListener(g,"circlecomplete",r)))},[g,r]),v.useEffect(function(){g&&i&&(I!==null&&google.maps.event.removeListener(I),M(google.maps.event.addListener(g,"markercomplete",i)))},[g,i]),v.useEffect(function(){g&&o&&(S!==null&&google.maps.event.removeListener(S),C(google.maps.event.addListener(g,"overlaycomplete",o)))},[g,o]),v.useEffect(function(){g&&s&&(y!==null&&google.maps.event.removeListener(y),_(google.maps.event.addListener(g,"polygoncomplete",s)))},[g,s]),v.useEffect(function(){g&&a&&(k!==null&&google.maps.event.removeListener(k),L(google.maps.event.addListener(g,"polylinecomplete",a)))},[g,a]),v.useEffect(function(){g&&u&&(z!==null&&google.maps.event.removeListener(z),O(google.maps.event.addListener(g,"rectanglecomplete",u)))},[g,u]),v.useEffect(function(){ft(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing);var b=new google.maps.drawing.DrawingManager(he(he({},e||{}),{map:d}));return n&&b.setDrawingMode(n),r&&E(google.maps.event.addListener(b,"circlecomplete",r)),i&&M(google.maps.event.addListener(b,"markercomplete",i)),o&&C(google.maps.event.addListener(b,"overlaycomplete",o)),s&&_(google.maps.event.addListener(b,"polygoncomplete",s)),a&&L(google.maps.event.addListener(b,"polylinecomplete",a)),u&&O(google.maps.event.addListener(b,"rectanglecomplete",u)),w(b),c&&c(b),function(){g!==null&&(R&&google.maps.event.removeListener(R),I&&google.maps.event.removeListener(I),S&&google.maps.event.removeListener(S),y&&google.maps.event.removeListener(y),k&&google.maps.event.removeListener(k),z&&google.maps.event.removeListener(z),h&&h(g),g.setMap(null))}},[]),null}v.memo(YI);(function(t){Ge(e,t);function e(n){var r=t.call(this,n)||this;return r.registeredEvents=[],r.state={drawingManager:null},r.setDrawingManagerCallback=function(){r.state.drawingManager!==null&&r.props.onLoad&&r.props.onLoad(r.state.drawingManager)},ft(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing),r}return e.prototype.componentDidMount=function(){var n=new google.maps.drawing.DrawingManager(he(he({},this.props.options||{}),{map:this.context}));this.registeredEvents=ke({updaterMap:Ym,eventMap:qm,prevProps:{},nextProps:this.props,instance:n}),this.setState(function(){return{drawingManager:n}},this.setDrawingManagerCallback)},e.prototype.componentDidUpdate=function(n){this.state.drawingManager!==null&&(Re(this.registeredEvents),this.registeredEvents=ke({updaterMap:Ym,eventMap:qm,prevProps:n,nextProps:this.props,instance:this.state.drawingManager}))},e.prototype.componentWillUnmount=function(){this.state.drawingManager!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.drawingManager),Re(this.registeredEvents),this.state.drawingManager.setMap(null))},e.prototype.render=function(){return null},e.contextType=Ie,e})(v.PureComponent);var Zm={onAnimationChanged:"animation_changed",onClick:"click",onClickableChanged:"clickable_changed",onCursorChanged:"cursor_changed",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDraggableChanged:"draggable_changed",onDragStart:"dragstart",onFlatChanged:"flat_changed",onIconChanged:"icon_changed",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onPositionChanged:"position_changed",onRightClick:"rightclick",onShapeChanged:"shape_changed",onTitleChanged:"title_changed",onVisibleChanged:"visible_changed",onZindexChanged:"zindex_changed"},Xm={animation:function(t,e){t.setAnimation(e)},clickable:function(t,e){t.setClickable(e)},cursor:function(t,e){t.setCursor(e)},draggable:function(t,e){t.setDraggable(e)},icon:function(t,e){t.setIcon(e)},label:function(t,e){t.setLabel(e)},map:function(t,e){t.setMap(e)},opacity:function(t,e){t.setOpacity(e)},options:function(t,e){t.setOptions(e)},position:function(t,e){t.setPosition(e)},shape:function(t,e){t.setShape(e)},title:function(t,e){t.setTitle(e)},visible:function(t,e){t.setVisible(e)},zIndex:function(t,e){t.setZIndex(e)}},uu={};function ZI(t){var e=t.position,n=t.options,r=t.clusterer,i=t.noClustererRedraw,o=t.children,s=t.draggable,a=t.visible,u=t.animation,c=t.clickable,h=t.cursor,d=t.icon,f=t.label,g=t.opacity,w=t.shape,A=t.title,R=t.zIndex,E=t.onClick,x=t.onDblClick,I=t.onDrag,M=t.onDragEnd,V=t.onDragStart,S=t.onMouseOut,C=t.onMouseOver,p=t.onMouseUp,y=t.onMouseDown,_=t.onRightClick,P=t.onClickableChanged,k=t.onCursorChanged,L=t.onAnimationChanged,F=t.onDraggableChanged,z=t.onFlatChanged,O=t.onIconChanged,b=t.onPositionChanged,j=t.onShapeChanged,U=t.onTitleChanged,B=t.onVisibleChanged,q=t.onZindexChanged,Q=t.onLoad,Y=t.onUnmount,G=v.useContext(Ie),W=v.useState(null),$=W[0],se=W[1],ce=v.useState(null),te=ce[0],Z=ce[1],ue=v.useState(null),de=ue[0],Le=ue[1],_e=v.useState(null),re=_e[0],ye=_e[1],me=v.useState(null),fe=me[0],we=me[1],le=v.useState(null),Se=le[0],pe=le[1],xe=v.useState(null),ie=xe[0],$e=xe[1],je=v.useState(null),Be=je[0],He=je[1],Pe=v.useState(null),et=Pe[0],Nt=Pe[1],ut=v.useState(null),At=ut[0],Ot=ut[1],Jt=v.useState(null),wr=Jt[0],Hi=Jt[1],Bn=v.useState(null),zn=Bn[0],Rn=Bn[1],$n=v.useState(null),Lt=$n[0],Gt=$n[1],St=v.useState(null),un=St[0],Hn=St[1],cn=v.useState(null),_t=cn[0],Go=cn[1],wt=v.useState(null),li=wt[0],Er=wt[1],Tr=v.useState(null),Wi=Tr[0],La=Tr[1],rr=v.useState(null),Qi=rr[0],Sa=rr[1],ui=v.useState(null),Ko=ui[0],Gi=ui[1],ci=v.useState(null),hn=ci[0],qo=ci[1],Yo=v.useState(null),Cr=Yo[0],Ki=Yo[1],Zo=v.useState(null),hi=Zo[0],Ia=Zo[1];v.useEffect(function(){$!==null&&$.setMap(G)},[G]),v.useEffect(function(){typeof n<"u"&&$!==null&&$.setOptions(n)},[$,n]),v.useEffect(function(){typeof s<"u"&&$!==null&&$.setDraggable(s)},[$,s]),v.useEffect(function(){e&&$!==null&&$.setPosition(e)},[$,e]),v.useEffect(function(){typeof a<"u"&&$!==null&&$.setVisible(a)},[$,a]),v.useEffect(function(){$==null||$.setAnimation(u)},[$,u]),v.useEffect(function(){$&&c!==void 0&&$.setClickable(c)},[$,c]),v.useEffect(function(){$&&h!==void 0&&$.setCursor(h)},[$,h]),v.useEffect(function(){$&&d!==void 0&&$.setIcon(d)},[$,d]),v.useEffect(function(){$&&f!==void 0&&$.setLabel(f)},[$,f]),v.useEffect(function(){$&&g!==void 0&&$.setOpacity(g)},[$,g]),v.useEffect(function(){$&&w!==void 0&&$.setShape(w)},[$,w]),v.useEffect(function(){$&&A!==void 0&&$.setTitle(A)},[$,A]),v.useEffect(function(){$&&R!==void 0&&$.setZIndex(R)},[$,R]),v.useEffect(function(){$&&x&&(te!==null&&google.maps.event.removeListener(te),Z(google.maps.event.addListener($,"dblclick",x)))},[x]),v.useEffect(function(){$&&M&&(de!==null&&google.maps.event.removeListener(de),Le(google.maps.event.addListener($,"dragend",M)))},[M]),v.useEffect(function(){$&&V&&(re!==null&&google.maps.event.removeListener(re),ye(google.maps.event.addListener($,"dragstart",V)))},[V]),v.useEffect(function(){$&&y&&(fe!==null&&google.maps.event.removeListener(fe),we(google.maps.event.addListener($,"mousedown",y)))},[y]),v.useEffect(function(){$&&S&&(Se!==null&&google.maps.event.removeListener(Se),pe(google.maps.event.addListener($,"mouseout",S)))},[S]),v.useEffect(function(){$&&C&&(ie!==null&&google.maps.event.removeListener(ie),$e(google.maps.event.addListener($,"mouseover",C)))},[C]),v.useEffect(function(){$&&p&&(Be!==null&&google.maps.event.removeListener(Be),He(google.maps.event.addListener($,"mouseup",p)))},[p]),v.useEffect(function(){$&&_&&(et!==null&&google.maps.event.removeListener(et),Nt(google.maps.event.addListener($,"rightclick",_)))},[_]),v.useEffect(function(){$&&E&&(At!==null&&google.maps.event.removeListener(At),Ot(google.maps.event.addListener($,"click",E)))},[E]),v.useEffect(function(){$&&I&&(wr!==null&&google.maps.event.removeListener(wr),Hi(google.maps.event.addListener($,"drag",I)))},[I]),v.useEffect(function(){$&&P&&(zn!==null&&google.maps.event.removeListener(zn),Rn(google.maps.event.addListener($,"clickable_changed",P)))},[P]),v.useEffect(function(){$&&k&&(Lt!==null&&google.maps.event.removeListener(Lt),Gt(google.maps.event.addListener($,"cursor_changed",k)))},[k]),v.useEffect(function(){$&&L&&(un!==null&&google.maps.event.removeListener(un),Hn(google.maps.event.addListener($,"animation_changed",L)))},[L]),v.useEffect(function(){$&&F&&(_t!==null&&google.maps.event.removeListener(_t),Go(google.maps.event.addListener($,"draggable_changed",F)))},[F]),v.useEffect(function(){$&&z&&(li!==null&&google.maps.event.removeListener(li),Er(google.maps.event.addListener($,"flat_changed",z)))},[z]),v.useEffect(function(){$&&O&&(Wi!==null&&google.maps.event.removeListener(Wi),La(google.maps.event.addListener($,"icon_changed",O)))},[O]),v.useEffect(function(){$&&b&&(Qi!==null&&google.maps.event.removeListener(Qi),Sa(google.maps.event.addListener($,"position_changed",b)))},[b]),v.useEffect(function(){$&&j&&(Ko!==null&&google.maps.event.removeListener(Ko),Gi(google.maps.event.addListener($,"shape_changed",j)))},[j]),v.useEffect(function(){$&&U&&(hn!==null&&google.maps.event.removeListener(hn),qo(google.maps.event.addListener($,"title_changed",U)))},[U]),v.useEffect(function(){$&&B&&(Cr!==null&&google.maps.event.removeListener(Cr),Ki(google.maps.event.addListener($,"visible_changed",B)))},[B]),v.useEffect(function(){$&&q&&(hi!==null&&google.maps.event.removeListener(hi),Ia(google.maps.event.addListener($,"zindex_changed",q)))},[q]),v.useEffect(function(){var Ar=he(he(he({},n||uu),r?uu:{map:G}),{position:e}),Ee=new google.maps.Marker(Ar);return r?r.addMarker(Ee,!!i):Ee.setMap(G),e&&Ee.setPosition(e),typeof a<"u"&&Ee.setVisible(a),typeof s<"u"&&Ee.setDraggable(s),typeof c<"u"&&Ee.setClickable(c),typeof h=="string"&&Ee.setCursor(h),d&&Ee.setIcon(d),typeof f<"u"&&Ee.setLabel(f),typeof g<"u"&&Ee.setOpacity(g),w&&Ee.setShape(w),typeof A=="string"&&Ee.setTitle(A),typeof R=="number"&&Ee.setZIndex(R),x&&Z(google.maps.event.addListener(Ee,"dblclick",x)),M&&Le(google.maps.event.addListener(Ee,"dragend",M)),V&&ye(google.maps.event.addListener(Ee,"dragstart",V)),y&&we(google.maps.event.addListener(Ee,"mousedown",y)),S&&pe(google.maps.event.addListener(Ee,"mouseout",S)),C&&$e(google.maps.event.addListener(Ee,"mouseover",C)),p&&He(google.maps.event.addListener(Ee,"mouseup",p)),_&&Nt(google.maps.event.addListener(Ee,"rightclick",_)),E&&Ot(google.maps.event.addListener(Ee,"click",E)),I&&Hi(google.maps.event.addListener(Ee,"drag",I)),P&&Rn(google.maps.event.addListener(Ee,"clickable_changed",P)),k&&Gt(google.maps.event.addListener(Ee,"cursor_changed",k)),L&&Hn(google.maps.event.addListener(Ee,"animation_changed",L)),F&&Go(google.maps.event.addListener(Ee,"draggable_changed",F)),z&&Er(google.maps.event.addListener(Ee,"flat_changed",z)),O&&La(google.maps.event.addListener(Ee,"icon_changed",O)),b&&Sa(google.maps.event.addListener(Ee,"position_changed",b)),j&&Gi(google.maps.event.addListener(Ee,"shape_changed",j)),U&&qo(google.maps.event.addListener(Ee,"title_changed",U)),B&&Ki(google.maps.event.addListener(Ee,"visible_changed",B)),q&&Ia(google.maps.event.addListener(Ee,"zindex_changed",q)),se(Ee),Q&&Q(Ee),function(){te!==null&&google.maps.event.removeListener(te),de!==null&&google.maps.event.removeListener(de),re!==null&&google.maps.event.removeListener(re),fe!==null&&google.maps.event.removeListener(fe),Se!==null&&google.maps.event.removeListener(Se),ie!==null&&google.maps.event.removeListener(ie),Be!==null&&google.maps.event.removeListener(Be),et!==null&&google.maps.event.removeListener(et),At!==null&&google.maps.event.removeListener(At),zn!==null&&google.maps.event.removeListener(zn),Lt!==null&&google.maps.event.removeListener(Lt),un!==null&&google.maps.event.removeListener(un),_t!==null&&google.maps.event.removeListener(_t),li!==null&&google.maps.event.removeListener(li),Wi!==null&&google.maps.event.removeListener(Wi),Qi!==null&&google.maps.event.removeListener(Qi),hn!==null&&google.maps.event.removeListener(hn),Cr!==null&&google.maps.event.removeListener(Cr),hi!==null&&google.maps.event.removeListener(hi),Y&&Y(Ee),r?r.removeMarker(Ee,!!i):Ee&&Ee.setMap(null)}},[]);var qi=v.useMemo(function(){return o?v.Children.map(o,function(Ar){if(!v.isValidElement(Ar))return Ar;var Ee=Ar;return v.cloneElement(Ee,{anchor:$})}):null},[o,$]);return N.jsx(N.Fragment,{children:qi})||null}v.memo(ZI);var ll=function(t){Ge(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.registeredEvents=[],n}return e.prototype.componentDidMount=function(){var n=he(he(he({},this.props.options||uu),this.props.clusterer?uu:{map:this.context}),{position:this.props.position});this.marker=new google.maps.Marker(n),this.props.clusterer?this.props.clusterer.addMarker(this.marker,!!this.props.noClustererRedraw):this.marker.setMap(this.context),this.registeredEvents=ke({updaterMap:Xm,eventMap:Zm,prevProps:{},nextProps:this.props,instance:this.marker}),this.props.onLoad&&this.props.onLoad(this.marker)},e.prototype.componentDidUpdate=function(n){this.marker&&(Re(this.registeredEvents),this.registeredEvents=ke({updaterMap:Xm,eventMap:Zm,prevProps:n,nextProps:this.props,instance:this.marker}))},e.prototype.componentWillUnmount=function(){this.marker&&(this.props.onUnmount&&this.props.onUnmount(this.marker),Re(this.registeredEvents),this.props.clusterer?this.props.clusterer.removeMarker(this.marker,!!this.props.noClustererRedraw):this.marker&&this.marker.setMap(null))},e.prototype.render=function(){var n=this,r=null;return this.props.children&&(r=v.Children.map(this.props.children,function(i){if(!v.isValidElement(i))return i;var o=i;return v.cloneElement(o,{anchor:n.marker})})),r||null},e.contextType=Ie,e}(v.PureComponent),XI=function(){function t(e,n){e.getClusterer().extend(t,google.maps.OverlayView),this.cluster=e,this.clusterClassName=this.cluster.getClusterer().getClusterClass(),this.className=this.clusterClassName,this.styles=n,this.center=void 0,this.div=null,this.sums=null,this.visible=!1,this.boundsChangedListener=null,this.url="",this.height=0,this.width=0,this.anchorText=[0,0],this.anchorIcon=[0,0],this.textColor="black",this.textSize=11,this.textDecoration="none",this.fontWeight="bold",this.fontStyle="normal",this.fontFamily="Arial,sans-serif",this.backgroundPosition="0 0",this.cMouseDownInCluster=null,this.cDraggingMapByCluster=null,this.timeOut=null,this.setMap(e.getMap()),this.onBoundsChanged=this.onBoundsChanged.bind(this),this.onMouseDown=this.onMouseDown.bind(this),this.onClick=this.onClick.bind(this),this.onMouseOver=this.onMouseOver.bind(this),this.onMouseOut=this.onMouseOut.bind(this),this.onAdd=this.onAdd.bind(this),this.onRemove=this.onRemove.bind(this),this.draw=this.draw.bind(this),this.hide=this.hide.bind(this),this.show=this.show.bind(this),this.useStyle=this.useStyle.bind(this),this.setCenter=this.setCenter.bind(this),this.getPosFromLatLng=this.getPosFromLatLng.bind(this)}return t.prototype.onBoundsChanged=function(){this.cDraggingMapByCluster=this.cMouseDownInCluster},t.prototype.onMouseDown=function(){this.cMouseDownInCluster=!0,this.cDraggingMapByCluster=!1},t.prototype.onClick=function(e){if(this.cMouseDownInCluster=!1,!this.cDraggingMapByCluster){var n=this.cluster.getClusterer();if(google.maps.event.trigger(n,"click",this.cluster),google.maps.event.trigger(n,"clusterclick",this.cluster),n.getZoomOnClick()){var r=n.getMaxZoom(),i=this.cluster.getBounds(),o=n.getMap();o!==null&&"fitBounds"in o&&o.fitBounds(i),this.timeOut=window.setTimeout(function(){var s=n.getMap();if(s!==null){"fitBounds"in s&&s.fitBounds(i);var a=s.getZoom()||0;r!==null&&a>r&&s.setZoom(r+1)}},100)}e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation()}},t.prototype.onMouseOver=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseover",this.cluster)},t.prototype.onMouseOut=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseout",this.cluster)},t.prototype.onAdd=function(){var e;this.div=document.createElement("div"),this.div.className=this.className,this.visible&&this.show(),(e=this.getPanes())===null||e===void 0||e.overlayMouseTarget.appendChild(this.div);var n=this.getMap();n!==null&&(this.boundsChangedListener=google.maps.event.addListener(n,"bounds_changed",this.onBoundsChanged),this.div.addEventListener("mousedown",this.onMouseDown),this.div.addEventListener("click",this.onClick),this.div.addEventListener("mouseover",this.onMouseOver),this.div.addEventListener("mouseout",this.onMouseOut))},t.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.hide(),this.boundsChangedListener!==null&&google.maps.event.removeListener(this.boundsChangedListener),this.div.removeEventListener("mousedown",this.onMouseDown),this.div.removeEventListener("click",this.onClick),this.div.removeEventListener("mouseover",this.onMouseOver),this.div.removeEventListener("mouseout",this.onMouseOut),this.div.parentNode.removeChild(this.div),this.timeOut!==null&&(window.clearTimeout(this.timeOut),this.timeOut=null),this.div=null)},t.prototype.draw=function(){if(this.visible&&this.div!==null&&this.center){var e=this.getPosFromLatLng(this.center);this.div.style.top=e!==null?"".concat(e.y,"px"):"0",this.div.style.left=e!==null?"".concat(e.x,"px"):"0"}},t.prototype.hide=function(){this.div&&(this.div.style.display="none"),this.visible=!1},t.prototype.show=function(){var e,n,r,i,o,s;if(this.div&&this.center){var a=this.sums===null||typeof this.sums.title>"u"||this.sums.title===""?this.cluster.getClusterer().getTitle():this.sums.title,u=this.backgroundPosition.split(" "),c=parseInt(((e=u[0])===null||e===void 0?void 0:e.replace(/^\s+|\s+$/g,""))||"0",10),h=parseInt(((n=u[1])===null||n===void 0?void 0:n.replace(/^\s+|\s+$/g,""))||"0",10),d=this.getPosFromLatLng(this.center);this.div.className=this.className,this.div.setAttribute("style","cursor: pointer; position: absolute; top: ".concat(d!==null?"".concat(d.y,"px"):"0","; left: ").concat(d!==null?"".concat(d.x,"px"):"0","; width: ").concat(this.width,"px; height: ").concat(this.height,"px; "));var f=document.createElement("img");f.alt=a,f.src=this.url,f.width=this.width,f.height=this.height,f.setAttribute("style","position: absolute; top: ".concat(h,"px; left: ").concat(c,"px")),this.cluster.getClusterer().enableRetinaIcons||(f.style.clip="rect(-".concat(h,"px, -").concat(c+this.width,"px, -").concat(h+this.height,", -").concat(c,")"));var g=document.createElement("div");g.setAttribute("style","position: absolute; top: ".concat(this.anchorText[0],"px; left: ").concat(this.anchorText[1],"px; color: ").concat(this.textColor,"; font-size: ").concat(this.textSize,"px; font-family: ").concat(this.fontFamily,"; font-weight: ").concat(this.fontWeight,"; fontStyle: ").concat(this.fontStyle,"; text-decoration: ").concat(this.textDecoration,"; text-align: center; width: ").concat(this.width,"px; line-height: ").concat(this.height,"px")),!((r=this.sums)===null||r===void 0)&&r.text&&(g.innerText="".concat((i=this.sums)===null||i===void 0?void 0:i.text)),!((o=this.sums)===null||o===void 0)&&o.html&&(g.innerHTML="".concat((s=this.sums)===null||s===void 0?void 0:s.html)),this.div.innerHTML="",this.div.appendChild(f),this.div.appendChild(g),this.div.title=a,this.div.style.display=""}this.visible=!0},t.prototype.useStyle=function(e){this.sums=e;var n=this.cluster.getClusterer().getStyles(),r=n[Math.min(n.length-1,Math.max(0,e.index-1))];r&&(this.url=r.url,this.height=r.height,this.width=r.width,r.className&&(this.className="".concat(this.clusterClassName," ").concat(r.className)),this.anchorText=r.anchorText||[0,0],this.anchorIcon=r.anchorIcon||[this.height/2,this.width/2],this.textColor=r.textColor||"black",this.textSize=r.textSize||11,this.textDecoration=r.textDecoration||"none",this.fontWeight=r.fontWeight||"bold",this.fontStyle=r.fontStyle||"normal",this.fontFamily=r.fontFamily||"Arial,sans-serif",this.backgroundPosition=r.backgroundPosition||"0 0")},t.prototype.setCenter=function(e){this.center=e},t.prototype.getPosFromLatLng=function(e){var n=this.getProjection().fromLatLngToDivPixel(e);return n!==null&&(n.x-=this.anchorIcon[1],n.y-=this.anchorIcon[0]),n},t}(),JI=function(){function t(e){this.markerClusterer=e,this.map=this.markerClusterer.getMap(),this.gridSize=this.markerClusterer.getGridSize(),this.minClusterSize=this.markerClusterer.getMinimumClusterSize(),this.averageCenter=this.markerClusterer.getAverageCenter(),this.markers=[],this.center=void 0,this.bounds=null,this.clusterIcon=new XI(this,this.markerClusterer.getStyles()),this.getSize=this.getSize.bind(this),this.getMarkers=this.getMarkers.bind(this),this.getCenter=this.getCenter.bind(this),this.getMap=this.getMap.bind(this),this.getClusterer=this.getClusterer.bind(this),this.getBounds=this.getBounds.bind(this),this.remove=this.remove.bind(this),this.addMarker=this.addMarker.bind(this),this.isMarkerInClusterBounds=this.isMarkerInClusterBounds.bind(this),this.calculateBounds=this.calculateBounds.bind(this),this.updateIcon=this.updateIcon.bind(this),this.isMarkerAlreadyAdded=this.isMarkerAlreadyAdded.bind(this)}return t.prototype.getSize=function(){return this.markers.length},t.prototype.getMarkers=function(){return this.markers},t.prototype.getCenter=function(){return this.center},t.prototype.getMap=function(){return this.map},t.prototype.getClusterer=function(){return this.markerClusterer},t.prototype.getBounds=function(){for(var e=new google.maps.LatLngBounds(this.center,this.center),n=this.getMarkers(),r=0,i=n;r<i.length;r++){var o=i[r],s=o.getPosition();s&&e.extend(s)}return e},t.prototype.remove=function(){this.clusterIcon.setMap(null),this.markers=[],delete this.markers},t.prototype.addMarker=function(e){var n;if(this.isMarkerAlreadyAdded(e))return!1;if(this.center){if(this.averageCenter){var r=e.getPosition();if(r){var i=this.markers.length+1;this.center=new google.maps.LatLng((this.center.lat()*(i-1)+r.lat())/i,(this.center.lng()*(i-1)+r.lng())/i),this.calculateBounds()}}}else{var r=e.getPosition();r&&(this.center=r,this.calculateBounds())}e.isAdded=!0,this.markers.push(e);var o=this.markers.length,s=this.markerClusterer.getMaxZoom(),a=(n=this.map)===null||n===void 0?void 0:n.getZoom();if(s!==null&&typeof a<"u"&&a>s)e.getMap()!==this.map&&e.setMap(this.map);else if(o<this.minClusterSize)e.getMap()!==this.map&&e.setMap(this.map);else if(o===this.minClusterSize)for(var u=0,c=this.markers;u<c.length;u++){var h=c[u];h.setMap(null)}else e.setMap(null);return!0},t.prototype.isMarkerInClusterBounds=function(e){if(this.bounds!==null){var n=e.getPosition();if(n)return this.bounds.contains(n)}return!1},t.prototype.calculateBounds=function(){this.bounds=this.markerClusterer.getExtendedBounds(new google.maps.LatLngBounds(this.center,this.center))},t.prototype.updateIcon=function(){var e,n=this.markers.length,r=this.markerClusterer.getMaxZoom(),i=(e=this.map)===null||e===void 0?void 0:e.getZoom();if(r!==null&&typeof i<"u"&&i>r){this.clusterIcon.hide();return}if(n<this.minClusterSize){this.clusterIcon.hide();return}this.center&&this.clusterIcon.setCenter(this.center),this.clusterIcon.useStyle(this.markerClusterer.getCalculator()(this.markers,this.markerClusterer.getStyles().length)),this.clusterIcon.show()},t.prototype.isMarkerAlreadyAdded=function(e){if(this.markers.includes)return this.markers.includes(e);for(var n=0;n<this.markers.length;n++)if(e===this.markers[n])return!0;return!1},t}();function ex(t,e){var n=t.length,r=n.toString().length,i=Math.min(r,e);return{text:n.toString(),index:i,title:""}}var tx=2e3,nx=500,rx="https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/m",ix="png",ox=[53,56,66,78,90],sx="cluster",dw=function(){function t(e,n,r){n===void 0&&(n=[]),r===void 0&&(r={}),this.getMinimumClusterSize=this.getMinimumClusterSize.bind(this),this.setMinimumClusterSize=this.setMinimumClusterSize.bind(this),this.getEnableRetinaIcons=this.getEnableRetinaIcons.bind(this),this.setEnableRetinaIcons=this.setEnableRetinaIcons.bind(this),this.addToClosestCluster=this.addToClosestCluster.bind(this),this.getImageExtension=this.getImageExtension.bind(this),this.setImageExtension=this.setImageExtension.bind(this),this.getExtendedBounds=this.getExtendedBounds.bind(this),this.getAverageCenter=this.getAverageCenter.bind(this),this.setAverageCenter=this.setAverageCenter.bind(this),this.getTotalClusters=this.getTotalClusters.bind(this),this.fitMapToMarkers=this.fitMapToMarkers.bind(this),this.getIgnoreHidden=this.getIgnoreHidden.bind(this),this.setIgnoreHidden=this.setIgnoreHidden.bind(this),this.getClusterClass=this.getClusterClass.bind(this),this.setClusterClass=this.setClusterClass.bind(this),this.getTotalMarkers=this.getTotalMarkers.bind(this),this.getZoomOnClick=this.getZoomOnClick.bind(this),this.setZoomOnClick=this.setZoomOnClick.bind(this),this.getBatchSizeIE=this.getBatchSizeIE.bind(this),this.setBatchSizeIE=this.setBatchSizeIE.bind(this),this.createClusters=this.createClusters.bind(this),this.onZoomChanged=this.onZoomChanged.bind(this),this.getImageSizes=this.getImageSizes.bind(this),this.setImageSizes=this.setImageSizes.bind(this),this.getCalculator=this.getCalculator.bind(this),this.setCalculator=this.setCalculator.bind(this),this.removeMarkers=this.removeMarkers.bind(this),this.resetViewport=this.resetViewport.bind(this),this.getImagePath=this.getImagePath.bind(this),this.setImagePath=this.setImagePath.bind(this),this.pushMarkerTo=this.pushMarkerTo.bind(this),this.removeMarker=this.removeMarker.bind(this),this.clearMarkers=this.clearMarkers.bind(this),this.setupStyles=this.setupStyles.bind(this),this.getGridSize=this.getGridSize.bind(this),this.setGridSize=this.setGridSize.bind(this),this.getClusters=this.getClusters.bind(this),this.getMaxZoom=this.getMaxZoom.bind(this),this.setMaxZoom=this.setMaxZoom.bind(this),this.getMarkers=this.getMarkers.bind(this),this.addMarkers=this.addMarkers.bind(this),this.getStyles=this.getStyles.bind(this),this.setStyles=this.setStyles.bind(this),this.addMarker=this.addMarker.bind(this),this.onRemove=this.onRemove.bind(this),this.getTitle=this.getTitle.bind(this),this.setTitle=this.setTitle.bind(this),this.repaint=this.repaint.bind(this),this.onIdle=this.onIdle.bind(this),this.redraw=this.redraw.bind(this),this.onAdd=this.onAdd.bind(this),this.draw=this.draw.bind(this),this.extend=this.extend.bind(this),this.extend(t,google.maps.OverlayView),this.markers=[],this.clusters=[],this.listeners=[],this.activeMap=null,this.ready=!1,this.gridSize=r.gridSize||60,this.minClusterSize=r.minimumClusterSize||2,this.maxZoom=r.maxZoom||null,this.styles=r.styles||[],this.title=r.title||"",this.zoomOnClick=!0,r.zoomOnClick!==void 0&&(this.zoomOnClick=r.zoomOnClick),this.averageCenter=!1,r.averageCenter!==void 0&&(this.averageCenter=r.averageCenter),this.ignoreHidden=!1,r.ignoreHidden!==void 0&&(this.ignoreHidden=r.ignoreHidden),this.enableRetinaIcons=!1,r.enableRetinaIcons!==void 0&&(this.enableRetinaIcons=r.enableRetinaIcons),this.imagePath=r.imagePath||rx,this.imageExtension=r.imageExtension||ix,this.imageSizes=r.imageSizes||ox,this.calculator=r.calculator||ex,this.batchSize=r.batchSize||tx,this.batchSizeIE=r.batchSizeIE||nx,this.clusterClass=r.clusterClass||sx,navigator.userAgent.toLowerCase().indexOf("msie")!==-1&&(this.batchSize=this.batchSizeIE),this.timerRefStatic=null,this.setupStyles(),this.addMarkers(n,!0),this.setMap(e)}return t.prototype.onZoomChanged=function(){var e,n;this.resetViewport(!1),(((e=this.getMap())===null||e===void 0?void 0:e.getZoom())===(this.get("minZoom")||0)||((n=this.getMap())===null||n===void 0?void 0:n.getZoom())===this.get("maxZoom"))&&google.maps.event.trigger(this,"idle")},t.prototype.onIdle=function(){this.redraw()},t.prototype.onAdd=function(){var e=this.getMap();this.activeMap=e,this.ready=!0,this.repaint(),e!==null&&(this.listeners=[google.maps.event.addListener(e,"zoom_changed",this.onZoomChanged),google.maps.event.addListener(e,"idle",this.onIdle)])},t.prototype.onRemove=function(){for(var e=0,n=this.markers;e<n.length;e++){var r=n[e];r.getMap()!==this.activeMap&&r.setMap(this.activeMap)}for(var i=0,o=this.clusters;i<o.length;i++){var s=o[i];s.remove()}this.clusters=[];for(var a=0,u=this.listeners;a<u.length;a++){var c=u[a];google.maps.event.removeListener(c)}this.listeners=[],this.activeMap=null,this.ready=!1},t.prototype.draw=function(){},t.prototype.getMap=function(){return null},t.prototype.getPanes=function(){return null},t.prototype.getProjection=function(){return{fromContainerPixelToLatLng:function(){return null},fromDivPixelToLatLng:function(){return null},fromLatLngToContainerPixel:function(){return null},fromLatLngToDivPixel:function(){return null},getVisibleRegion:function(){return null},getWorldWidth:function(){return 0}}},t.prototype.setMap=function(){},t.prototype.addListener=function(){return{remove:function(){}}},t.prototype.bindTo=function(){},t.prototype.get=function(){},t.prototype.notify=function(){},t.prototype.set=function(){},t.prototype.setValues=function(){},t.prototype.unbind=function(){},t.prototype.unbindAll=function(){},t.prototype.setupStyles=function(){if(!(this.styles.length>0))for(var e=0;e<this.imageSizes.length;e++)this.styles.push({url:"".concat(this.imagePath+(e+1),".").concat(this.imageExtension),height:this.imageSizes[e]||0,width:this.imageSizes[e]||0})},t.prototype.fitMapToMarkers=function(){for(var e=this.getMarkers(),n=new google.maps.LatLngBounds,r=0,i=e;r<i.length;r++){var o=i[r],s=o.getPosition();s&&n.extend(s)}var a=this.getMap();a!==null&&"fitBounds"in a&&a.fitBounds(n)},t.prototype.getGridSize=function(){return this.gridSize},t.prototype.setGridSize=function(e){this.gridSize=e},t.prototype.getMinimumClusterSize=function(){return this.minClusterSize},t.prototype.setMinimumClusterSize=function(e){this.minClusterSize=e},t.prototype.getMaxZoom=function(){return this.maxZoom},t.prototype.setMaxZoom=function(e){this.maxZoom=e},t.prototype.getStyles=function(){return this.styles},t.prototype.setStyles=function(e){this.styles=e},t.prototype.getTitle=function(){return this.title},t.prototype.setTitle=function(e){this.title=e},t.prototype.getZoomOnClick=function(){return this.zoomOnClick},t.prototype.setZoomOnClick=function(e){this.zoomOnClick=e},t.prototype.getAverageCenter=function(){return this.averageCenter},t.prototype.setAverageCenter=function(e){this.averageCenter=e},t.prototype.getIgnoreHidden=function(){return this.ignoreHidden},t.prototype.setIgnoreHidden=function(e){this.ignoreHidden=e},t.prototype.getEnableRetinaIcons=function(){return this.enableRetinaIcons},t.prototype.setEnableRetinaIcons=function(e){this.enableRetinaIcons=e},t.prototype.getImageExtension=function(){return this.imageExtension},t.prototype.setImageExtension=function(e){this.imageExtension=e},t.prototype.getImagePath=function(){return this.imagePath},t.prototype.setImagePath=function(e){this.imagePath=e},t.prototype.getImageSizes=function(){return this.imageSizes},t.prototype.setImageSizes=function(e){this.imageSizes=e},t.prototype.getCalculator=function(){return this.calculator},t.prototype.setCalculator=function(e){this.calculator=e},t.prototype.getBatchSizeIE=function(){return this.batchSizeIE},t.prototype.setBatchSizeIE=function(e){this.batchSizeIE=e},t.prototype.getClusterClass=function(){return this.clusterClass},t.prototype.setClusterClass=function(e){this.clusterClass=e},t.prototype.getMarkers=function(){return this.markers},t.prototype.getTotalMarkers=function(){return this.markers.length},t.prototype.getClusters=function(){return this.clusters},t.prototype.getTotalClusters=function(){return this.clusters.length},t.prototype.addMarker=function(e,n){this.pushMarkerTo(e),n||this.redraw()},t.prototype.addMarkers=function(e,n){for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=e[r];i&&this.pushMarkerTo(i)}n||this.redraw()},t.prototype.pushMarkerTo=function(e){var n=this;e.getDraggable()&&google.maps.event.addListener(e,"dragend",function(){n.ready&&(e.isAdded=!1,n.repaint())}),e.isAdded=!1,this.markers.push(e)},t.prototype.removeMarker_=function(e){var n=-1;if(this.markers.indexOf)n=this.markers.indexOf(e);else for(var r=0;r<this.markers.length;r++)if(e===this.markers[r]){n=r;break}return n===-1?!1:(e.setMap(null),this.markers.splice(n,1),!0)},t.prototype.removeMarker=function(e,n){var r=this.removeMarker_(e);return!n&&r&&this.repaint(),r},t.prototype.removeMarkers=function(e,n){for(var r=!1,i=0,o=e;i<o.length;i++){var s=o[i];r=r||this.removeMarker_(s)}return!n&&r&&this.repaint(),r},t.prototype.clearMarkers=function(){this.resetViewport(!0),this.markers=[]},t.prototype.repaint=function(){var e=this.clusters.slice();this.clusters=[],this.resetViewport(!1),this.redraw(),setTimeout(function(){for(var r=0,i=e;r<i.length;r++){var o=i[r];o.remove()}},0)},t.prototype.getExtendedBounds=function(e){var n=this.getProjection(),r=n.fromLatLngToDivPixel(new google.maps.LatLng(e.getNorthEast().lat(),e.getNorthEast().lng()));r!==null&&(r.x+=this.gridSize,r.y-=this.gridSize);var i=n.fromLatLngToDivPixel(new google.maps.LatLng(e.getSouthWest().lat(),e.getSouthWest().lng()));if(i!==null&&(i.x-=this.gridSize,i.y+=this.gridSize),r!==null){var o=n.fromDivPixelToLatLng(r);o!==null&&e.extend(o)}if(i!==null){var s=n.fromDivPixelToLatLng(i);s!==null&&e.extend(s)}return e},t.prototype.redraw=function(){this.createClusters(0)},t.prototype.resetViewport=function(e){for(var n=0,r=this.clusters;n<r.length;n++){var i=r[n];i.remove()}this.clusters=[];for(var o=0,s=this.markers;o<s.length;o++){var a=s[o];a.isAdded=!1,e&&a.setMap(null)}},t.prototype.distanceBetweenPoints=function(e,n){var r=6371,i=(n.lat()-e.lat())*Math.PI/180,o=(n.lng()-e.lng())*Math.PI/180,s=Math.sin(i/2)*Math.sin(i/2)+Math.cos(e.lat()*Math.PI/180)*Math.cos(n.lat()*Math.PI/180)*Math.sin(o/2)*Math.sin(o/2);return r*(2*Math.atan2(Math.sqrt(s),Math.sqrt(1-s)))},t.prototype.isMarkerInBounds=function(e,n){var r=e.getPosition();return r?n.contains(r):!1},t.prototype.addToClosestCluster=function(e){for(var n,r=4e4,i=null,o=0,s=this.clusters;o<s.length;o++){var a=s[o];n=a;var u=n.getCenter(),c=e.getPosition();if(u&&c){var h=this.distanceBetweenPoints(u,c);h<r&&(r=h,i=n)}}i&&i.isMarkerInClusterBounds(e)?i.addMarker(e):(n=new JI(this),n.addMarker(e),this.clusters.push(n))},t.prototype.createClusters=function(e){var n=this;if(this.ready){e===0&&(google.maps.event.trigger(this,"clusteringbegin",this),this.timerRefStatic!==null&&(window.clearTimeout(this.timerRefStatic),delete this.timerRefStatic));for(var r=this.getMap(),i=r!==null&&("getBounds"in r)?r.getBounds():null,o=(r==null?void 0:r.getZoom())||0,s=o>3?new google.maps.LatLngBounds(i==null?void 0:i.getSouthWest(),i==null?void 0:i.getNorthEast()):new google.maps.LatLngBounds(new google.maps.LatLng(85.02070771743472,-178.48388434375),new google.maps.LatLng(-85.08136444384544,178.00048865625)),a=this.getExtendedBounds(s),u=Math.min(e+this.batchSize,this.markers.length),c=e;c<u;c++){var h=this.markers[c];h&&!h.isAdded&&this.isMarkerInBounds(h,a)&&(!this.ignoreHidden||this.ignoreHidden&&h.getVisible())&&this.addToClosestCluster(h)}if(u<this.markers.length)this.timerRefStatic=window.setTimeout(function(){n.createClusters(u)},0);else{this.timerRefStatic=null,google.maps.event.trigger(this,"clusteringend",this);for(var d=0,f=this.clusters;d<f.length;d++){var g=f[d];g.updateIcon()}}}},t.prototype.extend=function(e,n){return(function(i){for(var o in i.prototype){var s=o;this.prototype[s]=i.prototype[s]}return this}).apply(e,[n])},t}(),Tn={onClick:"click",onClusteringBegin:"clusteringbegin",onClusteringEnd:"clusteringend",onMouseOut:"mouseout",onMouseOver:"mouseover"},Fe={averageCenter:function(t,e){t.setAverageCenter(e)},batchSizeIE:function(t,e){t.setBatchSizeIE(e)},calculator:function(t,e){t.setCalculator(e)},clusterClass:function(t,e){t.setClusterClass(e)},enableRetinaIcons:function(t,e){t.setEnableRetinaIcons(e)},gridSize:function(t,e){t.setGridSize(e)},ignoreHidden:function(t,e){t.setIgnoreHidden(e)},imageExtension:function(t,e){t.setImageExtension(e)},imagePath:function(t,e){t.setImagePath(e)},imageSizes:function(t,e){t.setImageSizes(e)},maxZoom:function(t,e){t.setMaxZoom(e)},minimumClusterSize:function(t,e){t.setMinimumClusterSize(e)},styles:function(t,e){t.setStyles(e)},title:function(t,e){t.setTitle(e)},zoomOnClick:function(t,e){t.setZoomOnClick(e)}},ax={};function lx(t){var e=t.children,n=t.options,r=t.averageCenter,i=t.batchSizeIE,o=t.calculator,s=t.clusterClass,a=t.enableRetinaIcons,u=t.gridSize,c=t.ignoreHidden,h=t.imageExtension,d=t.imagePath,f=t.imageSizes,g=t.maxZoom,w=t.minimumClusterSize,A=t.styles,R=t.title,E=t.zoomOnClick,x=t.onClick,I=t.onClusteringBegin,M=t.onClusteringEnd,V=t.onMouseOver,S=t.onMouseOut,C=t.onLoad,p=t.onUnmount,y=v.useState(null),_=y[0],P=y[1],k=v.useContext(Ie),L=v.useState(null),F=L[0],z=L[1],O=v.useState(null),b=O[0],j=O[1],U=v.useState(null),B=U[0],q=U[1],Q=v.useState(null),Y=Q[0],G=Q[1],W=v.useState(null),$=W[0],se=W[1];return v.useEffect(function(){_&&S&&(Y!==null&&google.maps.event.removeListener(Y),G(google.maps.event.addListener(_,Tn.onMouseOut,S)))},[S]),v.useEffect(function(){_&&V&&($!==null&&google.maps.event.removeListener($),se(google.maps.event.addListener(_,Tn.onMouseOver,V)))},[V]),v.useEffect(function(){_&&x&&(F!==null&&google.maps.event.removeListener(F),z(google.maps.event.addListener(_,Tn.onClick,x)))},[x]),v.useEffect(function(){_&&I&&(b!==null&&google.maps.event.removeListener(b),j(google.maps.event.addListener(_,Tn.onClusteringBegin,I)))},[I]),v.useEffect(function(){_&&M&&(B!==null&&google.maps.event.removeListener(B),j(google.maps.event.addListener(_,Tn.onClusteringEnd,M)))},[M]),v.useEffect(function(){typeof r<"u"&&_!==null&&Fe.averageCenter(_,r)},[_,r]),v.useEffect(function(){typeof i<"u"&&_!==null&&Fe.batchSizeIE(_,i)},[_,i]),v.useEffect(function(){typeof o<"u"&&_!==null&&Fe.calculator(_,o)},[_,o]),v.useEffect(function(){typeof s<"u"&&_!==null&&Fe.clusterClass(_,s)},[_,s]),v.useEffect(function(){typeof a<"u"&&_!==null&&Fe.enableRetinaIcons(_,a)},[_,a]),v.useEffect(function(){typeof u<"u"&&_!==null&&Fe.gridSize(_,u)},[_,u]),v.useEffect(function(){typeof c<"u"&&_!==null&&Fe.ignoreHidden(_,c)},[_,c]),v.useEffect(function(){typeof h<"u"&&_!==null&&Fe.imageExtension(_,h)},[_,h]),v.useEffect(function(){typeof d<"u"&&_!==null&&Fe.imagePath(_,d)},[_,d]),v.useEffect(function(){typeof f<"u"&&_!==null&&Fe.imageSizes(_,f)},[_,f]),v.useEffect(function(){typeof g<"u"&&_!==null&&Fe.maxZoom(_,g)},[_,g]),v.useEffect(function(){typeof w<"u"&&_!==null&&Fe.minimumClusterSize(_,w)},[_,w]),v.useEffect(function(){typeof A<"u"&&_!==null&&Fe.styles(_,A)},[_,A]),v.useEffect(function(){typeof R<"u"&&_!==null&&Fe.title(_,R)},[_,R]),v.useEffect(function(){typeof E<"u"&&_!==null&&Fe.zoomOnClick(_,E)},[_,E]),v.useEffect(function(){if(k){var ce=he({},n||ax),te=new dw(k,[],ce);return r&&Fe.averageCenter(te,r),i&&Fe.batchSizeIE(te,i),o&&Fe.calculator(te,o),s&&Fe.clusterClass(te,s),a&&Fe.enableRetinaIcons(te,a),u&&Fe.gridSize(te,u),c&&Fe.ignoreHidden(te,c),h&&Fe.imageExtension(te,h),d&&Fe.imagePath(te,d),f&&Fe.imageSizes(te,f),g&&Fe.maxZoom(te,g),w&&Fe.minimumClusterSize(te,w),A&&Fe.styles(te,A),R&&Fe.title(te,R),E&&Fe.zoomOnClick(te,E),S&&G(google.maps.event.addListener(te,Tn.onMouseOut,S)),V&&se(google.maps.event.addListener(te,Tn.onMouseOver,V)),x&&z(google.maps.event.addListener(te,Tn.onClick,x)),I&&j(google.maps.event.addListener(te,Tn.onClusteringBegin,I)),M&&q(google.maps.event.addListener(te,Tn.onClusteringEnd,M)),P(te),C&&C(te),function(){Y!==null&&google.maps.event.removeListener(Y),$!==null&&google.maps.event.removeListener($),F!==null&&google.maps.event.removeListener(F),b!==null&&google.maps.event.removeListener(b),B!==null&&google.maps.event.removeListener(B),p&&p(te)}}},[]),_!==null&&e(_)||null}v.memo(lx);(function(t){Ge(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.registeredEvents=[],n.state={markerClusterer:null},n.setClustererCallback=function(){n.state.markerClusterer!==null&&n.props.onLoad&&n.props.onLoad(n.state.markerClusterer)},n}return e.prototype.componentDidMount=function(){if(this.context){var n=new dw(this.context,[],this.props.options);this.registeredEvents=ke({updaterMap:Fe,eventMap:Tn,prevProps:{},nextProps:this.props,instance:n}),this.setState(function(){return{markerClusterer:n}},this.setClustererCallback)}},e.prototype.componentDidUpdate=function(n){this.state.markerClusterer&&(Re(this.registeredEvents),this.registeredEvents=ke({updaterMap:Fe,eventMap:Tn,prevProps:n,nextProps:this.props,instance:this.state.markerClusterer}))},e.prototype.componentWillUnmount=function(){this.state.markerClusterer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.markerClusterer),Re(this.registeredEvents),this.state.markerClusterer.setMap(null))},e.prototype.render=function(){return this.state.markerClusterer!==null?this.props.children(this.state.markerClusterer):null},e.contextType=Ie,e})(v.PureComponent);function Jm(t){t.cancelBubble=!0,t.stopPropagation&&t.stopPropagation()}var fw=function(){function t(e){e===void 0&&(e={}),this.getCloseClickHandler=this.getCloseClickHandler.bind(this),this.closeClickHandler=this.closeClickHandler.bind(this),this.createInfoBoxDiv=this.createInfoBoxDiv.bind(this),this.addClickHandler=this.addClickHandler.bind(this),this.getCloseBoxImg=this.getCloseBoxImg.bind(this),this.getBoxWidths=this.getBoxWidths.bind(this),this.setBoxStyle=this.setBoxStyle.bind(this),this.setPosition=this.setPosition.bind(this),this.getPosition=this.getPosition.bind(this),this.setOptions=this.setOptions.bind(this),this.setContent=this.setContent.bind(this),this.setVisible=this.setVisible.bind(this),this.getContent=this.getContent.bind(this),this.getVisible=this.getVisible.bind(this),this.setZIndex=this.setZIndex.bind(this),this.getZIndex=this.getZIndex.bind(this),this.onRemove=this.onRemove.bind(this),this.panBox=this.panBox.bind(this),this.extend=this.extend.bind(this),this.close=this.close.bind(this),this.draw=this.draw.bind(this),this.show=this.show.bind(this),this.hide=this.hide.bind(this),this.open=this.open.bind(this),this.extend(t,google.maps.OverlayView),this.content=e.content||"",this.disableAutoPan=e.disableAutoPan||!1,this.maxWidth=e.maxWidth||0,this.pixelOffset=e.pixelOffset||new google.maps.Size(0,0),this.position=e.position||new google.maps.LatLng(0,0),this.zIndex=e.zIndex||null,this.boxClass=e.boxClass||"infoBox",this.boxStyle=e.boxStyle||{},this.closeBoxMargin=e.closeBoxMargin||"2px",this.closeBoxURL=e.closeBoxURL||"http://www.google.com/intl/en_us/mapfiles/close.gif",e.closeBoxURL===""&&(this.closeBoxURL=""),this.infoBoxClearance=e.infoBoxClearance||new google.maps.Size(1,1),typeof e.visible>"u"&&(typeof e.isHidden>"u"?e.visible=!0:e.visible=!e.isHidden),this.isHidden=!e.visible,this.alignBottom=e.alignBottom||!1,this.pane=e.pane||"floatPane",this.enableEventPropagation=e.enableEventPropagation||!1,this.div=null,this.closeListener=null,this.moveListener=null,this.mapListener=null,this.contextListener=null,this.eventListeners=null,this.fixedWidthSet=null}return t.prototype.createInfoBoxDiv=function(){var e=this,n=function(c){c.returnValue=!1,c.preventDefault&&c.preventDefault(),e.enableEventPropagation||Jm(c)};if(!this.div){this.div=document.createElement("div"),this.setBoxStyle(),typeof this.content=="string"?this.div.innerHTML=this.getCloseBoxImg()+this.content:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(this.content));var r=this.getPanes();if(r!==null&&r[this.pane].appendChild(this.div),this.addClickHandler(),this.div.style.width)this.fixedWidthSet=!0;else if(this.maxWidth!==0&&this.div.offsetWidth>this.maxWidth)this.div.style.width=this.maxWidth+"px",this.fixedWidthSet=!0;else{var i=this.getBoxWidths();this.div.style.width=this.div.offsetWidth-i.left-i.right+"px",this.fixedWidthSet=!1}if(this.panBox(this.disableAutoPan),!this.enableEventPropagation){this.eventListeners=[];for(var o=["mousedown","mouseover","mouseout","mouseup","click","dblclick","touchstart","touchend","touchmove"],s=0,a=o;s<a.length;s++){var u=a[s];this.eventListeners.push(google.maps.event.addListener(this.div,u,Jm))}this.eventListeners.push(google.maps.event.addListener(this.div,"mouseover",function(){e.div&&(e.div.style.cursor="default")}))}this.contextListener=google.maps.event.addListener(this.div,"contextmenu",n),google.maps.event.trigger(this,"domready")}},t.prototype.getCloseBoxImg=function(){var e="";return this.closeBoxURL!==""&&(e='<img alt=""',e+=' aria-hidden="true"',e+=" src='"+this.closeBoxURL+"'",e+=" align=right",e+=" style='",e+=" position: relative;",e+=" cursor: pointer;",e+=" margin: "+this.closeBoxMargin+";",e+="'>"),e},t.prototype.addClickHandler=function(){this.closeListener=this.div&&this.div.firstChild&&this.closeBoxURL!==""?google.maps.event.addListener(this.div.firstChild,"click",this.getCloseClickHandler()):null},t.prototype.closeClickHandler=function(e){e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation(),google.maps.event.trigger(this,"closeclick"),this.close()},t.prototype.getCloseClickHandler=function(){return this.closeClickHandler},t.prototype.panBox=function(e){if(this.div&&!e){var n=this.getMap();if(n instanceof google.maps.Map){var r=0,i=0,o=n.getBounds();o&&!o.contains(this.position)&&n.setCenter(this.position);var s=n.getDiv(),a=s.offsetWidth,u=s.offsetHeight,c=this.pixelOffset.width,h=this.pixelOffset.height,d=this.div.offsetWidth,f=this.div.offsetHeight,g=this.infoBoxClearance.width,w=this.infoBoxClearance.height,A=this.getProjection(),R=A.fromLatLngToContainerPixel(this.position);R!==null&&(R.x<-c+g?r=R.x+c-g:R.x+d+c+g>a&&(r=R.x+d+c+g-a),this.alignBottom?R.y<-h+w+f?i=R.y+h-w-f:R.y+h+w>u&&(i=R.y+h+w-u):R.y<-h+w?i=R.y+h-w:R.y+f+h+w>u&&(i=R.y+f+h+w-u)),r===0&&i===0||n.panBy(r,i)}}},t.prototype.setBoxStyle=function(){if(this.div){this.div.className=this.boxClass,this.div.style.cssText="";var e=this.boxStyle;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(this.div.style[n]=e[n]);if(this.div.style.webkitTransform="translateZ(0)",typeof this.div.style.opacity<"u"&&this.div.style.opacity!==""){var r=parseFloat(this.div.style.opacity||"");this.div.style.msFilter='"progid:DXImageTransform.Microsoft.Alpha(Opacity='+r*100+')"',this.div.style.filter="alpha(opacity="+r*100+")"}this.div.style.position="absolute",this.div.style.visibility="hidden",this.zIndex!==null&&(this.div.style.zIndex=this.zIndex+""),this.div.style.overflow||(this.div.style.overflow="auto")}},t.prototype.getBoxWidths=function(){var e={top:0,bottom:0,left:0,right:0};if(!this.div)return e;if(document.defaultView){var n=this.div.ownerDocument,r=n&&n.defaultView?n.defaultView.getComputedStyle(this.div,""):null;r&&(e.top=parseInt(r.borderTopWidth||"",10)||0,e.bottom=parseInt(r.borderBottomWidth||"",10)||0,e.left=parseInt(r.borderLeftWidth||"",10)||0,e.right=parseInt(r.borderRightWidth||"",10)||0)}else if(document.documentElement.currentStyle){var i=this.div.currentStyle;i&&(e.top=parseInt(i.borderTopWidth||"",10)||0,e.bottom=parseInt(i.borderBottomWidth||"",10)||0,e.left=parseInt(i.borderLeftWidth||"",10)||0,e.right=parseInt(i.borderRightWidth||"",10)||0)}return e},t.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.div.parentNode.removeChild(this.div),this.div=null)},t.prototype.draw=function(){if(this.createInfoBoxDiv(),this.div){var e=this.getProjection(),n=e.fromLatLngToDivPixel(this.position);n!==null&&(this.div.style.left=n.x+this.pixelOffset.width+"px",this.alignBottom?this.div.style.bottom=-(n.y+this.pixelOffset.height)+"px":this.div.style.top=n.y+this.pixelOffset.height+"px"),this.isHidden?this.div.style.visibility="hidden":this.div.style.visibility="visible"}},t.prototype.setOptions=function(e){e===void 0&&(e={}),typeof e.boxClass<"u"&&(this.boxClass=e.boxClass,this.setBoxStyle()),typeof e.boxStyle<"u"&&(this.boxStyle=e.boxStyle,this.setBoxStyle()),typeof e.content<"u"&&this.setContent(e.content),typeof e.disableAutoPan<"u"&&(this.disableAutoPan=e.disableAutoPan),typeof e.maxWidth<"u"&&(this.maxWidth=e.maxWidth),typeof e.pixelOffset<"u"&&(this.pixelOffset=e.pixelOffset),typeof e.alignBottom<"u"&&(this.alignBottom=e.alignBottom),typeof e.position<"u"&&this.setPosition(e.position),typeof e.zIndex<"u"&&this.setZIndex(e.zIndex),typeof e.closeBoxMargin<"u"&&(this.closeBoxMargin=e.closeBoxMargin),typeof e.closeBoxURL<"u"&&(this.closeBoxURL=e.closeBoxURL),typeof e.infoBoxClearance<"u"&&(this.infoBoxClearance=e.infoBoxClearance),typeof e.isHidden<"u"&&(this.isHidden=e.isHidden),typeof e.visible<"u"&&(this.isHidden=!e.visible),typeof e.enableEventPropagation<"u"&&(this.enableEventPropagation=e.enableEventPropagation),this.div&&this.draw()},t.prototype.setContent=function(e){this.content=e,this.div&&(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.fixedWidthSet||(this.div.style.width=""),typeof e=="string"?this.div.innerHTML=this.getCloseBoxImg()+e:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(e)),this.fixedWidthSet||(this.div.style.width=this.div.offsetWidth+"px",typeof e=="string"?this.div.innerHTML=this.getCloseBoxImg()+e:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(e))),this.addClickHandler()),google.maps.event.trigger(this,"content_changed")},t.prototype.setPosition=function(e){this.position=e,this.div&&this.draw(),google.maps.event.trigger(this,"position_changed")},t.prototype.setVisible=function(e){this.isHidden=!e,this.div&&(this.div.style.visibility=this.isHidden?"hidden":"visible")},t.prototype.setZIndex=function(e){this.zIndex=e,this.div&&(this.div.style.zIndex=e+""),google.maps.event.trigger(this,"zindex_changed")},t.prototype.getContent=function(){return this.content},t.prototype.getPosition=function(){return this.position},t.prototype.getZIndex=function(){return this.zIndex},t.prototype.getVisible=function(){var e=this.getMap();return typeof e>"u"||e===null?!1:!this.isHidden},t.prototype.show=function(){this.isHidden=!1,this.div&&(this.div.style.visibility="visible")},t.prototype.hide=function(){this.isHidden=!0,this.div&&(this.div.style.visibility="hidden")},t.prototype.open=function(e,n){var r=this;n&&(this.position=n.getPosition(),this.moveListener=google.maps.event.addListener(n,"position_changed",function(){var i=n.getPosition();r.setPosition(i)}),this.mapListener=google.maps.event.addListener(n,"map_changed",function(){r.setMap(n.map)})),this.setMap(e),this.div&&this.panBox()},t.prototype.close=function(){if(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.eventListeners){for(var e=0,n=this.eventListeners;e<n.length;e++){var r=n[e];google.maps.event.removeListener(r)}this.eventListeners=null}this.moveListener&&(google.maps.event.removeListener(this.moveListener),this.moveListener=null),this.mapListener&&(google.maps.event.removeListener(this.mapListener),this.mapListener=null),this.contextListener&&(google.maps.event.removeListener(this.contextListener),this.contextListener=null),this.setMap(null)},t.prototype.extend=function(e,n){return(function(i){for(var o in i.prototype)Object.prototype.hasOwnProperty.call(this,o)||(this.prototype[o]=i.prototype[o]);return this}).apply(e,[n])},t}(),ev={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},tv={options:function(t,e){t.setOptions(e)},position:function(t,e){e instanceof google.maps.LatLng?t.setPosition(e):t.setPosition(new google.maps.LatLng(e.lat,e.lng))},visible:function(t,e){t.setVisible(e)},zIndex:function(t,e){t.setZIndex(e)}},ux={};function cx(t){var e=t.children,n=t.anchor,r=t.options,i=t.position,o=t.zIndex,s=t.onCloseClick,a=t.onDomReady,u=t.onContentChanged,c=t.onPositionChanged,h=t.onZindexChanged,d=t.onLoad,f=t.onUnmount,g=v.useContext(Ie),w=v.useState(null),A=w[0],R=w[1],E=v.useState(null),x=E[0],I=E[1],M=v.useState(null),V=M[0],S=M[1],C=v.useState(null),p=C[0],y=C[1],_=v.useState(null),P=_[0],k=_[1],L=v.useState(null),F=L[0],z=L[1],O=v.useRef(null);return v.useEffect(function(){g&&A!==null&&(A.close(),n?A.open(g,n):A.getPosition()&&A.open(g))},[g,A,n]),v.useEffect(function(){r&&A!==null&&A.setOptions(r)},[A,r]),v.useEffect(function(){if(i&&A!==null){var b=i instanceof google.maps.LatLng?i:new google.maps.LatLng(i.lat,i.lng);A.setPosition(b)}},[i]),v.useEffect(function(){typeof o=="number"&&A!==null&&A.setZIndex(o)},[o]),v.useEffect(function(){A&&s&&(x!==null&&google.maps.event.removeListener(x),I(google.maps.event.addListener(A,"closeclick",s)))},[s]),v.useEffect(function(){A&&a&&(V!==null&&google.maps.event.removeListener(V),S(google.maps.event.addListener(A,"domready",a)))},[a]),v.useEffect(function(){A&&u&&(p!==null&&google.maps.event.removeListener(p),y(google.maps.event.addListener(A,"content_changed",u)))},[u]),v.useEffect(function(){A&&c&&(P!==null&&google.maps.event.removeListener(P),k(google.maps.event.addListener(A,"position_changed",c)))},[c]),v.useEffect(function(){A&&h&&(F!==null&&google.maps.event.removeListener(F),z(google.maps.event.addListener(A,"zindex_changed",h)))},[h]),v.useEffect(function(){if(g){var b=r||ux,j=b.position,U=Yf(b,["position"]),B=void 0;j&&!(j instanceof google.maps.LatLng)&&(B=new google.maps.LatLng(j.lat,j.lng));var q=new fw(he(he({},U),B?{position:B}:{}));O.current=document.createElement("div"),R(q),s&&I(google.maps.event.addListener(q,"closeclick",s)),a&&S(google.maps.event.addListener(q,"domready",a)),u&&y(google.maps.event.addListener(q,"content_changed",u)),c&&k(google.maps.event.addListener(q,"position_changed",c)),h&&z(google.maps.event.addListener(q,"zindex_changed",h)),q.setContent(O.current),n?q.open(g,n):q.getPosition()?q.open(g):ft(!1,"You must provide either an anchor or a position prop for <InfoBox>."),d&&d(q)}return function(){A!==null&&(x&&google.maps.event.removeListener(x),p&&google.maps.event.removeListener(p),V&&google.maps.event.removeListener(V),P&&google.maps.event.removeListener(P),F&&google.maps.event.removeListener(F),f&&f(A),A.close())}},[]),O.current?ji.createPortal(v.Children.only(e),O.current):null}v.memo(cx);(function(t){Ge(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.registeredEvents=[],n.containerElement=null,n.state={infoBox:null},n.open=function(r,i){i?n.context!==null&&r.open(n.context,i):r.getPosition()?n.context!==null&&r.open(n.context):ft(!1,"You must provide either an anchor or a position prop for <InfoBox>.")},n.setInfoBoxCallback=function(){n.state.infoBox!==null&&n.containerElement!==null&&(n.state.infoBox.setContent(n.containerElement),n.open(n.state.infoBox,n.props.anchor),n.props.onLoad&&n.props.onLoad(n.state.infoBox))},n}return e.prototype.componentDidMount=function(){var n=this.props.options||{},r=n.position,i=Yf(n,["position"]),o;r&&!(r instanceof google.maps.LatLng)&&(o=new google.maps.LatLng(r.lat,r.lng));var s=new fw(he(he({},i),o?{position:o}:{}));this.containerElement=document.createElement("div"),this.registeredEvents=ke({updaterMap:tv,eventMap:ev,prevProps:{},nextProps:this.props,instance:s}),this.setState({infoBox:s},this.setInfoBoxCallback)},e.prototype.componentDidUpdate=function(n){var r=this.state.infoBox;r!==null&&(Re(this.registeredEvents),this.registeredEvents=ke({updaterMap:tv,eventMap:ev,prevProps:n,nextProps:this.props,instance:r}))},e.prototype.componentWillUnmount=function(){var n=this.props.onUnmount,r=this.state.infoBox;r!==null&&(n&&n(r),Re(this.registeredEvents),r.close())},e.prototype.render=function(){return this.containerElement?ji.createPortal(v.Children.only(this.props.children),this.containerElement):null},e.contextType=Ie,e})(v.PureComponent);var hx=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,i,o;if(Array.isArray(e)){if(r=e.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!t(e[i],n[i]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(o=Object.keys(e),r=o.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,o[i]))return!1;for(i=r;i--!==0;){var s=o[i];if(!t(e[s],n[s]))return!1}return!0}return e!==e&&n!==n},nv=aw(hx);const rv=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],Wc=1,ys=8;class Zf{static from(e){if(!(e instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");const[n,r]=new Uint8Array(e,0,2);if(n!==219)throw new Error("Data does not appear to be in a KDBush format.");const i=r>>4;if(i!==Wc)throw new Error(`Got v${i} data when expected v${Wc}.`);const o=rv[r&15];if(!o)throw new Error("Unrecognized array type.");const[s]=new Uint16Array(e,2,1),[a]=new Uint32Array(e,4,1);return new Zf(a,s,o,e)}constructor(e,n=64,r=Float64Array,i){if(isNaN(e)||e<0)throw new Error(`Unpexpected numItems value: ${e}.`);this.numItems=+e,this.nodeSize=Math.min(Math.max(+n,2),65535),this.ArrayType=r,this.IndexArrayType=e<65536?Uint16Array:Uint32Array;const o=rv.indexOf(this.ArrayType),s=e*2*this.ArrayType.BYTES_PER_ELEMENT,a=e*this.IndexArrayType.BYTES_PER_ELEMENT,u=(8-a%8)%8;if(o<0)throw new Error(`Unexpected typed array class: ${r}.`);i&&i instanceof ArrayBuffer?(this.data=i,this.ids=new this.IndexArrayType(this.data,ys,e),this.coords=new this.ArrayType(this.data,ys+a+u,e*2),this._pos=e*2,this._finished=!0):(this.data=new ArrayBuffer(ys+s+a+u),this.ids=new this.IndexArrayType(this.data,ys,e),this.coords=new this.ArrayType(this.data,ys+a+u,e*2),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,(Wc<<4)+o]),new Uint16Array(this.data,2,1)[0]=n,new Uint32Array(this.data,4,1)[0]=e)}add(e,n){const r=this._pos>>1;return this.ids[r]=r,this.coords[this._pos++]=e,this.coords[this._pos++]=n,r}finish(){const e=this._pos>>1;if(e!==this.numItems)throw new Error(`Added ${e} items when expected ${this.numItems}.`);return hd(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(e,n,r,i){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:o,coords:s,nodeSize:a}=this,u=[0,o.length-1,0],c=[];for(;u.length;){const h=u.pop()||0,d=u.pop()||0,f=u.pop()||0;if(d-f<=a){for(let R=f;R<=d;R++){const E=s[2*R],x=s[2*R+1];E>=e&&E<=r&&x>=n&&x<=i&&c.push(o[R])}continue}const g=f+d>>1,w=s[2*g],A=s[2*g+1];w>=e&&w<=r&&A>=n&&A<=i&&c.push(o[g]),(h===0?e<=w:n<=A)&&(u.push(f),u.push(g-1),u.push(1-h)),(h===0?r>=w:i>=A)&&(u.push(g+1),u.push(d),u.push(1-h))}return c}within(e,n,r){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:i,coords:o,nodeSize:s}=this,a=[0,i.length-1,0],u=[],c=r*r;for(;a.length;){const h=a.pop()||0,d=a.pop()||0,f=a.pop()||0;if(d-f<=s){for(let R=f;R<=d;R++)iv(o[2*R],o[2*R+1],e,n)<=c&&u.push(i[R]);continue}const g=f+d>>1,w=o[2*g],A=o[2*g+1];iv(w,A,e,n)<=c&&u.push(i[g]),(h===0?e-r<=w:n-r<=A)&&(a.push(f),a.push(g-1),a.push(1-h)),(h===0?e+r>=w:n+r>=A)&&(a.push(g+1),a.push(d),a.push(1-h))}return u}}function hd(t,e,n,r,i,o){if(i-r<=n)return;const s=r+i>>1;pw(t,e,s,r,i,o),hd(t,e,n,r,s-1,1-o),hd(t,e,n,s+1,i,1-o)}function pw(t,e,n,r,i,o){for(;i>r;){if(i-r>600){const c=i-r+1,h=n-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),g=.5*Math.sqrt(d*f*(c-f)/c)*(h-c/2<0?-1:1),w=Math.max(r,Math.floor(n-h*f/c+g)),A=Math.min(i,Math.floor(n+(c-h)*f/c+g));pw(t,e,n,w,A,o)}const s=e[2*n+o];let a=r,u=i;for(_s(t,e,r,n),e[2*i+o]>s&&_s(t,e,r,i);a<u;){for(_s(t,e,a,u),a++,u--;e[2*a+o]<s;)a++;for(;e[2*u+o]>s;)u--}e[2*r+o]===s?_s(t,e,r,u):(u++,_s(t,e,u,i)),u<=n&&(r=u+1),n<=u&&(i=u-1)}}function _s(t,e,n,r){Qc(t,n,r),Qc(e,2*n,2*r),Qc(e,2*n+1,2*r+1)}function Qc(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function iv(t,e,n,r){const i=t-n,o=e-r;return i*i+o*o}const dx={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:t=>t},ov=Math.fround||(t=>e=>(t[0]=+e,t[0]))(new Float32Array(1)),gi=2,Rr=3,Gc=4,xr=5,gw=6;class fx{constructor(e){this.options=Object.assign(Object.create(dx),e),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(e){const{log:n,minZoom:r,maxZoom:i}=this.options;n&&console.time("total time");const o=`prepare ${e.length} points`;n&&console.time(o),this.points=e;const s=[];for(let u=0;u<e.length;u++){const c=e[u];if(!c.geometry)continue;const[h,d]=c.geometry.coordinates,f=ov(ul(h)),g=ov(cl(d));s.push(f,g,1/0,u,-1,1),this.options.reduce&&s.push(0)}let a=this.trees[i+1]=this._createTree(s);n&&console.timeEnd(o);for(let u=i;u>=r;u--){const c=+Date.now();a=this.trees[u]=this._createTree(this._cluster(a,u)),n&&console.log("z%d: %d clusters in %dms",u,a.numItems,+Date.now()-c)}return n&&console.timeEnd("total time"),this}getClusters(e,n){let r=((e[0]+180)%360+360)%360-180;const i=Math.max(-90,Math.min(90,e[1]));let o=e[2]===180?180:((e[2]+180)%360+360)%360-180;const s=Math.max(-90,Math.min(90,e[3]));if(e[2]-e[0]>=360)r=-180,o=180;else if(r>o){const d=this.getClusters([r,i,180,s],n),f=this.getClusters([-180,i,o,s],n);return d.concat(f)}const a=this.trees[this._limitZoom(n)],u=a.range(ul(r),cl(s),ul(o),cl(i)),c=a.data,h=[];for(const d of u){const f=this.stride*d;h.push(c[f+xr]>1?sv(c,f,this.clusterProps):this.points[c[f+Rr]])}return h}getChildren(e){const n=this._getOriginId(e),r=this._getOriginZoom(e),i="No cluster with the specified id.",o=this.trees[r];if(!o)throw new Error(i);const s=o.data;if(n*this.stride>=s.length)throw new Error(i);const a=this.options.radius/(this.options.extent*Math.pow(2,r-1)),u=s[n*this.stride],c=s[n*this.stride+1],h=o.within(u,c,a),d=[];for(const f of h){const g=f*this.stride;s[g+Gc]===e&&d.push(s[g+xr]>1?sv(s,g,this.clusterProps):this.points[s[g+Rr]])}if(d.length===0)throw new Error(i);return d}getLeaves(e,n,r){n=n||10,r=r||0;const i=[];return this._appendLeaves(i,e,n,r,0),i}getTile(e,n,r){const i=this.trees[this._limitZoom(e)],o=Math.pow(2,e),{extent:s,radius:a}=this.options,u=a/s,c=(r-u)/o,h=(r+1+u)/o,d={features:[]};return this._addTileFeatures(i.range((n-u)/o,c,(n+1+u)/o,h),i.data,n,r,o,d),n===0&&this._addTileFeatures(i.range(1-u/o,c,1,h),i.data,o,r,o,d),n===o-1&&this._addTileFeatures(i.range(0,c,u/o,h),i.data,-1,r,o,d),d.features.length?d:null}getClusterExpansionZoom(e){let n=this._getOriginZoom(e)-1;for(;n<=this.options.maxZoom;){const r=this.getChildren(e);if(n++,r.length!==1)break;e=r[0].properties.cluster_id}return n}_appendLeaves(e,n,r,i,o){const s=this.getChildren(n);for(const a of s){const u=a.properties;if(u&&u.cluster?o+u.point_count<=i?o+=u.point_count:o=this._appendLeaves(e,u.cluster_id,r,i,o):o<i?o++:e.push(a),e.length===r)break}return o}_createTree(e){const n=new Zf(e.length/this.stride|0,this.options.nodeSize,Float32Array);for(let r=0;r<e.length;r+=this.stride)n.add(e[r],e[r+1]);return n.finish(),n.data=e,n}_addTileFeatures(e,n,r,i,o,s){for(const a of e){const u=a*this.stride,c=n[u+xr]>1;let h,d,f;if(c)h=mw(n,u,this.clusterProps),d=n[u],f=n[u+1];else{const A=this.points[n[u+Rr]];h=A.properties;const[R,E]=A.geometry.coordinates;d=ul(R),f=cl(E)}const g={type:1,geometry:[[Math.round(this.options.extent*(d*o-r)),Math.round(this.options.extent*(f*o-i))]],tags:h};let w;c||this.options.generateId?w=n[u+Rr]:w=this.points[n[u+Rr]].id,w!==void 0&&(g.id=w),s.features.push(g)}}_limitZoom(e){return Math.max(this.options.minZoom,Math.min(Math.floor(+e),this.options.maxZoom+1))}_cluster(e,n){const{radius:r,extent:i,reduce:o,minPoints:s}=this.options,a=r/(i*Math.pow(2,n)),u=e.data,c=[],h=this.stride;for(let d=0;d<u.length;d+=h){if(u[d+gi]<=n)continue;u[d+gi]=n;const f=u[d],g=u[d+1],w=e.within(u[d],u[d+1],a),A=u[d+xr];let R=A;for(const E of w){const x=E*h;u[x+gi]>n&&(R+=u[x+xr])}if(R>A&&R>=s){let E=f*A,x=g*A,I,M=-1;const V=((d/h|0)<<5)+(n+1)+this.points.length;for(const S of w){const C=S*h;if(u[C+gi]<=n)continue;u[C+gi]=n;const p=u[C+xr];E+=u[C]*p,x+=u[C+1]*p,u[C+Gc]=V,o&&(I||(I=this._map(u,d,!0),M=this.clusterProps.length,this.clusterProps.push(I)),o(I,this._map(u,C)))}u[d+Gc]=V,c.push(E/R,x/R,1/0,V,-1,R),o&&c.push(M)}else{for(let E=0;E<h;E++)c.push(u[d+E]);if(R>1)for(const E of w){const x=E*h;if(!(u[x+gi]<=n)){u[x+gi]=n;for(let I=0;I<h;I++)c.push(u[x+I])}}}}return c}_getOriginId(e){return e-this.points.length>>5}_getOriginZoom(e){return(e-this.points.length)%32}_map(e,n,r){if(e[n+xr]>1){const s=this.clusterProps[e[n+gw]];return r?Object.assign({},s):s}const i=this.points[e[n+Rr]].properties,o=this.options.map(i);return r&&o===i?Object.assign({},o):o}}function sv(t,e,n){return{type:"Feature",id:t[e+Rr],properties:mw(t,e,n),geometry:{type:"Point",coordinates:[px(t[e]),gx(t[e+1])]}}}function mw(t,e,n){const r=t[e+xr],i=r>=1e4?`${Math.round(r/1e3)}k`:r>=1e3?`${Math.round(r/100)/10}k`:r,o=t[e+gw],s=o===-1?{}:Object.assign({},n[o]);return Object.assign(s,{cluster:!0,cluster_id:t[e+Rr],point_count:r,point_count_abbreviated:i})}function ul(t){return t/360+.5}function cl(t){const e=Math.sin(t*Math.PI/180),n=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return n<0?0:n>1?1:n}function px(t){return(t-.5)*360}function gx(t){const e=(180-t*360)*Math.PI/180;return 360*Math.atan(Math.exp(e))/Math.PI-90}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function mx(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}class pn{static isAdvancedMarkerAvailable(e){return google.maps.marker&&e.getMapCapabilities().isAdvancedMarkersAvailable===!0}static isAdvancedMarker(e){return google.maps.marker&&e instanceof google.maps.marker.AdvancedMarkerElement}static setMap(e,n){this.isAdvancedMarker(e)?e.map=n:e.setMap(n)}static getPosition(e){if(this.isAdvancedMarker(e)){if(e.position){if(e.position instanceof google.maps.LatLng)return e.position;if(e.position.lat&&e.position.lng)return new google.maps.LatLng(e.position.lat,e.position.lng)}return new google.maps.LatLng(null)}return e.getPosition()}static getVisible(e){return this.isAdvancedMarker(e)?!0:e.getVisible()}}class dd{constructor({markers:e,position:n}){this.markers=e,n&&(n instanceof google.maps.LatLng?this._position=n:this._position=new google.maps.LatLng(n))}get bounds(){if(this.markers.length===0&&!this._position)return;const e=new google.maps.LatLngBounds(this._position,this._position);for(const n of this.markers)e.extend(pn.getPosition(n));return e}get position(){return this._position||this.bounds.getCenter()}get count(){return this.markers.filter(e=>pn.getVisible(e)).length}push(e){this.markers.push(e)}delete(){this.marker&&(pn.setMap(this.marker,null),this.marker=void 0),this.markers.length=0}}class vx{constructor({maxZoom:e=16}){this.maxZoom=e}noop({markers:e}){return yx(e)}}const yx=t=>t.map(n=>new dd({position:pn.getPosition(n),markers:[n]}));class _x extends vx{constructor(e){var{maxZoom:n,radius:r=60}=e,i=mx(e,["maxZoom","radius"]);super({maxZoom:n}),this.state={zoom:-1},this.superCluster=new fx(Object.assign({maxZoom:this.maxZoom,radius:r},i))}calculate(e){let n=!1;const r={zoom:e.map.getZoom()};if(!nv(e.markers,this.markers)){n=!0,this.markers=[...e.markers];const i=this.markers.map(o=>{const s=pn.getPosition(o);return{type:"Feature",geometry:{type:"Point",coordinates:[s.lng(),s.lat()]},properties:{marker:o}}});this.superCluster.load(i)}return n||(this.state.zoom<=this.maxZoom||r.zoom<=this.maxZoom)&&(n=!nv(this.state,r)),this.state=r,n&&(this.clusters=this.cluster(e)),{clusters:this.clusters,changed:n}}cluster({map:e}){return this.superCluster.getClusters([-180,-90,180,90],Math.round(e.getZoom())).map(n=>this.transformCluster(n))}transformCluster({geometry:{coordinates:[e,n]},properties:r}){if(r.cluster)return new dd({markers:this.superCluster.getLeaves(r.cluster_id,1/0).map(o=>o.properties.marker),position:{lat:n,lng:e}});const i=r.marker;return new dd({markers:[i],position:pn.getPosition(i)})}}class wx{constructor(e,n){this.markers={sum:e.length};const r=n.map(o=>o.count),i=r.reduce((o,s)=>o+s,0);this.clusters={count:n.length,markers:{mean:i/n.length,sum:i,min:Math.min(...r),max:Math.max(...r)}}}}class Ex{render({count:e,position:n},r,i){const s=`<svg fill="${e>Math.max(10,r.clusters.markers.mean)?"#ff0000":"#0000ff"}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 240 240" width="50" height="50">
<circle cx="120" cy="120" opacity=".6" r="70" />
<circle cx="120" cy="120" opacity=".3" r="90" />
<circle cx="120" cy="120" opacity=".2" r="110" />
<text x="50%" y="50%" style="fill:#fff" text-anchor="middle" font-size="50" dominant-baseline="middle" font-family="roboto,arial,sans-serif">${e}</text>
</svg>`,a=`Cluster of ${e} markers`,u=Number(google.maps.Marker.MAX_ZINDEX)+e;if(pn.isAdvancedMarkerAvailable(i)){const d=new DOMParser().parseFromString(s,"image/svg+xml").documentElement;d.setAttribute("transform","translate(0 25)");const f={map:i,position:n,zIndex:u,title:a,content:d};return new google.maps.marker.AdvancedMarkerElement(f)}const c={position:n,zIndex:u,title:a,icon:{url:`data:image/svg+xml;base64,${btoa(s)}`,anchor:new google.maps.Point(25,25)}};return new google.maps.Marker(c)}}function Tx(t,e){for(let n in e.prototype)t.prototype[n]=e.prototype[n]}class Xf{constructor(){Tx(Xf,google.maps.OverlayView)}}var Bs;(function(t){t.CLUSTERING_BEGIN="clusteringbegin",t.CLUSTERING_END="clusteringend",t.CLUSTER_CLICK="click"})(Bs||(Bs={}));const Cx=(t,e,n)=>{n.fitBounds(e.bounds)};class Ax extends Xf{constructor({map:e,markers:n=[],algorithmOptions:r={},algorithm:i=new _x(r),renderer:o=new Ex,onClusterClick:s=Cx}){super(),this.markers=[...n],this.clusters=[],this.algorithm=i,this.renderer=o,this.onClusterClick=s,e&&this.setMap(e)}addMarker(e,n){this.markers.includes(e)||(this.markers.push(e),n||this.render())}addMarkers(e,n){e.forEach(r=>{this.addMarker(r,!0)}),n||this.render()}removeMarker(e,n){const r=this.markers.indexOf(e);return r===-1?!1:(pn.setMap(e,null),this.markers.splice(r,1),n||this.render(),!0)}removeMarkers(e,n){let r=!1;return e.forEach(i=>{r=this.removeMarker(i,!0)||r}),r&&!n&&this.render(),r}clearMarkers(e){this.markers.length=0,e||this.render()}render(){const e=this.getMap();if(e instanceof google.maps.Map&&e.getProjection()){google.maps.event.trigger(this,Bs.CLUSTERING_BEGIN,this);const{clusters:n,changed:r}=this.algorithm.calculate({markers:this.markers,map:e,mapCanvasProjection:this.getProjection()});if(r||r==null){const i=new Set;for(const s of n)s.markers.length==1&&i.add(s.markers[0]);const o=[];for(const s of this.clusters)s.marker!=null&&(s.markers.length==1?i.has(s.marker)||pn.setMap(s.marker,null):o.push(s.marker));this.clusters=n,this.renderClusters(),requestAnimationFrame(()=>o.forEach(s=>pn.setMap(s,null)))}google.maps.event.trigger(this,Bs.CLUSTERING_END,this)}}onAdd(){this.idleListener=this.getMap().addListener("idle",this.render.bind(this)),this.render()}onRemove(){google.maps.event.removeListener(this.idleListener),this.reset()}reset(){this.markers.forEach(e=>pn.setMap(e,null)),this.clusters.forEach(e=>e.delete()),this.clusters=[]}renderClusters(){const e=new wx(this.markers,this.clusters),n=this.getMap();this.clusters.forEach(r=>{r.markers.length===1?r.marker=r.markers[0]:(r.marker=this.renderer.render(r,e,n),r.markers.forEach(i=>pn.setMap(i,null)),this.onClusterClick&&r.marker.addListener("click",i=>{google.maps.event.trigger(this,Bs.CLUSTER_CLICK,r),this.onClusterClick(i,r,n)})),pn.setMap(r.marker,n)})}}function Lx(t){var e=NI(),n=v.useState(null),r=n[0],i=n[1];return v.useEffect(function(){if(e&&r===null){var o=new Ax(he(he({},t),{map:e}));i(o)}},[e]),r}function Sx(t){var e=t.children,n=t.options,r=Lx(n);return r!==null?e(r):null}v.memo(Sx);var av={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},lv={options:function(t,e){t.setOptions(e)},position:function(t,e){t.setPosition(e)},zIndex:function(t,e){t.setZIndex(e)}};function Ix(t){var e=t.children,n=t.anchor,r=t.options,i=t.position,o=t.zIndex,s=t.onCloseClick,a=t.onDomReady,u=t.onContentChanged,c=t.onPositionChanged,h=t.onZindexChanged,d=t.onLoad,f=t.onUnmount,g=v.useContext(Ie),w=v.useState(null),A=w[0],R=w[1],E=v.useState(null),x=E[0],I=E[1],M=v.useState(null),V=M[0],S=M[1],C=v.useState(null),p=C[0],y=C[1],_=v.useState(null),P=_[0],k=_[1],L=v.useState(null),F=L[0],z=L[1],O=v.useRef(null);return v.useEffect(function(){A!==null&&(A.close(),n?A.open(g,n):A.getPosition()&&A.open(g))},[g,A,n]),v.useEffect(function(){r&&A!==null&&A.setOptions(r)},[A,r]),v.useEffect(function(){i&&A!==null&&A.setPosition(i)},[i]),v.useEffect(function(){typeof o=="number"&&A!==null&&A.setZIndex(o)},[o]),v.useEffect(function(){A&&s&&(x!==null&&google.maps.event.removeListener(x),I(google.maps.event.addListener(A,"closeclick",s)))},[s]),v.useEffect(function(){A&&a&&(V!==null&&google.maps.event.removeListener(V),S(google.maps.event.addListener(A,"domready",a)))},[a]),v.useEffect(function(){A&&u&&(p!==null&&google.maps.event.removeListener(p),y(google.maps.event.addListener(A,"content_changed",u)))},[u]),v.useEffect(function(){A&&c&&(P!==null&&google.maps.event.removeListener(P),k(google.maps.event.addListener(A,"position_changed",c)))},[c]),v.useEffect(function(){A&&h&&(F!==null&&google.maps.event.removeListener(F),z(google.maps.event.addListener(A,"zindex_changed",h)))},[h]),v.useEffect(function(){var b=new google.maps.InfoWindow(he({},r||{}));return R(b),O.current=document.createElement("div"),s&&I(google.maps.event.addListener(b,"closeclick",s)),a&&S(google.maps.event.addListener(b,"domready",a)),u&&y(google.maps.event.addListener(b,"content_changed",u)),c&&k(google.maps.event.addListener(b,"position_changed",c)),h&&z(google.maps.event.addListener(b,"zindex_changed",h)),b.setContent(O.current),i&&b.setPosition(i),o&&b.setZIndex(o),n?b.open(g,n):b.getPosition()?b.open(g):ft(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>."),d&&d(b),function(){x&&google.maps.event.removeListener(x),p&&google.maps.event.removeListener(p),V&&google.maps.event.removeListener(V),P&&google.maps.event.removeListener(P),F&&google.maps.event.removeListener(F),f&&f(b),b.close()}},[]),O.current?ji.createPortal(v.Children.only(e),O.current):null}v.memo(Ix);var Yu=function(t){Ge(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.registeredEvents=[],n.containerElement=null,n.state={infoWindow:null},n.open=function(r,i){i?r.open(n.context,i):r.getPosition()?r.open(n.context):ft(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>.")},n.setInfoWindowCallback=function(){n.state.infoWindow!==null&&n.containerElement!==null&&(n.state.infoWindow.setContent(n.containerElement),n.open(n.state.infoWindow,n.props.anchor),n.props.onLoad&&n.props.onLoad(n.state.infoWindow))},n}return e.prototype.componentDidMount=function(){var n=new google.maps.InfoWindow(he({},this.props.options||{}));this.containerElement=document.createElement("div"),this.registeredEvents=ke({updaterMap:lv,eventMap:av,prevProps:{},nextProps:this.props,instance:n}),this.setState(function(){return{infoWindow:n}},this.setInfoWindowCallback)},e.prototype.componentDidUpdate=function(n){this.state.infoWindow!==null&&(Re(this.registeredEvents),this.registeredEvents=ke({updaterMap:lv,eventMap:av,prevProps:n,nextProps:this.props,instance:this.state.infoWindow}))},e.prototype.componentWillUnmount=function(){this.state.infoWindow!==null&&(Re(this.registeredEvents),this.props.onUnmount&&this.props.onUnmount(this.state.infoWindow),this.state.infoWindow.close())},e.prototype.render=function(){return this.containerElement?ji.createPortal(v.Children.only(this.props.children),this.containerElement):null},e.contextType=Ie,e}(v.PureComponent),uv={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},cv={draggable:function(t,e){t.setDraggable(e)},editable:function(t,e){t.setEditable(e)},map:function(t,e){t.setMap(e)},options:function(t,e){t.setOptions(e)},path:function(t,e){t.setPath(e)},visible:function(t,e){t.setVisible(e)}},xx={};function kx(t){var e=t.options,n=t.draggable,r=t.editable,i=t.visible,o=t.path,s=t.onDblClick,a=t.onDragEnd,u=t.onDragStart,c=t.onMouseDown,h=t.onMouseMove,d=t.onMouseOut,f=t.onMouseOver,g=t.onMouseUp,w=t.onRightClick,A=t.onClick,R=t.onDrag,E=t.onLoad,x=t.onUnmount,I=v.useContext(Ie),M=v.useState(null),V=M[0],S=M[1],C=v.useState(null),p=C[0],y=C[1],_=v.useState(null),P=_[0],k=_[1],L=v.useState(null),F=L[0],z=L[1],O=v.useState(null),b=O[0],j=O[1],U=v.useState(null),B=U[0],q=U[1],Q=v.useState(null),Y=Q[0],G=Q[1],W=v.useState(null),$=W[0],se=W[1],ce=v.useState(null),te=ce[0],Z=ce[1],ue=v.useState(null),de=ue[0],Le=ue[1],_e=v.useState(null),re=_e[0],ye=_e[1],me=v.useState(null),fe=me[0],we=me[1];return v.useEffect(function(){V!==null&&V.setMap(I)},[I]),v.useEffect(function(){typeof e<"u"&&V!==null&&V.setOptions(e)},[V,e]),v.useEffect(function(){typeof n<"u"&&V!==null&&V.setDraggable(n)},[V,n]),v.useEffect(function(){typeof r<"u"&&V!==null&&V.setEditable(r)},[V,r]),v.useEffect(function(){typeof i<"u"&&V!==null&&V.setVisible(i)},[V,i]),v.useEffect(function(){typeof o<"u"&&V!==null&&V.setPath(o)},[V,o]),v.useEffect(function(){V&&s&&(p!==null&&google.maps.event.removeListener(p),y(google.maps.event.addListener(V,"dblclick",s)))},[s]),v.useEffect(function(){V&&a&&(P!==null&&google.maps.event.removeListener(P),k(google.maps.event.addListener(V,"dragend",a)))},[a]),v.useEffect(function(){V&&u&&(F!==null&&google.maps.event.removeListener(F),z(google.maps.event.addListener(V,"dragstart",u)))},[u]),v.useEffect(function(){V&&c&&(b!==null&&google.maps.event.removeListener(b),j(google.maps.event.addListener(V,"mousedown",c)))},[c]),v.useEffect(function(){V&&h&&(B!==null&&google.maps.event.removeListener(B),q(google.maps.event.addListener(V,"mousemove",h)))},[h]),v.useEffect(function(){V&&d&&(Y!==null&&google.maps.event.removeListener(Y),G(google.maps.event.addListener(V,"mouseout",d)))},[d]),v.useEffect(function(){V&&f&&($!==null&&google.maps.event.removeListener($),se(google.maps.event.addListener(V,"mouseover",f)))},[f]),v.useEffect(function(){V&&g&&(te!==null&&google.maps.event.removeListener(te),Z(google.maps.event.addListener(V,"mouseup",g)))},[g]),v.useEffect(function(){V&&w&&(de!==null&&google.maps.event.removeListener(de),Le(google.maps.event.addListener(V,"rightclick",w)))},[w]),v.useEffect(function(){V&&A&&(re!==null&&google.maps.event.removeListener(re),ye(google.maps.event.addListener(V,"click",A)))},[A]),v.useEffect(function(){V&&R&&(fe!==null&&google.maps.event.removeListener(fe),we(google.maps.event.addListener(V,"drag",R)))},[R]),v.useEffect(function(){var le=new google.maps.Polyline(he(he({},e||xx),{map:I}));return o&&le.setPath(o),typeof i<"u"&&le.setVisible(i),typeof r<"u"&&le.setEditable(r),typeof n<"u"&&le.setDraggable(n),s&&y(google.maps.event.addListener(le,"dblclick",s)),a&&k(google.maps.event.addListener(le,"dragend",a)),u&&z(google.maps.event.addListener(le,"dragstart",u)),c&&j(google.maps.event.addListener(le,"mousedown",c)),h&&q(google.maps.event.addListener(le,"mousemove",h)),d&&G(google.maps.event.addListener(le,"mouseout",d)),f&&se(google.maps.event.addListener(le,"mouseover",f)),g&&Z(google.maps.event.addListener(le,"mouseup",g)),w&&Le(google.maps.event.addListener(le,"rightclick",w)),A&&ye(google.maps.event.addListener(le,"click",A)),R&&we(google.maps.event.addListener(le,"drag",R)),S(le),E&&E(le),function(){p!==null&&google.maps.event.removeListener(p),P!==null&&google.maps.event.removeListener(P),F!==null&&google.maps.event.removeListener(F),b!==null&&google.maps.event.removeListener(b),B!==null&&google.maps.event.removeListener(B),Y!==null&&google.maps.event.removeListener(Y),$!==null&&google.maps.event.removeListener($),te!==null&&google.maps.event.removeListener(te),de!==null&&google.maps.event.removeListener(de),re!==null&&google.maps.event.removeListener(re),x&&x(le),le.setMap(null)}},[]),null}v.memo(kx);(function(t){Ge(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.registeredEvents=[],n.state={polyline:null},n.setPolylineCallback=function(){n.state.polyline!==null&&n.props.onLoad&&n.props.onLoad(n.state.polyline)},n}return e.prototype.componentDidMount=function(){var n=new google.maps.Polyline(he(he({},this.props.options||{}),{map:this.context}));this.registeredEvents=ke({updaterMap:cv,eventMap:uv,prevProps:{},nextProps:this.props,instance:n}),this.setState(function(){return{polyline:n}},this.setPolylineCallback)},e.prototype.componentDidUpdate=function(n){this.state.polyline!==null&&(Re(this.registeredEvents),this.registeredEvents=ke({updaterMap:cv,eventMap:uv,prevProps:n,nextProps:this.props,instance:this.state.polyline}))},e.prototype.componentWillUnmount=function(){this.state.polyline!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.polyline),Re(this.registeredEvents),this.state.polyline.setMap(null))},e.prototype.render=function(){return null},e.contextType=Ie,e})(v.PureComponent);var hv={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},dv={draggable:function(t,e){t.setDraggable(e)},editable:function(t,e){t.setEditable(e)},map:function(t,e){t.setMap(e)},options:function(t,e){t.setOptions(e)},path:function(t,e){t.setPath(e)},paths:function(t,e){t.setPaths(e)},visible:function(t,e){t.setVisible(e)}};function Px(t){var e=t.options,n=t.draggable,r=t.editable,i=t.visible,o=t.path,s=t.paths,a=t.onDblClick,u=t.onDragEnd,c=t.onDragStart,h=t.onMouseDown,d=t.onMouseMove,f=t.onMouseOut,g=t.onMouseOver,w=t.onMouseUp,A=t.onRightClick,R=t.onClick,E=t.onDrag,x=t.onLoad,I=t.onUnmount,M=t.onEdit,V=v.useContext(Ie),S=v.useState(null),C=S[0],p=S[1],y=v.useState(null),_=y[0],P=y[1],k=v.useState(null),L=k[0],F=k[1],z=v.useState(null),O=z[0],b=z[1],j=v.useState(null),U=j[0],B=j[1],q=v.useState(null),Q=q[0],Y=q[1],G=v.useState(null),W=G[0],$=G[1],se=v.useState(null),ce=se[0],te=se[1],Z=v.useState(null),ue=Z[0],de=Z[1],Le=v.useState(null),_e=Le[0],re=Le[1],ye=v.useState(null),me=ye[0],fe=ye[1],we=v.useState(null),le=we[0],Se=we[1];return v.useEffect(function(){C!==null&&C.setMap(V)},[V]),v.useEffect(function(){typeof e<"u"&&C!==null&&C.setOptions(e)},[C,e]),v.useEffect(function(){typeof n<"u"&&C!==null&&C.setDraggable(n)},[C,n]),v.useEffect(function(){typeof r<"u"&&C!==null&&C.setEditable(r)},[C,r]),v.useEffect(function(){typeof i<"u"&&C!==null&&C.setVisible(i)},[C,i]),v.useEffect(function(){typeof o<"u"&&C!==null&&C.setPath(o)},[C,o]),v.useEffect(function(){typeof s<"u"&&C!==null&&C.setPaths(s)},[C,s]),v.useEffect(function(){C&&a&&(_!==null&&google.maps.event.removeListener(_),P(google.maps.event.addListener(C,"dblclick",a)))},[a]),v.useEffect(function(){C&&(google.maps.event.addListener(C.getPath(),"insert_at",function(){M==null||M(C)}),google.maps.event.addListener(C.getPath(),"set_at",function(){M==null||M(C)}))},[C,M]),v.useEffect(function(){C&&u&&(L!==null&&google.maps.event.removeListener(L),F(google.maps.event.addListener(C,"dragend",u)))},[u]),v.useEffect(function(){C&&c&&(O!==null&&google.maps.event.removeListener(O),b(google.maps.event.addListener(C,"dragstart",c)))},[c]),v.useEffect(function(){C&&h&&(U!==null&&google.maps.event.removeListener(U),B(google.maps.event.addListener(C,"mousedown",h)))},[h]),v.useEffect(function(){C&&d&&(Q!==null&&google.maps.event.removeListener(Q),Y(google.maps.event.addListener(C,"mousemove",d)))},[d]),v.useEffect(function(){C&&f&&(W!==null&&google.maps.event.removeListener(W),$(google.maps.event.addListener(C,"mouseout",f)))},[f]),v.useEffect(function(){C&&g&&(ce!==null&&google.maps.event.removeListener(ce),te(google.maps.event.addListener(C,"mouseover",g)))},[g]),v.useEffect(function(){C&&w&&(ue!==null&&google.maps.event.removeListener(ue),de(google.maps.event.addListener(C,"mouseup",w)))},[w]),v.useEffect(function(){C&&A&&(_e!==null&&google.maps.event.removeListener(_e),re(google.maps.event.addListener(C,"rightclick",A)))},[A]),v.useEffect(function(){C&&R&&(me!==null&&google.maps.event.removeListener(me),fe(google.maps.event.addListener(C,"click",R)))},[R]),v.useEffect(function(){C&&E&&(le!==null&&google.maps.event.removeListener(le),Se(google.maps.event.addListener(C,"drag",E)))},[E]),v.useEffect(function(){var pe=new google.maps.Polygon(he(he({},e||{}),{map:V}));return o&&pe.setPath(o),s&&pe.setPaths(s),typeof i<"u"&&pe.setVisible(i),typeof r<"u"&&pe.setEditable(r),typeof n<"u"&&pe.setDraggable(n),a&&P(google.maps.event.addListener(pe,"dblclick",a)),u&&F(google.maps.event.addListener(pe,"dragend",u)),c&&b(google.maps.event.addListener(pe,"dragstart",c)),h&&B(google.maps.event.addListener(pe,"mousedown",h)),d&&Y(google.maps.event.addListener(pe,"mousemove",d)),f&&$(google.maps.event.addListener(pe,"mouseout",f)),g&&te(google.maps.event.addListener(pe,"mouseover",g)),w&&de(google.maps.event.addListener(pe,"mouseup",w)),A&&re(google.maps.event.addListener(pe,"rightclick",A)),R&&fe(google.maps.event.addListener(pe,"click",R)),E&&Se(google.maps.event.addListener(pe,"drag",E)),p(pe),x&&x(pe),function(){_!==null&&google.maps.event.removeListener(_),L!==null&&google.maps.event.removeListener(L),O!==null&&google.maps.event.removeListener(O),U!==null&&google.maps.event.removeListener(U),Q!==null&&google.maps.event.removeListener(Q),W!==null&&google.maps.event.removeListener(W),ce!==null&&google.maps.event.removeListener(ce),ue!==null&&google.maps.event.removeListener(ue),_e!==null&&google.maps.event.removeListener(_e),me!==null&&google.maps.event.removeListener(me),I&&I(pe),pe.setMap(null)}},[]),null}v.memo(Px);(function(t){Ge(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.registeredEvents=[],n.state={polygon:null},n.setPolygonCallback=function(){n.state.polygon!==null&&n.props.onLoad&&n.props.onLoad(n.state.polygon)},n}return e.prototype.componentDidMount=function(){var n=new google.maps.Polygon(he(he({},this.props.options||{}),{map:this.context}));this.registeredEvents=ke({updaterMap:dv,eventMap:hv,prevProps:{},nextProps:this.props,instance:n}),this.setState(function(){return{polygon:n}},this.setPolygonCallback)},e.prototype.componentDidUpdate=function(n){this.state.polygon!==null&&(Re(this.registeredEvents),this.registeredEvents=ke({updaterMap:dv,eventMap:hv,prevProps:n,nextProps:this.props,instance:this.state.polygon}))},e.prototype.componentWillUnmount=function(){this.state.polygon!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.polygon),Re(this.registeredEvents),this.state.polygon&&this.state.polygon.setMap(null))},e.prototype.render=function(){return null},e.contextType=Ie,e})(v.PureComponent);var fv={onBoundsChanged:"bounds_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},pv={bounds:function(t,e){t.setBounds(e)},draggable:function(t,e){t.setDraggable(e)},editable:function(t,e){t.setEditable(e)},map:function(t,e){t.setMap(e)},options:function(t,e){t.setOptions(e)},visible:function(t,e){t.setVisible(e)}};function Rx(t){var e=t.options,n=t.bounds,r=t.draggable,i=t.editable,o=t.visible,s=t.onDblClick,a=t.onDragEnd,u=t.onDragStart,c=t.onMouseDown,h=t.onMouseMove,d=t.onMouseOut,f=t.onMouseOver,g=t.onMouseUp,w=t.onRightClick,A=t.onClick,R=t.onDrag,E=t.onBoundsChanged,x=t.onLoad,I=t.onUnmount,M=v.useContext(Ie),V=v.useState(null),S=V[0],C=V[1],p=v.useState(null),y=p[0],_=p[1],P=v.useState(null),k=P[0],L=P[1],F=v.useState(null),z=F[0],O=F[1],b=v.useState(null),j=b[0],U=b[1],B=v.useState(null),q=B[0],Q=B[1],Y=v.useState(null),G=Y[0],W=Y[1],$=v.useState(null),se=$[0],ce=$[1],te=v.useState(null),Z=te[0],ue=te[1],de=v.useState(null),Le=de[0],_e=de[1],re=v.useState(null),ye=re[0],me=re[1],fe=v.useState(null),we=fe[0],le=fe[1],Se=v.useState(null),pe=Se[0],xe=Se[1];return v.useEffect(function(){S!==null&&S.setMap(M)},[M]),v.useEffect(function(){typeof e<"u"&&S!==null&&S.setOptions(e)},[S,e]),v.useEffect(function(){typeof r<"u"&&S!==null&&S.setDraggable(r)},[S,r]),v.useEffect(function(){typeof i<"u"&&S!==null&&S.setEditable(i)},[S,i]),v.useEffect(function(){typeof o<"u"&&S!==null&&S.setVisible(o)},[S,o]),v.useEffect(function(){typeof n<"u"&&S!==null&&S.setBounds(n)},[S,n]),v.useEffect(function(){S&&s&&(y!==null&&google.maps.event.removeListener(y),_(google.maps.event.addListener(S,"dblclick",s)))},[s]),v.useEffect(function(){S&&a&&(k!==null&&google.maps.event.removeListener(k),L(google.maps.event.addListener(S,"dragend",a)))},[a]),v.useEffect(function(){S&&u&&(z!==null&&google.maps.event.removeListener(z),O(google.maps.event.addListener(S,"dragstart",u)))},[u]),v.useEffect(function(){S&&c&&(j!==null&&google.maps.event.removeListener(j),U(google.maps.event.addListener(S,"mousedown",c)))},[c]),v.useEffect(function(){S&&h&&(q!==null&&google.maps.event.removeListener(q),Q(google.maps.event.addListener(S,"mousemove",h)))},[h]),v.useEffect(function(){S&&d&&(G!==null&&google.maps.event.removeListener(G),W(google.maps.event.addListener(S,"mouseout",d)))},[d]),v.useEffect(function(){S&&f&&(se!==null&&google.maps.event.removeListener(se),ce(google.maps.event.addListener(S,"mouseover",f)))},[f]),v.useEffect(function(){S&&g&&(Z!==null&&google.maps.event.removeListener(Z),ue(google.maps.event.addListener(S,"mouseup",g)))},[g]),v.useEffect(function(){S&&w&&(Le!==null&&google.maps.event.removeListener(Le),_e(google.maps.event.addListener(S,"rightclick",w)))},[w]),v.useEffect(function(){S&&A&&(ye!==null&&google.maps.event.removeListener(ye),me(google.maps.event.addListener(S,"click",A)))},[A]),v.useEffect(function(){S&&R&&(we!==null&&google.maps.event.removeListener(we),le(google.maps.event.addListener(S,"drag",R)))},[R]),v.useEffect(function(){S&&E&&(pe!==null&&google.maps.event.removeListener(pe),xe(google.maps.event.addListener(S,"bounds_changed",E)))},[E]),v.useEffect(function(){var ie=new google.maps.Rectangle(he(he({},e||{}),{map:M}));return typeof o<"u"&&ie.setVisible(o),typeof i<"u"&&ie.setEditable(i),typeof r<"u"&&ie.setDraggable(r),typeof n<"u"&&ie.setBounds(n),s&&_(google.maps.event.addListener(ie,"dblclick",s)),a&&L(google.maps.event.addListener(ie,"dragend",a)),u&&O(google.maps.event.addListener(ie,"dragstart",u)),c&&U(google.maps.event.addListener(ie,"mousedown",c)),h&&Q(google.maps.event.addListener(ie,"mousemove",h)),d&&W(google.maps.event.addListener(ie,"mouseout",d)),f&&ce(google.maps.event.addListener(ie,"mouseover",f)),g&&ue(google.maps.event.addListener(ie,"mouseup",g)),w&&_e(google.maps.event.addListener(ie,"rightclick",w)),A&&me(google.maps.event.addListener(ie,"click",A)),R&&le(google.maps.event.addListener(ie,"drag",R)),E&&xe(google.maps.event.addListener(ie,"bounds_changed",E)),C(ie),x&&x(ie),function(){y!==null&&google.maps.event.removeListener(y),k!==null&&google.maps.event.removeListener(k),z!==null&&google.maps.event.removeListener(z),j!==null&&google.maps.event.removeListener(j),q!==null&&google.maps.event.removeListener(q),G!==null&&google.maps.event.removeListener(G),se!==null&&google.maps.event.removeListener(se),Z!==null&&google.maps.event.removeListener(Z),Le!==null&&google.maps.event.removeListener(Le),ye!==null&&google.maps.event.removeListener(ye),we!==null&&google.maps.event.removeListener(we),pe!==null&&google.maps.event.removeListener(pe),I&&I(ie),ie.setMap(null)}},[]),null}v.memo(Rx);(function(t){Ge(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.registeredEvents=[],n.state={rectangle:null},n.setRectangleCallback=function(){n.state.rectangle!==null&&n.props.onLoad&&n.props.onLoad(n.state.rectangle)},n}return e.prototype.componentDidMount=function(){var n=new google.maps.Rectangle(he(he({},this.props.options||{}),{map:this.context}));this.registeredEvents=ke({updaterMap:pv,eventMap:fv,prevProps:{},nextProps:this.props,instance:n}),this.setState(function(){return{rectangle:n}},this.setRectangleCallback)},e.prototype.componentDidUpdate=function(n){this.state.rectangle!==null&&(Re(this.registeredEvents),this.registeredEvents=ke({updaterMap:pv,eventMap:fv,prevProps:n,nextProps:this.props,instance:this.state.rectangle}))},e.prototype.componentWillUnmount=function(){this.state.rectangle!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.rectangle),Re(this.registeredEvents),this.state.rectangle.setMap(null))},e.prototype.render=function(){return null},e.contextType=Ie,e})(v.PureComponent);var gv={onCenterChanged:"center_changed",onRadiusChanged:"radius_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},mv={center:function(t,e){t.setCenter(e)},draggable:function(t,e){t.setDraggable(e)},editable:function(t,e){t.setEditable(e)},map:function(t,e){t.setMap(e)},options:function(t,e){t.setOptions(e)},radius:function(t,e){t.setRadius(e)},visible:function(t,e){t.setVisible(e)}},Mx={};function bx(t){var e=t.options,n=t.center,r=t.radius,i=t.draggable,o=t.editable,s=t.visible,a=t.onDblClick,u=t.onDragEnd,c=t.onDragStart,h=t.onMouseDown,d=t.onMouseMove,f=t.onMouseOut,g=t.onMouseOver,w=t.onMouseUp,A=t.onRightClick,R=t.onClick,E=t.onDrag,x=t.onCenterChanged,I=t.onRadiusChanged,M=t.onLoad,V=t.onUnmount,S=v.useContext(Ie),C=v.useState(null),p=C[0],y=C[1],_=v.useState(null),P=_[0],k=_[1],L=v.useState(null),F=L[0],z=L[1],O=v.useState(null),b=O[0],j=O[1],U=v.useState(null),B=U[0],q=U[1],Q=v.useState(null),Y=Q[0],G=Q[1],W=v.useState(null),$=W[0],se=W[1],ce=v.useState(null),te=ce[0],Z=ce[1],ue=v.useState(null),de=ue[0],Le=ue[1],_e=v.useState(null),re=_e[0],ye=_e[1],me=v.useState(null),fe=me[0],we=me[1],le=v.useState(null),Se=le[0],pe=le[1],xe=v.useState(null),ie=xe[0],$e=xe[1],je=v.useState(null),Be=je[0],He=je[1];return v.useEffect(function(){p!==null&&p.setMap(S)},[S]),v.useEffect(function(){typeof e<"u"&&p!==null&&p.setOptions(e)},[p,e]),v.useEffect(function(){typeof i<"u"&&p!==null&&p.setDraggable(i)},[p,i]),v.useEffect(function(){typeof o<"u"&&p!==null&&p.setEditable(o)},[p,o]),v.useEffect(function(){typeof s<"u"&&p!==null&&p.setVisible(s)},[p,s]),v.useEffect(function(){typeof r=="number"&&p!==null&&p.setRadius(r)},[p,r]),v.useEffect(function(){typeof n<"u"&&p!==null&&p.setCenter(n)},[p,n]),v.useEffect(function(){p&&a&&(P!==null&&google.maps.event.removeListener(P),k(google.maps.event.addListener(p,"dblclick",a)))},[a]),v.useEffect(function(){p&&u&&(F!==null&&google.maps.event.removeListener(F),z(google.maps.event.addListener(p,"dragend",u)))},[u]),v.useEffect(function(){p&&c&&(b!==null&&google.maps.event.removeListener(b),j(google.maps.event.addListener(p,"dragstart",c)))},[c]),v.useEffect(function(){p&&h&&(B!==null&&google.maps.event.removeListener(B),q(google.maps.event.addListener(p,"mousedown",h)))},[h]),v.useEffect(function(){p&&d&&(Y!==null&&google.maps.event.removeListener(Y),G(google.maps.event.addListener(p,"mousemove",d)))},[d]),v.useEffect(function(){p&&f&&($!==null&&google.maps.event.removeListener($),se(google.maps.event.addListener(p,"mouseout",f)))},[f]),v.useEffect(function(){p&&g&&(te!==null&&google.maps.event.removeListener(te),Z(google.maps.event.addListener(p,"mouseover",g)))},[g]),v.useEffect(function(){p&&w&&(de!==null&&google.maps.event.removeListener(de),Le(google.maps.event.addListener(p,"mouseup",w)))},[w]),v.useEffect(function(){p&&A&&(re!==null&&google.maps.event.removeListener(re),ye(google.maps.event.addListener(p,"rightclick",A)))},[A]),v.useEffect(function(){p&&R&&(fe!==null&&google.maps.event.removeListener(fe),we(google.maps.event.addListener(p,"click",R)))},[R]),v.useEffect(function(){p&&E&&(Se!==null&&google.maps.event.removeListener(Se),pe(google.maps.event.addListener(p,"drag",E)))},[E]),v.useEffect(function(){p&&x&&(ie!==null&&google.maps.event.removeListener(ie),$e(google.maps.event.addListener(p,"center_changed",x)))},[R]),v.useEffect(function(){p&&I&&(Be!==null&&google.maps.event.removeListener(Be),He(google.maps.event.addListener(p,"radius_changed",I)))},[I]),v.useEffect(function(){var Pe=new google.maps.Circle(he(he({},e||Mx),{map:S}));return typeof r=="number"&&Pe.setRadius(r),typeof n<"u"&&Pe.setCenter(n),typeof r=="number"&&Pe.setRadius(r),typeof s<"u"&&Pe.setVisible(s),typeof o<"u"&&Pe.setEditable(o),typeof i<"u"&&Pe.setDraggable(i),a&&k(google.maps.event.addListener(Pe,"dblclick",a)),u&&z(google.maps.event.addListener(Pe,"dragend",u)),c&&j(google.maps.event.addListener(Pe,"dragstart",c)),h&&q(google.maps.event.addListener(Pe,"mousedown",h)),d&&G(google.maps.event.addListener(Pe,"mousemove",d)),f&&se(google.maps.event.addListener(Pe,"mouseout",f)),g&&Z(google.maps.event.addListener(Pe,"mouseover",g)),w&&Le(google.maps.event.addListener(Pe,"mouseup",w)),A&&ye(google.maps.event.addListener(Pe,"rightclick",A)),R&&we(google.maps.event.addListener(Pe,"click",R)),E&&pe(google.maps.event.addListener(Pe,"drag",E)),x&&$e(google.maps.event.addListener(Pe,"center_changed",x)),I&&He(google.maps.event.addListener(Pe,"radius_changed",I)),y(Pe),M&&M(Pe),function(){P!==null&&google.maps.event.removeListener(P),F!==null&&google.maps.event.removeListener(F),b!==null&&google.maps.event.removeListener(b),B!==null&&google.maps.event.removeListener(B),Y!==null&&google.maps.event.removeListener(Y),$!==null&&google.maps.event.removeListener($),te!==null&&google.maps.event.removeListener(te),de!==null&&google.maps.event.removeListener(de),re!==null&&google.maps.event.removeListener(re),fe!==null&&google.maps.event.removeListener(fe),ie!==null&&google.maps.event.removeListener(ie),Be!==null&&google.maps.event.removeListener(Be),V&&V(Pe),Pe.setMap(null)}},[]),null}v.memo(bx);(function(t){Ge(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.registeredEvents=[],n.state={circle:null},n.setCircleCallback=function(){n.state.circle!==null&&n.props.onLoad&&n.props.onLoad(n.state.circle)},n}return e.prototype.componentDidMount=function(){var n=new google.maps.Circle(he(he({},this.props.options||{}),{map:this.context}));this.registeredEvents=ke({updaterMap:mv,eventMap:gv,prevProps:{},nextProps:this.props,instance:n}),this.setState(function(){return{circle:n}},this.setCircleCallback)},e.prototype.componentDidUpdate=function(n){this.state.circle!==null&&(Re(this.registeredEvents),this.registeredEvents=ke({updaterMap:mv,eventMap:gv,prevProps:n,nextProps:this.props,instance:this.state.circle}))},e.prototype.componentWillUnmount=function(){var n;this.state.circle!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.circle),Re(this.registeredEvents),(n=this.state.circle)===null||n===void 0||n.setMap(null))},e.prototype.render=function(){return null},e.contextType=Ie,e})(v.PureComponent);var vv={onClick:"click",onDblClick:"dblclick",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick",onAddFeature:"addfeature",onRemoveFeature:"removefeature",onRemoveProperty:"removeproperty",onSetGeometry:"setgeometry",onSetProperty:"setproperty"},yv={add:function(t,e){t.add(e)},addgeojson:function(t,e,n){t.addGeoJson(e,n)},contains:function(t,e){t.contains(e)},foreach:function(t,e){t.forEach(e)},loadgeojson:function(t,e,n,r){t.loadGeoJson(e,n,r)},overridestyle:function(t,e,n){t.overrideStyle(e,n)},remove:function(t,e){t.remove(e)},revertstyle:function(t,e){t.revertStyle(e)},controlposition:function(t,e){t.setControlPosition(e)},controls:function(t,e){t.setControls(e)},drawingmode:function(t,e){t.setDrawingMode(e)},map:function(t,e){t.setMap(e)},style:function(t,e){t.setStyle(e)},togeojson:function(t,e){t.toGeoJson(e)}};function Dx(t){var e=t.options,n=t.onClick,r=t.onDblClick,i=t.onMouseDown,o=t.onMouseMove,s=t.onMouseOut,a=t.onMouseOver,u=t.onMouseUp,c=t.onRightClick,h=t.onAddFeature,d=t.onRemoveFeature,f=t.onRemoveProperty,g=t.onSetGeometry,w=t.onSetProperty,A=t.onLoad,R=t.onUnmount,E=v.useContext(Ie),x=v.useState(null),I=x[0],M=x[1],V=v.useState(null),S=V[0],C=V[1],p=v.useState(null),y=p[0],_=p[1],P=v.useState(null),k=P[0],L=P[1],F=v.useState(null),z=F[0],O=F[1],b=v.useState(null),j=b[0],U=b[1],B=v.useState(null),q=B[0],Q=B[1],Y=v.useState(null),G=Y[0],W=Y[1],$=v.useState(null),se=$[0],ce=$[1],te=v.useState(null),Z=te[0],ue=te[1],de=v.useState(null),Le=de[0],_e=de[1],re=v.useState(null),ye=re[0],me=re[1],fe=v.useState(null),we=fe[0],le=fe[1],Se=v.useState(null),pe=Se[0],xe=Se[1];return v.useEffect(function(){I!==null&&I.setMap(E)},[E]),v.useEffect(function(){I&&r&&(S!==null&&google.maps.event.removeListener(S),C(google.maps.event.addListener(I,"dblclick",r)))},[r]),v.useEffect(function(){I&&i&&(y!==null&&google.maps.event.removeListener(y),_(google.maps.event.addListener(I,"mousedown",i)))},[i]),v.useEffect(function(){I&&o&&(k!==null&&google.maps.event.removeListener(k),L(google.maps.event.addListener(I,"mousemove",o)))},[o]),v.useEffect(function(){I&&s&&(z!==null&&google.maps.event.removeListener(z),O(google.maps.event.addListener(I,"mouseout",s)))},[s]),v.useEffect(function(){I&&a&&(j!==null&&google.maps.event.removeListener(j),U(google.maps.event.addListener(I,"mouseover",a)))},[a]),v.useEffect(function(){I&&u&&(q!==null&&google.maps.event.removeListener(q),Q(google.maps.event.addListener(I,"mouseup",u)))},[u]),v.useEffect(function(){I&&c&&(G!==null&&google.maps.event.removeListener(G),W(google.maps.event.addListener(I,"rightclick",c)))},[c]),v.useEffect(function(){I&&n&&(se!==null&&google.maps.event.removeListener(se),ce(google.maps.event.addListener(I,"click",n)))},[n]),v.useEffect(function(){I&&h&&(Z!==null&&google.maps.event.removeListener(Z),ue(google.maps.event.addListener(I,"addfeature",h)))},[h]),v.useEffect(function(){I&&d&&(Le!==null&&google.maps.event.removeListener(Le),_e(google.maps.event.addListener(I,"removefeature",d)))},[d]),v.useEffect(function(){I&&f&&(ye!==null&&google.maps.event.removeListener(ye),me(google.maps.event.addListener(I,"removeproperty",f)))},[f]),v.useEffect(function(){I&&g&&(we!==null&&google.maps.event.removeListener(we),le(google.maps.event.addListener(I,"setgeometry",g)))},[g]),v.useEffect(function(){I&&w&&(pe!==null&&google.maps.event.removeListener(pe),xe(google.maps.event.addListener(I,"setproperty",w)))},[w]),v.useEffect(function(){if(E!==null){var ie=new google.maps.Data(he(he({},e||{}),{map:E}));r&&C(google.maps.event.addListener(ie,"dblclick",r)),i&&_(google.maps.event.addListener(ie,"mousedown",i)),o&&L(google.maps.event.addListener(ie,"mousemove",o)),s&&O(google.maps.event.addListener(ie,"mouseout",s)),a&&U(google.maps.event.addListener(ie,"mouseover",a)),u&&Q(google.maps.event.addListener(ie,"mouseup",u)),c&&W(google.maps.event.addListener(ie,"rightclick",c)),n&&ce(google.maps.event.addListener(ie,"click",n)),h&&ue(google.maps.event.addListener(ie,"addfeature",h)),d&&_e(google.maps.event.addListener(ie,"removefeature",d)),f&&me(google.maps.event.addListener(ie,"removeproperty",f)),g&&le(google.maps.event.addListener(ie,"setgeometry",g)),w&&xe(google.maps.event.addListener(ie,"setproperty",w)),M(ie),A&&A(ie)}return function(){I&&(S!==null&&google.maps.event.removeListener(S),y!==null&&google.maps.event.removeListener(y),k!==null&&google.maps.event.removeListener(k),z!==null&&google.maps.event.removeListener(z),j!==null&&google.maps.event.removeListener(j),q!==null&&google.maps.event.removeListener(q),G!==null&&google.maps.event.removeListener(G),se!==null&&google.maps.event.removeListener(se),Z!==null&&google.maps.event.removeListener(Z),Le!==null&&google.maps.event.removeListener(Le),ye!==null&&google.maps.event.removeListener(ye),we!==null&&google.maps.event.removeListener(we),pe!==null&&google.maps.event.removeListener(pe),R&&R(I),I.setMap(null))}},[]),null}v.memo(Dx);(function(t){Ge(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.registeredEvents=[],n.state={data:null},n.setDataCallback=function(){n.state.data!==null&&n.props.onLoad&&n.props.onLoad(n.state.data)},n}return e.prototype.componentDidMount=function(){if(this.context!==null){var n=new google.maps.Data(he(he({},this.props.options||{}),{map:this.context}));this.registeredEvents=ke({updaterMap:yv,eventMap:vv,prevProps:{},nextProps:this.props,instance:n}),this.setState(function(){return{data:n}},this.setDataCallback)}},e.prototype.componentDidUpdate=function(n){this.state.data!==null&&(Re(this.registeredEvents),this.registeredEvents=ke({updaterMap:yv,eventMap:vv,prevProps:n,nextProps:this.props,instance:this.state.data}))},e.prototype.componentWillUnmount=function(){this.state.data!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.data),Re(this.registeredEvents),this.state.data&&this.state.data.setMap(null))},e.prototype.render=function(){return null},e.contextType=Ie,e})(v.PureComponent);var _v={onClick:"click",onDefaultViewportChanged:"defaultviewport_changed",onStatusChanged:"status_changed"},wv={options:function(t,e){t.setOptions(e)},url:function(t,e){t.setUrl(e)},zIndex:function(t,e){t.setZIndex(e)}};(function(t){Ge(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.registeredEvents=[],n.state={kmlLayer:null},n.setKmlLayerCallback=function(){n.state.kmlLayer!==null&&n.props.onLoad&&n.props.onLoad(n.state.kmlLayer)},n}return e.prototype.componentDidMount=function(){var n=new google.maps.KmlLayer(he(he({},this.props.options),{map:this.context}));this.registeredEvents=ke({updaterMap:wv,eventMap:_v,prevProps:{},nextProps:this.props,instance:n}),this.setState(function(){return{kmlLayer:n}},this.setKmlLayerCallback)},e.prototype.componentDidUpdate=function(n){this.state.kmlLayer!==null&&(Re(this.registeredEvents),this.registeredEvents=ke({updaterMap:wv,eventMap:_v,prevProps:n,nextProps:this.props,instance:this.state.kmlLayer}))},e.prototype.componentWillUnmount=function(){this.state.kmlLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.kmlLayer),Re(this.registeredEvents),this.state.kmlLayer.setMap(null))},e.prototype.render=function(){return null},e.contextType=Ie,e})(v.PureComponent);function vw(t,e){return typeof e=="function"?e(t.offsetWidth,t.offsetHeight):{x:0,y:0}}function Nx(t,e){return new e(t.lat,t.lng)}function Ox(t,e){return new e(new google.maps.LatLng(t.ne.lat,t.ne.lng),new google.maps.LatLng(t.sw.lat,t.sw.lng))}function Vx(t,e,n){return t instanceof e?t:n(t,e)}function Fx(t,e,n){return t instanceof e?t:n(t,e)}function Ux(t,e,n){var r=t&&t.fromLatLngToDivPixel(n.getNorthEast()),i=t&&t.fromLatLngToDivPixel(n.getSouthWest());return r&&i?{left:"".concat(i.x+e.x,"px"),top:"".concat(r.y+e.y,"px"),width:"".concat(r.x-i.x-e.x,"px"),height:"".concat(i.y-r.y-e.y,"px")}:{left:"-9999px",top:"-9999px"}}function jx(t,e,n){var r=t&&t.fromLatLngToDivPixel(n);if(r){var i=r.x,o=r.y;return{left:"".concat(i+e.x,"px"),top:"".concat(o+e.y,"px")}}return{left:"-9999px",top:"-9999px"}}function yw(t,e,n,r){return n!==void 0?Ux(t,e,Fx(n,google.maps.LatLngBounds,Ox)):jx(t,e,Vx(r,google.maps.LatLng,Nx))}function Bx(t,e){return t.left===e.left&&t.top===e.top&&t.width===e.height&&t.height===e.height}function zx(t,e,n,r,i){var o=function(s){Ge(a,s);function a(u,c,h,d){var f=s.call(this)||this;return f.container=u,f.pane=c,f.position=h,f.bounds=d,f}return a.prototype.onAdd=function(){var u,c=(u=this.getPanes())===null||u===void 0?void 0:u[this.pane];c==null||c.appendChild(this.container)},a.prototype.draw=function(){for(var u=this.getProjection(),c=he({},this.container?vw(this.container,i):{x:0,y:0}),h=yw(u,c,this.bounds,this.position),d=0,f=Object.entries(h);d<f.length;d++){var g=f[d],w=g[0],A=g[1];this.container.style[w]=A}},a.prototype.onRemove=function(){this.container.parentNode!==null&&this.container.parentNode.removeChild(this.container)},a}(google.maps.OverlayView);return new o(t,e,n,r)}function Ev(t){if(!t)return"";var e=t instanceof google.maps.LatLng?t:new google.maps.LatLng(t.lat,t.lng);return e+""}function Tv(t){if(!t)return"";var e=t instanceof google.maps.LatLngBounds?t:new google.maps.LatLngBounds(new google.maps.LatLng(t.south,t.east),new google.maps.LatLng(t.north,t.west));return e+""}function $x(t){var e=t.position,n=t.bounds,r=t.mapPaneName,i=t.zIndex,o=t.onLoad,s=t.onUnmount,a=t.getPixelPositionOffset,u=t.children,c=v.useContext(Ie),h=v.useMemo(function(){var f=document.createElement("div");return f.style.position="absolute",f},[]),d=v.useMemo(function(){return zx(h,r,e,n,a)},[h,r,e,n]);return v.useEffect(function(){return o==null||o(d),d==null||d.setMap(c),function(){s==null||s(d),d==null||d.setMap(null)}},[c,d]),v.useEffect(function(){h.style.zIndex="".concat(i)},[i,h]),ji.createPortal(u,h)}v.memo($x);(function(t){Ge(e,t);function e(n){var r=t.call(this,n)||this;r.state={paneEl:null,containerStyle:{position:"absolute"}},r.updatePane=function(){var o=r.props.mapPaneName,s=r.overlayView.getPanes();ft(!!o,"OverlayView requires props.mapPaneName but got %s",o),s?r.setState({paneEl:s[o]}):r.setState({paneEl:null})},r.onAdd=function(){var o,s;r.updatePane(),(s=(o=r.props).onLoad)===null||s===void 0||s.call(o,r.overlayView)},r.onPositionElement=function(){var o=r.overlayView.getProjection(),s=he({x:0,y:0},r.containerRef.current?vw(r.containerRef.current,r.props.getPixelPositionOffset):{}),a=yw(o,s,r.props.bounds,r.props.position),u=r.state.containerStyle,c=u.left,h=u.top,d=u.width,f=u.height;Bx(a,{left:c,top:h,width:d,height:f})||r.setState({containerStyle:{top:a.top||0,left:a.left||0,width:a.width||0,height:a.height||0,position:"absolute"}})},r.draw=function(){r.onPositionElement()},r.onRemove=function(){var o,s;r.setState(function(){return{paneEl:null}}),(s=(o=r.props).onUnmount)===null||s===void 0||s.call(o,r.overlayView)},r.containerRef=v.createRef();var i=new google.maps.OverlayView;return i.onAdd=r.onAdd,i.draw=r.draw,i.onRemove=r.onRemove,r.overlayView=i,r}return e.prototype.componentDidMount=function(){this.overlayView.setMap(this.context)},e.prototype.componentDidUpdate=function(n){var r=Ev(n.position),i=Ev(this.props.position),o=Tv(n.bounds),s=Tv(this.props.bounds);(r!==i||o!==s)&&this.overlayView.draw(),n.mapPaneName!==this.props.mapPaneName&&this.updatePane()},e.prototype.componentWillUnmount=function(){this.overlayView.setMap(null)},e.prototype.render=function(){var n=this.state.paneEl;return n?ji.createPortal(N.jsx("div",{ref:this.containerRef,style:this.state.containerStyle,children:v.Children.only(this.props.children)}),n):null},e.FLOAT_PANE="floatPane",e.MAP_PANE="mapPane",e.MARKER_LAYER="markerLayer",e.OVERLAY_LAYER="overlayLayer",e.OVERLAY_MOUSE_TARGET="overlayMouseTarget",e.contextType=Ie,e})(v.PureComponent);function Hx(){}var Cv={onDblClick:"dblclick",onClick:"click"},Av={opacity:function(t,e){t.setOpacity(e)}};function Wx(t){var e=t.url,n=t.bounds,r=t.options,i=t.visible,o=v.useContext(Ie),s=new google.maps.LatLngBounds(new google.maps.LatLng(n.south,n.west),new google.maps.LatLng(n.north,n.east)),a=v.useMemo(function(){var u=new google.maps.GroundOverlay(e,s,he({},r));return u},[]);return v.useEffect(function(){a!==null&&a.setMap(o)},[o]),v.useEffect(function(){typeof e<"u"&&a!==null&&(a.set("url",e),a.setMap(o))},[a,e]),v.useEffect(function(){typeof i<"u"&&a!==null&&a.setOpacity(i?1:0)},[a,i]),v.useEffect(function(){var u=new google.maps.LatLngBounds(new google.maps.LatLng(n.south,n.west),new google.maps.LatLng(n.north,n.east));typeof n<"u"&&a!==null&&(a.set("bounds",u),a.setMap(o))},[a,n]),null}v.memo(Wx);(function(t){Ge(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.registeredEvents=[],n.state={groundOverlay:null},n.setGroundOverlayCallback=function(){n.state.groundOverlay!==null&&n.props.onLoad&&n.props.onLoad(n.state.groundOverlay)},n}return e.prototype.componentDidMount=function(){ft(!!this.props.url||!!this.props.bounds,"For GroundOverlay, url and bounds are passed in to constructor and are immutable after instantiated. This is the behavior of Google Maps JavaScript API v3 ( See https://developers.google.com/maps/documentation/javascript/reference#GroundOverlay) Hence, use the corresponding two props provided by `react-google-maps-api`, url and bounds. In some cases, you'll need the GroundOverlay component to reflect the changes of url and bounds. You can leverage the React's key property to remount the component. Typically, just `key={url}` would serve your need. See https://github.com/tomchentw/react-google-maps/issues/655");var n=new google.maps.GroundOverlay(this.props.url,this.props.bounds,he(he({},this.props.options),{map:this.context}));this.registeredEvents=ke({updaterMap:Av,eventMap:Cv,prevProps:{},nextProps:this.props,instance:n}),this.setState(function(){return{groundOverlay:n}},this.setGroundOverlayCallback)},e.prototype.componentDidUpdate=function(n){this.state.groundOverlay!==null&&(Re(this.registeredEvents),this.registeredEvents=ke({updaterMap:Av,eventMap:Cv,prevProps:n,nextProps:this.props,instance:this.state.groundOverlay}))},e.prototype.componentWillUnmount=function(){this.state.groundOverlay&&(this.props.onUnmount&&this.props.onUnmount(this.state.groundOverlay),this.state.groundOverlay.setMap(null))},e.prototype.render=function(){return null},e.defaultProps={onLoad:Hx},e.contextType=Ie,e})(v.PureComponent);var Lv={},Sv={data:function(t,e){t.setData(e)},map:function(t,e){t.setMap(e)},options:function(t,e){t.setOptions(e)}};function Qx(t){var e=t.data,n=t.onLoad,r=t.onUnmount,i=t.options,o=v.useContext(Ie),s=v.useState(null),a=s[0],u=s[1];return v.useEffect(function(){google.maps.visualization||ft(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} in useJsApiScript? %s',google.maps.visualization)},[]),v.useEffect(function(){ft(!!e,"data property is required in HeatmapLayer %s",e)},[e]),v.useEffect(function(){a!==null&&a.setMap(o)},[o]),v.useEffect(function(){i&&a!==null&&a.setOptions(i)},[a,i]),v.useEffect(function(){var c=new google.maps.visualization.HeatmapLayer(he(he({},i||{}),{data:e,map:o}));return u(c),n&&n(c),function(){a!==null&&(r&&r(a),a.setMap(null))}},[]),null}v.memo(Qx);(function(t){Ge(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.registeredEvents=[],n.state={heatmapLayer:null},n.setHeatmapLayerCallback=function(){n.state.heatmapLayer!==null&&n.props.onLoad&&n.props.onLoad(n.state.heatmapLayer)},n}return e.prototype.componentDidMount=function(){ft(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} to <LoadScript />? %s',google.maps.visualization),ft(!!this.props.data,"data property is required in HeatmapLayer %s",this.props.data);var n=new google.maps.visualization.HeatmapLayer(he(he({},this.props.options||{}),{data:this.props.data,map:this.context}));this.registeredEvents=ke({updaterMap:Sv,eventMap:Lv,prevProps:{},nextProps:this.props,instance:n}),this.setState(function(){return{heatmapLayer:n}},this.setHeatmapLayerCallback)},e.prototype.componentDidUpdate=function(n){Re(this.registeredEvents),this.registeredEvents=ke({updaterMap:Sv,eventMap:Lv,prevProps:n,nextProps:this.props,instance:this.state.heatmapLayer})},e.prototype.componentWillUnmount=function(){this.state.heatmapLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.heatmapLayer),Re(this.registeredEvents),this.state.heatmapLayer.setMap(null))},e.prototype.render=function(){return null},e.contextType=Ie,e})(v.PureComponent);var Iv={onCloseClick:"closeclick",onPanoChanged:"pano_changed",onPositionChanged:"position_changed",onPovChanged:"pov_changed",onResize:"resize",onStatusChanged:"status_changed",onVisibleChanged:"visible_changed",onZoomChanged:"zoom_changed"},xv={register:function(t,e,n){t.registerPanoProvider(e,n)},links:function(t,e){t.setLinks(e)},motionTracking:function(t,e){t.setMotionTracking(e)},options:function(t,e){t.setOptions(e)},pano:function(t,e){t.setPano(e)},position:function(t,e){t.setPosition(e)},pov:function(t,e){t.setPov(e)},visible:function(t,e){t.setVisible(e)},zoom:function(t,e){t.setZoom(e)}};(function(t){Ge(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.registeredEvents=[],n.state={streetViewPanorama:null},n.setStreetViewPanoramaCallback=function(){n.state.streetViewPanorama!==null&&n.props.onLoad&&n.props.onLoad(n.state.streetViewPanorama)},n}return e.prototype.componentDidMount=function(){var n,r,i=(r=(n=this.context)===null||n===void 0?void 0:n.getStreetView())!==null&&r!==void 0?r:null;this.registeredEvents=ke({updaterMap:xv,eventMap:Iv,prevProps:{},nextProps:this.props,instance:i}),this.setState(function(){return{streetViewPanorama:i}},this.setStreetViewPanoramaCallback)},e.prototype.componentDidUpdate=function(n){this.state.streetViewPanorama!==null&&(Re(this.registeredEvents),this.registeredEvents=ke({updaterMap:xv,eventMap:Iv,prevProps:n,nextProps:this.props,instance:this.state.streetViewPanorama}))},e.prototype.componentWillUnmount=function(){this.state.streetViewPanorama!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.streetViewPanorama),Re(this.registeredEvents),this.state.streetViewPanorama.setVisible(!1))},e.prototype.render=function(){return null},e.contextType=Ie,e})(v.PureComponent);(function(t){Ge(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={streetViewService:null},n.setStreetViewServiceCallback=function(){n.state.streetViewService!==null&&n.props.onLoad&&n.props.onLoad(n.state.streetViewService)},n}return e.prototype.componentDidMount=function(){var n=new google.maps.StreetViewService;this.setState(function(){return{streetViewService:n}},this.setStreetViewServiceCallback)},e.prototype.componentWillUnmount=function(){this.state.streetViewService!==null&&this.props.onUnmount&&this.props.onUnmount(this.state.streetViewService)},e.prototype.render=function(){return null},e.contextType=Ie,e})(v.PureComponent);(function(t){Ge(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={directionsService:null},n.setDirectionsServiceCallback=function(){n.state.directionsService!==null&&n.props.onLoad&&n.props.onLoad(n.state.directionsService)},n}return e.prototype.componentDidMount=function(){ft(!!this.props.options,"DirectionsService expected options object as parameter, but got %s",this.props.options);var n=new google.maps.DirectionsService;this.setState(function(){return{directionsService:n}},this.setDirectionsServiceCallback)},e.prototype.componentDidUpdate=function(){this.state.directionsService!==null&&this.state.directionsService.route(this.props.options,this.props.callback)},e.prototype.componentWillUnmount=function(){this.state.directionsService!==null&&this.props.onUnmount&&this.props.onUnmount(this.state.directionsService)},e.prototype.render=function(){return null},e})(v.PureComponent);var kv={onDirectionsChanged:"directions_changed"},Pv={directions:function(t,e){t.setDirections(e)},map:function(t,e){t.setMap(e)},options:function(t,e){t.setOptions(e)},panel:function(t,e){t.setPanel(e)},routeIndex:function(t,e){t.setRouteIndex(e)}};(function(t){Ge(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.registeredEvents=[],n.state={directionsRenderer:null},n.setDirectionsRendererCallback=function(){n.state.directionsRenderer!==null&&(n.state.directionsRenderer.setMap(n.context),n.props.onLoad&&n.props.onLoad(n.state.directionsRenderer))},n}return e.prototype.componentDidMount=function(){var n=new google.maps.DirectionsRenderer(this.props.options);this.registeredEvents=ke({updaterMap:Pv,eventMap:kv,prevProps:{},nextProps:this.props,instance:n}),this.setState(function(){return{directionsRenderer:n}},this.setDirectionsRendererCallback)},e.prototype.componentDidUpdate=function(n){this.state.directionsRenderer!==null&&(Re(this.registeredEvents),this.registeredEvents=ke({updaterMap:Pv,eventMap:kv,prevProps:n,nextProps:this.props,instance:this.state.directionsRenderer}))},e.prototype.componentWillUnmount=function(){this.state.directionsRenderer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.directionsRenderer),Re(this.registeredEvents),this.state.directionsRenderer&&this.state.directionsRenderer.setMap(null))},e.prototype.render=function(){return N.jsx(N.Fragment,{})},e.contextType=Ie,e})(v.PureComponent);(function(t){Ge(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={distanceMatrixService:null},n.setDistanceMatrixServiceCallback=function(){n.state.distanceMatrixService!==null&&n.props.onLoad&&n.props.onLoad(n.state.distanceMatrixService)},n}return e.prototype.componentDidMount=function(){ft(!!this.props.options,"DistanceMatrixService expected options object as parameter, but go %s",this.props.options);var n=new google.maps.DistanceMatrixService;this.setState(function(){return{distanceMatrixService:n}},this.setDistanceMatrixServiceCallback)},e.prototype.componentDidUpdate=function(){this.state.distanceMatrixService!==null&&this.state.distanceMatrixService.getDistanceMatrix(this.props.options,this.props.callback)},e.prototype.componentWillUnmount=function(){this.state.distanceMatrixService!==null&&this.props.onUnmount&&this.props.onUnmount(this.state.distanceMatrixService)},e.prototype.render=function(){return null},e})(v.PureComponent);var Rv={onPlacesChanged:"places_changed"},Mv={bounds:function(t,e){t.setBounds(e)}};(function(t){Ge(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.registeredEvents=[],n.containerElement=v.createRef(),n.state={searchBox:null},n.setSearchBoxCallback=function(){n.state.searchBox!==null&&n.props.onLoad&&n.props.onLoad(n.state.searchBox)},n}return e.prototype.componentDidMount=function(){if(ft(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places),this.containerElement!==null&&this.containerElement.current!==null){var n=this.containerElement.current.querySelector("input");if(n!==null){var r=new google.maps.places.SearchBox(n,this.props.options);this.registeredEvents=ke({updaterMap:Mv,eventMap:Rv,prevProps:{},nextProps:this.props,instance:r}),this.setState(function(){return{searchBox:r}},this.setSearchBoxCallback)}}},e.prototype.componentDidUpdate=function(n){this.state.searchBox!==null&&(Re(this.registeredEvents),this.registeredEvents=ke({updaterMap:Mv,eventMap:Rv,prevProps:n,nextProps:this.props,instance:this.state.searchBox}))},e.prototype.componentWillUnmount=function(){this.state.searchBox!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.searchBox),Re(this.registeredEvents))},e.prototype.render=function(){return N.jsx("div",{ref:this.containerElement,children:v.Children.only(this.props.children)})},e.contextType=Ie,e})(v.PureComponent);var bv={onPlaceChanged:"place_changed"},Dv={bounds:function(t,e){t.setBounds(e)},restrictions:function(t,e){t.setComponentRestrictions(e)},fields:function(t,e){t.setFields(e)},options:function(t,e){t.setOptions(e)},types:function(t,e){t.setTypes(e)}};(function(t){Ge(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.registeredEvents=[],n.containerElement=v.createRef(),n.state={autocomplete:null},n.setAutocompleteCallback=function(){n.state.autocomplete!==null&&n.props.onLoad&&n.props.onLoad(n.state.autocomplete)},n}return e.prototype.componentDidMount=function(){var n;ft(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places);var r=(n=this.containerElement.current)===null||n===void 0?void 0:n.querySelector("input");if(r){var i=new google.maps.places.Autocomplete(r,this.props.options);this.registeredEvents=ke({updaterMap:Dv,eventMap:bv,prevProps:{},nextProps:this.props,instance:i}),this.setState(function(){return{autocomplete:i}},this.setAutocompleteCallback)}},e.prototype.componentDidUpdate=function(n){Re(this.registeredEvents),this.registeredEvents=ke({updaterMap:Dv,eventMap:bv,prevProps:n,nextProps:this.props,instance:this.state.autocomplete})},e.prototype.componentWillUnmount=function(){this.state.autocomplete!==null&&Re(this.registeredEvents)},e.prototype.render=function(){return N.jsx("div",{ref:this.containerElement,className:this.props.className,children:v.Children.only(this.props.children)})},e.defaultProps={className:""},e.contextType=Ie,e})(v.PureComponent);const Gx=async()=>{const t=Vf(fa,"reports");return(await F_(t)).docs.map(r=>{const i=r.data();return{id:r.id,title:i.title||"",description:i.description||"",imageUrl:i.imageUrl||"",position:{lat:i.position.lat,lng:i.position.lng},comments:i.comments||[],solved:i.solved}})},Kx="/CReal/assets/reportIcon-Cjcf_n-B.png",qx="/CReal/assets/evacuationIcon-D0f6mCS_.png",Yx="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEACAYAAABccqhmAAAAAXNSR0IArs4c6QAADGZJREFUeF7t3VFyFMkRh/Ee3Ufrd5YHcQidB3MeHQIcsXAAuI/GMXYsa4NQZ01X1WTW/vycnZ39/ZMvqnti5dPmfz8R+P3p28fzdn6AZh0Cp+306fPj/bt1nqjPk5z6tFmrCwGsleflaQjg5UwJ4AUuBEAA6xEggHCmBBBGVabQCYAAwstKAGFUZQoJgADCy0oAYVRlCgmAAMLLSgBhVGUKCYAAwstKAGFUZQoJgADCy0oAYVRlCgmAAMLLSgBhVGUKCYAAwstKAGFUZQoJgADCy0oAYVRlCgmAAMLLSgBhVGUKCYAAwstKAGFUZQoJgADCy0oAYVRlCgmAAMLLSgBhVGUKCYAAwstKAGFUZQoJgADCy0oAYVRlCgmAAMLLSgBhVGUKCYAAwstKAGFUZQoJgADCy0oAYVRlCgmAAMLLSgBhVGUKCYAAwstKAGFUZQoJgADCy0oAYVRlCgmAAMLLSgBhVGUKCYAAwstKAGFUZQoJgADCy0oAYVRlCgmAAMLLSgBhVGUKCYAAwstKAGFUZQoJgADCy0oAYVRlCgmAAMLLSgBhVGUKCYAAwstKAGFUZQoJgADCy1pdAJdlDz9sQ+F5Oz80lKcqJQACCC9kZQGMXHRcwitUpvBUZtKJg1r0l2HjMnEJJ92KAF4AbdEJYNK/v5vfhgAIILyExBhGVaaQAAggvKwEEEZVppAACCC8rAQQRlWmkAAIILysBBBGVaaQAAggvKwEEEZVppAACCC8rAQQRlWmkAAIILysBBBGVaaQAAggvKwEEEZVppAACCC8rAQQRlWmkAAIILysBBBGVaaQAAggvKwEEEZVppAACCC8rAQQRlWmkAAIILysBBBGVaaQAAggvKwEEEZVppAACCC8rAQQRlWmkAAIILysBBBGVaaQAAggvKwEEEZVppAAbiyAkX/DL/sWzhTK35nza3tAAARwM08QwM3Qf78xARDAzbaQAG6GngBeQ28x5ywmznM4ewVo5GwxG4FdWY7zleA6XuYVwCtAx3Vqa0UAbbxGVBMAAYzYq1BPAghhGlpEAAQwdMF8a7kZ3tCNCYAAQosyosgJYATVtp4EQABtG9OxmgA6wryyFQEQwJWrc/wyAjjO8GgHAiCAozt09fUEcDW6bhcSAAF0W6bWRgTQSqx/PQEQQP+tCnYkgCCogWUEQAAD1+v11gRwM/Tfb0wABHCzLSSAm6H/SwCXEG4/Rq4Jztv5YdZEf+f/Tn2mAC55XljPyrXKfU5vnr6eqwy74pwEME+2K+7P0WcigKMED15PAARwcIUOXU4Ah/Adv5gACOD4Fl3fgQCuZ9flSgIggC6LdGUTArgSXK/LCIAAeu3SNX0I4BpqHa+5COC8Pf+rY8vty+M//tmz35+93j59e3jenjv+QnJ6P2JOPeMECCDOqkTlyBPF7J/tSgAvPiQBFA/wx/EJYLFABz8OAQwGPLs9AcwmXvt+BFA7v5+mJ4DFAh38OAQwGPDs9gQwm3jt+xFA7fycABbLb/bjEMBs4oPv5wQwGPBi7QlgtUC306fPj/fvRjyWnwFHUL1tTwK4Lf/ud3cC6I506YYEsFi8BLBYoIMfhwAGA57dngBmE699PwKonZ9fARbLb/bjEMBs4oPv5wQwGPBi7QlgtUD9CrBYomMfhwDG8p3e3QlgOvLSNySA0vH9PDwBLBbo4MchgMGAZ7cngNnEa9+PAGrn51eAxfKb/TgEMJv44Ps5AQwGvFh7Algt0AF/Y/AvRP6G32LrshHAaol6HgQaCBBAAyylCKxGgABWS9TzINBAgAAaYClFYDUCBLBaop4HgQYCBNAASykCqxEggNUS9TwINBAggAZYShFYjQABrJao50GggQABNMBSisBqBAhgtUQ9DwINBAigAZZSBFYjQACrJep5EGggQAANsJQisBoBAlgtUc+DQAMBAmiApRSB1QgQwGqJeh4EGggQQAMspQisRoAAVkvU8yDQQIAAGmApRWA1AgSwWqKeB4EGAgTQAEspAqsRIIDVEvU8CDQQIIAGWEoRWI0AAayWqOdBoIEAATTAUorAagQIYLVEPQ8CDQQIoAGWUgRWI0AAqyXqeRBoIEAADbCUIrAaAQJYLVHPg0ADAQJogKUUgdUIEMBqiXoeBBoIEEADLKUIrEagpABO2+nTads+9ArjeXt+2LbT+179MvS5207ves7xvJ0/9ux3+17nD3fb3acec1RmU1YAnx/vuy3426dvD5VDfGmJvzz+duqx3H/2ePP09dyz3617XQT5x+N9FwFUZkMA27YRwP4/x8pL/tLTEcB/qRAAAez/69+2jQB+jakyGwIgAAIIESCAg5j6XX75COgbwOs8fQN4nY9XAK8A3zfEN4B9OVc+5voG8Ot8vQJ4Bdj/1+8bwKuMKsuRAAiAAEIEfAM4iKnf5b4B7LP0DcA3gP0t8TPgfxj5BrC/KpWPub4B+Abw6oYTAAHsE/AKcIRR12u9Auzj9ArgFWB/S7wCeAWIbIlfAfwKENyTKWVOAPuYnQCcAPa3xAnACSCyJU4ATgDBPZlS5gSwj9kJwAlgf0ucAJwAIlviBOAEENyTKWVOAPuYnQCcAPa3xAnACSCyJU4ATgDBPZlS5gSwj9kJwAlgf0ucAJwAIlviBOAEENyTKWVOAPuYnQCcAPa3xAnACSCyJU4ATgDBPVGGAAKFCJT8gyCF+BoVgdQECCB1PIZDYCwBAhjLV3cEUhMggNTxGA6BsQQIYCxf3RFITYAAUsdjOATGEiCAsXx1RyA1AQJIHY/hEBhLgADG8tUdgdQECCB1PIZDYCwBAhjLV3cEUhMggNTxGA6BsQQIYCxf3RFITYAAUsdjOATGEiCAsXx1RyA1AQJIHY/hEBhLgADG8tUdgdQECCB1PIZDYCwBAhjLV3cEUhMggNTxGA6BsQQIYCxf3RFITYAAUsdjOATGEiCAsXx1RyA1AQJIHY/hEBhLgADG8tUdgdQECCB1PIZDYCwBAhjLV3cEUhMggNTxGA6BsQRKCuDyfw9+2rYPvdA8b88P23Z636tfzz532+ldz36zez1v54+z7xm73/nD3Xb3KVa7X3Xetvfn7fywX5mroqwAPj/ed/uH8fbp20PWRf3y+Nsp18q0TfPm6eu57Yo51Rex/vF4300Avz99+0gAc7LbLicAApgE++BtCOAgwMGXOwFs2+YEMG7LCGAc2x6dCYAAeuzRL3sQwFC8h5sTAAEcXqLXGhDAULyHmxMAARxeIgLYNh8Bh67R/zf3EXAi7IO3cgI4CHDw5U4ATgBDV4wAhuI93JwACODwEnkF8AowdIl+bO4VYCruQzdzAjiEb/jFTgBOAEOXjACG4j3cnAAI4PASeQXwCjB0ibwCTMXb9WZOAF1xdm/mBOAE0H2p/rchAQzFe7g5ARDA4SXyCuAVYOgSeQWYirfrzZwAuuLs3swJwAmg+1J5BRiKtGtzAiCArgv1YzMngKF4DzcnAAI4vES+AfgGMHSJfAOYirfrzZwAuuLs3swJwAmg+1L5BjAUadfmBEAAXRfKN4ChOLs3JwAC6L5UTgBDkXZtXlIAXQkkb+bPgicPqPh4BJA8QAJIHlDx8QggeYAEkDyg4uMRQPIACSB5QMXHI4DkARJA8oCKj0cAyQMkgOQBFR+PAJIHSADJAyo+HgEkD5AAkgdUfDwCSB4gASQPqPh4BJA8QAJIHlDx8QggeYAEkDyg4uMRQPIACSB5QMXHI4DkARJA8oCKj0cAyQMkgOQBFR+PAJIHSADJAyo+HgEkD5AAkgdUfDwCSB4gASQPqPh4BJA8QAJIHlDx8QggeYAEkDyg4uMRQPIACSB5QMXHI4DkARJA8oCKj0cAyQMkgOQBFR+PAJIHSADJAyo+HgEkD5AAkgdUfDwCSB4gASQPqPh4BJA8QAJIHlDx8QggeYAEkDyg4uMRQPIACSB5QMXHI4DkARJA8oCKj0cAyQMkgOQBFR+PAJIHSADJAyo+HgEkD5AAkgdUfDwCSB4gASQPqPh4BJA8QAJIHlDx8QggeYAEkDyg4uMRQPIACSB5QMXHI4DkARJA8oCKj0cAyQMkgOQBFR+PAJIHSADJAyo+HgEkD5AAkgdUfDwCSB4gASQPqPh4BJA8QAJIHlDx8QggeYAEkDyg4uMRQPIACSB5QMXHI4DkARJA8oCKj0cAyQMkgOQBFR+PAJIHSADJAyo+HgEkD5AAkgdUfDwCSB4gASQPqPh4/wZK/4k8+R0AhwAAAABJRU5ErkJggg==",Zx="/CReal/assets/AEDIcon-Bw0s6l-d.png";var _w={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Nv=cr.createContext&&cr.createContext(_w),Xx=["attr","size","title"];function Jx(t,e){if(t==null)return{};var n=e4(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function e4(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function cu(){return cu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cu.apply(this,arguments)}function Ov(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ov(Object(n),!0).forEach(function(r){t4(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ov(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function t4(t,e,n){return e=n4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function n4(t){var e=r4(t,"string");return typeof e=="symbol"?e:e+""}function r4(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ww(t){return t&&t.map((e,n)=>cr.createElement(e.tag,hu({key:n},e.attr),ww(e.child)))}function Ew(t){return e=>cr.createElement(i4,cu({attr:hu({},t.attr)},e),ww(t.child))}function i4(t){var e=n=>{var{attr:r,size:i,title:o}=t,s=Jx(t,Xx),a=i||n.size||"1em",u;return n.className&&(u=n.className),t.className&&(u=(u?u+" ":"")+t.className),cr.createElement("svg",cu({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,s,{className:u,style:hu(hu({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),o&&cr.createElement("title",null,o),t.children)};return Nv!==void 0?cr.createElement(Nv.Consumer,null,n=>e(n)):e(_w)}function Xr(t){return Ew({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M304 48c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-48 368c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm208-208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zM96 256c0-26.51-21.49-48-48-48S0 229.49 0 256s21.49 48 48 48 48-21.49 48-48zm12.922 99.078c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.491-48-48-48zm294.156 0c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.49-48-48-48zM108.922 60.922c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.491-48-48-48z"},child:[]}]})(t)}function o4(t){return Ew({tag:"svg",attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(t)}const s4=({selectedMarker:t,handleDirectionsClick:e,handleCloseInfoWindow:n,handleMenuToggle:r,isMenuVisible:i,loading:o})=>(console.log(t),N.jsx(Yu,{position:t.position,onCloseClick:n,children:N.jsxs("div",{className:"info-window-content",style:{maxWidth:"300px"},children:[N.jsxs("div",{className:"text-gray-900",children:[N.jsx("h2",{className:"text-xl font-bold mb-2",children:t.title}),N.jsx("p",{className:"mb-4",children:t.description})]}),t.imageUrl&&N.jsx("img",{src:t.imageUrl,alt:"Report",style:{maxWidth:"100%",height:"200px"}}),N.jsx("button",{onClick:e,className:`${o?"bg-orange-500":"bg-green-500"} text-white px-4 py-2 rounded w-full mt-2 flex items-center justify-center`,children:o?N.jsxs(N.Fragment,{children:[N.jsx(Xr,{className:"animate-spin mr-2"}),""]}):""}),N.jsx("button",{onClick:r,className:`px-4 py-2 rounded w-full mt-2 ${i?"bg-gray-300 text-black":"bg-blue-500 text-white"}`,children:i?"":""})]})})),a4=({selectedMarker:t,handleDirectionsClick:e,handleCloseInfoWindow:n,handleMenuToggle:r,loading:i})=>N.jsx(Yu,{position:t.position,onCloseClick:n,children:N.jsxs("div",{className:"info-window-content",style:{maxWidth:"300px"},children:[N.jsxs("div",{className:"text-gray-900",children:[N.jsx("h2",{className:"text-xl font-bold mb-2",children:t.title}),N.jsxs("p",{className:"mb-2",children:["/: ",t.elvator1f?"":""]}),N.jsxs("p",{className:"mb-2",children:[": ",t.slope?"":""]}),N.jsxs("p",{className:"mb-2",children:[": ",t.brailleBlock?"":""]}),N.jsxs("p",{className:"mb-4",children:[": ",t.WheelchairToilet?"":""]})]}),N.jsx("button",{onClick:e,className:`${i?"bg-orange-500":"bg-green-500"} text-white px-4 py-2 rounded w-full mt-2 flex items-center justify-center`,children:i?N.jsxs(N.Fragment,{children:[N.jsx(Xr,{className:"animate-spin mr-2"}),""]}):""})]})}),l4=({selectedMarker:t,handleDirectionsClick:e,handleCloseInfoWindow:n,handleMenuToggle:r,loading:i})=>N.jsx(Yu,{position:t.position,onCloseClick:n,children:N.jsxs("div",{className:"info-window-content",style:{minWidth:"300px",maxWidth:"300px"},children:[N.jsxs("div",{className:"text-gray-900",children:[N.jsx("h2",{className:"text-xl font-bold mb-2",children:t.title}),N.jsxs("p",{className:"mb-4",children:[": ",t.place]})]}),N.jsx("button",{onClick:e,className:`${i?"bg-orange-500":"bg-green-500"} text-white px-4 py-2 rounded w-full mt-2 flex items-center justify-center`,children:i?N.jsxs(N.Fragment,{children:[N.jsx(Xr,{className:"animate-spin mr-2"}),""]}):""})]})}),u4=({selectedMarker:t,handleDirectionsClick:e,handleCloseInfoWindow:n,handleMenuToggle:r,loading:i})=>(console.log("Selected Hospital Marker:",t),N.jsx(Yu,{position:t.position,onCloseClick:n,children:N.jsxs("div",{className:"info-window-content",style:{minWidth:"300px",maxWidth:"300px"},children:[N.jsxs("div",{className:"text-gray-900",children:[N.jsx("h2",{className:"text-xl font-bold mb-2",children:t.title}),N.jsxs("p",{className:"mb-2",children:[": ",t.phone]}),N.jsxs("p",{className:"mb-2",children:[": ",t.numberOfBeds]}),N.jsxs("p",{className:"mb-4",children:[": ",t.tertiaryEmergency?"":""]})]}),N.jsx("button",{onClick:e,className:`${i?"bg-orange-500":"bg-green-500"} text-white px-4 py-2 rounded w-full mt-2 flex items-center justify-center`,children:i?N.jsxs(N.Fragment,{children:[N.jsx(Xr,{className:"animate-spin mr-2"}),""]}):""})]})})),c4={width:"100%",height:"100%"},h4={lat:35.682839,lng:139.759455},d4=({selectedMarker:t,updateSelectedMarker:e,handleMenuToggle:n})=>{const[r,i]=v.useState(""),o=a=>{i(a.target.value)},s=async()=>{if(r.trim()==="")return;const a={id:Date.now().toString(),text:r,timestamp:dt.now()};try{const u=Ff(fa,"reports",t.id);await U_(u,{comments:[...t.comments,a]}),e({...t,comments:[...t.comments,a]}),i("")}catch(u){console.error("Error updating marker comments: ",u)}};return N.jsx("div",{className:"menu",style:{position:"absolute",right:0,top:0,width:"300px",height:"100%",backgroundColor:"white"},children:N.jsxs("div",{className:"text-gray-700 p-4",style:{display:"flex",flexDirection:"column",height:"100%"},children:[N.jsx("h3",{className:"text-lg font-bold mb-2",children:""}),N.jsx("div",{className:"comments-list mb-4",style:{flex:1,overflowY:"auto",maxHeight:"calc(100% - 150px)"},children:t.comments.length>0?t.comments.map(a=>N.jsxs("div",{className:"comment-item border-b border-gray-300 py-2",children:[N.jsx("p",{className:"text-gray-600 text-sm",children:ow(a.timestamp)}),N.jsx("p",{children:a.text})]},a.id)):N.jsx("p",{children:""})}),N.jsx("textarea",{value:r,onChange:o,placeholder:"...",className:"w-full h-32 p-2 border rounded mb-2 bg-white text-gray-700"}),N.jsx("button",{onClick:s,className:"bg-blue-500 text-white px-4 py-2 rounded w-full",children:""})]})})},f4=[{or:"",:"35.69735834",:"139.7603058",or:"False",:"False",:"False",:"False"},{or:"",:"35.6946622",:"139.7811492",or:"True",:"True",:"True",:"False"},{or:"",:"35.68912646",:"139.7675435",or:"True",:"True",:"True",:"True"},{or:"",:"35.690456",:"139.740402",or:"True",:"True",:"True",:"True"},{or:"",:"35.68534413",:"139.739763",or:"True",:"True",:"True",:"True"},{or:"",:"35.68797468",:"139.7338004",or:"False",:"False",:"False",:"False"},{or:"",:"35.68049367",:"139.7392463",or:"True",:"True",:"True",:"True"},{or:"",:"35.69723698",:"139.746433",or:"True",:"True",:"True",:"True"},{or:"",:"35.6941386",:"139.7567712",or:"True",:"True",:"True",:"True"},{or:"",:"35.69304104",:"139.7684903",or:"True",:"True",:"True",:"True"},{or:"",:"35.70127815",:"139.7698738",or:"True",:"True",:"True",:"True"},{or:"3331",:"35.70424084",:"139.7708116",or:"True",:"True",:"True",:"True"},{or:"",:"35.69913662",:"139.7784272",or:"True",:"True",:"True",:"True"},{or:"",:"35.69167731",:"139.772728",or:"False",:"False",:"False",:"False"},{or:"",:"35.676564",:"139.771358",or:"True",:"True",:"False",:"True"},{or:"",:"35.67236218",:"139.7614057",or:"False",:"False",:"False",:"False"},{or:"",:"35.67227065",:"139.7788612",or:"True",:"True",:"True",:"True"},{or:"",:"35.66886598",:"139.7765556",or:"True",:"True",:"True",:"True"},{or:"",:"35.66800993",:"139.7711951",or:"True",:"True",:"False",:"True"},{or:"",:"35.67606031",:"139.7820718",or:"True",:"True",:"True",:"True"},{or:"",:"35.66545304",:"139.7647587",or:"True",:"True",:"False",:"True"},{or:"",:"35.67314536",:"139.7715908",or:"True",:"True",:"True",:"True"},{or:"",:"35.67487128",:"139.7758294",or:"True",:"True",:"True",:"True"},{or:"",:"35.68846361",:"139.7705493",or:"True",:"True",:"False",:"False"},{or:"",:"35.68468833",:"139.7816085",or:"True",:"True",:"False",:"True"},{or:"",:"35.68328566",:"139.787998",or:"True",:"True",:"False",:"True"},{or:"",:"35.68904292",:"139.7843301",or:"True",:"True",:"False",:"True"},{or:"",:"35.67985",:"139.77681",or:"True",:"True",:"True",:"True"},{or:"",:"35.69227162",:"139.7868678",or:"False",:"False",:"False",:"False"},{or:"",:"35.69109549",:"139.7769257",or:"True",:"True",:"True",:"True"},{or:"",:"35.66862322",:"139.7847579",or:"True",:"True",:"False",:"True"},{or:"",:"35.66807529",:"139.7850859",or:"True",:"True",:"False",:"True"},{or:"",:"35.66065199",:"139.7800976",or:"True",:"True",:"False",:"True"},{or:"",:"35.66023493",:"139.775979",or:"True",:"True",:"False",:"True"},{or:"",:"35.65890134",:"139.7858242",or:"True",:"True",:"False",:"True"},{or:"",:"35.653467",:"139.771393",or:"True",:"True",:"True",:"True"},{or:"",:"35.65978",:"139.784455",or:"True",:"True",:"False",:"True"},{or:"",:"35.648753",:"139.749744",or:"True",:"True",:"True",:"True"},{or:"",:"35.65646498",:"139.7249105",or:"False",:"False",:"False",:"False"},{or:"",:"35.66131311",:"139.7497892",or:"True",:"True",:"False",:"True"},{or:"",:"35.65093928",:"139.7500735",or:"True",:"False",:"False",:"True"},{or:"",:"35.65320582",:"139.7423831",or:"True",:"True",:"False",:"True"},{or:"",:"35.66159709",:"139.7504181",or:"True",:"True",:"False",:"True"},{or:"",:"35.66555782",:"139.7570774",or:"True",:"True",:"True",:"True"},{or:"",:"35.658849",:"139.756888",or:"True",:"True",:"True",:"True"},{or:"",:"35.66118323",:"139.7537918",or:"True",:"True",:"False",:"True"},{or:"",:"35.658827",:"139.757554",or:"True",:"True",:"True",:"True"},{or:"",:"35.667906",:"139.748713",or:"True",:"True",:"True",:"True"},{or:"",:"35.66194273",:"139.7385311",or:"True",:"False",:"False",:"True"},{or:"",:"35.658228",:"139.742603",or:"False",:"False",:"False",:"False"},{or:"",:"35.64980887",:"139.7299363",or:"True",:"True",:"False",:"True"},{or:"",:"35.6509159",:"139.7358738",or:"True",:"False",:"False",:"False"},{or:"",:"35.66083969",:"139.7321867",or:"True",:"True",:"True",:"True"},{or:"",:"35.656898",:"139.720394",or:"True",:"True",:"True",:"True"},{or:"",:"35.65723705",:"139.7306589",or:"True",:"False",:"False",:"True"},{or:"",:"35.66068578",:"139.7350834",or:"True",:"False",:"True",:"True"},{or:"",:"35.651435",:"139.735101",or:"True",:"False",:"True",:"True"},{or:"",:"35.651038",:"139.72741",or:"True",:"False",:"True",:"True"},{or:"",:"35.660903",:"139.722721",or:"True",:"False",:"True",:"True"},{or:"",:"35.656904",:"139.740889",or:"True",:"True",:"True",:"True"},{or:"",:"35.6694257",:"139.7312404",or:"True",:"True",:"False",:"True"},{or:"",:"35.66970833",:"139.7189074",or:"True",:"False",:"False",:"True"},{or:"",:"35.66350995",:"139.7161019",or:"False",:"False",:"False",:"False"},{or:"",:"35.66817984",:"139.7315024",or:"True",:"True",:"True",:"True"},{or:"",:"35.67418691",:"139.722053",or:"True",:"False",:"False",:"True"},{or:"",:"35.67466312",:"139.7318491",or:"True",:"False",:"False",:"True"},{or:"",:"35.66976483",:"139.7377258",or:"True",:"True",:"True",:"True"},{or:"",:"35.670358",:"139.734939",or:"True",:"True",:"True",:"True"},{or:"",:"35.669191",:"139.721243",or:"True",:"True",:"True",:"True"},{or:"",:"35.666466",:"139.717313",or:"True",:"True",:"True",:"True"},{or:"",:"35.64311183",:"139.7378879",or:"False",:"False",:"False",:"False"},{or:"",:"35.64204585",:"139.7340183",or:"True",:"True",:"True",:"True"},{or:"",:"35.63678829",:"139.7285519",or:"False",:"False",:"False",:"False"},{or:"",:"35.64444045",:"139.7292546",or:"True",:"True",:"False",:"True"},{or:"",:"35.643711",:"139.72693",or:"True",:"True",:"True",:"True"},{or:"",:"35.64364341",:"139.724498",or:"True",:"False",:"False",:"False"},{or:"",:"35.64523",:"139.740851",or:"True",:"True",:"True",:"True"},{or:"",:"35.64087998",:"139.7340943",or:"True",:"True",:"False",:"True"},{or:"",:"35.6363345",:"139.7343855",or:"True",:"True",:"True",:"True"},{or:"",:"35.642375",:"139.734832",or:"True",:"False",:"True",:"True"},{or:"",:"35.646502",:"139.739662",or:"True",:"False",:"False",:"True"},{or:"",:"35.633201",:"139.735693",or:"True",:"True",:"True",:"True"},{or:"",:"35.644894",:"139.731074",or:"True",:"True",:"True",:"True"},{or:"",:"35.637714",:"139.724958",or:"True",:"False",:"True",:"True"},{or:"",:"35.638159",:"139.746311",or:"True",:"True",:"True",:"True"},{or:"",:"35.6292298",:"139.7496449",or:"True",:"True",:"True",:"True"},{or:"",:"35.63111848",:"139.7490614",or:"True",:"True",:"False",:"True"},{or:"",:"35.64053041",:"139.7485721",or:"True",:"False",:"True",:"True"},{or:"",:"35.646636",:"139.751425",or:"True",:"True",:"True",:"True"},{or:"",:"35.630944",:"139.74965",or:"True",:"True",:"True",:"True"},{or:"",:"35.629642",:"139.747058",or:"True",:"True",:"True",:"True"},{or:"",:"35.63360695",:"139.777149",or:"True",:"True",:"True",:"True"},{or:"",:"35.62996436",:"139.7770641",or:"True",:"False",:"True",:"True"},{or:"()",:"35.6450673",:"139.742457",or:"True",:"True",:"True",:"True"},{or:"",:"35.6463391",:"139.7488232",or:"True",:"False",:"True",:"True"},{or:"",:"35.6891824",:"139.7053966",or:"False",:"False",:"False",:"False"},{or:"",:"35.70685184",:"139.7282035",or:"False",:"False",:"False",:"False"},{or:"",:"35.6936183",:"139.7161452",or:"False",:"False",:"False",:"False"},{or:"",:"35.70671194",:"139.7103447",or:"False",:"False",:"False",:"False"},{or:"",:"35.70953",:"139.696534",or:"True",:"False",:"True",:"True"}],p4=[{:"",:"",:"139.6362741",:"35.69980769"},{:"",:"",:"139.6362741",:"35.69980769"},{:"",:"",:"139.6362741",:"35.69980769"},{:"",:"",:"139.6362741",:"35.69980769"},{:"",:"",:"139.6362741",:"35.69980769"},{:"",:"",:"139.6375769",:"35.69847269"},{:"",:"",:"139.6189008",:"35.72340022"},{:"",:"",:"139.622897",:"35.7048018"},{:"",:"",:"139.6153289",:"35.68336986"},{:"",:"",:"139.6374696",:"35.7039764"},{:"",:"",:"139.6375566",:"35.70395051"},{:"",:"",:"139.6165461",:"35.720648"},{:"",:"",:"139.6459664",:"35.67566151"},{:"",:"",:"139.6460638",:"35.67566368"},{:"",:"",:"139.6540169",:"35.69670036"},{:"",:"",:"139.6166174",:"35.68364789"},{:"",:"",:"139.6166174",:"35.68364789"},{:"",:"",:"139.6414773",:"35.69630257"},{:"",:"",:"139.6125642",:"35.67109919"},{:"",:"",:"139.6483677",:"35.70768139"},{:"",:"",:"139.6085634",:"35.72283503"},{:"",:"",:"139.6018169",:"35.70151671"},{:"",:"",:"139.6217444",:"35.72438898"},{:"",:"",:"139.6587963",:"35.67663678"},{:"",:"",:"139.6242995",:"35.71258838"},{:"",:"",:"139.5994591",:"35.68662523"},{:"",:"",:"139.6299962",:"35.68044676"},{:"",:"",:"139.6560509",:"35.68099524"},{:"",:"",:"139.6078484",:"35.70871473"},{:"",:"",:"139.6302792",:"35.67439328"},{:"",:"",:"139.6427428",:"35.69205779"},{:"",:"",:"139.6338248",:"35.70608104"},{:"",:"",:"139.6486449",:"35.70683437"},{:"",:"",:"139.6047065",:"35.69464541"},{:"",:"",:"139.6439196",:"35.70198677"},{:"",:"",:"139.6589382",:"35.67910756"},{:"",:"",:"139.6125775",:"35.69872865"},{:"",:"",:"139.6087303",:"35.72268314"},{:"",:"",:"139.6264119",:"35.71066597"},{:"",:"",:"139.6165543",:"35.6778084"},{:"",:"",:"139.6513404",:"35.70494239"},{:"",:"",:"139.6131513",:"35.71365093"},{:"",:"",:"139.6580912",:"35.69860345"},{:"",:"",:"139.6595482",:"35.69160075"},{:"",:"",:"139.6497622",:"35.69328941"},{:"",:"",:"139.6499433",:"35.6793443"},{:"",:"",:"139.6068795",:"35.6813833"},{:"",:"",:"139.6250341",:"35.68335371"},{:"",:"",:"139.6195835",:"35.72700266"},{:"",:"",:"139.6303984",:"35.71596446"},{:"",:"",:"139.5886604",:"35.71338697"},{:"",:"",:"139.601538",:"35.68846057"},{:"",:"",:"139.6259965",:"35.68742832"},{:"",:"",:"139.6246023",:"35.71937781"},{:"",:"",:"139.6389981",:"35.67155274"},{:"",:"",:"139.6234666",:"35.70189145"},{:"",:"",:"139.648269",:"35.68720117"},{:"",:"",:"139.6360615",:"35.67228626"},{:"",:"",:"139.6420509",:"35.68561655"},{:"",:"",:"139.6422991",:"35.66947375"},{:"",:"",:"139.6422976",:"35.66947503"},{:"",:"1",:"139.6105403",:"35.69686446"},{:"",:"1",:"139.6105383",:"35.69686171"},{:"",:"2",:"139.6105408",:"35.69686221"},{:"",:"",:"139.6020696",:"35.72402552"},{:"",:"",:"139.6020696",:"35.72402552"},{:"",:"",:"139.6020696",:"35.72402552"},{:"",:"",:"139.6020696",:"35.72402552"},{:"",:"",:"139.6542426",:"35.69974189"},{:"",:"1",:"139.6178196",:"35.71828485"},{:"",:"1",:"139.6178196",:"35.71828485"},{:"",:"1",:"139.6574737",:"35.69693163"},{:"",:"",:"139.6166174",:"35.68364789"},{:"",:"",:"139.637079",:"35.6708691"},{:"",:"",:"139.6060716",:"35.71523793"},{:"",:"",:"139.6123334",:"35.72668002"},{:"",:"",:"139.6245664",:"35.70078954"},{:"",:"",:"139.6263128",:"35.67754395"},{:"",:"",:"139.6557208",:"35.69779146"},{:"",:"",:"139.6300098",:"35.69033977"},{:"",:"",:"139.6247114",:"35.67495912"},{:"",:"",:"139.6430542",:"35.70958003"},{:"",:"",:"139.6210936",:"35.69136635"},{:"",:"",:"139.6197908",:"35.6826046"},{:"",:"",:"139.6157894",:"35.72711189"},{:"",:"",:"139.613486",:"35.69229879"},{:"",:"1",:"139.648269",:"35.68720117"},{:"",:"",:"139.6578565",:"35.69106278"},{:"",:"",:"139.6178179",:"35.68966919"},{:"",:"",:"139.611006",:"35.70328906"},{:"",:"",:"139.6090286",:"35.71802713"},{:"",:"",:"139.5970568",:"35.7180949"},{:"",:"",:"139.592701",:"35.6982468"},{:"",:"",:"139.6301407",:"35.70776322"},{:"",:"1",:"139.6162645",:"35.6857496"},{:"",:"",:"139.6492313",:"35.68608533"},{:"",:"",:"139.6178095",:"35.6895365"},{:"",:"1",:"139.6491943",:"35.700629"},{:"",:"",:"139.6202429",:"35.70222098"},{:"",:"",:"139.6202429",:"35.70222098"}],g4=[{:"",:"1-6",:"0332931711",:"320",:"True",Longitude:"139.763412",Latitude:"35.698198"},{:"",:"",:"0338629111",:"482",:"",Longitude:"139.778695",Latitude:"35.699829"},{:"",:"9-1",:"0335415151",:"520",:"True",Longitude:"139.776628",Latitude:"35.668491"},{:"",:"1417",:"0334518211",:"535",:"True",Longitude:"139.74005",Latitude:"35.647408"},{:"",:"3-19-18",:"0334331111",:"1,075",:"True",Longitude:"139.75198",Latitude:"35.666286"},{:"",:"5-9-1",:"0334446161",:"329",:"",Longitude:"139.728334",Latitude:"35.643747"},{:"",:"2-2-2",:"0335881111",:"819",:"",Longitude:"139.745964",Latitude:"35.66642"},{:"",:"1-1-5",:"0338222131",:"877",:"True",Longitude:"139.760412",Latitude:"35.726487"},{:"",:"3-18-22",:"0338232101",:"815",:"",Longitude:"139.75151",Latitude:"35.730057"},{:"",:"3-1-3",:"0338133111",:"1,051",:"",Longitude:"139.759213",Latitude:"35.708554"},{:"",:"1-5-45",:"0338136111",:"813",:"True",Longitude:"139.765978",Latitude:"35.70537"},{:"",:"7-3-1",:"0338155411",:"1,226",:"True",Longitude:"139.759213",Latitude:"35.708554"},{:"",:"2-23-16",:"0338338381",:"400",:"",Longitude:"139.780612",Latitude:"35.711613"},{:"",:"1-5-8",:"0337848000",:"815",:"True",Longitude:"139.702838",Latitude:"35.605452"},{:"",:"5-9-22",:"0334486111",:"594",:"",Longitude:"139.726953",Latitude:"35.627809"},{:"",:"6-11-1",:"0337624151",:"916",:"True",Longitude:"139.726167",Latitude:"35.572742"},{:"",:"4-30-1",:"0337753111",:"344",:"",Longitude:"139.716443",Latitude:"35.57783"},{:"",:"4-5-10",:"0357348000",:"461",:"",Longitude:"139.690212",Latitude:"35.59447"},{:"",:"4-13-21",:"0337427301",:"400",:"",Longitude:"139.744323",Latitude:"35.564342"},{:"",:"6-1-19",:"0337523151",:"384",:"",Longitude:"139.703577",Latitude:"35.573472"},{:"",:"2-5-1",:"0334110111",:"640",:"True",Longitude:"139.667781",Latitude:"35.627878"},{:"",:"5-19-1",:"0333000366",:"301",:"",Longitude:"139.596663",Latitude:"35.658372"},{:"",:"6-25-1",:"0334291171",:"383",:"",Longitude:"139.629691",Latitude:"35.634358"},{:" ",:"4-8-1",:"0337001151",:"381",:"",Longitude:"139.630443",Latitude:"35.619962"},{:"",:"2-34-10",:"0334441181",:"408",:"True",Longitude:"139.715736",Latitude:"35.645289"},{:"",:"4-1-22",:"0334001311",:"693",:"True",Longitude:"139.716632",Latitude:"35.65148"},{:"",:"6-7-1",:"0333426111",:"904",:"True",Longitude:"139.691467",Latitude:"35.6913"},{:"",:"35",:"0333531211",:"950",:"",Longitude:"139.718814",Latitude:"35.682753"},{:"",:"8-1",:"0333538111",:"1,190",:"True",Longitude:"139.720077",Latitude:"35.696893"},{:"",:"2-44-1",:"0352737711",:"304",:"",Longitude:"139.703257",Latitude:"35.69559"},{:"",:"1-21-1",:"0332027181",:"716",:"True",Longitude:"139.7096481",Latitude:"35.7058278"},{:"",:"3-22-1",:"0333640251",:"418",:"",Longitude:"139.698454",Latitude:"35.704168"},{:"",:"5-1",:"0332698111",:"520",:"",Longitude:"139.741677",Latitude:"35.703061"},{:"",:"4-59-16",:"0333821231",:"296",:"",Longitude:"139.674315",Latitude:"35.699356"},{:"",:"4-22-1",:"0353435611",:"415",:"",Longitude:"139.66936",Latitude:"35.705733"},{:"",:"3-1-24",:"0333991101",:"252",:"",Longitude:"139.606597",Latitude:"35.717126"},{:"",:"2-25-1",:"0333831281",:"340",:"",Longitude:"139.659869",Latitude:"35.692017"},{:"",:"2-8-1",:"0339413211",:"435",:"",Longitude:"139.73164",Latitude:"35.729051"},{:"",:"4-17-56",:"0359633311",:"351",:"",Longitude:"139.714135",Latitude:"35.779822"},{:"",:"30-1",:"0339728111",:"990",:"True",Longitude:"139.691367",Latitude:"35.748434"},{:"",:"2-11-1",:"0339641211",:"1,074",:"True",Longitude:"139.717291",Latitude:"35.756283"},{:"",:"35-2",:"0339641141",:"550",:"",Longitude:"139.702156",Latitude:"35.753303"},{:"",:"331",:"0353751234",:"438",:"",Longitude:"139.702156",Latitude:"35.753303"},{:"",:"2-5-1",:"0339793611",:"457",:"",Longitude:"139.629419",Latitude:"35.761758"},{:"",:"3-1-10",:"0359233111",:"490",:"True",Longitude:"139.615774",Latitude:"35.746584"},{:"",:"4-33-1",:"0338570111",:"450",:"True",Longitude:"139.765536",Latitude:"35.775035"},{:"",:"1-12-12",:"0356471700",:"196",:"",Longitude:"139.777941",Latitude:"35.774561"},{:"",:"4-1-12",:"0338505721",:"221",:"",Longitude:"139.796206",Latitude:"35.793715"},{:"",:"5111",:"0338991311",:"306",:"",Longitude:"139.756107",Latitude:"35.782984"},{:"",:"6-41-2",:"0336032111",:"371",:"",Longitude:"139.854395",Latitude:"35.749805"},{:"",:"5-14-1",:"0356825111",:"314",:"",Longitude:"139.847822",Latitude:"35.762584"},{:"",:"5-1-9",:"0336922121",:"203",:"",Longitude:"139.847509",Latitude:"35.740534"},{:"",:"4-23-15",:"0336336151",:"765",:"True",Longitude:"139.812814",Latitude:"35.693862"},{:"",:"2-27-1",:"0356551120",:"200",:"",Longitude:"139.817761",Latitude:"35.723263"},{:"",:"6-8-5",:"0336852166",:"286",:"",Longitude:"139.833922",Latitude:"35.689496"},{:"",:"3-3-20",:"0356323111",:"404",:"",Longitude:"139.828462",Latitude:"35.662427"},{:"",:"3-8-31",:"0335200111",:"686",:"",Longitude:"139.792944",Latitude:"35.631721"},{:"",:"5-1-38",:"0362046000",:"400",:"",Longitude:"139.794319",Latitude:"35.654488"},{:"",:"1-4-2",:"0356058811",:"400",:"",Longitude:"139.862493",Latitude:"35.646977"},{:"",:"2-24-18",:"0336731221",:"447",:"",Longitude:"139.891604",Latitude:"35.72873"},{:"",:"4-3-1",:"0356791211",:"293",:"",Longitude:"139.861328",Latitude:"35.674888"},{:"",:"4-16-5",:"0428223191",:"521",:"True",Longitude:"139.276452",Latitude:"35.790229"},{:"",:"78-1",:"0425580321",:"305",:"",Longitude:"139.270326",Latitude:"35.724827"},{:"",:"1-6-1",:"0425511111",:"316",:"",Longitude:"139.324061",Latitude:"35.750404"},{:"",:"1838",:"0426391111",:"500",:"",Longitude:"139.367501",Latitude:"35.677624"},{:"",:"1-7-1",:"0423712111",:"405",:"True",Longitude:"139.446579",Latitude:"35.620955"},{:"",:"2-1-2",:"0423385111",:"287",:"",Longitude:"139.411609",Latitude:"35.62083"},{:"",:"1171",:"0423770931",:"290",:"",Longitude:"139.485807",Latitude:"35.648978"},{:"",:"2-15-41",:"0427222230",:"440",:"",Longitude:"139.439795",Latitude:"35.557269"},{:"",:"4-4-1",:"0427996161",:"222",:"",Longitude:"139.469193",Latitude:"35.511983"},{:"",:"4-3-1",:"0425812677",:"300",:"",Longitude:"139.380645",Latitude:"35.66614"},{:"",:"3256",:"0425265511",:"455",:"True",Longitude:"139.403362",Latitude:"35.707669"},{:"",:"4222",:"0425233131",:"450",:"",Longitude:"139.417543",Latitude:"35.691902"},{:"",:"1-26-1",:"0422323111",:"611",:"True",Longitude:"139.541127",Latitude:"35.7011298"},{:"",:"2-8-29",:"",:"789",:"True",Longitude:"139.46229",Latitude:"35.691696"},{:"",:"6-20-2",:"0422475511",:"1,137",:"True",Longitude:"139.572537",Latitude:"35.67577"},{:"",:"4-11-1",:"0334801151",:"561",:"",Longitude:"139.574723",Latitude:"35.641096"},{:"",:"8-1-1",:"0424610052",:"485",:"True",Longitude:"139.512384",Latitude:"35.732652"},{:"",:"4-24-15",:"0424611535",:"183",:"",Longitude:"139.538238",Latitude:"35.729798"},{:"",:"1-7-1",:"0423963811",:"337",:"",Longitude:"139.493746",Latitude:"35.764811"},{:"",:"3-1-1",:"0424912111",:"472",:"",Longitude:"139.508239",Latitude:"35.765951"}],m4=({onClose:t,title:e})=>N.jsxs("div",{children:[N.jsx("button",{onClick:t,className:"absolute top-2 right-2 text-gray-600 hover:text-gray-800 focus:outline-none",style:{backgroundColor:"transparent",border:"none",padding:0},children:N.jsx(o4,{size:24})}),N.jsx("h2",{className:"text-xl font-bold mb-2 text-gray-700",children:e})]}),v4=({onFileChange:t,imageUrl:e})=>N.jsxs("div",{className:"mb-4",children:[N.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),N.jsx("input",{type:"file",accept:"image/*",onChange:t,className:"border border-gray-300 rounded p-2 w-full"}),e&&N.jsx("div",{className:"mt-4",children:N.jsx("img",{src:e,alt:"Selected preview",className:"w-full max-h-[400px] object-contain"})})]}),y4=({title:t,description:e,onTitleChange:n,onDescriptionChange:r,isMenuVisible:i})=>N.jsxs(N.Fragment,{children:[N.jsxs("div",{className:"mb-4",children:[N.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),N.jsx("input",{type:"text",value:t,onChange:n,className:"border border-gray-300 rounded p-2 w-full bg-white text-gray-700"})]}),N.jsxs("div",{className:"mb-4",children:[N.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),N.jsx("textarea",{value:e,onChange:r,className:"border border-gray-300 rounded p-2 w-full bg-white text-gray-700",rows:4})]})]}),_4=({loading:t,onClick:e})=>N.jsx("div",{className:"flex justify-center items-center",children:N.jsx("button",{onClick:e,className:`px-4 py-2 rounded w-full flex justify-center items-center 
                  ${t?"bg-orange-500":"bg-blue-500"} 
                  text-white`,disabled:t,children:t?N.jsxs(N.Fragment,{children:[N.jsx(Xr,{className:"animate-spin mr-2"}),"..."]}):""})}),w4=async t=>{const e=CI(kI,`images/${t.name}`);return await EI(e,t),await TI(e)},E4=async(t,e,n,r,i,o,s,a,u)=>fS(Vf(fa,"reports"),{title:t,description:e,position:n,imageUrl:r,timestamp:new Date,comments:[],disasterType:i,damageLevel:o,affectedArea:s,damageType:a,responseAction:u});function T4(t,e){return e.forEach(function(n){n&&typeof n!="string"&&!Array.isArray(n)&&Object.keys(n).forEach(function(r){if(r!=="default"&&!(r in t)){var i=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:function(){return n[r]}})}})}),Object.freeze(t)}function Tw(t,e){return new Promise(function(n,r){let i;return C4(t).then(function(o){try{return i=o,n(new Blob([e.slice(0,2),i,e.slice(2)],{type:"image/jpeg"}))}catch(s){return r(s)}},r)})}const C4=t=>new Promise((e,n)=>{const r=new FileReader;r.addEventListener("load",({target:{result:i}})=>{const o=new DataView(i);let s=0;if(o.getUint16(s)!==65496)return n("not a valid JPEG");for(s+=2;;){const a=o.getUint16(s);if(a===65498)break;const u=o.getUint16(s+2);if(a===65505&&o.getUint32(s+4)===1165519206){const c=s+10;let h;switch(o.getUint16(c)){case 18761:h=!0;break;case 19789:h=!1;break;default:return n("TIFF header contains invalid endian")}if(o.getUint16(c+2,h)!==42)return n("TIFF header contains invalid version");const d=o.getUint32(c+4,h),f=c+d+2+12*o.getUint16(c+d,h);for(let g=c+d+2;g<f;g+=12)if(o.getUint16(g,h)==274){if(o.getUint16(g+2,h)!==3)return n("Orientation data type is invalid");if(o.getUint32(g+4,h)!==1)return n("Orientation data count is invalid");o.setUint16(g+8,1,h);break}return e(i.slice(s,s+2+u))}s+=2+u}return e(new Blob)}),r.readAsArrayBuffer(t)});var du={},A4={get exports(){return du},set exports(t){du=t}};(function(t){var e,n,r={};A4.exports=r,r.parse=function(i,o){for(var s=r.bin.readUshort,a=r.bin.readUint,u=0,c={},h=new Uint8Array(i),d=h.length-4;a(h,d)!=101010256;)d--;u=d,u+=4;var f=s(h,u+=4);s(h,u+=2);var g=a(h,u+=2),w=a(h,u+=4);u+=4,u=w;for(var A=0;A<f;A++){a(h,u),u+=4,u+=4,u+=4,a(h,u+=4),g=a(h,u+=4);var R=a(h,u+=4),E=s(h,u+=4),x=s(h,u+2),I=s(h,u+4);u+=6;var M=a(h,u+=8);u+=4,u+=E+x+I,r._readLocal(h,M,c,g,R,o)}return c},r._readLocal=function(i,o,s,a,u,c){var h=r.bin.readUshort,d=r.bin.readUint;d(i,o),h(i,o+=4),h(i,o+=2);var f=h(i,o+=2);d(i,o+=2),d(i,o+=4),o+=4;var g=h(i,o+=8),w=h(i,o+=2);o+=2;var A=r.bin.readUTF8(i,o,g);if(o+=g,o+=w,c)s[A]={size:u,csize:a};else{var R=new Uint8Array(i.buffer,o);if(f==0)s[A]=new Uint8Array(R.buffer.slice(o,o+a));else{if(f!=8)throw"unknown compression method: "+f;var E=new Uint8Array(u);r.inflateRaw(R,E),s[A]=E}}},r.inflateRaw=function(i,o){return r.F.inflate(i,o)},r.inflate=function(i,o){return i[0],i[1],r.inflateRaw(new Uint8Array(i.buffer,i.byteOffset+2,i.length-6),o)},r.deflate=function(i,o){o==null&&(o={level:6});var s=0,a=new Uint8Array(50+Math.floor(1.1*i.length));a[s]=120,a[s+1]=156,s+=2,s=r.F.deflateRaw(i,a,s,o.level);var u=r.adler(i,0,i.length);return a[s+0]=u>>>24&255,a[s+1]=u>>>16&255,a[s+2]=u>>>8&255,a[s+3]=u>>>0&255,new Uint8Array(a.buffer,0,s+4)},r.deflateRaw=function(i,o){o==null&&(o={level:6});var s=new Uint8Array(50+Math.floor(1.1*i.length)),a=r.F.deflateRaw(i,s,a,o.level);return new Uint8Array(s.buffer,0,a)},r.encode=function(i,o){o==null&&(o=!1);var s=0,a=r.bin.writeUint,u=r.bin.writeUshort,c={};for(var h in i){var d=!r._noNeed(h)&&!o,f=i[h],g=r.crc.crc(f,0,f.length);c[h]={cpr:d,usize:f.length,crc:g,file:d?r.deflateRaw(f):f}}for(var h in c)s+=c[h].file.length+30+46+2*r.bin.sizeUTF8(h);s+=22;var w=new Uint8Array(s),A=0,R=[];for(var h in c){var E=c[h];R.push(A),A=r._writeHeader(w,A,h,E,0)}var x=0,I=A;for(var h in c)E=c[h],R.push(A),A=r._writeHeader(w,A,h,E,1,R[x++]);var M=A-I;return a(w,A,101010256),A+=4,u(w,A+=4,x),u(w,A+=2,x),a(w,A+=2,M),a(w,A+=4,I),A+=4,A+=2,w.buffer},r._noNeed=function(i){var o=i.split(".").pop().toLowerCase();return"png,jpg,jpeg,zip".indexOf(o)!=-1},r._writeHeader=function(i,o,s,a,u,c){var h=r.bin.writeUint,d=r.bin.writeUshort,f=a.file;return h(i,o,u==0?67324752:33639248),o+=4,u==1&&(o+=2),d(i,o,20),d(i,o+=2,0),d(i,o+=2,a.cpr?8:0),h(i,o+=2,0),h(i,o+=4,a.crc),h(i,o+=4,f.length),h(i,o+=4,a.usize),d(i,o+=4,r.bin.sizeUTF8(s)),d(i,o+=2,0),o+=2,u==1&&(o+=2,o+=2,h(i,o+=6,c),o+=4),o+=r.bin.writeUTF8(i,o,s),u==0&&(i.set(f,o),o+=f.length),o},r.crc={table:function(){for(var i=new Uint32Array(256),o=0;o<256;o++){for(var s=o,a=0;a<8;a++)1&s?s=3988292384^s>>>1:s>>>=1;i[o]=s}return i}(),update:function(i,o,s,a){for(var u=0;u<a;u++)i=r.crc.table[255&(i^o[s+u])]^i>>>8;return i},crc:function(i,o,s){return 4294967295^r.crc.update(4294967295,i,o,s)}},r.adler=function(i,o,s){for(var a=1,u=0,c=o,h=o+s;c<h;){for(var d=Math.min(c+5552,h);c<d;)u+=a+=i[c++];a%=65521,u%=65521}return u<<16|a},r.bin={readUshort:function(i,o){return i[o]|i[o+1]<<8},writeUshort:function(i,o,s){i[o]=255&s,i[o+1]=s>>8&255},readUint:function(i,o){return 16777216*i[o+3]+(i[o+2]<<16|i[o+1]<<8|i[o])},writeUint:function(i,o,s){i[o]=255&s,i[o+1]=s>>8&255,i[o+2]=s>>16&255,i[o+3]=s>>24&255},readASCII:function(i,o,s){for(var a="",u=0;u<s;u++)a+=String.fromCharCode(i[o+u]);return a},writeASCII:function(i,o,s){for(var a=0;a<s.length;a++)i[o+a]=s.charCodeAt(a)},pad:function(i){return i.length<2?"0"+i:i},readUTF8:function(i,o,s){for(var a,u="",c=0;c<s;c++)u+="%"+r.bin.pad(i[o+c].toString(16));try{a=decodeURIComponent(u)}catch{return r.bin.readASCII(i,o,s)}return a},writeUTF8:function(i,o,s){for(var a=s.length,u=0,c=0;c<a;c++){var h=s.charCodeAt(c);if(!(4294967168&h))i[o+u]=h,u++;else if(!(4294965248&h))i[o+u]=192|h>>6,i[o+u+1]=128|h>>0&63,u+=2;else if(!(4294901760&h))i[o+u]=224|h>>12,i[o+u+1]=128|h>>6&63,i[o+u+2]=128|h>>0&63,u+=3;else{if(4292870144&h)throw"e";i[o+u]=240|h>>18,i[o+u+1]=128|h>>12&63,i[o+u+2]=128|h>>6&63,i[o+u+3]=128|h>>0&63,u+=4}}return u},sizeUTF8:function(i){for(var o=i.length,s=0,a=0;a<o;a++){var u=i.charCodeAt(a);if(!(4294967168&u))s++;else if(!(4294965248&u))s+=2;else if(!(4294901760&u))s+=3;else{if(4292870144&u)throw"e";s+=4}}return s}},r.F={},r.F.deflateRaw=function(i,o,s,a){var u=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][a],c=r.F.U,h=r.F._goodIndex;r.F._hash;var d=r.F._putsE,f=0,g=s<<3,w=0,A=i.length;if(a==0){for(;f<A;)d(o,g,f+(P=Math.min(65535,A-f))==A?1:0),g=r.F._copyExact(i,f,P,o,g+8),f+=P;return g>>>3}var R=c.lits,E=c.strt,x=c.prev,I=0,M=0,V=0,S=0,C=0,p=0;for(A>2&&(E[p=r.F._hash(i,0)]=0),f=0;f<A;f++){if(C=p,f+1<A-2){p=r.F._hash(i,f+1);var y=f+1&32767;x[y]=E[p],E[p]=y}if(w<=f){(I>14e3||M>26697)&&A-f>100&&(w<f&&(R[I]=f-w,I+=2,w=f),g=r.F._writeBlock(f==A-1||w==A?1:0,R,I,S,i,V,f-V,o,g),I=M=S=0,V=f);var _=0;f<A-2&&(_=r.F._bestMatch(i,f,x,C,Math.min(u[2],A-f),u[3]));var P=_>>>16,k=65535&_;if(_!=0){k=65535&_;var L=h(P=_>>>16,c.of0);c.lhst[257+L]++;var F=h(k,c.df0);c.dhst[F]++,S+=c.exb[L]+c.dxb[F],R[I]=P<<23|f-w,R[I+1]=k<<16|L<<8|F,I+=2,w=f+P}else c.lhst[i[f]]++;M++}}for(V==f&&i.length!=0||(w<f&&(R[I]=f-w,I+=2,w=f),g=r.F._writeBlock(1,R,I,S,i,V,f-V,o,g),I=0,M=0,I=M=S=0,V=f);7&g;)g++;return g>>>3},r.F._bestMatch=function(i,o,s,a,u,c){var h=32767&o,d=s[h],f=h-d+32768&32767;if(d==h||a!=r.F._hash(i,o-f))return 0;for(var g=0,w=0,A=Math.min(32767,o);f<=A&&--c!=0&&d!=h;){if(g==0||i[o+g]==i[o+g-f]){var R=r.F._howLong(i,o,f);if(R>g){if(w=f,(g=R)>=u)break;f+2<R&&(R=f+2);for(var E=0,x=0;x<R-2;x++){var I=o-f+x+32768&32767,M=I-s[I]+32768&32767;M>E&&(E=M,d=I)}}}f+=(h=d)-(d=s[h])+32768&32767}return g<<16|w},r.F._howLong=function(i,o,s){if(i[o]!=i[o-s]||i[o+1]!=i[o+1-s]||i[o+2]!=i[o+2-s])return 0;var a=o,u=Math.min(i.length,o+258);for(o+=3;o<u&&i[o]==i[o-s];)o++;return o-a},r.F._hash=function(i,o){return(i[o]<<8|i[o+1])+(i[o+2]<<4)&65535},r.saved=0,r.F._writeBlock=function(i,o,s,a,u,c,h,d,f){var g,w,A,R,E,x,I,M,V,S=r.F.U,C=r.F._putsF,p=r.F._putsE;S.lhst[256]++,w=(g=r.F.getTrees())[0],A=g[1],R=g[2],E=g[3],x=g[4],I=g[5],M=g[6],V=g[7];var y=32+(f+3&7?8-(f+3&7):0)+(h<<3),_=a+r.F.contSize(S.fltree,S.lhst)+r.F.contSize(S.fdtree,S.dhst),P=a+r.F.contSize(S.ltree,S.lhst)+r.F.contSize(S.dtree,S.dhst);P+=14+3*I+r.F.contSize(S.itree,S.ihst)+(2*S.ihst[16]+3*S.ihst[17]+7*S.ihst[18]);for(var k=0;k<286;k++)S.lhst[k]=0;for(k=0;k<30;k++)S.dhst[k]=0;for(k=0;k<19;k++)S.ihst[k]=0;var L=y<_&&y<P?0:_<P?1:2;if(C(d,f,i),C(d,f+1,L),f+=3,L==0){for(;7&f;)f++;f=r.F._copyExact(u,c,h,d,f)}else{var F,z;if(L==1&&(F=S.fltree,z=S.fdtree),L==2){r.F.makeCodes(S.ltree,w),r.F.revCodes(S.ltree,w),r.F.makeCodes(S.dtree,A),r.F.revCodes(S.dtree,A),r.F.makeCodes(S.itree,R),r.F.revCodes(S.itree,R),F=S.ltree,z=S.dtree,p(d,f,E-257),p(d,f+=5,x-1),p(d,f+=5,I-4),f+=4;for(var O=0;O<I;O++)p(d,f+3*O,S.itree[1+(S.ordr[O]<<1)]);f+=3*I,f=r.F._codeTiny(M,S.itree,d,f),f=r.F._codeTiny(V,S.itree,d,f)}for(var b=c,j=0;j<s;j+=2){for(var U=o[j],B=U>>>23,q=b+(8388607&U);b<q;)f=r.F._writeLit(u[b++],F,d,f);if(B!=0){var Q=o[j+1],Y=Q>>16,G=Q>>8&255,W=255&Q;p(d,f=r.F._writeLit(257+G,F,d,f),B-S.of0[G]),f+=S.exb[G],C(d,f=r.F._writeLit(W,z,d,f),Y-S.df0[W]),f+=S.dxb[W],b+=B}}f=r.F._writeLit(256,F,d,f)}return f},r.F._copyExact=function(i,o,s,a,u){var c=u>>>3;return a[c]=s,a[c+1]=s>>>8,a[c+2]=255-a[c],a[c+3]=255-a[c+1],c+=4,a.set(new Uint8Array(i.buffer,o,s),c),u+(s+4<<3)},r.F.getTrees=function(){for(var i=r.F.U,o=r.F._hufTree(i.lhst,i.ltree,15),s=r.F._hufTree(i.dhst,i.dtree,15),a=[],u=r.F._lenCodes(i.ltree,a),c=[],h=r.F._lenCodes(i.dtree,c),d=0;d<a.length;d+=2)i.ihst[a[d]]++;for(d=0;d<c.length;d+=2)i.ihst[c[d]]++;for(var f=r.F._hufTree(i.ihst,i.itree,7),g=19;g>4&&i.itree[1+(i.ordr[g-1]<<1)]==0;)g--;return[o,s,f,u,h,g,a,c]},r.F.getSecond=function(i){for(var o=[],s=0;s<i.length;s+=2)o.push(i[s+1]);return o},r.F.nonZero=function(i){for(var o="",s=0;s<i.length;s+=2)i[s+1]!=0&&(o+=(s>>1)+",");return o},r.F.contSize=function(i,o){for(var s=0,a=0;a<o.length;a++)s+=o[a]*i[1+(a<<1)];return s},r.F._codeTiny=function(i,o,s,a){for(var u=0;u<i.length;u+=2){var c=i[u],h=i[u+1];a=r.F._writeLit(c,o,s,a);var d=c==16?2:c==17?3:7;c>15&&(r.F._putsE(s,a,h,d),a+=d)}return a},r.F._lenCodes=function(i,o){for(var s=i.length;s!=2&&i[s-1]==0;)s-=2;for(var a=0;a<s;a+=2){var u=i[a+1],c=a+3<s?i[a+3]:-1,h=a+5<s?i[a+5]:-1,d=a==0?-1:i[a-1];if(u==0&&c==u&&h==u){for(var f=a+5;f+2<s&&i[f+2]==u;)f+=2;(g=Math.min(f+1-a>>>1,138))<11?o.push(17,g-3):o.push(18,g-11),a+=2*g-2}else if(u==d&&c==u&&h==u){for(f=a+5;f+2<s&&i[f+2]==u;)f+=2;var g=Math.min(f+1-a>>>1,6);o.push(16,g-3),a+=2*g-2}else o.push(u,0)}return s>>>1},r.F._hufTree=function(i,o,s){var a=[],u=i.length,c=o.length,h=0;for(h=0;h<c;h+=2)o[h]=0,o[h+1]=0;for(h=0;h<u;h++)i[h]!=0&&a.push({lit:h,f:i[h]});var d=a.length,f=a.slice(0);if(d==0)return 0;if(d==1){var g=a[0].lit;return f=g==0?1:0,o[1+(g<<1)]=1,o[1+(f<<1)]=1,1}a.sort(function(M,V){return M.f-V.f});var w=a[0],A=a[1],R=0,E=1,x=2;for(a[0]={lit:-1,f:w.f+A.f,l:w,r:A,d:0};E!=d-1;)w=R!=E&&(x==d||a[R].f<a[x].f)?a[R++]:a[x++],A=R!=E&&(x==d||a[R].f<a[x].f)?a[R++]:a[x++],a[E++]={lit:-1,f:w.f+A.f,l:w,r:A};var I=r.F.setDepth(a[E-1],0);for(I>s&&(r.F.restrictDepth(f,s,I),I=s),h=0;h<d;h++)o[1+(f[h].lit<<1)]=f[h].d;return I},r.F.setDepth=function(i,o){return i.lit!=-1?(i.d=o,o):Math.max(r.F.setDepth(i.l,o+1),r.F.setDepth(i.r,o+1))},r.F.restrictDepth=function(i,o,s){var a=0,u=1<<s-o,c=0;for(i.sort(function(d,f){return f.d==d.d?d.f-f.f:f.d-d.d}),a=0;a<i.length&&i[a].d>o;a++){var h=i[a].d;i[a].d=o,c+=u-(1<<s-h)}for(c>>>=s-o;c>0;)(h=i[a].d)<o?(i[a].d++,c-=1<<o-h-1):a++;for(;a>=0;a--)i[a].d==o&&c<0&&(i[a].d--,c++);c!=0&&console.log("debt left")},r.F._goodIndex=function(i,o){var s=0;return o[16|s]<=i&&(s|=16),o[8|s]<=i&&(s|=8),o[4|s]<=i&&(s|=4),o[2|s]<=i&&(s|=2),o[1|s]<=i&&(s|=1),s},r.F._writeLit=function(i,o,s,a){return r.F._putsF(s,a,o[i<<1]),a+o[1+(i<<1)]},r.F.inflate=function(i,o){var s=Uint8Array;if(i[0]==3&&i[1]==0)return o||new s(0);var a=r.F,u=a._bitsF,c=a._bitsE,h=a._decodeTiny,d=a.makeCodes,f=a.codes2map,g=a._get17,w=a.U,A=o==null;A&&(o=new s(i.length>>>2<<3));for(var R,E,x=0,I=0,M=0,V=0,S=0,C=0,p=0,y=0,_=0;x==0;)if(x=u(i,_,1),I=u(i,_+1,2),_+=3,I!=0){if(A&&(o=r.F._check(o,y+(1<<17))),I==1&&(R=w.flmap,E=w.fdmap,C=511,p=31),I==2){M=c(i,_,5)+257,V=c(i,_+5,5)+1,S=c(i,_+10,4)+4,_+=14;for(var P=0;P<38;P+=2)w.itree[P]=0,w.itree[P+1]=0;var k=1;for(P=0;P<S;P++){var L=c(i,_+3*P,3);w.itree[1+(w.ordr[P]<<1)]=L,L>k&&(k=L)}_+=3*S,d(w.itree,k),f(w.itree,k,w.imap),R=w.lmap,E=w.dmap,_=h(w.imap,(1<<k)-1,M+V,i,_,w.ttree);var F=a._copyOut(w.ttree,0,M,w.ltree);C=(1<<F)-1;var z=a._copyOut(w.ttree,M,V,w.dtree);p=(1<<z)-1,d(w.ltree,F),f(w.ltree,F,R),d(w.dtree,z),f(w.dtree,z,E)}for(;;){var O=R[g(i,_)&C];_+=15&O;var b=O>>>4;if(!(b>>>8))o[y++]=b;else{if(b==256)break;var j=y+b-254;if(b>264){var U=w.ldef[b-257];j=y+(U>>>3)+c(i,_,7&U),_+=7&U}var B=E[g(i,_)&p];_+=15&B;var q=B>>>4,Q=w.ddef[q],Y=(Q>>>4)+u(i,_,15&Q);for(_+=15&Q,A&&(o=r.F._check(o,y+(1<<17)));y<j;)o[y]=o[y++-Y],o[y]=o[y++-Y],o[y]=o[y++-Y],o[y]=o[y++-Y];y=j}}}else{7&_&&(_+=8-(7&_));var G=4+(_>>>3),W=i[G-4]|i[G-3]<<8;A&&(o=r.F._check(o,y+W)),o.set(new s(i.buffer,i.byteOffset+G,W),y),_=G+W<<3,y+=W}return o.length==y?o:o.slice(0,y)},r.F._check=function(i,o){var s=i.length;if(o<=s)return i;var a=new Uint8Array(Math.max(s<<1,o));return a.set(i,0),a},r.F._decodeTiny=function(i,o,s,a,u,c){for(var h=r.F._bitsE,d=r.F._get17,f=0;f<s;){var g=i[d(a,u)&o];u+=15&g;var w=g>>>4;if(w<=15)c[f]=w,f++;else{var A=0,R=0;w==16?(R=3+h(a,u,2),u+=2,A=c[f-1]):w==17?(R=3+h(a,u,3),u+=3):w==18&&(R=11+h(a,u,7),u+=7);for(var E=f+R;f<E;)c[f]=A,f++}}return u},r.F._copyOut=function(i,o,s,a){for(var u=0,c=0,h=a.length>>>1;c<s;){var d=i[c+o];a[c<<1]=0,a[1+(c<<1)]=d,d>u&&(u=d),c++}for(;c<h;)a[c<<1]=0,a[1+(c<<1)]=0,c++;return u},r.F.makeCodes=function(i,o){for(var s,a,u,c,h=r.F.U,d=i.length,f=h.bl_count,g=0;g<=o;g++)f[g]=0;for(g=1;g<d;g+=2)f[i[g]]++;var w=h.next_code;for(s=0,f[0]=0,a=1;a<=o;a++)s=s+f[a-1]<<1,w[a]=s;for(u=0;u<d;u+=2)(c=i[u+1])!=0&&(i[u]=w[c],w[c]++)},r.F.codes2map=function(i,o,s){for(var a=i.length,u=r.F.U.rev15,c=0;c<a;c+=2)if(i[c+1]!=0)for(var h=c>>1,d=i[c+1],f=h<<4|d,g=o-d,w=i[c]<<g,A=w+(1<<g);w!=A;)s[u[w]>>>15-o]=f,w++},r.F.revCodes=function(i,o){for(var s=r.F.U.rev15,a=15-o,u=0;u<i.length;u+=2){var c=i[u]<<o-i[u+1];i[u]=s[c]>>>a}},r.F._putsE=function(i,o,s){s<<=7&o;var a=o>>>3;i[a]|=s,i[a+1]|=s>>>8},r.F._putsF=function(i,o,s){s<<=7&o;var a=o>>>3;i[a]|=s,i[a+1]|=s>>>8,i[a+2]|=s>>>16},r.F._bitsE=function(i,o,s){return(i[o>>>3]|i[1+(o>>>3)]<<8)>>>(7&o)&(1<<s)-1},r.F._bitsF=function(i,o,s){return(i[o>>>3]|i[1+(o>>>3)]<<8|i[2+(o>>>3)]<<16)>>>(7&o)&(1<<s)-1},r.F._get17=function(i,o){return(i[o>>>3]|i[1+(o>>>3)]<<8|i[2+(o>>>3)]<<16)>>>(7&o)},r.F._get25=function(i,o){return(i[o>>>3]|i[1+(o>>>3)]<<8|i[2+(o>>>3)]<<16|i[3+(o>>>3)]<<24)>>>(7&o)},r.F.U=(e=Uint16Array,n=Uint32Array,{next_code:new e(16),bl_count:new e(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new e(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new n(32),flmap:new e(512),fltree:[],fdmap:new e(32),fdtree:[],lmap:new e(32768),ltree:[],ttree:[],dmap:new e(32768),dtree:[],imap:new e(512),itree:[],rev15:new e(32768),lhst:new n(286),dhst:new n(30),ihst:new n(19),lits:new n(15e3),strt:new e(65536),prev:new e(32768)}),function(){for(var i=r.F.U,o=0;o<32768;o++){var s=o;s=(4278255360&(s=(4042322160&(s=(3435973836&(s=(2863311530&s)>>>1|(1431655765&s)<<1))>>>2|(858993459&s)<<2))>>>4|(252645135&s)<<4))>>>8|(16711935&s)<<8,i.rev15[o]=(s>>>16|s<<16)>>>17}function a(u,c,h){for(;c--!=0;)u.push(0,h)}for(o=0;o<32;o++)i.ldef[o]=i.of0[o]<<3|i.exb[o],i.ddef[o]=i.df0[o]<<4|i.dxb[o];a(i.fltree,144,8),a(i.fltree,112,9),a(i.fltree,24,7),a(i.fltree,8,8),r.F.makeCodes(i.fltree,9),r.F.codes2map(i.fltree,9,i.flmap),r.F.revCodes(i.fltree,9),a(i.fdtree,32,5),r.F.makeCodes(i.fdtree,5),r.F.codes2map(i.fdtree,5,i.fdmap),r.F.revCodes(i.fdtree,5),a(i.itree,19,0),a(i.ltree,286,0),a(i.dtree,30,0),a(i.ttree,320,0)}()})();var L4=T4({__proto__:null,default:du},[du]);const Dn=function(){var t={nextZero(h,d){for(;h[d]!=0;)d++;return d},readUshort:(h,d)=>h[d]<<8|h[d+1],writeUshort(h,d,f){h[d]=f>>8&255,h[d+1]=255&f},readUint:(h,d)=>16777216*h[d]+(h[d+1]<<16|h[d+2]<<8|h[d+3]),writeUint(h,d,f){h[d]=f>>24&255,h[d+1]=f>>16&255,h[d+2]=f>>8&255,h[d+3]=255&f},readASCII(h,d,f){let g="";for(let w=0;w<f;w++)g+=String.fromCharCode(h[d+w]);return g},writeASCII(h,d,f){for(let g=0;g<f.length;g++)h[d+g]=f.charCodeAt(g)},readBytes(h,d,f){const g=[];for(let w=0;w<f;w++)g.push(h[d+w]);return g},pad:h=>h.length<2?`0${h}`:h,readUTF8(h,d,f){let g,w="";for(let A=0;A<f;A++)w+=`%${t.pad(h[d+A].toString(16))}`;try{g=decodeURIComponent(w)}catch{return t.readASCII(h,d,f)}return g}};function e(h,d,f,g){const w=d*f,A=o(g),R=Math.ceil(d*A/8),E=new Uint8Array(4*w),x=new Uint32Array(E.buffer),{ctype:I}=g,{depth:M}=g,V=t.readUshort;if(I==6){const U=w<<2;if(M==8)for(var S=0;S<U;S+=4)E[S]=h[S],E[S+1]=h[S+1],E[S+2]=h[S+2],E[S+3]=h[S+3];if(M==16)for(S=0;S<U;S++)E[S]=h[S<<1]}else if(I==2){const U=g.tabs.tRNS;if(U==null){if(M==8)for(S=0;S<w;S++){var C=3*S;x[S]=255<<24|h[C+2]<<16|h[C+1]<<8|h[C]}if(M==16)for(S=0;S<w;S++)C=6*S,x[S]=255<<24|h[C+4]<<16|h[C+2]<<8|h[C]}else{var p=U[0];const B=U[1],q=U[2];if(M==8)for(S=0;S<w;S++){var y=S<<2;C=3*S,x[S]=255<<24|h[C+2]<<16|h[C+1]<<8|h[C],h[C]==p&&h[C+1]==B&&h[C+2]==q&&(E[y+3]=0)}if(M==16)for(S=0;S<w;S++)y=S<<2,C=6*S,x[S]=255<<24|h[C+4]<<16|h[C+2]<<8|h[C],V(h,C)==p&&V(h,C+2)==B&&V(h,C+4)==q&&(E[y+3]=0)}}else if(I==3){const U=g.tabs.PLTE,B=g.tabs.tRNS,q=B?B.length:0;if(M==1)for(var _=0;_<f;_++){var P=_*R,k=_*d;for(S=0;S<d;S++){y=k+S<<2;var L=3*(F=h[P+(S>>3)]>>7-((7&S)<<0)&1);E[y]=U[L],E[y+1]=U[L+1],E[y+2]=U[L+2],E[y+3]=F<q?B[F]:255}}if(M==2)for(_=0;_<f;_++)for(P=_*R,k=_*d,S=0;S<d;S++)y=k+S<<2,L=3*(F=h[P+(S>>2)]>>6-((3&S)<<1)&3),E[y]=U[L],E[y+1]=U[L+1],E[y+2]=U[L+2],E[y+3]=F<q?B[F]:255;if(M==4)for(_=0;_<f;_++)for(P=_*R,k=_*d,S=0;S<d;S++)y=k+S<<2,L=3*(F=h[P+(S>>1)]>>4-((1&S)<<2)&15),E[y]=U[L],E[y+1]=U[L+1],E[y+2]=U[L+2],E[y+3]=F<q?B[F]:255;if(M==8)for(S=0;S<w;S++){var F;y=S<<2,L=3*(F=h[S]),E[y]=U[L],E[y+1]=U[L+1],E[y+2]=U[L+2],E[y+3]=F<q?B[F]:255}}else if(I==4){if(M==8)for(S=0;S<w;S++){y=S<<2;var z=h[O=S<<1];E[y]=z,E[y+1]=z,E[y+2]=z,E[y+3]=h[O+1]}if(M==16)for(S=0;S<w;S++){var O;y=S<<2,z=h[O=S<<2],E[y]=z,E[y+1]=z,E[y+2]=z,E[y+3]=h[O+2]}}else if(I==0)for(p=g.tabs.tRNS?g.tabs.tRNS:-1,_=0;_<f;_++){const U=_*R,B=_*d;if(M==1)for(var b=0;b<d;b++){var j=(z=255*(h[U+(b>>>3)]>>>7-(7&b)&1))==255*p?0:255;x[B+b]=j<<24|z<<16|z<<8|z}else if(M==2)for(b=0;b<d;b++)j=(z=85*(h[U+(b>>>2)]>>>6-((3&b)<<1)&3))==85*p?0:255,x[B+b]=j<<24|z<<16|z<<8|z;else if(M==4)for(b=0;b<d;b++)j=(z=17*(h[U+(b>>>1)]>>>4-((1&b)<<2)&15))==17*p?0:255,x[B+b]=j<<24|z<<16|z<<8|z;else if(M==8)for(b=0;b<d;b++)j=(z=h[U+b])==p?0:255,x[B+b]=j<<24|z<<16|z<<8|z;else if(M==16)for(b=0;b<d;b++)z=h[U+(b<<1)],j=V(h,U+(b<<1))==p?0:255,x[B+b]=j<<24|z<<16|z<<8|z}return E}function n(h,d,f,g){const w=o(h),A=Math.ceil(f*w/8),R=new Uint8Array((A+1+h.interlace)*g);return d=h.tabs.CgBI?i(d,R):r(d,R),h.interlace==0?d=s(d,h,0,f,g):h.interlace==1&&(d=function(x,I){const M=I.width,V=I.height,S=o(I),C=S>>3,p=Math.ceil(M*S/8),y=new Uint8Array(V*p);let _=0;const P=[0,0,4,0,2,0,1],k=[0,4,0,2,0,1,0],L=[8,8,8,4,4,2,2],F=[8,8,4,4,2,2,1];let z=0;for(;z<7;){const b=L[z],j=F[z];let U=0,B=0,q=P[z];for(;q<V;)q+=b,B++;let Q=k[z];for(;Q<M;)Q+=j,U++;const Y=Math.ceil(U*S/8);s(x,I,_,U,B);let G=0,W=P[z];for(;W<V;){let $=k[z],se=_+G*Y<<3;for(;$<M;){var O;if(S==1&&(O=(O=x[se>>3])>>7-(7&se)&1,y[W*p+($>>3)]|=O<<7-((7&$)<<0)),S==2&&(O=(O=x[se>>3])>>6-(7&se)&3,y[W*p+($>>2)]|=O<<6-((3&$)<<1)),S==4&&(O=(O=x[se>>3])>>4-(7&se)&15,y[W*p+($>>1)]|=O<<4-((1&$)<<2)),S>=8){const ce=W*p+$*C;for(let te=0;te<C;te++)y[ce+te]=x[(se>>3)+te]}se+=S,$+=j}G++,W+=b}U*B!=0&&(_+=B*(1+Y)),z+=1}return y}(d,h)),d}function r(h,d){return i(new Uint8Array(h.buffer,2,h.length-6),d)}var i=function(){const h={H:{}};return h.H.N=function(d,f){const g=Uint8Array;let w,A,R=0,E=0,x=0,I=0,M=0,V=0,S=0,C=0,p=0;if(d[0]==3&&d[1]==0)return f||new g(0);const y=h.H,_=y.b,P=y.e,k=y.R,L=y.n,F=y.A,z=y.Z,O=y.m,b=f==null;for(b&&(f=new g(d.length>>>2<<5));R==0;)if(R=_(d,p,1),E=_(d,p+1,2),p+=3,E!=0){if(b&&(f=h.H.W(f,C+(1<<17))),E==1&&(w=O.J,A=O.h,V=511,S=31),E==2){x=P(d,p,5)+257,I=P(d,p+5,5)+1,M=P(d,p+10,4)+4,p+=14;let U=1;for(var j=0;j<38;j+=2)O.Q[j]=0,O.Q[j+1]=0;for(j=0;j<M;j++){const Q=P(d,p+3*j,3);O.Q[1+(O.X[j]<<1)]=Q,Q>U&&(U=Q)}p+=3*M,L(O.Q,U),F(O.Q,U,O.u),w=O.w,A=O.d,p=k(O.u,(1<<U)-1,x+I,d,p,O.v);const B=y.V(O.v,0,x,O.C);V=(1<<B)-1;const q=y.V(O.v,x,I,O.D);S=(1<<q)-1,L(O.C,B),F(O.C,B,w),L(O.D,q),F(O.D,q,A)}for(;;){const U=w[z(d,p)&V];p+=15&U;const B=U>>>4;if(!(B>>>8))f[C++]=B;else{if(B==256)break;{let q=C+B-254;if(B>264){const $=O.q[B-257];q=C+($>>>3)+P(d,p,7&$),p+=7&$}const Q=A[z(d,p)&S];p+=15&Q;const Y=Q>>>4,G=O.c[Y],W=(G>>>4)+_(d,p,15&G);for(p+=15&G;C<q;)f[C]=f[C++-W],f[C]=f[C++-W],f[C]=f[C++-W],f[C]=f[C++-W];C=q}}}}else{7&p&&(p+=8-(7&p));const U=4+(p>>>3),B=d[U-4]|d[U-3]<<8;b&&(f=h.H.W(f,C+B)),f.set(new g(d.buffer,d.byteOffset+U,B),C),p=U+B<<3,C+=B}return f.length==C?f:f.slice(0,C)},h.H.W=function(d,f){const g=d.length;if(f<=g)return d;const w=new Uint8Array(g<<1);return w.set(d,0),w},h.H.R=function(d,f,g,w,A,R){const E=h.H.e,x=h.H.Z;let I=0;for(;I<g;){const M=d[x(w,A)&f];A+=15&M;const V=M>>>4;if(V<=15)R[I]=V,I++;else{let S=0,C=0;V==16?(C=3+E(w,A,2),A+=2,S=R[I-1]):V==17?(C=3+E(w,A,3),A+=3):V==18&&(C=11+E(w,A,7),A+=7);const p=I+C;for(;I<p;)R[I]=S,I++}}return A},h.H.V=function(d,f,g,w){let A=0,R=0;const E=w.length>>>1;for(;R<g;){const x=d[R+f];w[R<<1]=0,w[1+(R<<1)]=x,x>A&&(A=x),R++}for(;R<E;)w[R<<1]=0,w[1+(R<<1)]=0,R++;return A},h.H.n=function(d,f){const g=h.H.m,w=d.length;let A,R,E,x;const I=g.j;for(var M=0;M<=f;M++)I[M]=0;for(M=1;M<w;M+=2)I[d[M]]++;const V=g.K;for(A=0,I[0]=0,R=1;R<=f;R++)A=A+I[R-1]<<1,V[R]=A;for(E=0;E<w;E+=2)x=d[E+1],x!=0&&(d[E]=V[x],V[x]++)},h.H.A=function(d,f,g){const w=d.length,A=h.H.m.r;for(let R=0;R<w;R+=2)if(d[R+1]!=0){const E=R>>1,x=d[R+1],I=E<<4|x,M=f-x;let V=d[R]<<M;const S=V+(1<<M);for(;V!=S;)g[A[V]>>>15-f]=I,V++}},h.H.l=function(d,f){const g=h.H.m.r,w=15-f;for(let A=0;A<d.length;A+=2){const R=d[A]<<f-d[A+1];d[A]=g[R]>>>w}},h.H.M=function(d,f,g){g<<=7&f;const w=f>>>3;d[w]|=g,d[w+1]|=g>>>8},h.H.I=function(d,f,g){g<<=7&f;const w=f>>>3;d[w]|=g,d[w+1]|=g>>>8,d[w+2]|=g>>>16},h.H.e=function(d,f,g){return(d[f>>>3]|d[1+(f>>>3)]<<8)>>>(7&f)&(1<<g)-1},h.H.b=function(d,f,g){return(d[f>>>3]|d[1+(f>>>3)]<<8|d[2+(f>>>3)]<<16)>>>(7&f)&(1<<g)-1},h.H.Z=function(d,f){return(d[f>>>3]|d[1+(f>>>3)]<<8|d[2+(f>>>3)]<<16)>>>(7&f)},h.H.i=function(d,f){return(d[f>>>3]|d[1+(f>>>3)]<<8|d[2+(f>>>3)]<<16|d[3+(f>>>3)]<<24)>>>(7&f)},h.H.m=function(){const d=Uint16Array,f=Uint32Array;return{K:new d(16),j:new d(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new d(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new f(32),J:new d(512),_:[],h:new d(32),$:[],w:new d(32768),C:[],v:[],d:new d(32768),D:[],u:new d(512),Q:[],r:new d(32768),s:new f(286),Y:new f(30),a:new f(19),t:new f(15e3),k:new d(65536),g:new d(32768)}}(),function(){const d=h.H.m;for(var f=0;f<32768;f++){let w=f;w=(2863311530&w)>>>1|(1431655765&w)<<1,w=(3435973836&w)>>>2|(858993459&w)<<2,w=(4042322160&w)>>>4|(252645135&w)<<4,w=(4278255360&w)>>>8|(16711935&w)<<8,d.r[f]=(w>>>16|w<<16)>>>17}function g(w,A,R){for(;A--!=0;)w.push(0,R)}for(f=0;f<32;f++)d.q[f]=d.S[f]<<3|d.T[f],d.c[f]=d.p[f]<<4|d.z[f];g(d._,144,8),g(d._,112,9),g(d._,24,7),g(d._,8,8),h.H.n(d._,9),h.H.A(d._,9,d.J),h.H.l(d._,9),g(d.$,32,5),h.H.n(d.$,5),h.H.A(d.$,5,d.h),h.H.l(d.$,5),g(d.Q,19,0),g(d.C,286,0),g(d.D,30,0),g(d.v,320,0)}(),h.H.N}();function o(h){return[1,null,3,1,2,null,4][h.ctype]*h.depth}function s(h,d,f,g,w){let A=o(d);const R=Math.ceil(g*A/8);let E,x;A=Math.ceil(A/8);let I=h[f],M=0;if(I>1&&(h[f]=[0,0,1][I-2]),I==3)for(M=A;M<R;M++)h[M+1]=h[M+1]+(h[M+1-A]>>>1)&255;for(let V=0;V<w;V++)if(E=f+V*R,x=E+V+1,I=h[x-1],M=0,I==0)for(;M<R;M++)h[E+M]=h[x+M];else if(I==1){for(;M<A;M++)h[E+M]=h[x+M];for(;M<R;M++)h[E+M]=h[x+M]+h[E+M-A]}else if(I==2)for(;M<R;M++)h[E+M]=h[x+M]+h[E+M-R];else if(I==3){for(;M<A;M++)h[E+M]=h[x+M]+(h[E+M-R]>>>1);for(;M<R;M++)h[E+M]=h[x+M]+(h[E+M-R]+h[E+M-A]>>>1)}else{for(;M<A;M++)h[E+M]=h[x+M]+a(0,h[E+M-R],0);for(;M<R;M++)h[E+M]=h[x+M]+a(h[E+M-A],h[E+M-R],h[E+M-A-R])}return h}function a(h,d,f){const g=h+d-f,w=g-h,A=g-d,R=g-f;return w*w<=A*A&&w*w<=R*R?h:A*A<=R*R?d:f}function u(h,d,f){f.width=t.readUint(h,d),d+=4,f.height=t.readUint(h,d),d+=4,f.depth=h[d],d++,f.ctype=h[d],d++,f.compress=h[d],d++,f.filter=h[d],d++,f.interlace=h[d],d++}function c(h,d,f,g,w,A,R,E,x){const I=Math.min(d,w),M=Math.min(f,A);let V=0,S=0;for(let z=0;z<M;z++)for(let O=0;O<I;O++)if(R>=0&&E>=0?(V=z*d+O<<2,S=(E+z)*w+R+O<<2):(V=(-E+z)*d-R+O<<2,S=z*w+O<<2),x==0)g[S]=h[V],g[S+1]=h[V+1],g[S+2]=h[V+2],g[S+3]=h[V+3];else if(x==1){var C=h[V+3]*.00392156862745098,p=h[V]*C,y=h[V+1]*C,_=h[V+2]*C,P=g[S+3]*(1/255),k=g[S]*P,L=g[S+1]*P,F=g[S+2]*P;const b=1-C,j=C+P*b,U=j==0?0:1/j;g[S+3]=255*j,g[S+0]=(p+k*b)*U,g[S+1]=(y+L*b)*U,g[S+2]=(_+F*b)*U}else if(x==2)C=h[V+3],p=h[V],y=h[V+1],_=h[V+2],P=g[S+3],k=g[S],L=g[S+1],F=g[S+2],C==P&&p==k&&y==L&&_==F?(g[S]=0,g[S+1]=0,g[S+2]=0,g[S+3]=0):(g[S]=p,g[S+1]=y,g[S+2]=_,g[S+3]=C);else if(x==3){if(C=h[V+3],p=h[V],y=h[V+1],_=h[V+2],P=g[S+3],k=g[S],L=g[S+1],F=g[S+2],C==P&&p==k&&y==L&&_==F)continue;if(C<220&&P>20)return!1}return!0}return{decode:function(d){const f=new Uint8Array(d);let g=8;const w=t,A=w.readUshort,R=w.readUint,E={tabs:{},frames:[]},x=new Uint8Array(f.length);let I,M=0,V=0;const S=[137,80,78,71,13,10,26,10];for(var C=0;C<8;C++)if(f[C]!=S[C])throw"The input is not a PNG file!";for(;g<f.length;){const z=w.readUint(f,g);g+=4;const O=w.readASCII(f,g,4);if(g+=4,O=="IHDR")u(f,g,E);else if(O=="iCCP"){for(var p=g;f[p]!=0;)p++;w.readASCII(f,g,p-g),f[p+1];const b=f.slice(p+2,g+z);let j=null;try{j=r(b)}catch{j=i(b)}E.tabs[O]=j}else if(O=="CgBI")E.tabs[O]=f.slice(g,g+4);else if(O=="IDAT"){for(C=0;C<z;C++)x[M+C]=f[g+C];M+=z}else if(O=="acTL")E.tabs[O]={num_frames:R(f,g),num_plays:R(f,g+4)},I=new Uint8Array(f.length);else if(O=="fcTL"){V!=0&&((F=E.frames[E.frames.length-1]).data=n(E,I.slice(0,V),F.rect.width,F.rect.height),V=0);const b={x:R(f,g+12),y:R(f,g+16),width:R(f,g+4),height:R(f,g+8)};let j=A(f,g+22);j=A(f,g+20)/(j==0?100:j);const U={rect:b,delay:Math.round(1e3*j),dispose:f[g+24],blend:f[g+25]};E.frames.push(U)}else if(O=="fdAT"){for(C=0;C<z-4;C++)I[V+C]=f[g+C+4];V+=z-4}else if(O=="pHYs")E.tabs[O]=[w.readUint(f,g),w.readUint(f,g+4),f[g+8]];else if(O=="cHRM")for(E.tabs[O]=[],C=0;C<8;C++)E.tabs[O].push(w.readUint(f,g+4*C));else if(O=="tEXt"||O=="zTXt"){E.tabs[O]==null&&(E.tabs[O]={});var y=w.nextZero(f,g),_=w.readASCII(f,g,y-g),P=g+z-y-1;if(O=="tEXt")L=w.readASCII(f,y+1,P);else{var k=r(f.slice(y+2,y+2+P));L=w.readUTF8(k,0,k.length)}E.tabs[O][_]=L}else if(O=="iTXt"){E.tabs[O]==null&&(E.tabs[O]={}),y=0,p=g,y=w.nextZero(f,p),_=w.readASCII(f,p,y-p);const b=f[p=y+1];var L;f[p+1],p+=2,y=w.nextZero(f,p),w.readASCII(f,p,y-p),p=y+1,y=w.nextZero(f,p),w.readUTF8(f,p,y-p),P=z-((p=y+1)-g),b==0?L=w.readUTF8(f,p,P):(k=r(f.slice(p,p+P)),L=w.readUTF8(k,0,k.length)),E.tabs[O][_]=L}else if(O=="PLTE")E.tabs[O]=w.readBytes(f,g,z);else if(O=="hIST"){const b=E.tabs.PLTE.length/3;for(E.tabs[O]=[],C=0;C<b;C++)E.tabs[O].push(A(f,g+2*C))}else if(O=="tRNS")E.ctype==3?E.tabs[O]=w.readBytes(f,g,z):E.ctype==0?E.tabs[O]=A(f,g):E.ctype==2&&(E.tabs[O]=[A(f,g),A(f,g+2),A(f,g+4)]);else if(O=="gAMA")E.tabs[O]=w.readUint(f,g)/1e5;else if(O=="sRGB")E.tabs[O]=f[g];else if(O=="bKGD")E.ctype==0||E.ctype==4?E.tabs[O]=[A(f,g)]:E.ctype==2||E.ctype==6?E.tabs[O]=[A(f,g),A(f,g+2),A(f,g+4)]:E.ctype==3&&(E.tabs[O]=f[g]);else if(O=="IEND")break;g+=z,w.readUint(f,g),g+=4}var F;return V!=0&&((F=E.frames[E.frames.length-1]).data=n(E,I.slice(0,V),F.rect.width,F.rect.height)),E.data=n(E,x,E.width,E.height),delete E.compress,delete E.interlace,delete E.filter,E},toRGBA8:function(d){const f=d.width,g=d.height;if(d.tabs.acTL==null)return[e(d.data,f,g,d).buffer];const w=[];d.frames[0].data==null&&(d.frames[0].data=d.data);const A=f*g*4,R=new Uint8Array(A),E=new Uint8Array(A),x=new Uint8Array(A);for(let M=0;M<d.frames.length;M++){const V=d.frames[M],S=V.rect.x,C=V.rect.y,p=V.rect.width,y=V.rect.height,_=e(V.data,p,y,d);if(M!=0)for(var I=0;I<A;I++)x[I]=R[I];if(V.blend==0?c(_,p,y,R,f,g,S,C,0):V.blend==1&&c(_,p,y,R,f,g,S,C,1),w.push(R.buffer.slice(0)),V.dispose!=0){if(V.dispose==1)c(E,p,y,R,f,g,S,C,0);else if(V.dispose==2)for(I=0;I<A;I++)R[I]=x[I]}}return w},_paeth:a,_copyTile:c,_bin:t}}();(function(){const{_copyTile:t}=Dn,{_bin:e}=Dn,n=Dn._paeth;var r={table:function(){const p=new Uint32Array(256);for(let y=0;y<256;y++){let _=y;for(let P=0;P<8;P++)1&_?_=3988292384^_>>>1:_>>>=1;p[y]=_}return p}(),update(p,y,_,P){for(let k=0;k<P;k++)p=r.table[255&(p^y[_+k])]^p>>>8;return p},crc:(p,y,_)=>4294967295^r.update(4294967295,p,y,_)};function i(p,y,_,P){y[_]+=p[0]*P>>4,y[_+1]+=p[1]*P>>4,y[_+2]+=p[2]*P>>4,y[_+3]+=p[3]*P>>4}function o(p){return Math.max(0,Math.min(255,p))}function s(p,y){const _=p[0]-y[0],P=p[1]-y[1],k=p[2]-y[2],L=p[3]-y[3];return _*_+P*P+k*k+L*L}function a(p,y,_,P,k,L,F){F==null&&(F=1);const z=P.length,O=[];for(var b=0;b<z;b++){const W=P[b];O.push([W>>>0&255,W>>>8&255,W>>>16&255,W>>>24&255])}for(b=0;b<z;b++){let W=4294967295;for(var j=0,U=0;U<z;U++){var B=s(O[b],O[U]);U!=b&&B<W&&(W=B,j=U)}}const q=new Uint32Array(k.buffer),Q=new Int16Array(y*_*4),Y=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(b=0;b<Y.length;b++)Y[b]=255*((Y[b]+.5)/16-.5);for(let W=0;W<_;W++)for(let $=0;$<y;$++){var G;b=4*(W*y+$),F!=2?G=[o(p[b]+Q[b]),o(p[b+1]+Q[b+1]),o(p[b+2]+Q[b+2]),o(p[b+3]+Q[b+3])]:(B=Y[4*(3&W)+(3&$)],G=[o(p[b]+B),o(p[b+1]+B),o(p[b+2]+B),o(p[b+3]+B)]),j=0;let se=16777215;for(U=0;U<z;U++){const Z=s(G,O[U]);Z<se&&(se=Z,j=U)}const ce=O[j],te=[G[0]-ce[0],G[1]-ce[1],G[2]-ce[2],G[3]-ce[3]];F==1&&($!=y-1&&i(te,Q,b+4,7),W!=_-1&&($!=0&&i(te,Q,b+4*y-4,3),i(te,Q,b+4*y,5),$!=y-1&&i(te,Q,b+4*y+4,1))),L[b>>2]=j,q[b>>2]=P[j]}}function u(p,y,_,P,k){k==null&&(k={});const{crc:L}=r,F=e.writeUint,z=e.writeUshort,O=e.writeASCII;let b=8;const j=p.frames.length>1;let U,B=!1,q=33+(j?20:0);if(k.sRGB!=null&&(q+=13),k.pHYs!=null&&(q+=21),k.iCCP!=null&&(U=pako.deflate(k.iCCP),q+=21+U.length+4),p.ctype==3){for(var Q=p.plte.length,Y=0;Y<Q;Y++)p.plte[Y]>>>24!=255&&(B=!0);q+=8+3*Q+4+(B?8+1*Q+4:0)}for(var G=0;G<p.frames.length;G++)j&&(q+=38),q+=(ce=p.frames[G]).cimg.length+12,G!=0&&(q+=4);q+=12;const W=new Uint8Array(q),$=[137,80,78,71,13,10,26,10];for(Y=0;Y<8;Y++)W[Y]=$[Y];if(F(W,b,13),b+=4,O(W,b,"IHDR"),b+=4,F(W,b,y),b+=4,F(W,b,_),b+=4,W[b]=p.depth,b++,W[b]=p.ctype,b++,W[b]=0,b++,W[b]=0,b++,W[b]=0,b++,F(W,b,L(W,b-17,17)),b+=4,k.sRGB!=null&&(F(W,b,1),b+=4,O(W,b,"sRGB"),b+=4,W[b]=k.sRGB,b++,F(W,b,L(W,b-5,5)),b+=4),k.iCCP!=null){const te=13+U.length;F(W,b,te),b+=4,O(W,b,"iCCP"),b+=4,O(W,b,"ICC profile"),b+=11,b+=2,W.set(U,b),b+=U.length,F(W,b,L(W,b-(te+4),te+4)),b+=4}if(k.pHYs!=null&&(F(W,b,9),b+=4,O(W,b,"pHYs"),b+=4,F(W,b,k.pHYs[0]),b+=4,F(W,b,k.pHYs[1]),b+=4,W[b]=k.pHYs[2],b++,F(W,b,L(W,b-13,13)),b+=4),j&&(F(W,b,8),b+=4,O(W,b,"acTL"),b+=4,F(W,b,p.frames.length),b+=4,F(W,b,k.loop!=null?k.loop:0),b+=4,F(W,b,L(W,b-12,12)),b+=4),p.ctype==3){for(F(W,b,3*(Q=p.plte.length)),b+=4,O(W,b,"PLTE"),b+=4,Y=0;Y<Q;Y++){const te=3*Y,Z=p.plte[Y],ue=255&Z,de=Z>>>8&255,Le=Z>>>16&255;W[b+te+0]=ue,W[b+te+1]=de,W[b+te+2]=Le}if(b+=3*Q,F(W,b,L(W,b-3*Q-4,3*Q+4)),b+=4,B){for(F(W,b,Q),b+=4,O(W,b,"tRNS"),b+=4,Y=0;Y<Q;Y++)W[b+Y]=p.plte[Y]>>>24&255;b+=Q,F(W,b,L(W,b-Q-4,Q+4)),b+=4}}let se=0;for(G=0;G<p.frames.length;G++){var ce=p.frames[G];j&&(F(W,b,26),b+=4,O(W,b,"fcTL"),b+=4,F(W,b,se++),b+=4,F(W,b,ce.rect.width),b+=4,F(W,b,ce.rect.height),b+=4,F(W,b,ce.rect.x),b+=4,F(W,b,ce.rect.y),b+=4,z(W,b,P[G]),b+=2,z(W,b,1e3),b+=2,W[b]=ce.dispose,b++,W[b]=ce.blend,b++,F(W,b,L(W,b-30,30)),b+=4);const te=ce.cimg;F(W,b,(Q=te.length)+(G==0?0:4)),b+=4;const Z=b;O(W,b,G==0?"IDAT":"fdAT"),b+=4,G!=0&&(F(W,b,se++),b+=4),W.set(te,b),b+=Q,F(W,b,L(W,Z,b-Z)),b+=4}return F(W,b,0),b+=4,O(W,b,"IEND"),b+=4,F(W,b,L(W,b-4,4)),b+=4,W.buffer}function c(p,y,_){for(let P=0;P<p.frames.length;P++){const k=p.frames[P];k.rect.width;const L=k.rect.height,F=new Uint8Array(L*k.bpl+L);k.cimg=g(k.img,L,k.bpp,k.bpl,F,y,_)}}function h(p,y,_,P,k){const L=k[0],F=k[1],z=k[2],O=k[3],b=k[4],j=k[5];let U=6,B=8,q=255;for(var Q=0;Q<p.length;Q++){const ye=new Uint8Array(p[Q]);for(var Y=ye.length,G=0;G<Y;G+=4)q&=ye[G+3]}const W=q!=255,$=function(me,fe,we,le,Se,pe){const xe=[];for(var ie=0;ie<me.length;ie++){const et=new Uint8Array(me[ie]),Nt=new Uint32Array(et.buffer);var $e;let ut=0,At=0,Ot=fe,Jt=we,wr=le?1:0;if(ie!=0){const Hi=pe||le||ie==1||xe[ie-2].dispose!=0?1:2;let Bn=0,zn=1e9;for(let Rn=0;Rn<Hi;Rn++){var je=new Uint8Array(me[ie-1-Rn]);const $n=new Uint32Array(me[ie-1-Rn]);let Lt=fe,Gt=we,St=-1,un=-1;for(let cn=0;cn<we;cn++)for(let _t=0;_t<fe;_t++)Nt[He=cn*fe+_t]!=$n[He]&&(_t<Lt&&(Lt=_t),_t>St&&(St=_t),cn<Gt&&(Gt=cn),cn>un&&(un=cn));St==-1&&(Lt=Gt=St=un=0),Se&&((1&Lt)==1&&Lt--,(1&Gt)==1&&Gt--);const Hn=(St-Lt+1)*(un-Gt+1);Hn<zn&&(zn=Hn,Bn=Rn,ut=Lt,At=Gt,Ot=St-Lt+1,Jt=un-Gt+1)}je=new Uint8Array(me[ie-1-Bn]),Bn==1&&(xe[ie-1].dispose=2),$e=new Uint8Array(Ot*Jt*4),t(je,fe,we,$e,Ot,Jt,-ut,-At,0),wr=t(et,fe,we,$e,Ot,Jt,-ut,-At,3)?1:0,wr==1?f(et,fe,we,$e,{x:ut,y:At,width:Ot,height:Jt}):t(et,fe,we,$e,Ot,Jt,-ut,-At,0)}else $e=et.slice(0);xe.push({rect:{x:ut,y:At,width:Ot,height:Jt},img:$e,blend:wr,dispose:0})}if(le)for(ie=0;ie<xe.length;ie++){if((Pe=xe[ie]).blend==1)continue;const et=Pe.rect,Nt=xe[ie-1].rect,ut=Math.min(et.x,Nt.x),At=Math.min(et.y,Nt.y),Ot={x:ut,y:At,width:Math.max(et.x+et.width,Nt.x+Nt.width)-ut,height:Math.max(et.y+et.height,Nt.y+Nt.height)-At};xe[ie-1].dispose=1,ie-1!=0&&d(me,fe,we,xe,ie-1,Ot,Se),d(me,fe,we,xe,ie,Ot,Se)}let Be=0;if(me.length!=1)for(var He=0;He<xe.length;He++){var Pe;Be+=(Pe=xe[He]).rect.width*Pe.rect.height}return xe}(p,y,_,L,F,z),se={},ce=[],te=[];if(P!=0){const ye=[];for(G=0;G<$.length;G++)ye.push($[G].img.buffer);const me=function(Se){let pe=0;for(var xe=0;xe<Se.length;xe++)pe+=Se[xe].byteLength;const ie=new Uint8Array(pe);let $e=0;for(xe=0;xe<Se.length;xe++){const je=new Uint8Array(Se[xe]),Be=je.length;for(let He=0;He<Be;He+=4){let Pe=je[He],et=je[He+1],Nt=je[He+2];const ut=je[He+3];ut==0&&(Pe=et=Nt=0),ie[$e+He]=Pe,ie[$e+He+1]=et,ie[$e+He+2]=Nt,ie[$e+He+3]=ut}$e+=Be}return ie.buffer}(ye),fe=A(me,P);for(G=0;G<fe.plte.length;G++)ce.push(fe.plte[G].est.rgba);let we=0;for(G=0;G<$.length;G++){const le=(ue=$[G]).img.length;var Z=new Uint8Array(fe.inds.buffer,we>>2,le>>2);te.push(Z);const Se=new Uint8Array(fe.abuf,we,le);j&&a(ue.img,ue.rect.width,ue.rect.height,ce,Se,Z),ue.img.set(Se),we+=le}}else for(Q=0;Q<$.length;Q++){var ue=$[Q];const ye=new Uint32Array(ue.img.buffer);var de=ue.rect.width;for(Y=ye.length,Z=new Uint8Array(Y),te.push(Z),G=0;G<Y;G++){const me=ye[G];if(G!=0&&me==ye[G-1])Z[G]=Z[G-1];else if(G>de&&me==ye[G-de])Z[G]=Z[G-de];else{let fe=se[me];if(fe==null&&(se[me]=fe=ce.length,ce.push(me),ce.length>=300))break;Z[G]=fe}}}const Le=ce.length;for(Le<=256&&b==0&&(B=Le<=2?1:Le<=4?2:Le<=16?4:8,B=Math.max(B,O)),Q=0;Q<$.length;Q++){(ue=$[Q]).rect.x,ue.rect.y,de=ue.rect.width;const ye=ue.rect.height;let me=ue.img;new Uint32Array(me.buffer);let fe=4*de,we=4;if(Le<=256&&b==0){fe=Math.ceil(B*de/8);var _e=new Uint8Array(fe*ye);const le=te[Q];for(let Se=0;Se<ye;Se++){G=Se*fe;const pe=Se*de;if(B==8)for(var re=0;re<de;re++)_e[G+re]=le[pe+re];else if(B==4)for(re=0;re<de;re++)_e[G+(re>>1)]|=le[pe+re]<<4-4*(1&re);else if(B==2)for(re=0;re<de;re++)_e[G+(re>>2)]|=le[pe+re]<<6-2*(3&re);else if(B==1)for(re=0;re<de;re++)_e[G+(re>>3)]|=le[pe+re]<<7-1*(7&re)}me=_e,U=3,we=1}else if(W==0&&$.length==1){_e=new Uint8Array(de*ye*3);const le=de*ye;for(G=0;G<le;G++){const Se=3*G,pe=4*G;_e[Se]=me[pe],_e[Se+1]=me[pe+1],_e[Se+2]=me[pe+2]}me=_e,U=2,we=3,fe=3*de}ue.img=me,ue.bpl=fe,ue.bpp=we}return{ctype:U,depth:B,plte:ce,frames:$}}function d(p,y,_,P,k,L,F){const z=Uint8Array,O=Uint32Array,b=new z(p[k-1]),j=new O(p[k-1]),U=k+1<p.length?new z(p[k+1]):null,B=new z(p[k]),q=new O(B.buffer);let Q=y,Y=_,G=-1,W=-1;for(let se=0;se<L.height;se++)for(let ce=0;ce<L.width;ce++){const te=L.x+ce,Z=L.y+se,ue=Z*y+te,de=q[ue];de==0||P[k-1].dispose==0&&j[ue]==de&&(U==null||U[4*ue+3]!=0)||(te<Q&&(Q=te),te>G&&(G=te),Z<Y&&(Y=Z),Z>W&&(W=Z))}G==-1&&(Q=Y=G=W=0),F&&((1&Q)==1&&Q--,(1&Y)==1&&Y--),L={x:Q,y:Y,width:G-Q+1,height:W-Y+1};const $=P[k];$.rect=L,$.blend=1,$.img=new Uint8Array(L.width*L.height*4),P[k-1].dispose==0?(t(b,y,_,$.img,L.width,L.height,-L.x,-L.y,0),f(B,y,_,$.img,L)):t(B,y,_,$.img,L.width,L.height,-L.x,-L.y,0)}function f(p,y,_,P,k){t(p,y,_,P,k.width,k.height,-k.x,-k.y,2)}function g(p,y,_,P,k,L,F){const z=[];let O,b=[0,1,2,3,4];L!=-1?b=[L]:(y*P>5e5||_==1)&&(b=[0]),F&&(O={level:0});const j=L4;for(var U=0;U<b.length;U++){for(let Q=0;Q<y;Q++)w(k,p,Q,P,_,b[U]);z.push(j.deflate(k,O))}let B,q=1e9;for(U=0;U<z.length;U++)z[U].length<q&&(B=U,q=z[U].length);return z[B]}function w(p,y,_,P,k,L){const F=_*P;let z=F+_;if(p[z]=L,z++,L==0)if(P<500)for(var O=0;O<P;O++)p[z+O]=y[F+O];else p.set(new Uint8Array(y.buffer,F,P),z);else if(L==1){for(O=0;O<k;O++)p[z+O]=y[F+O];for(O=k;O<P;O++)p[z+O]=y[F+O]-y[F+O-k]+256&255}else if(_==0){for(O=0;O<k;O++)p[z+O]=y[F+O];if(L==2)for(O=k;O<P;O++)p[z+O]=y[F+O];if(L==3)for(O=k;O<P;O++)p[z+O]=y[F+O]-(y[F+O-k]>>1)+256&255;if(L==4)for(O=k;O<P;O++)p[z+O]=y[F+O]-n(y[F+O-k],0,0)+256&255}else{if(L==2)for(O=0;O<P;O++)p[z+O]=y[F+O]+256-y[F+O-P]&255;if(L==3){for(O=0;O<k;O++)p[z+O]=y[F+O]+256-(y[F+O-P]>>1)&255;for(O=k;O<P;O++)p[z+O]=y[F+O]+256-(y[F+O-P]+y[F+O-k]>>1)&255}if(L==4){for(O=0;O<k;O++)p[z+O]=y[F+O]+256-n(0,y[F+O-P],0)&255;for(O=k;O<P;O++)p[z+O]=y[F+O]+256-n(y[F+O-k],y[F+O-P],y[F+O-k-P])&255}}}function A(p,y){const _=new Uint8Array(p),P=_.slice(0),k=new Uint32Array(P.buffer),L=R(P,y),F=L[0],z=L[1],O=_.length,b=new Uint8Array(O>>2);let j;if(_.length<2e7)for(var U=0;U<O;U+=4)j=E(F,B=_[U]*(1/255),q=_[U+1]*(1/255),Q=_[U+2]*(1/255),Y=_[U+3]*(1/255)),b[U>>2]=j.ind,k[U>>2]=j.est.rgba;else for(U=0;U<O;U+=4){var B=_[U]*.00392156862745098,q=_[U+1]*(1/255),Q=_[U+2]*(1/255),Y=_[U+3]*(1/255);for(j=F;j.left;)j=x(j.est,B,q,Q,Y)<=0?j.left:j.right;b[U>>2]=j.ind,k[U>>2]=j.est.rgba}return{abuf:P.buffer,inds:b,plte:z}}function R(p,y,_){_==null&&(_=1e-4);const P=new Uint32Array(p.buffer),k={i0:0,i1:p.length,bst:null,est:null,tdst:0,left:null,right:null};k.bst=V(p,k.i0,k.i1),k.est=S(k.bst);const L=[k];for(;L.length<y;){let z=0,O=0;for(var F=0;F<L.length;F++)L[F].est.L>z&&(z=L[F].est.L,O=F);if(z<_)break;const b=L[O],j=I(p,P,b.i0,b.i1,b.est.e,b.est.eMq255);if(b.i0>=j||b.i1<=j){b.est.L=0;continue}const U={i0:b.i0,i1:j,bst:null,est:null,tdst:0,left:null,right:null};U.bst=V(p,U.i0,U.i1),U.est=S(U.bst);const B={i0:j,i1:b.i1,bst:null,est:null,tdst:0,left:null,right:null};for(B.bst={R:[],m:[],N:b.bst.N-U.bst.N},F=0;F<16;F++)B.bst.R[F]=b.bst.R[F]-U.bst.R[F];for(F=0;F<4;F++)B.bst.m[F]=b.bst.m[F]-U.bst.m[F];B.est=S(B.bst),b.left=U,b.right=B,L[O]=U,L.push(B)}for(L.sort((z,O)=>O.bst.N-z.bst.N),F=0;F<L.length;F++)L[F].ind=F;return[k,L]}function E(p,y,_,P,k){if(p.left==null)return p.tdst=function(U,B,q,Q,Y){const G=B-U[0],W=q-U[1],$=Q-U[2],se=Y-U[3];return G*G+W*W+$*$+se*se}(p.est.q,y,_,P,k),p;const L=x(p.est,y,_,P,k);let F=p.left,z=p.right;L>0&&(F=p.right,z=p.left);const O=E(F,y,_,P,k);if(O.tdst<=L*L)return O;const b=E(z,y,_,P,k);return b.tdst<O.tdst?b:O}function x(p,y,_,P,k){const{e:L}=p;return L[0]*y+L[1]*_+L[2]*P+L[3]*k-p.eMq}function I(p,y,_,P,k,L){for(P-=4;_<P;){for(;M(p,_,k)<=L;)_+=4;for(;M(p,P,k)>L;)P-=4;if(_>=P)break;const F=y[_>>2];y[_>>2]=y[P>>2],y[P>>2]=F,_+=4,P-=4}for(;M(p,_,k)>L;)_-=4;return _+4}function M(p,y,_){return p[y]*_[0]+p[y+1]*_[1]+p[y+2]*_[2]+p[y+3]*_[3]}function V(p,y,_){const P=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],k=[0,0,0,0],L=_-y>>2;for(let F=y;F<_;F+=4){const z=p[F]*.00392156862745098,O=p[F+1]*(1/255),b=p[F+2]*(1/255),j=p[F+3]*(1/255);k[0]+=z,k[1]+=O,k[2]+=b,k[3]+=j,P[0]+=z*z,P[1]+=z*O,P[2]+=z*b,P[3]+=z*j,P[5]+=O*O,P[6]+=O*b,P[7]+=O*j,P[10]+=b*b,P[11]+=b*j,P[15]+=j*j}return P[4]=P[1],P[8]=P[2],P[9]=P[6],P[12]=P[3],P[13]=P[7],P[14]=P[11],{R:P,m:k,N:L}}function S(p){const{R:y}=p,{m:_}=p,{N:P}=p,k=_[0],L=_[1],F=_[2],z=_[3],O=P==0?0:1/P,b=[y[0]-k*k*O,y[1]-k*L*O,y[2]-k*F*O,y[3]-k*z*O,y[4]-L*k*O,y[5]-L*L*O,y[6]-L*F*O,y[7]-L*z*O,y[8]-F*k*O,y[9]-F*L*O,y[10]-F*F*O,y[11]-F*z*O,y[12]-z*k*O,y[13]-z*L*O,y[14]-z*F*O,y[15]-z*z*O],j=b,U=C;let B=[Math.random(),Math.random(),Math.random(),Math.random()],q=0,Q=0;if(P!=0)for(let G=0;G<16&&(B=U.multVec(j,B),Q=Math.sqrt(U.dot(B,B)),B=U.sml(1/Q,B),!(G!=0&&Math.abs(Q-q)<1e-9));G++)q=Q;const Y=[k*O,L*O,F*O,z*O];return{Cov:b,q:Y,e:B,L:q,eMq255:U.dot(U.sml(255,Y),B),eMq:U.dot(B,Y),rgba:(Math.round(255*Y[3])<<24|Math.round(255*Y[2])<<16|Math.round(255*Y[1])<<8|Math.round(255*Y[0])<<0)>>>0}}var C={multVec:(p,y)=>[p[0]*y[0]+p[1]*y[1]+p[2]*y[2]+p[3]*y[3],p[4]*y[0]+p[5]*y[1]+p[6]*y[2]+p[7]*y[3],p[8]*y[0]+p[9]*y[1]+p[10]*y[2]+p[11]*y[3],p[12]*y[0]+p[13]*y[1]+p[14]*y[2]+p[15]*y[3]],dot:(p,y)=>p[0]*y[0]+p[1]*y[1]+p[2]*y[2]+p[3]*y[3],sml:(p,y)=>[p*y[0],p*y[1],p*y[2],p*y[3]]};Dn.encode=function(y,_,P,k,L,F,z){k==null&&(k=0),z==null&&(z=!1);const O=h(y,_,P,k,[!1,!1,!1,0,z,!1]);return c(O,-1),u(O,_,P,L,F)},Dn.encodeLL=function(y,_,P,k,L,F,z,O){const b={ctype:0+(k==1?0:2)+(L==0?0:4),depth:F,frames:[]},j=(k+L)*F,U=j*_;for(let B=0;B<y.length;B++)b.frames.push({rect:{x:0,y:0,width:_,height:P},img:new Uint8Array(y[B]),blend:0,dispose:1,bpp:Math.ceil(j/8),bpl:Math.ceil(U/8)});return c(b,0,!0),u(b,_,P,z,O)},Dn.encode.compress=h,Dn.encode.dither=a,Dn.quantize=A,Dn.quantize.getKDtree=R,Dn.quantize.getNearest=E})();const Cw={toArrayBuffer(t,e){const n=t.width,r=t.height,i=n<<2,o=t.getContext("2d").getImageData(0,0,n,r),s=new Uint32Array(o.data.buffer),a=(32*n+31)/32<<2,u=a*r,c=122+u,h=new ArrayBuffer(c),d=new DataView(h),f=1<<20;let g,w,A,R,E=f,x=0,I=0,M=0;function V(p){d.setUint16(I,p,!0),I+=2}function S(p){d.setUint32(I,p,!0),I+=4}function C(p){I+=p}V(19778),S(c),C(4),S(122),S(108),S(n),S(-r>>>0),V(1),V(32),S(3),S(u),S(2835),S(2835),C(8),S(16711680),S(65280),S(255),S(4278190080),S(1466527264),function p(){for(;x<r&&E>0;){for(R=122+x*a,g=0;g<i;)E--,w=s[M++],A=w>>>24,d.setUint32(R+g,w<<8|A),g+=4;x++}M<s.length?(E=f,setTimeout(p,Cw._dly)):e(h)}()},toBlob(t,e){this.toArrayBuffer(t,n=>{e(new Blob([n],{type:"image/bmp"}))})},_dly:9};var tn={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},S4={[tn.CHROME]:16384,[tn.FIREFOX]:11180,[tn.DESKTOP_SAFARI]:16384,[tn.IE]:8192,[tn.IOS]:4096,[tn.ETC]:8192};const Jf=typeof window<"u",Aw=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,fu=Jf&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),I4=(Jf||Aw)&&(fu&&fu.getOriginalSymbol(window,"File")||typeof File<"u"&&File),Lw=(Jf||Aw)&&(fu&&fu.getOriginalSymbol(window,"FileReader")||typeof FileReader<"u"&&FileReader);function ep(t,e,n=Date.now()){return new Promise(r=>{const i=t.split(","),o=i[0].match(/:(.*?);/)[1],s=globalThis.atob(i[1]);let a=s.length;const u=new Uint8Array(a);for(;a--;)u[a]=s.charCodeAt(a);const c=new Blob([u],{type:o});c.name=e,c.lastModified=n,r(c)})}function Sw(t){return new Promise((e,n)=>{const r=new Lw;r.onload=()=>e(r.result),r.onerror=i=>n(i),r.readAsDataURL(t)})}function Iw(t){return new Promise((e,n)=>{const r=new Image;r.onload=()=>e(r),r.onerror=i=>n(i),r.src=t})}function Ai(){if(Ai.cachedResult!==void 0)return Ai.cachedResult;let t=tn.ETC;const{userAgent:e}=navigator;return/Chrom(e|ium)/i.test(e)?t=tn.CHROME:/iP(ad|od|hone)/i.test(e)&&/WebKit/i.test(e)?t=tn.IOS:/Safari/i.test(e)?t=tn.DESKTOP_SAFARI:/Firefox/i.test(e)?t=tn.FIREFOX:(/MSIE/i.test(e)||document.documentMode)&&(t=tn.IE),Ai.cachedResult=t,Ai.cachedResult}function xw(t,e){const n=Ai(),r=S4[n];let i=t,o=e,s=i*o;const a=i>o?o/i:i/o;for(;s>r*r;){const u=(r+i)/2,c=(r+o)/2;u<c?(o=c,i=c*a):(o=u*a,i=u),s=i*o}return{width:i,height:o}}function Zu(t,e){let n,r;try{if(n=new OffscreenCanvas(t,e),r=n.getContext("2d"),r===null)throw new Error("getContext of OffscreenCanvas returns null")}catch{n=document.createElement("canvas"),r=n.getContext("2d")}return n.width=t,n.height=e,[n,r]}function kw(t,e){const{width:n,height:r}=xw(t.width,t.height),[i,o]=Zu(n,r);return e&&/jpe?g/.test(e)&&(o.fillStyle="white",o.fillRect(0,0,i.width,i.height)),o.drawImage(t,0,0,i.width,i.height),i}function xl(){return xl.cachedResult!==void 0||(xl.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&typeof document<"u"&&"ontouchend"in document),xl.cachedResult}function pu(t,e={}){return new Promise(function(n,r){let i,o;var s=function(){try{return o=kw(i,e.fileType||t.type),n([i,o])}catch(u){return r(u)}},a=function(u){try{var c=function(h){try{throw h}catch(d){return r(d)}};try{let h;return Sw(t).then(function(d){try{return h=d,Iw(h).then(function(f){try{return i=f,function(){try{return s()}catch(g){return r(g)}}()}catch(g){return c(g)}},c)}catch(f){return c(f)}},c)}catch(h){c(h)}}catch(h){return r(h)}};try{if(xl()||[tn.DESKTOP_SAFARI,tn.MOBILE_SAFARI].includes(Ai()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(t).then(function(u){try{return i=u,s()}catch{return a()}},a)}catch{a()}})}function gu(t,e,n,r,i=1){return new Promise(function(o,s){let a;if(e==="image/png"){let d,f,g;return d=t.getContext("2d"),{data:f}=d.getImageData(0,0,t.width,t.height),g=Dn.encode([f.buffer],t.width,t.height,4096*i),a=new Blob([g],{type:e}),a.name=n,a.lastModified=r,u.call(this)}{let d=function(){return u.call(this)};var c=d;if(e==="image/bmp")return new Promise(f=>Cw.toBlob(t,f)).then((function(f){try{return a=f,a.name=n,a.lastModified=r,d.call(this)}catch(g){return s(g)}}).bind(this),s);{let f=function(){return d.call(this)};var h=f;if(typeof OffscreenCanvas=="function"&&t instanceof OffscreenCanvas)return t.convertToBlob({type:e,quality:i}).then((function(g){try{return a=g,a.name=n,a.lastModified=r,f.call(this)}catch(w){return s(w)}}).bind(this),s);{let g;return g=t.toDataURL(e,i),ep(g,n,r).then((function(w){try{return a=w,f.call(this)}catch(A){return s(A)}}).bind(this),s)}}}function u(){return o(a)}})}function Gn(t){t.width=0,t.height=0}function mo(){return new Promise(function(t,e){let n,r,i,o;return mo.cachedResult!==void 0?t(mo.cachedResult):ep("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then(function(s){try{return n=s,pu(n).then(function(a){try{return r=a[1],gu(r,n.type,n.name,n.lastModified).then(function(u){try{return i=u,Gn(r),pu(i).then(function(c){try{return o=c[0],mo.cachedResult=o.width===1&&o.height===2,t(mo.cachedResult)}catch(h){return e(h)}},e)}catch(c){return e(c)}},e)}catch(u){return e(u)}},e)}catch(a){return e(a)}},e)})}function Pw(t){return new Promise((e,n)=>{const r=new Lw;r.onload=i=>{const o=new DataView(i.target.result);if(o.getUint16(0,!1)!=65496)return e(-2);const s=o.byteLength;let a=2;for(;a<s;){if(o.getUint16(a+2,!1)<=8)return e(-1);const u=o.getUint16(a,!1);if(a+=2,u==65505){if(o.getUint32(a+=2,!1)!=1165519206)return e(-1);const c=o.getUint16(a+=6,!1)==18761;a+=o.getUint32(a+4,c);const h=o.getUint16(a,c);a+=2;for(let d=0;d<h;d++)if(o.getUint16(a+12*d,c)==274)return e(o.getUint16(a+12*d+8,c))}else{if((65280&u)!=65280)break;a+=o.getUint16(a,!1)}}return e(-1)},r.onerror=i=>n(i),r.readAsArrayBuffer(t)})}function Rw(t,e){const{width:n}=t,{height:r}=t,{maxWidthOrHeight:i}=e;let o,s=t;return isFinite(i)&&(n>i||r>i)&&([s,o]=Zu(n,r),n>r?(s.width=i,s.height=r/n*i):(s.width=n/r*i,s.height=i),o.drawImage(t,0,0,s.width,s.height),Gn(t)),s}function Mw(t,e){const{width:n}=t,{height:r}=t,[i,o]=Zu(n,r);switch(e>4&&e<9?(i.width=r,i.height=n):(i.width=n,i.height=r),e){case 2:o.transform(-1,0,0,1,n,0);break;case 3:o.transform(-1,0,0,-1,n,r);break;case 4:o.transform(1,0,0,-1,0,r);break;case 5:o.transform(0,1,1,0,0,0);break;case 6:o.transform(0,1,-1,0,r,0);break;case 7:o.transform(0,-1,-1,0,r,n);break;case 8:o.transform(0,-1,1,0,0,n)}return o.drawImage(t,0,0,n,r),Gn(t),i}function Vv(t,e,n=0){return new Promise(function(r,i){let o,s,a,u,c,h,d,f,g,w,A,R,E,x,I,M,V,S,C,p;function y(P=5){if(e.signal&&e.signal.aborted)throw e.signal.reason;o+=P,e.onProgress(Math.min(o,100))}function _(P){if(e.signal&&e.signal.aborted)throw e.signal.reason;o=Math.min(Math.max(P,o),100),e.onProgress(o)}return o=n,s=e.maxIteration||10,a=1024*e.maxSizeMB*1024,y(),pu(t,e).then((function(P){try{return[,u]=P,y(),c=Rw(u,e),y(),new Promise(function(k,L){var F;if(!(F=e.exifOrientation))return Pw(t).then((function(O){try{return F=O,z.call(this)}catch(b){return L(b)}}).bind(this),L);function z(){return k(F)}return z.call(this)}).then((function(k){try{return h=k,y(),mo().then((function(L){try{return d=L?c:Mw(c,h),y(),f=e.initialQuality||1,g=e.fileType||t.type,gu(d,g,t.name,t.lastModified,f).then((function(F){try{{let j=function(){if(s--&&(I>a||I>E)){let B,q;return B=p?.95*C.width:C.width,q=p?.95*C.height:C.height,[V,S]=Zu(B,q),S.drawImage(C,0,0,B,q),f*=g==="image/png"?.85:.95,gu(V,g,t.name,t.lastModified,f).then(function(Q){try{return M=Q,Gn(C),C=V,I=M.size,_(Math.min(99,Math.floor((x-I)/(x-a)*100))),j}catch(Y){return i(Y)}},i)}return[1]},U=function(){return Gn(C),Gn(V),Gn(c),Gn(d),Gn(u),_(100),r(M)};var O=j,b=U;if(w=F,y(),A=w.size>a,R=w.size>t.size,!A&&!R)return _(100),r(w);var z;return E=t.size,x=w.size,I=x,C=d,p=!e.alwaysKeepResolution&&A,(z=(function(B){for(;B;){if(B.then)return void B.then(z,i);try{if(B.pop){if(B.length)return B.pop()?U.call(this):B;B=j}else B=B.call(this)}catch(q){return i(q)}}}).bind(this))(j)}}catch(j){return i(j)}}).bind(this),i)}catch(F){return i(F)}}).bind(this),i)}catch(L){return i(L)}}).bind(this),i)}catch(k){return i(k)}}).bind(this),i)})}const x4=`
let scriptImported = false
self.addEventListener('message', async (e) => {
  const { file, id, imageCompressionLibUrl, options } = e.data
  options.onProgress = (progress) => self.postMessage({ progress, id })
  try {
    if (!scriptImported) {
      // console.log('[worker] importScripts', imageCompressionLibUrl)
      self.importScripts(imageCompressionLibUrl)
      scriptImported = true
    }
    // console.log('[worker] self', self)
    const compressedFile = await imageCompression(file, options)
    self.postMessage({ file: compressedFile, id })
  } catch (e) {
    // console.error('[worker] error', e)
    self.postMessage({ error: e.message + '\\n' + e.stack, id })
  }
})
`;let Kc;function k4(t,e){return new Promise((n,r)=>{Kc||(Kc=function(s){const a=[];return a.push(s),URL.createObjectURL(new Blob(a))}(x4));const i=new Worker(Kc);i.addEventListener("message",function(s){if(e.signal&&e.signal.aborted)i.terminate();else if(s.data.progress===void 0){if(s.data.error)return r(new Error(s.data.error)),void i.terminate();n(s.data.file),i.terminate()}else e.onProgress(s.data.progress)}),i.addEventListener("error",r),e.signal&&e.signal.addEventListener("abort",()=>{r(e.signal.reason),i.terminate()}),i.postMessage({file:t,imageCompressionLibUrl:e.libURL,options:{...e,onProgress:void 0,signal:void 0}})})}function zt(t,e){return new Promise(function(n,r){let i,o,s,a,u,c;if(i={...e},s=0,{onProgress:a}=i,i.maxSizeMB=i.maxSizeMB||Number.POSITIVE_INFINITY,u=typeof i.useWebWorker!="boolean"||i.useWebWorker,delete i.useWebWorker,i.onProgress=g=>{s=g,typeof a=="function"&&a(s)},!(t instanceof Blob||t instanceof I4))return r(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(t.type))return r(new Error("The file given is not an image"));if(c=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,!u||typeof Worker!="function"||c)return Vv(t,i).then((function(g){try{return o=g,f.call(this)}catch(w){return r(w)}}).bind(this),r);var h=(function(){try{return f.call(this)}catch(g){return r(g)}}).bind(this),d=function(g){try{return Vv(t,i).then(function(w){try{return o=w,h()}catch(A){return r(A)}},r)}catch(w){return r(w)}};try{return i.libURL=i.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",k4(t,i).then(function(g){try{return o=g,h()}catch{return d()}},d)}catch{d()}function f(){try{o.name=t.name,o.lastModified=t.lastModified}catch{}try{i.preserveExif&&t.type==="image/jpeg"&&(!i.fileType||i.fileType&&i.fileType===t.type)&&(o=Tw(t,o))}catch{}return n(o)}})}zt.getDataUrlFromFile=Sw,zt.getFilefromDataUrl=ep,zt.loadImage=Iw,zt.drawImageInCanvas=kw,zt.drawFileInCanvas=pu,zt.canvasToFile=gu,zt.getExifOrientation=Pw,zt.handleMaxWidthOrHeight=Rw,zt.followExifOrientation=Mw,zt.cleanupCanvasMemory=Gn,zt.isAutoOrientationInBrowser=mo,zt.approximateBelowMaximumCanvasSizeOfBrowser=xw,zt.copyExifWithoutOrientation=Tw,zt.getBrowserName=Ai,zt.version="2.0.2";const P4=({isOpen:t,onClose:e})=>{const[n,r]=v.useState(""),[i,o]=v.useState(""),[s,a]=v.useState(null),[u,c]=v.useState(null);v.useState(!1);const[h,d]=v.useState(null),[f,g]=v.useState(!1),[w,A]=v.useState(!1),[R,E]=v.useState(""),[x,I]=v.useState(""),[M,V]=v.useState(""),[S,C]=v.useState(""),[p,y]=v.useState("");v.useEffect(()=>{t&&(navigator.geolocation?navigator.geolocation.getCurrentPosition(k=>{a({lat:k.coords.latitude,lng:k.coords.longitude})},k=>{console.error("Error getting location: ",k),alert("")}):alert(""))},[t]);const _=async k=>{if(k.target.files&&k.target.files[0]){const L=k.target.files[0];c(L);const F=new FileReader;F.onloadend=()=>{d(F.result)},F.readAsDataURL(L);try{const O=await zt(L,{maxSizeMB:1,maxWidthOrHeight:1024,useWebWorker:!0}),b=await w4(O);d(b)}catch(z){console.error("Error compressing image:",z),alert("")}}},P=async()=>{g(!0);try{await E4(n,i,s,h,R,x,M,S,p),A(!0)}catch(k){console.error("Error adding document: ",k),alert("")}finally{g(!1)}};return t?N.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50",children:N.jsxs("div",{className:"bg-white p-5 rounded-lg shadow-lg relative w-full max-w-lg h-[500px] flex flex-col overflow-hidden",children:[N.jsx("div",{className:"flex-1 overflow-auto",children:w?N.jsxs("div",{className:"flex flex-col items-center justify-center h-full",children:[N.jsx("h2",{className:"text-2xl font-bold text-gray-500 mb-4",children:""}),N.jsx("button",{onClick:e,className:"bg-blue-500 text-white px-4 py-2 rounded",children:""})]}):N.jsxs(N.Fragment,{children:[N.jsx(m4,{onClose:e,title:""}),N.jsx(v4,{onFileChange:_,imageUrl:h}),N.jsx(y4,{title:n,description:i,onTitleChange:k=>r(k.target.value),onDescriptionChange:k=>o(k.target.value)}),N.jsxs("div",{className:"mt-4",children:[N.jsx("label",{className:"block text-sm font-medium text-gray-700",children:""}),N.jsxs("select",{value:R,onChange:k=>E(k.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm bg-white text-gray-700 h-8",children:[N.jsx("option",{value:"",children:""}),N.jsx("option",{value:"",children:""}),N.jsx("option",{value:"",children:""}),N.jsx("option",{value:"",children:""}),N.jsx("option",{value:"",children:""}),N.jsx("option",{value:"",children:""}),N.jsx("option",{value:"",children:""}),N.jsx("option",{value:"",children:""}),N.jsx("option",{value:"",children:""})]})]}),N.jsxs("div",{className:"mt-4",children:[N.jsx("label",{className:"block text-sm font-medium text-gray-700",children:""}),N.jsxs("select",{value:x,onChange:k=>I(k.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm bg-white text-gray-700 h-8",children:[N.jsx("option",{value:"",children:""}),N.jsx("option",{value:"",children:""}),N.jsx("option",{value:"",children:""}),N.jsx("option",{value:"",children:""}),N.jsx("option",{value:"",children:""}),N.jsx("option",{value:"",children:""})]})]}),N.jsxs("div",{className:"mt-4",children:[N.jsx("label",{className:"block text-sm font-medium text-gray-700",children:""}),N.jsxs("select",{value:S,onChange:k=>C(k.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm bg-white text-gray-700 h-8",children:[N.jsx("option",{value:"",children:""}),N.jsx("option",{value:"",children:""}),N.jsx("option",{value:"",children:""}),N.jsx("option",{value:"",children:""}),N.jsx("option",{value:"",children:""}),N.jsx("option",{value:"",children:""}),N.jsx("option",{value:"",children:""}),N.jsx("option",{value:"",children:""})]})]}),N.jsxs("div",{className:"mt-4",children:[N.jsx("label",{className:"block text-sm font-medium text-gray-700",children:""}),N.jsxs("select",{value:M,onChange:k=>V(k.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm bg-white text-gray-700 h-8",children:[N.jsx("option",{value:"",children:""}),N.jsx("option",{value:"",children:""}),N.jsx("option",{value:"",children:""}),N.jsx("option",{value:"",children:""}),N.jsx("option",{value:"",children:""}),N.jsx("option",{value:"",children:""}),N.jsx("option",{value:"",children:""}),N.jsx("option",{value:"",children:""})]})]}),N.jsxs("div",{className:"mt-4",children:[N.jsx("label",{className:"block text-sm font-medium text-gray-700",children:""}),N.jsxs("select",{value:p,onChange:k=>y(k.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm bg-white text-gray-700 h-8 mb-4",children:[N.jsx("option",{value:"",children:""}),N.jsx("option",{value:"",children:""}),N.jsx("option",{value:"",children:""}),N.jsx("option",{value:"",children:""}),N.jsx("option",{value:"",children:""}),N.jsx("option",{value:"",children:""}),N.jsx("option",{value:"",children:""}),N.jsx("option",{value:"",children:""})]})]})]})}),!w&&N.jsx(_4,{loading:f,onClick:P})]})}):null};function R4(){const[t,e]=v.useState(!1),[n,r]=v.useState(!0),[i,o]=v.useState(!0),[s,a]=v.useState(!0),[u,c]=v.useState([]),[h,d]=v.useState([]),[f,g]=v.useState([]),[w,A]=v.useState([]),[R,E]=v.useState(null),x=v.useRef(null),I=v.useRef(null),[M,V]=v.useState(!1),[S,C]=v.useState(!1),[p,y]=v.useState(!1),[_,P]=v.useState(!1),[k,L]=v.useState(!1),[F,z]=v.useState(null),O=()=>{e(!0)},b=()=>{e(!1)},j=Z=>{Z==="aed"?r(!n):Z==="evacuation"?o(!i):Z==="hospital"&&a(!s)},U=v.useCallback(Z=>{z(Z)},[]),B=v.useCallback(()=>{V(Z=>!Z)},[]);v.useEffect(()=>{const Z=async()=>{const re=(await Gx()).filter(ye=>!ye.solved);c(re),ue(),de(),Le()},ue=()=>{const _e=p4.map(re=>({id:"1",title:re.,place:re.,position:{lat:parseFloat(re.),lng:parseFloat(re.)}}));g(_e)},de=()=>{const _e=f4.map(re=>({id:"1",title:re.or,elvator1f:re.or==="True",slope:re.==="True",brailleBlock:re.==="True",WheelchairToilet:re.==="True",position:{lat:parseFloat(re.),lng:parseFloat(re.)}}));d(_e)},Le=()=>{const _e=g4.map(re=>({id:"1",title:re.,phone:re.,numberOfBeds:parseInt(re.),tertiaryEmergency:re.=="True",position:{lat:parseFloat(re.Latitude),lng:parseFloat(re.Longitude)}}));A(_e)};Z()},[]);const q=v.useCallback(Z=>{E(Z),x.current=new window.google.maps.DirectionsService,I.current=new window.google.maps.DirectionsRenderer,I.current.setMap(Z)},[]),Q=v.useCallback(Z=>{z(Z)},[]),Y=v.useCallback(()=>{z(null)},[]),G=v.useCallback(()=>{x.current&&I.current&&F&&R&&(C(!0),navigator.geolocation.getCurrentPosition(Z=>{const{latitude:ue,longitude:de}=Z.coords,Le=new window.google.maps.LatLng(ue,de),_e=new window.google.maps.LatLng(F.position.lat,F.position.lng),re={origin:Le,destination:_e,travelMode:google.maps.TravelMode.DRIVING};x.current.route(re,(ye,me)=>{C(!1),me===google.maps.DirectionsStatus.OK?I.current.setDirections(ye):console.error("Directions request failed due to "+me)})},Z=>{C(!1),console.error("Error getting current location:",Z)}))},[F,R]),W=v.useMemo(()=>u.map(Z=>N.jsxs(ll,{position:Z.position,onClick:()=>Q(Z),icon:{url:Kx,scaledSize:new window.google.maps.Size(50,50)},children:[F&&"id"in F&&F.id===Z.id&&N.jsx(s4,{selectedMarker:F,handleDirectionsClick:G,handleCloseInfoWindow:Y,handleMenuToggle:B,isMenuVisible:M,loading:S}),M&&F&&"id"in F&&F.id===Z.id&&N.jsx(d4,{selectedMarker:F,handleMenuToggle:B,updateSelectedMarker:U})]},Z.id)),[u,F,Q,G,Y,B,M]),$=v.useMemo(()=>i&&h.map(Z=>N.jsx(ll,{position:Z.position,onClick:()=>Q(Z),icon:{url:qx,scaledSize:new window.google.maps.Size(35,35)},children:F&&"id"in F&&F.id===Z.id&&F.hasOwnProperty("elvator1f")&&N.jsx(a4,{selectedMarker:F,handleDirectionsClick:G,handleCloseInfoWindow:Y,handleMenuToggle:B,loading:S})},Z.id)),[h,F,Q,Y,B,S,i]),se=v.useMemo(()=>n&&f.map(Z=>N.jsx(ll,{position:Z.position,onClick:()=>Q(Z),icon:{url:Zx,scaledSize:new window.google.maps.Size(35,35)},children:F&&"id"in F&&F.id===Z.id&&F.hasOwnProperty("place")&&N.jsx(l4,{selectedMarker:F,handleDirectionsClick:G,handleCloseInfoWindow:Y,handleMenuToggle:B,loading:S})},Z.id)),[f,F,Q,Y,B,S,n]),ce=v.useMemo(()=>s&&w.map(Z=>N.jsx(ll,{position:Z.position,onClick:()=>Q(Z),icon:{url:Yx,scaledSize:new window.google.maps.Size(35,35)},children:F&&"id"in F&&F.id===Z.id&&F.hasOwnProperty("phone")&&N.jsx(u4,{selectedMarker:F,handleDirectionsClick:G,handleCloseInfoWindow:Y,handleMenuToggle:B,loading:S})},Z.id)),[w,F,Q,Y,B,S,s]),te=v.useCallback(Z=>{Z==="evacuation"?y(!0):Z==="hospital"?P(!0):Z==="aed"&&L(!0),navigator.geolocation.getCurrentPosition(ue=>{const{latitude:de,longitude:Le}=ue.coords,_e=new window.google.maps.LatLng(de,Le);let re=null,ye=1/0;(Z==="aed"?f:Z==="evacuation"?h:Z==="hospital"?w:[]).forEach(fe=>{const we=new window.google.maps.LatLng(fe.position.lat,fe.position.lng),le=google.maps.geometry.spherical.computeDistanceBetween(_e,we);le<ye&&(ye=le,re=fe)}),re&&z(re),Z==="evacuation"?y(!1):Z==="hospital"?P(!1):Z==="aed"&&L(!1)},ue=>{console.error("Error getting current location:",ue),Z==="evacuation"?y(!1):Z==="hospital"?P(!1):Z==="aed"&&L(!1)})},[f,h,w,G]);return N.jsxs("div",{className:"flex h-screen w-screen",children:[N.jsxs("div",{className:"w-3/12 bg-gray-100 p-4 text-black",children:[N.jsx("div",{className:"flex justify-center mb-4",children:N.jsx("img",{src:sw,alt:"",className:"w-32 h-auto"})}),N.jsx("button",{onClick:O,className:"mt-4 bg-red-500 text-white px-4 py-2 rounded w-full",children:""}),N.jsxs("div",{className:"mt-4",children:[N.jsx("button",{onClick:()=>j("aed"),className:`w-full px-4 py-2 rounded ${n?"bg-blue-500 text-white":"bg-gray-300 text-black"}`,children:n?"AED":"AED"}),N.jsx("button",{onClick:()=>j("evacuation"),className:`w-full mt-2 px-4 py-2 rounded ${i?"bg-blue-500 text-white":"bg-gray-300 text-black"}`,children:i?"":""}),N.jsx("button",{onClick:()=>j("hospital"),className:`w-full mt-2 px-4 py-2 rounded ${s?"bg-blue-500 text-white":"bg-gray-300 text-black"}`,children:s?"":""})]}),N.jsxs("div",{className:"mt-4",children:[N.jsx("button",{onClick:()=>te("evacuation"),className:`w-full mt-2 text-white px-4 py-2 rounded flex items-center justify-center ${p?"bg-orange-500":"bg-green-500"}`,disabled:S||p||_||k,children:p?N.jsxs(N.Fragment,{children:[N.jsx(Xr,{className:"animate-spin mr-2"}),""]}):""}),N.jsx("button",{onClick:()=>te("hospital"),className:`w-full mt-2 text-white px-4 py-2 rounded flex items-center justify-center ${_?"bg-orange-500":"bg-green-500"}`,disabled:S||p||_||k,children:_?N.jsxs(N.Fragment,{children:[N.jsx(Xr,{className:"animate-spin mr-2"}),""]}):""}),N.jsx("button",{onClick:()=>te("aed"),className:`w-full mt-2 text-white px-4 py-2 rounded flex items-center justify-center ${k?"bg-orange-500":"bg-green-500"}`,disabled:S||p||_||k,children:k?N.jsxs(N.Fragment,{children:[N.jsx(Xr,{className:"animate-spin mr-2"}),""]}):"AED"})]}),N.jsxs("div",{className:"mt-4 text-gray-700",children:[N.jsx("h2",{className:"text-xl font-bold",children:""}),N.jsx("a",{href:"https://www.bousai.metro.tokyo.lg.jp/content/e_book_03/guide-japanese/pdf/guide-janapese.pdf",target:"_blank",rel:"noopener noreferrer",children:""}),N.jsx("p",{children:""}),N.jsx("a",{href:"https://www.bousai.metro.tokyo.lg.jp/_res/projects/default_project/_page_/001/008/041/04_pdf.pdf",target:"_blank",rel:"noopener noreferrer",children:""}),N.jsx("p",{children:""}),N.jsx("a",{href:"https://www.sangyo-rodo.metro.tokyo.lg.jp/tourism/saigai_manual_R1Ver.pdf",target:"_blank",rel:"noopener noreferrer",children:""}),N.jsx("p",{children:""}),N.jsx("a",{href:"https://www.bousai.metro.tokyo.lg.jp/bousai/1000026/1000288.html",target:"_blank",rel:"noopener noreferrer",children:""}),N.jsx("p",{children:""})]})]}),N.jsx("div",{className:"w-9/12 h-full",children:N.jsx($I,{googleMapsApiKey:"AIzaSyBBzbmTJ9fEjkRWcKyIq6wdl5g51E_KU5o",libraries:["places"],children:N.jsxs(zI,{mapContainerStyle:c4,center:h4,zoom:11,onLoad:q,children:[W,$,se,ce]})})}),t&&N.jsx(P4,{isOpen:t,onClose:b})]})}/**
 * @remix-run/router v1.19.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function mu(){return mu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mu.apply(this,arguments)}var Fr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Fr||(Fr={}));const Fv="popstate";function M4(t){t===void 0&&(t={});function e(r,i){let{pathname:o,search:s,hash:a}=r.location;return fd("",{pathname:o,search:s,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Dw(i)}return D4(e,n,null,t)}function ln(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function bw(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function b4(){return Math.random().toString(36).substr(2,8)}function Uv(t,e){return{usr:t.state,key:t.key,idx:e}}function fd(t,e,n,r){return n===void 0&&(n=null),mu({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Xu(e):e,{state:n,key:e&&e.key||r||b4()})}function Dw(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Xu(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function D4(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a=Fr.Pop,u=null,c=h();c==null&&(c=0,s.replaceState(mu({},s.state,{idx:c}),""));function h(){return(s.state||{idx:null}).idx}function d(){a=Fr.Pop;let R=h(),E=R==null?null:R-c;c=R,u&&u({action:a,location:A.location,delta:E})}function f(R,E){a=Fr.Push;let x=fd(A.location,R,E);c=h()+1;let I=Uv(x,c),M=A.createHref(x);try{s.pushState(I,"",M)}catch(V){if(V instanceof DOMException&&V.name==="DataCloneError")throw V;i.location.assign(M)}o&&u&&u({action:a,location:A.location,delta:1})}function g(R,E){a=Fr.Replace;let x=fd(A.location,R,E);c=h();let I=Uv(x,c),M=A.createHref(x);s.replaceState(I,"",M),o&&u&&u({action:a,location:A.location,delta:0})}function w(R){let E=i.location.origin!=="null"?i.location.origin:i.location.href,x=typeof R=="string"?R:Dw(R);return x=x.replace(/ $/,"%20"),ln(E,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,E)}let A={get action(){return a},get location(){return t(i,s)},listen(R){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(Fv,d),u=R,()=>{i.removeEventListener(Fv,d),u=null}},createHref(R){return e(i,R)},createURL:w,encodeLocation(R){let E=w(R);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:f,replace:g,go(R){return s.go(R)}};return A}var jv;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(jv||(jv={}));function N4(t,e,n){return n===void 0&&(n="/"),O4(t,e,n,!1)}function O4(t,e,n,r){let i=typeof e=="string"?Xu(e):e,o=Vw(i.pathname||"/",n);if(o==null)return null;let s=Nw(t);V4(s);let a=null;for(let u=0;a==null&&u<s.length;++u){let c=K4(o);a=Q4(s[u],c,r)}return a}function Nw(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,s,a)=>{let u={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};u.relativePath.startsWith("/")&&(ln(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let c=Ao([r,u.relativePath]),h=n.concat(u);o.children&&o.children.length>0&&(ln(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),Nw(o.children,e,h,c)),!(o.path==null&&!o.index)&&e.push({path:c,score:H4(c,o.index),routesMeta:h})};return t.forEach((o,s)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))i(o,s);else for(let u of Ow(o.path))i(o,s,u)}),e}function Ow(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=Ow(r.join("/")),a=[];return a.push(...s.map(u=>u===""?o:[o,u].join("/"))),i&&a.push(...s),a.map(u=>t.startsWith("/")&&u===""?"/":u)}function V4(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:W4(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const F4=/^:[\w-]+$/,U4=3,j4=2,B4=1,z4=10,$4=-2,Bv=t=>t==="*";function H4(t,e){let n=t.split("/"),r=n.length;return n.some(Bv)&&(r+=$4),e&&(r+=j4),n.filter(i=>!Bv(i)).reduce((i,o)=>i+(F4.test(o)?U4:o===""?B4:z4),r)}function W4(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function Q4(t,e,n){let{routesMeta:r}=t,i={},o="/",s=[];for(let a=0;a<r.length;++a){let u=r[a],c=a===r.length-1,h=o==="/"?e:e.slice(o.length)||"/",d=zv({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},h),f=u.route;if(!d&&c&&n&&!r[r.length-1].route.index&&(d=zv({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},h)),!d)return null;Object.assign(i,d.params),s.push({params:i,pathname:Ao([o,d.pathname]),pathnameBase:q4(Ao([o,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(o=Ao([o,d.pathnameBase]))}return s}function zv(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=G4(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,h,d)=>{let{paramName:f,isOptional:g}=h;if(f==="*"){let A=a[d]||"";s=o.slice(0,o.length-A.length).replace(/(.)\/+$/,"$1")}const w=a[d];return g&&!w?c[f]=void 0:c[f]=(w||"").replace(/%2F/g,"/"),c},{}),pathname:o,pathnameBase:s,pattern:t}}function G4(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),bw(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,a,u)=>(r.push({paramName:a,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function K4(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return bw(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Vw(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}const Ao=t=>t.join("/").replace(/\/\/+/g,"/"),q4=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/");function Y4(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Fw=["post","put","patch","delete"];new Set(Fw);const Z4=["get",...Fw];new Set(Z4);/**
 * React Router v6.26.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function vu(){return vu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vu.apply(this,arguments)}const X4=v.createContext(null),J4=v.createContext(null),Uw=v.createContext(null),Ju=v.createContext(null),ec=v.createContext({outlet:null,matches:[],isDataRoute:!1}),jw=v.createContext(null);function tp(){return v.useContext(Ju)!=null}function ek(){return tp()||ln(!1),v.useContext(Ju).location}function tk(t,e){return nk(t,e)}function nk(t,e,n,r){tp()||ln(!1);let{navigator:i}=v.useContext(Uw),{matches:o}=v.useContext(ec),s=o[o.length-1],a=s?s.params:{};s&&s.pathname;let u=s?s.pathnameBase:"/";s&&s.route;let c=ek(),h;if(e){var d;let R=typeof e=="string"?Xu(e):e;u==="/"||(d=R.pathname)!=null&&d.startsWith(u)||ln(!1),h=R}else h=c;let f=h.pathname||"/",g=f;if(u!=="/"){let R=u.replace(/^\//,"").split("/");g="/"+f.replace(/^\//,"").split("/").slice(R.length).join("/")}let w=N4(t,{pathname:g}),A=ak(w&&w.map(R=>Object.assign({},R,{params:Object.assign({},a,R.params),pathname:Ao([u,i.encodeLocation?i.encodeLocation(R.pathname).pathname:R.pathname]),pathnameBase:R.pathnameBase==="/"?u:Ao([u,i.encodeLocation?i.encodeLocation(R.pathnameBase).pathname:R.pathnameBase])})),o,n,r);return e&&A?v.createElement(Ju.Provider,{value:{location:vu({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Fr.Pop}},A):A}function rk(){let t=hk(),e=Y4(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},e),n?v.createElement("pre",{style:i},n):null,null)}const ik=v.createElement(rk,null);class ok extends v.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?v.createElement(ec.Provider,{value:this.props.routeContext},v.createElement(jw.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function sk(t){let{routeContext:e,match:n,children:r}=t,i=v.useContext(X4);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),v.createElement(ec.Provider,{value:e},r)}function ak(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var o;if(!n)return null;if(n.errors)t=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let h=s.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);h>=0||ln(!1),s=s.slice(0,Math.min(s.length,h+1))}let u=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let h=0;h<s.length;h++){let d=s[h];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=h),d.route.id){let{loaderData:f,errors:g}=n,w=d.route.loader&&f[d.route.id]===void 0&&(!g||g[d.route.id]===void 0);if(d.route.lazy||w){u=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((h,d,f)=>{let g,w=!1,A=null,R=null;n&&(g=a&&d.route.id?a[d.route.id]:void 0,A=d.route.errorElement||ik,u&&(c<0&&f===0?(w=!0,R=null):c===f&&(w=!0,R=d.route.hydrateFallbackElement||null)));let E=e.concat(s.slice(0,f+1)),x=()=>{let I;return g?I=A:w?I=R:d.route.Component?I=v.createElement(d.route.Component,null):d.route.element?I=d.route.element:I=h,v.createElement(sk,{match:d,routeContext:{outlet:h,matches:E,isDataRoute:n!=null},children:I})};return n&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?v.createElement(ok,{location:n.location,revalidation:n.revalidation,component:A,error:g,children:x(),routeContext:{outlet:null,matches:E,isDataRoute:!0}}):x()},null)}var pd=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(pd||{});function lk(t){let e=v.useContext(J4);return e||ln(!1),e}function uk(t){let e=v.useContext(ec);return e||ln(!1),e}function ck(t){let e=uk(),n=e.matches[e.matches.length-1];return n.route.id||ln(!1),n.route.id}function hk(){var t;let e=v.useContext(jw),n=lk(pd.UseRouteError),r=ck(pd.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function gd(t){ln(!1)}function dk(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Fr.Pop,navigator:o,static:s=!1,future:a}=t;tp()&&ln(!1);let u=e.replace(/^\/*/,"/"),c=v.useMemo(()=>({basename:u,navigator:o,static:s,future:vu({v7_relativeSplatPath:!1},a)}),[u,a,o,s]);typeof r=="string"&&(r=Xu(r));let{pathname:h="/",search:d="",hash:f="",state:g=null,key:w="default"}=r,A=v.useMemo(()=>{let R=Vw(h,u);return R==null?null:{location:{pathname:R,search:d,hash:f,state:g,key:w},navigationType:i}},[u,h,d,f,g,w,i]);return A==null?null:v.createElement(Uw.Provider,{value:c},v.createElement(Ju.Provider,{children:n,value:A}))}function fk(t){let{children:e,location:n}=t;return tk(md(e),n)}new Promise(()=>{});function md(t,e){e===void 0&&(e=[]);let n=[];return v.Children.forEach(t,(r,i)=>{if(!v.isValidElement(r))return;let o=[...e,i];if(r.type===v.Fragment){n.push.apply(n,md(r.props.children,o));return}r.type!==gd&&ln(!1),!r.props.index||!r.props.children||ln(!1);let s={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=md(r.props.children,o)),n.push(s)}),n}/**
 * React Router DOM v6.26.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const pk="6";try{window.__reactRouterVersion=pk}catch{}const gk="startTransition",$v=TE[gk];function mk(t){let{basename:e,children:n,future:r,window:i}=t,o=v.useRef();o.current==null&&(o.current=M4({window:i,v5Compat:!0}));let s=o.current,[a,u]=v.useState({action:s.action,location:s.location}),{v7_startTransition:c}=r||{},h=v.useCallback(d=>{c&&$v?$v(()=>u(d)):u(d)},[u,c]);return v.useLayoutEffect(()=>s.listen(h),[s,h]),v.createElement(dk,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:s,future:r})}var Hv;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Hv||(Hv={}));var Wv;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Wv||(Wv={}));qc.createRoot(document.getElementById("root")).render(N.jsx(cr.StrictMode,{children:N.jsx(mk,{basename:"CReal",children:N.jsxs(fk,{children:[N.jsx(gd,{path:"/",element:N.jsx(R4,{})}),N.jsx(gd,{path:"/admin",element:N.jsx(PI,{})})]})})}));
