function rw(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function iw(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Gv={exports:{}},gu={},qv={exports:{}},Re={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fa=Symbol.for("react.element"),ow=Symbol.for("react.portal"),sw=Symbol.for("react.fragment"),aw=Symbol.for("react.strict_mode"),lw=Symbol.for("react.profiler"),uw=Symbol.for("react.provider"),cw=Symbol.for("react.context"),hw=Symbol.for("react.forward_ref"),fw=Symbol.for("react.suspense"),dw=Symbol.for("react.memo"),pw=Symbol.for("react.lazy"),Np=Symbol.iterator;function gw(t){return t===null||typeof t!="object"?null:(t=Np&&t[Np]||t["@@iterator"],typeof t=="function"?t:null)}var Kv={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Qv=Object.assign,Zv={};function Bo(t,e,n){this.props=t,this.context=e,this.refs=Zv,this.updater=n||Kv}Bo.prototype.isReactComponent={};Bo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Bo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Xv(){}Xv.prototype=Bo.prototype;function vf(t,e,n){this.props=t,this.context=e,this.refs=Zv,this.updater=n||Kv}var yf=vf.prototype=new Xv;yf.constructor=vf;Qv(yf,Bo.prototype);yf.isPureReactComponent=!0;var Op=Array.isArray,Yv=Object.prototype.hasOwnProperty,_f={current:null},Jv={key:!0,ref:!0,__self:!0,__source:!0};function ey(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)Yv.call(e,r)&&!Jv.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var u=Array(a),c=0;c<a;c++)u[c]=arguments[c+2];i.children=u}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:fa,type:t,key:o,ref:s,props:i,_owner:_f.current}}function mw(t,e){return{$$typeof:fa,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Ef(t){return typeof t=="object"&&t!==null&&t.$$typeof===fa}function vw(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Vp=/\/+/g;function ac(t,e){return typeof t=="object"&&t!==null&&t.key!=null?vw(""+t.key):e.toString(36)}function ll(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case fa:case ow:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+ac(s,0):r,Op(i)?(n="",t!=null&&(n=t.replace(Vp,"$&/")+"/"),ll(i,e,n,"",function(c){return c})):i!=null&&(Ef(i)&&(i=mw(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(Vp,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",Op(t))for(var a=0;a<t.length;a++){o=t[a];var u=r+ac(o,a);s+=ll(o,e,n,u,i)}else if(u=gw(t),typeof u=="function")for(t=u.call(t),a=0;!(o=t.next()).done;)o=o.value,u=r+ac(o,a++),s+=ll(o,e,n,u,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function Oa(t,e,n){if(t==null)return t;var r=[],i=0;return ll(t,r,"","",function(o){return e.call(n,o,i++)}),r}function yw(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Xt={current:null},ul={transition:null},_w={ReactCurrentDispatcher:Xt,ReactCurrentBatchConfig:ul,ReactCurrentOwner:_f};function ty(){throw Error("act(...) is not supported in production builds of React.")}Re.Children={map:Oa,forEach:function(t,e,n){Oa(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Oa(t,function(){e++}),e},toArray:function(t){return Oa(t,function(e){return e})||[]},only:function(t){if(!Ef(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Re.Component=Bo;Re.Fragment=sw;Re.Profiler=lw;Re.PureComponent=vf;Re.StrictMode=aw;Re.Suspense=fw;Re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_w;Re.act=ty;Re.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Qv({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=_f.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(u in e)Yv.call(e,u)&&!Jv.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&a!==void 0?a[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){a=Array(u);for(var c=0;c<u;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:fa,type:t.type,key:i,ref:o,props:r,_owner:s}};Re.createContext=function(t){return t={$$typeof:cw,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:uw,_context:t},t.Consumer=t};Re.createElement=ey;Re.createFactory=function(t){var e=ey.bind(null,t);return e.type=t,e};Re.createRef=function(){return{current:null}};Re.forwardRef=function(t){return{$$typeof:hw,render:t}};Re.isValidElement=Ef;Re.lazy=function(t){return{$$typeof:pw,_payload:{_status:-1,_result:t},_init:yw}};Re.memo=function(t,e){return{$$typeof:dw,type:t,compare:e===void 0?null:e}};Re.startTransition=function(t){var e=ul.transition;ul.transition={};try{t()}finally{ul.transition=e}};Re.unstable_act=ty;Re.useCallback=function(t,e){return Xt.current.useCallback(t,e)};Re.useContext=function(t){return Xt.current.useContext(t)};Re.useDebugValue=function(){};Re.useDeferredValue=function(t){return Xt.current.useDeferredValue(t)};Re.useEffect=function(t,e){return Xt.current.useEffect(t,e)};Re.useId=function(){return Xt.current.useId()};Re.useImperativeHandle=function(t,e,n){return Xt.current.useImperativeHandle(t,e,n)};Re.useInsertionEffect=function(t,e){return Xt.current.useInsertionEffect(t,e)};Re.useLayoutEffect=function(t,e){return Xt.current.useLayoutEffect(t,e)};Re.useMemo=function(t,e){return Xt.current.useMemo(t,e)};Re.useReducer=function(t,e,n){return Xt.current.useReducer(t,e,n)};Re.useRef=function(t){return Xt.current.useRef(t)};Re.useState=function(t){return Xt.current.useState(t)};Re.useSyncExternalStore=function(t,e,n){return Xt.current.useSyncExternalStore(t,e,n)};Re.useTransition=function(){return Xt.current.useTransition()};Re.version="18.3.1";qv.exports=Re;var y=qv.exports;const cr=iw(y),Ew=rw({__proto__:null,default:cr},[y]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ww=y,Tw=Symbol.for("react.element"),Cw=Symbol.for("react.fragment"),Sw=Object.prototype.hasOwnProperty,Iw=ww.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Lw={key:!0,ref:!0,__self:!0,__source:!0};function ny(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)Sw.call(e,r)&&!Lw.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:Tw,type:t,key:o,ref:s,props:i,_owner:Iw.current}}gu.Fragment=Cw;gu.jsx=ny;gu.jsxs=ny;Gv.exports=gu;var W=Gv.exports,Kc={},ry={exports:{}},En={},iy={exports:{}},oy={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(U,F){var B=U.length;U.push(F);e:for(;0<B;){var Q=B-1>>>1,q=U[Q];if(0<i(q,F))U[Q]=F,U[B]=q,B=Q;else break e}}function n(U){return U.length===0?null:U[0]}function r(U){if(U.length===0)return null;var F=U[0],B=U.pop();if(B!==F){U[0]=B;e:for(var Q=0,q=U.length,Z=q>>>1;Q<Z;){var K=2*(Q+1)-1,H=U[K],j=K+1,oe=U[j];if(0>i(H,B))j<q&&0>i(oe,H)?(U[Q]=oe,U[j]=B,Q=j):(U[Q]=H,U[K]=B,Q=K);else if(j<q&&0>i(oe,B))U[Q]=oe,U[j]=B,Q=j;else break e}}return F}function i(U,F){var B=U.sortIndex-F.sortIndex;return B!==0?B:U.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var u=[],c=[],h=1,f=null,d=3,g=!1,_=!1,S=!1,P=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function L(U){for(var F=n(c);F!==null;){if(F.callback===null)r(c);else if(F.startTime<=U)r(c),F.sortIndex=F.expirationTime,e(u,F);else break;F=n(c)}}function b(U){if(S=!1,L(U),!_)if(n(u)!==null)_=!0,N(O);else{var F=n(c);F!==null&&M(b,F.startTime-U)}}function O(U,F){_=!1,S&&(S=!1,w(p),p=-1),g=!0;var B=d;try{for(L(F),f=n(u);f!==null&&(!(f.expirationTime>F)||U&&!A());){var Q=f.callback;if(typeof Q=="function"){f.callback=null,d=f.priorityLevel;var q=Q(f.expirationTime<=F);F=t.unstable_now(),typeof q=="function"?f.callback=q:f===n(u)&&r(u),L(F)}else r(u);f=n(u)}if(f!==null)var Z=!0;else{var K=n(c);K!==null&&M(b,K.startTime-F),Z=!1}return Z}finally{f=null,d=B,g=!1}}var x=!1,T=null,p=-1,v=5,E=-1;function A(){return!(t.unstable_now()-E<v)}function R(){if(T!==null){var U=t.unstable_now();E=U;var F=!0;try{F=T(!0,U)}finally{F?k():(x=!1,T=null)}}else x=!1}var k;if(typeof I=="function")k=function(){I(R)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,z=V.port2;V.port1.onmessage=R,k=function(){z.postMessage(null)}}else k=function(){P(R,0)};function N(U){T=U,x||(x=!0,k())}function M(U,F){p=P(function(){U(t.unstable_now())},F)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(U){U.callback=null},t.unstable_continueExecution=function(){_||g||(_=!0,N(O))},t.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):v=0<U?Math.floor(1e3/U):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(U){switch(d){case 1:case 2:case 3:var F=3;break;default:F=d}var B=d;d=F;try{return U()}finally{d=B}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(U,F){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var B=d;d=U;try{return F()}finally{d=B}},t.unstable_scheduleCallback=function(U,F,B){var Q=t.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?Q+B:Q):B=Q,U){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=B+q,U={id:h++,callback:F,priorityLevel:U,startTime:B,expirationTime:q,sortIndex:-1},B>Q?(U.sortIndex=B,e(c,U),n(u)===null&&U===n(c)&&(S?(w(p),p=-1):S=!0,M(b,B-Q))):(U.sortIndex=q,e(u,U),_||g||(_=!0,N(O))),U},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(U){var F=d;return function(){var B=d;d=F;try{return U.apply(this,arguments)}finally{d=B}}}})(oy);iy.exports=oy;var kw=iy.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Aw=y,_n=kw;function J(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var sy=new Set,zs={};function Vi(t,e){So(t,e),So(t+"Capture",e)}function So(t,e){for(zs[t]=e,t=0;t<e.length;t++)sy.add(e[t])}var fr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Qc=Object.prototype.hasOwnProperty,xw=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Fp={},Up={};function Pw(t){return Qc.call(Up,t)?!0:Qc.call(Fp,t)?!1:xw.test(t)?Up[t]=!0:(Fp[t]=!0,!1)}function Rw(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Mw(t,e,n,r){if(e===null||typeof e>"u"||Rw(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Yt(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var bt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){bt[t]=new Yt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];bt[e]=new Yt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){bt[t]=new Yt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){bt[t]=new Yt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){bt[t]=new Yt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){bt[t]=new Yt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){bt[t]=new Yt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){bt[t]=new Yt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){bt[t]=new Yt(t,5,!1,t.toLowerCase(),null,!1,!1)});var wf=/[\-:]([a-z])/g;function Tf(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(wf,Tf);bt[e]=new Yt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(wf,Tf);bt[e]=new Yt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(wf,Tf);bt[e]=new Yt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){bt[t]=new Yt(t,1,!1,t.toLowerCase(),null,!1,!1)});bt.xlinkHref=new Yt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){bt[t]=new Yt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Cf(t,e,n,r){var i=bt.hasOwnProperty(e)?bt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Mw(e,n,i,r)&&(n=null),r||i===null?Pw(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var _r=Aw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Va=Symbol.for("react.element"),no=Symbol.for("react.portal"),ro=Symbol.for("react.fragment"),Sf=Symbol.for("react.strict_mode"),Zc=Symbol.for("react.profiler"),ay=Symbol.for("react.provider"),ly=Symbol.for("react.context"),If=Symbol.for("react.forward_ref"),Xc=Symbol.for("react.suspense"),Yc=Symbol.for("react.suspense_list"),Lf=Symbol.for("react.memo"),xr=Symbol.for("react.lazy"),uy=Symbol.for("react.offscreen"),Bp=Symbol.iterator;function ss(t){return t===null||typeof t!="object"?null:(t=Bp&&t[Bp]||t["@@iterator"],typeof t=="function"?t:null)}var rt=Object.assign,lc;function _s(t){if(lc===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);lc=e&&e[1]||""}return`
`+lc+t}var uc=!1;function cc(t,e){if(!t||uc)return"";uc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var u=`
`+i[s].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=s&&0<=a);break}}}finally{uc=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?_s(t):""}function bw(t){switch(t.tag){case 5:return _s(t.type);case 16:return _s("Lazy");case 13:return _s("Suspense");case 19:return _s("SuspenseList");case 0:case 2:case 15:return t=cc(t.type,!1),t;case 11:return t=cc(t.type.render,!1),t;case 1:return t=cc(t.type,!0),t;default:return""}}function Jc(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ro:return"Fragment";case no:return"Portal";case Zc:return"Profiler";case Sf:return"StrictMode";case Xc:return"Suspense";case Yc:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case ly:return(t.displayName||"Context")+".Consumer";case ay:return(t._context.displayName||"Context")+".Provider";case If:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Lf:return e=t.displayName||null,e!==null?e:Jc(t.type)||"Memo";case xr:e=t._payload,t=t._init;try{return Jc(t(e))}catch{}}return null}function Dw(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Jc(e);case 8:return e===Sf?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Yr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function cy(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Nw(t){var e=cy(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Fa(t){t._valueTracker||(t._valueTracker=Nw(t))}function hy(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=cy(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Ll(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function eh(t,e){var n=e.checked;return rt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function zp(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Yr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function fy(t,e){e=e.checked,e!=null&&Cf(t,"checked",e,!1)}function th(t,e){fy(t,e);var n=Yr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?nh(t,e.type,n):e.hasOwnProperty("defaultValue")&&nh(t,e.type,Yr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function jp(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function nh(t,e,n){(e!=="number"||Ll(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Es=Array.isArray;function mo(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Yr(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function rh(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(J(91));return rt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function $p(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(J(92));if(Es(n)){if(1<n.length)throw Error(J(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Yr(n)}}function dy(t,e){var n=Yr(e.value),r=Yr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Hp(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function py(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ih(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?py(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ua,gy=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ua=Ua||document.createElement("div"),Ua.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ua.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function js(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ls={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ow=["Webkit","ms","Moz","O"];Object.keys(Ls).forEach(function(t){Ow.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ls[e]=Ls[t]})});function my(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ls.hasOwnProperty(t)&&Ls[t]?(""+e).trim():e+"px"}function vy(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=my(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var Vw=rt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function oh(t,e){if(e){if(Vw[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(J(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(J(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(J(61))}if(e.style!=null&&typeof e.style!="object")throw Error(J(62))}}function sh(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ah=null;function kf(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var lh=null,vo=null,yo=null;function Wp(t){if(t=ga(t)){if(typeof lh!="function")throw Error(J(280));var e=t.stateNode;e&&(e=Eu(e),lh(t.stateNode,t.type,e))}}function yy(t){vo?yo?yo.push(t):yo=[t]:vo=t}function _y(){if(vo){var t=vo,e=yo;if(yo=vo=null,Wp(t),e)for(t=0;t<e.length;t++)Wp(e[t])}}function Ey(t,e){return t(e)}function wy(){}var hc=!1;function Ty(t,e,n){if(hc)return t(e,n);hc=!0;try{return Ey(t,e,n)}finally{hc=!1,(vo!==null||yo!==null)&&(wy(),_y())}}function $s(t,e){var n=t.stateNode;if(n===null)return null;var r=Eu(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(J(231,e,typeof n));return n}var uh=!1;if(fr)try{var as={};Object.defineProperty(as,"passive",{get:function(){uh=!0}}),window.addEventListener("test",as,as),window.removeEventListener("test",as,as)}catch{uh=!1}function Fw(t,e,n,r,i,o,s,a,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(h){this.onError(h)}}var ks=!1,kl=null,Al=!1,ch=null,Uw={onError:function(t){ks=!0,kl=t}};function Bw(t,e,n,r,i,o,s,a,u){ks=!1,kl=null,Fw.apply(Uw,arguments)}function zw(t,e,n,r,i,o,s,a,u){if(Bw.apply(this,arguments),ks){if(ks){var c=kl;ks=!1,kl=null}else throw Error(J(198));Al||(Al=!0,ch=c)}}function Fi(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Cy(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Gp(t){if(Fi(t)!==t)throw Error(J(188))}function jw(t){var e=t.alternate;if(!e){if(e=Fi(t),e===null)throw Error(J(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Gp(i),t;if(o===r)return Gp(i),e;o=o.sibling}throw Error(J(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(J(189))}}if(n.alternate!==r)throw Error(J(190))}if(n.tag!==3)throw Error(J(188));return n.stateNode.current===n?t:e}function Sy(t){return t=jw(t),t!==null?Iy(t):null}function Iy(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Iy(t);if(e!==null)return e;t=t.sibling}return null}var Ly=_n.unstable_scheduleCallback,qp=_n.unstable_cancelCallback,$w=_n.unstable_shouldYield,Hw=_n.unstable_requestPaint,ht=_n.unstable_now,Ww=_n.unstable_getCurrentPriorityLevel,Af=_n.unstable_ImmediatePriority,ky=_n.unstable_UserBlockingPriority,xl=_n.unstable_NormalPriority,Gw=_n.unstable_LowPriority,Ay=_n.unstable_IdlePriority,mu=null,Zn=null;function qw(t){if(Zn&&typeof Zn.onCommitFiberRoot=="function")try{Zn.onCommitFiberRoot(mu,t,void 0,(t.current.flags&128)===128)}catch{}}var Fn=Math.clz32?Math.clz32:Zw,Kw=Math.log,Qw=Math.LN2;function Zw(t){return t>>>=0,t===0?32:31-(Kw(t)/Qw|0)|0}var Ba=64,za=4194304;function ws(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Pl(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=ws(a):(o&=s,o!==0&&(r=ws(o)))}else s=n&~i,s!==0?r=ws(s):o!==0&&(r=ws(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Fn(e),i=1<<n,r|=t[n],e&=~i;return r}function Xw(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Yw(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-Fn(o),a=1<<s,u=i[s];u===-1?(!(a&n)||a&r)&&(i[s]=Xw(a,e)):u<=e&&(t.expiredLanes|=a),o&=~a}}function hh(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function xy(){var t=Ba;return Ba<<=1,!(Ba&4194240)&&(Ba=64),t}function fc(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function da(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Fn(e),t[e]=n}function Jw(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Fn(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function xf(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Fn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var je=0;function Py(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Ry,Pf,My,by,Dy,fh=!1,ja=[],Ur=null,Br=null,zr=null,Hs=new Map,Ws=new Map,Mr=[],eT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Kp(t,e){switch(t){case"focusin":case"focusout":Ur=null;break;case"dragenter":case"dragleave":Br=null;break;case"mouseover":case"mouseout":zr=null;break;case"pointerover":case"pointerout":Hs.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ws.delete(e.pointerId)}}function ls(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=ga(e),e!==null&&Pf(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function tT(t,e,n,r,i){switch(e){case"focusin":return Ur=ls(Ur,t,e,n,r,i),!0;case"dragenter":return Br=ls(Br,t,e,n,r,i),!0;case"mouseover":return zr=ls(zr,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return Hs.set(o,ls(Hs.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Ws.set(o,ls(Ws.get(o)||null,t,e,n,r,i)),!0}return!1}function Ny(t){var e=yi(t.target);if(e!==null){var n=Fi(e);if(n!==null){if(e=n.tag,e===13){if(e=Cy(n),e!==null){t.blockedOn=e,Dy(t.priority,function(){My(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function cl(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=dh(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);ah=r,n.target.dispatchEvent(r),ah=null}else return e=ga(n),e!==null&&Pf(e),t.blockedOn=n,!1;e.shift()}return!0}function Qp(t,e,n){cl(t)&&n.delete(e)}function nT(){fh=!1,Ur!==null&&cl(Ur)&&(Ur=null),Br!==null&&cl(Br)&&(Br=null),zr!==null&&cl(zr)&&(zr=null),Hs.forEach(Qp),Ws.forEach(Qp)}function us(t,e){t.blockedOn===e&&(t.blockedOn=null,fh||(fh=!0,_n.unstable_scheduleCallback(_n.unstable_NormalPriority,nT)))}function Gs(t){function e(i){return us(i,t)}if(0<ja.length){us(ja[0],t);for(var n=1;n<ja.length;n++){var r=ja[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ur!==null&&us(Ur,t),Br!==null&&us(Br,t),zr!==null&&us(zr,t),Hs.forEach(e),Ws.forEach(e),n=0;n<Mr.length;n++)r=Mr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Mr.length&&(n=Mr[0],n.blockedOn===null);)Ny(n),n.blockedOn===null&&Mr.shift()}var _o=_r.ReactCurrentBatchConfig,Rl=!0;function rT(t,e,n,r){var i=je,o=_o.transition;_o.transition=null;try{je=1,Rf(t,e,n,r)}finally{je=i,_o.transition=o}}function iT(t,e,n,r){var i=je,o=_o.transition;_o.transition=null;try{je=4,Rf(t,e,n,r)}finally{je=i,_o.transition=o}}function Rf(t,e,n,r){if(Rl){var i=dh(t,e,n,r);if(i===null)Tc(t,e,r,Ml,n),Kp(t,r);else if(tT(i,t,e,n,r))r.stopPropagation();else if(Kp(t,r),e&4&&-1<eT.indexOf(t)){for(;i!==null;){var o=ga(i);if(o!==null&&Ry(o),o=dh(t,e,n,r),o===null&&Tc(t,e,r,Ml,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Tc(t,e,r,null,n)}}var Ml=null;function dh(t,e,n,r){if(Ml=null,t=kf(r),t=yi(t),t!==null)if(e=Fi(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Cy(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ml=t,null}function Oy(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ww()){case Af:return 1;case ky:return 4;case xl:case Gw:return 16;case Ay:return 536870912;default:return 16}default:return 16}}var Nr=null,Mf=null,hl=null;function Vy(){if(hl)return hl;var t,e=Mf,n=e.length,r,i="value"in Nr?Nr.value:Nr.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return hl=i.slice(t,1<r?1-r:void 0)}function fl(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function $a(){return!0}function Zp(){return!1}function wn(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?$a:Zp,this.isPropagationStopped=Zp,this}return rt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=$a)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=$a)},persist:function(){},isPersistent:$a}),e}var zo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bf=wn(zo),pa=rt({},zo,{view:0,detail:0}),oT=wn(pa),dc,pc,cs,vu=rt({},pa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Df,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==cs&&(cs&&t.type==="mousemove"?(dc=t.screenX-cs.screenX,pc=t.screenY-cs.screenY):pc=dc=0,cs=t),dc)},movementY:function(t){return"movementY"in t?t.movementY:pc}}),Xp=wn(vu),sT=rt({},vu,{dataTransfer:0}),aT=wn(sT),lT=rt({},pa,{relatedTarget:0}),gc=wn(lT),uT=rt({},zo,{animationName:0,elapsedTime:0,pseudoElement:0}),cT=wn(uT),hT=rt({},zo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),fT=wn(hT),dT=rt({},zo,{data:0}),Yp=wn(dT),pT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vT(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=mT[t])?!!e[t]:!1}function Df(){return vT}var yT=rt({},pa,{key:function(t){if(t.key){var e=pT[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=fl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?gT[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Df,charCode:function(t){return t.type==="keypress"?fl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?fl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),_T=wn(yT),ET=rt({},vu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Jp=wn(ET),wT=rt({},pa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Df}),TT=wn(wT),CT=rt({},zo,{propertyName:0,elapsedTime:0,pseudoElement:0}),ST=wn(CT),IT=rt({},vu,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),LT=wn(IT),kT=[9,13,27,32],Nf=fr&&"CompositionEvent"in window,As=null;fr&&"documentMode"in document&&(As=document.documentMode);var AT=fr&&"TextEvent"in window&&!As,Fy=fr&&(!Nf||As&&8<As&&11>=As),eg=" ",tg=!1;function Uy(t,e){switch(t){case"keyup":return kT.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function By(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var io=!1;function xT(t,e){switch(t){case"compositionend":return By(e);case"keypress":return e.which!==32?null:(tg=!0,eg);case"textInput":return t=e.data,t===eg&&tg?null:t;default:return null}}function PT(t,e){if(io)return t==="compositionend"||!Nf&&Uy(t,e)?(t=Vy(),hl=Mf=Nr=null,io=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Fy&&e.locale!=="ko"?null:e.data;default:return null}}var RT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ng(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!RT[t.type]:e==="textarea"}function zy(t,e,n,r){yy(r),e=bl(e,"onChange"),0<e.length&&(n=new bf("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var xs=null,qs=null;function MT(t){Yy(t,0)}function yu(t){var e=ao(t);if(hy(e))return t}function bT(t,e){if(t==="change")return e}var jy=!1;if(fr){var mc;if(fr){var vc="oninput"in document;if(!vc){var rg=document.createElement("div");rg.setAttribute("oninput","return;"),vc=typeof rg.oninput=="function"}mc=vc}else mc=!1;jy=mc&&(!document.documentMode||9<document.documentMode)}function ig(){xs&&(xs.detachEvent("onpropertychange",$y),qs=xs=null)}function $y(t){if(t.propertyName==="value"&&yu(qs)){var e=[];zy(e,qs,t,kf(t)),Ty(MT,e)}}function DT(t,e,n){t==="focusin"?(ig(),xs=e,qs=n,xs.attachEvent("onpropertychange",$y)):t==="focusout"&&ig()}function NT(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return yu(qs)}function OT(t,e){if(t==="click")return yu(e)}function VT(t,e){if(t==="input"||t==="change")return yu(e)}function FT(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Bn=typeof Object.is=="function"?Object.is:FT;function Ks(t,e){if(Bn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Qc.call(e,i)||!Bn(t[i],e[i]))return!1}return!0}function og(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function sg(t,e){var n=og(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=og(n)}}function Hy(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Hy(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Wy(){for(var t=window,e=Ll();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ll(t.document)}return e}function Of(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function UT(t){var e=Wy(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Hy(n.ownerDocument.documentElement,n)){if(r!==null&&Of(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=sg(n,o);var s=sg(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var BT=fr&&"documentMode"in document&&11>=document.documentMode,oo=null,ph=null,Ps=null,gh=!1;function ag(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;gh||oo==null||oo!==Ll(r)||(r=oo,"selectionStart"in r&&Of(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ps&&Ks(Ps,r)||(Ps=r,r=bl(ph,"onSelect"),0<r.length&&(e=new bf("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=oo)))}function Ha(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var so={animationend:Ha("Animation","AnimationEnd"),animationiteration:Ha("Animation","AnimationIteration"),animationstart:Ha("Animation","AnimationStart"),transitionend:Ha("Transition","TransitionEnd")},yc={},Gy={};fr&&(Gy=document.createElement("div").style,"AnimationEvent"in window||(delete so.animationend.animation,delete so.animationiteration.animation,delete so.animationstart.animation),"TransitionEvent"in window||delete so.transitionend.transition);function _u(t){if(yc[t])return yc[t];if(!so[t])return t;var e=so[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Gy)return yc[t]=e[n];return t}var qy=_u("animationend"),Ky=_u("animationiteration"),Qy=_u("animationstart"),Zy=_u("transitionend"),Xy=new Map,lg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ri(t,e){Xy.set(t,e),Vi(e,[t])}for(var _c=0;_c<lg.length;_c++){var Ec=lg[_c],zT=Ec.toLowerCase(),jT=Ec[0].toUpperCase()+Ec.slice(1);ri(zT,"on"+jT)}ri(qy,"onAnimationEnd");ri(Ky,"onAnimationIteration");ri(Qy,"onAnimationStart");ri("dblclick","onDoubleClick");ri("focusin","onFocus");ri("focusout","onBlur");ri(Zy,"onTransitionEnd");So("onMouseEnter",["mouseout","mouseover"]);So("onMouseLeave",["mouseout","mouseover"]);So("onPointerEnter",["pointerout","pointerover"]);So("onPointerLeave",["pointerout","pointerover"]);Vi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Vi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Vi("onBeforeInput",["compositionend","keypress","textInput","paste"]);Vi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Vi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Vi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ts="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$T=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ts));function ug(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,zw(r,e,void 0,t),t.currentTarget=null}function Yy(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],u=a.instance,c=a.currentTarget;if(a=a.listener,u!==o&&i.isPropagationStopped())break e;ug(i,a,c),o=u}else for(s=0;s<r.length;s++){if(a=r[s],u=a.instance,c=a.currentTarget,a=a.listener,u!==o&&i.isPropagationStopped())break e;ug(i,a,c),o=u}}}if(Al)throw t=ch,Al=!1,ch=null,t}function Ze(t,e){var n=e[Eh];n===void 0&&(n=e[Eh]=new Set);var r=t+"__bubble";n.has(r)||(Jy(e,t,2,!1),n.add(r))}function wc(t,e,n){var r=0;e&&(r|=4),Jy(n,t,r,e)}var Wa="_reactListening"+Math.random().toString(36).slice(2);function Qs(t){if(!t[Wa]){t[Wa]=!0,sy.forEach(function(n){n!=="selectionchange"&&($T.has(n)||wc(n,!1,t),wc(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Wa]||(e[Wa]=!0,wc("selectionchange",!1,e))}}function Jy(t,e,n,r){switch(Oy(e)){case 1:var i=rT;break;case 4:i=iT;break;default:i=Rf}n=i.bind(null,e,n,t),i=void 0,!uh||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Tc(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var u=s.tag;if((u===3||u===4)&&(u=s.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;s=s.return}for(;a!==null;){if(s=yi(a),s===null)return;if(u=s.tag,u===5||u===6){r=o=s;continue e}a=a.parentNode}}r=r.return}Ty(function(){var c=o,h=kf(n),f=[];e:{var d=Xy.get(t);if(d!==void 0){var g=bf,_=t;switch(t){case"keypress":if(fl(n)===0)break e;case"keydown":case"keyup":g=_T;break;case"focusin":_="focus",g=gc;break;case"focusout":_="blur",g=gc;break;case"beforeblur":case"afterblur":g=gc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Xp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=aT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=TT;break;case qy:case Ky:case Qy:g=cT;break;case Zy:g=ST;break;case"scroll":g=oT;break;case"wheel":g=LT;break;case"copy":case"cut":case"paste":g=fT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Jp}var S=(e&4)!==0,P=!S&&t==="scroll",w=S?d!==null?d+"Capture":null:d;S=[];for(var I=c,L;I!==null;){L=I;var b=L.stateNode;if(L.tag===5&&b!==null&&(L=b,w!==null&&(b=$s(I,w),b!=null&&S.push(Zs(I,b,L)))),P)break;I=I.return}0<S.length&&(d=new g(d,_,null,n,h),f.push({event:d,listeners:S}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",d&&n!==ah&&(_=n.relatedTarget||n.fromElement)&&(yi(_)||_[dr]))break e;if((g||d)&&(d=h.window===h?h:(d=h.ownerDocument)?d.defaultView||d.parentWindow:window,g?(_=n.relatedTarget||n.toElement,g=c,_=_?yi(_):null,_!==null&&(P=Fi(_),_!==P||_.tag!==5&&_.tag!==6)&&(_=null)):(g=null,_=c),g!==_)){if(S=Xp,b="onMouseLeave",w="onMouseEnter",I="mouse",(t==="pointerout"||t==="pointerover")&&(S=Jp,b="onPointerLeave",w="onPointerEnter",I="pointer"),P=g==null?d:ao(g),L=_==null?d:ao(_),d=new S(b,I+"leave",g,n,h),d.target=P,d.relatedTarget=L,b=null,yi(h)===c&&(S=new S(w,I+"enter",_,n,h),S.target=L,S.relatedTarget=P,b=S),P=b,g&&_)t:{for(S=g,w=_,I=0,L=S;L;L=Yi(L))I++;for(L=0,b=w;b;b=Yi(b))L++;for(;0<I-L;)S=Yi(S),I--;for(;0<L-I;)w=Yi(w),L--;for(;I--;){if(S===w||w!==null&&S===w.alternate)break t;S=Yi(S),w=Yi(w)}S=null}else S=null;g!==null&&cg(f,d,g,S,!1),_!==null&&P!==null&&cg(f,P,_,S,!0)}}e:{if(d=c?ao(c):window,g=d.nodeName&&d.nodeName.toLowerCase(),g==="select"||g==="input"&&d.type==="file")var O=bT;else if(ng(d))if(jy)O=VT;else{O=NT;var x=DT}else(g=d.nodeName)&&g.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(O=OT);if(O&&(O=O(t,c))){zy(f,O,n,h);break e}x&&x(t,d,c),t==="focusout"&&(x=d._wrapperState)&&x.controlled&&d.type==="number"&&nh(d,"number",d.value)}switch(x=c?ao(c):window,t){case"focusin":(ng(x)||x.contentEditable==="true")&&(oo=x,ph=c,Ps=null);break;case"focusout":Ps=ph=oo=null;break;case"mousedown":gh=!0;break;case"contextmenu":case"mouseup":case"dragend":gh=!1,ag(f,n,h);break;case"selectionchange":if(BT)break;case"keydown":case"keyup":ag(f,n,h)}var T;if(Nf)e:{switch(t){case"compositionstart":var p="onCompositionStart";break e;case"compositionend":p="onCompositionEnd";break e;case"compositionupdate":p="onCompositionUpdate";break e}p=void 0}else io?Uy(t,n)&&(p="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(p="onCompositionStart");p&&(Fy&&n.locale!=="ko"&&(io||p!=="onCompositionStart"?p==="onCompositionEnd"&&io&&(T=Vy()):(Nr=h,Mf="value"in Nr?Nr.value:Nr.textContent,io=!0)),x=bl(c,p),0<x.length&&(p=new Yp(p,t,null,n,h),f.push({event:p,listeners:x}),T?p.data=T:(T=By(n),T!==null&&(p.data=T)))),(T=AT?xT(t,n):PT(t,n))&&(c=bl(c,"onBeforeInput"),0<c.length&&(h=new Yp("onBeforeInput","beforeinput",null,n,h),f.push({event:h,listeners:c}),h.data=T))}Yy(f,e)})}function Zs(t,e,n){return{instance:t,listener:e,currentTarget:n}}function bl(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=$s(t,n),o!=null&&r.unshift(Zs(t,o,i)),o=$s(t,e),o!=null&&r.push(Zs(t,o,i))),t=t.return}return r}function Yi(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function cg(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var a=n,u=a.alternate,c=a.stateNode;if(u!==null&&u===r)break;a.tag===5&&c!==null&&(a=c,i?(u=$s(n,o),u!=null&&s.unshift(Zs(n,u,a))):i||(u=$s(n,o),u!=null&&s.push(Zs(n,u,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var HT=/\r\n?/g,WT=/\u0000|\uFFFD/g;function hg(t){return(typeof t=="string"?t:""+t).replace(HT,`
`).replace(WT,"")}function Ga(t,e,n){if(e=hg(e),hg(t)!==e&&n)throw Error(J(425))}function Dl(){}var mh=null,vh=null;function yh(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var _h=typeof setTimeout=="function"?setTimeout:void 0,GT=typeof clearTimeout=="function"?clearTimeout:void 0,fg=typeof Promise=="function"?Promise:void 0,qT=typeof queueMicrotask=="function"?queueMicrotask:typeof fg<"u"?function(t){return fg.resolve(null).then(t).catch(KT)}:_h;function KT(t){setTimeout(function(){throw t})}function Cc(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Gs(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Gs(e)}function jr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function dg(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var jo=Math.random().toString(36).slice(2),Kn="__reactFiber$"+jo,Xs="__reactProps$"+jo,dr="__reactContainer$"+jo,Eh="__reactEvents$"+jo,QT="__reactListeners$"+jo,ZT="__reactHandles$"+jo;function yi(t){var e=t[Kn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[dr]||n[Kn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=dg(t);t!==null;){if(n=t[Kn])return n;t=dg(t)}return e}t=n,n=t.parentNode}return null}function ga(t){return t=t[Kn]||t[dr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ao(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(J(33))}function Eu(t){return t[Xs]||null}var wh=[],lo=-1;function ii(t){return{current:t}}function Xe(t){0>lo||(t.current=wh[lo],wh[lo]=null,lo--)}function Ke(t,e){lo++,wh[lo]=t.current,t.current=e}var Jr={},Gt=ii(Jr),on=ii(!1),Ai=Jr;function Io(t,e){var n=t.type.contextTypes;if(!n)return Jr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function sn(t){return t=t.childContextTypes,t!=null}function Nl(){Xe(on),Xe(Gt)}function pg(t,e,n){if(Gt.current!==Jr)throw Error(J(168));Ke(Gt,e),Ke(on,n)}function e0(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(J(108,Dw(t)||"Unknown",i));return rt({},n,r)}function Ol(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Jr,Ai=Gt.current,Ke(Gt,t),Ke(on,on.current),!0}function gg(t,e,n){var r=t.stateNode;if(!r)throw Error(J(169));n?(t=e0(t,e,Ai),r.__reactInternalMemoizedMergedChildContext=t,Xe(on),Xe(Gt),Ke(Gt,t)):Xe(on),Ke(on,n)}var ar=null,wu=!1,Sc=!1;function t0(t){ar===null?ar=[t]:ar.push(t)}function XT(t){wu=!0,t0(t)}function oi(){if(!Sc&&ar!==null){Sc=!0;var t=0,e=je;try{var n=ar;for(je=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}ar=null,wu=!1}catch(i){throw ar!==null&&(ar=ar.slice(t+1)),Ly(Af,oi),i}finally{je=e,Sc=!1}}return null}var uo=[],co=0,Vl=null,Fl=0,Cn=[],Sn=0,xi=null,lr=1,ur="";function gi(t,e){uo[co++]=Fl,uo[co++]=Vl,Vl=t,Fl=e}function n0(t,e,n){Cn[Sn++]=lr,Cn[Sn++]=ur,Cn[Sn++]=xi,xi=t;var r=lr;t=ur;var i=32-Fn(r)-1;r&=~(1<<i),n+=1;var o=32-Fn(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,lr=1<<32-Fn(e)+i|n<<i|r,ur=o+t}else lr=1<<o|n<<i|r,ur=t}function Vf(t){t.return!==null&&(gi(t,1),n0(t,1,0))}function Ff(t){for(;t===Vl;)Vl=uo[--co],uo[co]=null,Fl=uo[--co],uo[co]=null;for(;t===xi;)xi=Cn[--Sn],Cn[Sn]=null,ur=Cn[--Sn],Cn[Sn]=null,lr=Cn[--Sn],Cn[Sn]=null}var yn=null,gn=null,Ye=!1,Vn=null;function r0(t,e){var n=In(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function mg(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,yn=t,gn=jr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,yn=t,gn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=xi!==null?{id:lr,overflow:ur}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=In(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,yn=t,gn=null,!0):!1;default:return!1}}function Th(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Ch(t){if(Ye){var e=gn;if(e){var n=e;if(!mg(t,e)){if(Th(t))throw Error(J(418));e=jr(n.nextSibling);var r=yn;e&&mg(t,e)?r0(r,n):(t.flags=t.flags&-4097|2,Ye=!1,yn=t)}}else{if(Th(t))throw Error(J(418));t.flags=t.flags&-4097|2,Ye=!1,yn=t}}}function vg(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;yn=t}function qa(t){if(t!==yn)return!1;if(!Ye)return vg(t),Ye=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!yh(t.type,t.memoizedProps)),e&&(e=gn)){if(Th(t))throw i0(),Error(J(418));for(;e;)r0(t,e),e=jr(e.nextSibling)}if(vg(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(J(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){gn=jr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}gn=null}}else gn=yn?jr(t.stateNode.nextSibling):null;return!0}function i0(){for(var t=gn;t;)t=jr(t.nextSibling)}function Lo(){gn=yn=null,Ye=!1}function Uf(t){Vn===null?Vn=[t]:Vn.push(t)}var YT=_r.ReactCurrentBatchConfig;function hs(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(J(309));var r=n.stateNode}if(!r)throw Error(J(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(J(284));if(!n._owner)throw Error(J(290,t))}return t}function Ka(t,e){throw t=Object.prototype.toString.call(e),Error(J(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function yg(t){var e=t._init;return e(t._payload)}function o0(t){function e(w,I){if(t){var L=w.deletions;L===null?(w.deletions=[I],w.flags|=16):L.push(I)}}function n(w,I){if(!t)return null;for(;I!==null;)e(w,I),I=I.sibling;return null}function r(w,I){for(w=new Map;I!==null;)I.key!==null?w.set(I.key,I):w.set(I.index,I),I=I.sibling;return w}function i(w,I){return w=Gr(w,I),w.index=0,w.sibling=null,w}function o(w,I,L){return w.index=L,t?(L=w.alternate,L!==null?(L=L.index,L<I?(w.flags|=2,I):L):(w.flags|=2,I)):(w.flags|=1048576,I)}function s(w){return t&&w.alternate===null&&(w.flags|=2),w}function a(w,I,L,b){return I===null||I.tag!==6?(I=Rc(L,w.mode,b),I.return=w,I):(I=i(I,L),I.return=w,I)}function u(w,I,L,b){var O=L.type;return O===ro?h(w,I,L.props.children,b,L.key):I!==null&&(I.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===xr&&yg(O)===I.type)?(b=i(I,L.props),b.ref=hs(w,I,L),b.return=w,b):(b=_l(L.type,L.key,L.props,null,w.mode,b),b.ref=hs(w,I,L),b.return=w,b)}function c(w,I,L,b){return I===null||I.tag!==4||I.stateNode.containerInfo!==L.containerInfo||I.stateNode.implementation!==L.implementation?(I=Mc(L,w.mode,b),I.return=w,I):(I=i(I,L.children||[]),I.return=w,I)}function h(w,I,L,b,O){return I===null||I.tag!==7?(I=Ii(L,w.mode,b,O),I.return=w,I):(I=i(I,L),I.return=w,I)}function f(w,I,L){if(typeof I=="string"&&I!==""||typeof I=="number")return I=Rc(""+I,w.mode,L),I.return=w,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case Va:return L=_l(I.type,I.key,I.props,null,w.mode,L),L.ref=hs(w,null,I),L.return=w,L;case no:return I=Mc(I,w.mode,L),I.return=w,I;case xr:var b=I._init;return f(w,b(I._payload),L)}if(Es(I)||ss(I))return I=Ii(I,w.mode,L,null),I.return=w,I;Ka(w,I)}return null}function d(w,I,L,b){var O=I!==null?I.key:null;if(typeof L=="string"&&L!==""||typeof L=="number")return O!==null?null:a(w,I,""+L,b);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case Va:return L.key===O?u(w,I,L,b):null;case no:return L.key===O?c(w,I,L,b):null;case xr:return O=L._init,d(w,I,O(L._payload),b)}if(Es(L)||ss(L))return O!==null?null:h(w,I,L,b,null);Ka(w,L)}return null}function g(w,I,L,b,O){if(typeof b=="string"&&b!==""||typeof b=="number")return w=w.get(L)||null,a(I,w,""+b,O);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Va:return w=w.get(b.key===null?L:b.key)||null,u(I,w,b,O);case no:return w=w.get(b.key===null?L:b.key)||null,c(I,w,b,O);case xr:var x=b._init;return g(w,I,L,x(b._payload),O)}if(Es(b)||ss(b))return w=w.get(L)||null,h(I,w,b,O,null);Ka(I,b)}return null}function _(w,I,L,b){for(var O=null,x=null,T=I,p=I=0,v=null;T!==null&&p<L.length;p++){T.index>p?(v=T,T=null):v=T.sibling;var E=d(w,T,L[p],b);if(E===null){T===null&&(T=v);break}t&&T&&E.alternate===null&&e(w,T),I=o(E,I,p),x===null?O=E:x.sibling=E,x=E,T=v}if(p===L.length)return n(w,T),Ye&&gi(w,p),O;if(T===null){for(;p<L.length;p++)T=f(w,L[p],b),T!==null&&(I=o(T,I,p),x===null?O=T:x.sibling=T,x=T);return Ye&&gi(w,p),O}for(T=r(w,T);p<L.length;p++)v=g(T,w,p,L[p],b),v!==null&&(t&&v.alternate!==null&&T.delete(v.key===null?p:v.key),I=o(v,I,p),x===null?O=v:x.sibling=v,x=v);return t&&T.forEach(function(A){return e(w,A)}),Ye&&gi(w,p),O}function S(w,I,L,b){var O=ss(L);if(typeof O!="function")throw Error(J(150));if(L=O.call(L),L==null)throw Error(J(151));for(var x=O=null,T=I,p=I=0,v=null,E=L.next();T!==null&&!E.done;p++,E=L.next()){T.index>p?(v=T,T=null):v=T.sibling;var A=d(w,T,E.value,b);if(A===null){T===null&&(T=v);break}t&&T&&A.alternate===null&&e(w,T),I=o(A,I,p),x===null?O=A:x.sibling=A,x=A,T=v}if(E.done)return n(w,T),Ye&&gi(w,p),O;if(T===null){for(;!E.done;p++,E=L.next())E=f(w,E.value,b),E!==null&&(I=o(E,I,p),x===null?O=E:x.sibling=E,x=E);return Ye&&gi(w,p),O}for(T=r(w,T);!E.done;p++,E=L.next())E=g(T,w,p,E.value,b),E!==null&&(t&&E.alternate!==null&&T.delete(E.key===null?p:E.key),I=o(E,I,p),x===null?O=E:x.sibling=E,x=E);return t&&T.forEach(function(R){return e(w,R)}),Ye&&gi(w,p),O}function P(w,I,L,b){if(typeof L=="object"&&L!==null&&L.type===ro&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case Va:e:{for(var O=L.key,x=I;x!==null;){if(x.key===O){if(O=L.type,O===ro){if(x.tag===7){n(w,x.sibling),I=i(x,L.props.children),I.return=w,w=I;break e}}else if(x.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===xr&&yg(O)===x.type){n(w,x.sibling),I=i(x,L.props),I.ref=hs(w,x,L),I.return=w,w=I;break e}n(w,x);break}else e(w,x);x=x.sibling}L.type===ro?(I=Ii(L.props.children,w.mode,b,L.key),I.return=w,w=I):(b=_l(L.type,L.key,L.props,null,w.mode,b),b.ref=hs(w,I,L),b.return=w,w=b)}return s(w);case no:e:{for(x=L.key;I!==null;){if(I.key===x)if(I.tag===4&&I.stateNode.containerInfo===L.containerInfo&&I.stateNode.implementation===L.implementation){n(w,I.sibling),I=i(I,L.children||[]),I.return=w,w=I;break e}else{n(w,I);break}else e(w,I);I=I.sibling}I=Mc(L,w.mode,b),I.return=w,w=I}return s(w);case xr:return x=L._init,P(w,I,x(L._payload),b)}if(Es(L))return _(w,I,L,b);if(ss(L))return S(w,I,L,b);Ka(w,L)}return typeof L=="string"&&L!==""||typeof L=="number"?(L=""+L,I!==null&&I.tag===6?(n(w,I.sibling),I=i(I,L),I.return=w,w=I):(n(w,I),I=Rc(L,w.mode,b),I.return=w,w=I),s(w)):n(w,I)}return P}var ko=o0(!0),s0=o0(!1),Ul=ii(null),Bl=null,ho=null,Bf=null;function zf(){Bf=ho=Bl=null}function jf(t){var e=Ul.current;Xe(Ul),t._currentValue=e}function Sh(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Eo(t,e){Bl=t,Bf=ho=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(rn=!0),t.firstContext=null)}function An(t){var e=t._currentValue;if(Bf!==t)if(t={context:t,memoizedValue:e,next:null},ho===null){if(Bl===null)throw Error(J(308));ho=t,Bl.dependencies={lanes:0,firstContext:t}}else ho=ho.next=t;return e}var _i=null;function $f(t){_i===null?_i=[t]:_i.push(t)}function a0(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,$f(e)):(n.next=i.next,i.next=n),e.interleaved=n,pr(t,r)}function pr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Pr=!1;function Hf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function l0(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function hr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function $r(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Oe&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,pr(t,n)}return i=r.interleaved,i===null?(e.next=e,$f(r)):(e.next=i.next,i.next=e),r.interleaved=e,pr(t,n)}function dl(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,xf(t,n)}}function _g(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function zl(t,e,n,r){var i=t.updateQueue;Pr=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var u=a,c=u.next;u.next=null,s===null?o=c:s.next=c,s=u;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==s&&(a===null?h.firstBaseUpdate=c:a.next=c,h.lastBaseUpdate=u))}if(o!==null){var f=i.baseState;s=0,h=c=u=null,a=o;do{var d=a.lane,g=a.eventTime;if((r&d)===d){h!==null&&(h=h.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var _=t,S=a;switch(d=e,g=n,S.tag){case 1:if(_=S.payload,typeof _=="function"){f=_.call(g,f,d);break e}f=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=S.payload,d=typeof _=="function"?_.call(g,f,d):_,d==null)break e;f=rt({},f,d);break e;case 2:Pr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,d=i.effects,d===null?i.effects=[a]:d.push(a))}else g={eventTime:g,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(c=h=g,u=f):h=h.next=g,s|=d;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;d=a,a=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(h===null&&(u=f),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=h,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);Ri|=s,t.lanes=s,t.memoizedState=f}}function Eg(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(J(191,i));i.call(r)}}}var ma={},Xn=ii(ma),Ys=ii(ma),Js=ii(ma);function Ei(t){if(t===ma)throw Error(J(174));return t}function Wf(t,e){switch(Ke(Js,e),Ke(Ys,t),Ke(Xn,ma),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ih(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=ih(e,t)}Xe(Xn),Ke(Xn,e)}function Ao(){Xe(Xn),Xe(Ys),Xe(Js)}function u0(t){Ei(Js.current);var e=Ei(Xn.current),n=ih(e,t.type);e!==n&&(Ke(Ys,t),Ke(Xn,n))}function Gf(t){Ys.current===t&&(Xe(Xn),Xe(Ys))}var tt=ii(0);function jl(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Ic=[];function qf(){for(var t=0;t<Ic.length;t++)Ic[t]._workInProgressVersionPrimary=null;Ic.length=0}var pl=_r.ReactCurrentDispatcher,Lc=_r.ReactCurrentBatchConfig,Pi=0,nt=null,mt=null,Tt=null,$l=!1,Rs=!1,ea=0,JT=0;function Ut(){throw Error(J(321))}function Kf(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Bn(t[n],e[n]))return!1;return!0}function Qf(t,e,n,r,i,o){if(Pi=o,nt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,pl.current=t===null||t.memoizedState===null?r2:i2,t=n(r,i),Rs){o=0;do{if(Rs=!1,ea=0,25<=o)throw Error(J(301));o+=1,Tt=mt=null,e.updateQueue=null,pl.current=o2,t=n(r,i)}while(Rs)}if(pl.current=Hl,e=mt!==null&&mt.next!==null,Pi=0,Tt=mt=nt=null,$l=!1,e)throw Error(J(300));return t}function Zf(){var t=ea!==0;return ea=0,t}function Gn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tt===null?nt.memoizedState=Tt=t:Tt=Tt.next=t,Tt}function xn(){if(mt===null){var t=nt.alternate;t=t!==null?t.memoizedState:null}else t=mt.next;var e=Tt===null?nt.memoizedState:Tt.next;if(e!==null)Tt=e,mt=t;else{if(t===null)throw Error(J(310));mt=t,t={memoizedState:mt.memoizedState,baseState:mt.baseState,baseQueue:mt.baseQueue,queue:mt.queue,next:null},Tt===null?nt.memoizedState=Tt=t:Tt=Tt.next=t}return Tt}function ta(t,e){return typeof e=="function"?e(t):e}function kc(t){var e=xn(),n=e.queue;if(n===null)throw Error(J(311));n.lastRenderedReducer=t;var r=mt,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,u=null,c=o;do{var h=c.lane;if((Pi&h)===h)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var f={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(a=u=f,s=r):u=u.next=f,nt.lanes|=h,Ri|=h}c=c.next}while(c!==null&&c!==o);u===null?s=r:u.next=a,Bn(r,e.memoizedState)||(rn=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,nt.lanes|=o,Ri|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Ac(t){var e=xn(),n=e.queue;if(n===null)throw Error(J(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);Bn(o,e.memoizedState)||(rn=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function c0(){}function h0(t,e){var n=nt,r=xn(),i=e(),o=!Bn(r.memoizedState,i);if(o&&(r.memoizedState=i,rn=!0),r=r.queue,Xf(p0.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||Tt!==null&&Tt.memoizedState.tag&1){if(n.flags|=2048,na(9,d0.bind(null,n,r,i,e),void 0,null),Ct===null)throw Error(J(349));Pi&30||f0(n,e,i)}return i}function f0(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=nt.updateQueue,e===null?(e={lastEffect:null,stores:null},nt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function d0(t,e,n,r){e.value=n,e.getSnapshot=r,g0(e)&&m0(t)}function p0(t,e,n){return n(function(){g0(e)&&m0(t)})}function g0(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Bn(t,n)}catch{return!0}}function m0(t){var e=pr(t,1);e!==null&&Un(e,t,1,-1)}function wg(t){var e=Gn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ta,lastRenderedState:t},e.queue=t,t=t.dispatch=n2.bind(null,nt,t),[e.memoizedState,t]}function na(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=nt.updateQueue,e===null?(e={lastEffect:null,stores:null},nt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function v0(){return xn().memoizedState}function gl(t,e,n,r){var i=Gn();nt.flags|=t,i.memoizedState=na(1|e,n,void 0,r===void 0?null:r)}function Tu(t,e,n,r){var i=xn();r=r===void 0?null:r;var o=void 0;if(mt!==null){var s=mt.memoizedState;if(o=s.destroy,r!==null&&Kf(r,s.deps)){i.memoizedState=na(e,n,o,r);return}}nt.flags|=t,i.memoizedState=na(1|e,n,o,r)}function Tg(t,e){return gl(8390656,8,t,e)}function Xf(t,e){return Tu(2048,8,t,e)}function y0(t,e){return Tu(4,2,t,e)}function _0(t,e){return Tu(4,4,t,e)}function E0(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function w0(t,e,n){return n=n!=null?n.concat([t]):null,Tu(4,4,E0.bind(null,e,t),n)}function Yf(){}function T0(t,e){var n=xn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Kf(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function C0(t,e){var n=xn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Kf(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function S0(t,e,n){return Pi&21?(Bn(n,e)||(n=xy(),nt.lanes|=n,Ri|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,rn=!0),t.memoizedState=n)}function e2(t,e){var n=je;je=n!==0&&4>n?n:4,t(!0);var r=Lc.transition;Lc.transition={};try{t(!1),e()}finally{je=n,Lc.transition=r}}function I0(){return xn().memoizedState}function t2(t,e,n){var r=Wr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},L0(t))k0(e,n);else if(n=a0(t,e,n,r),n!==null){var i=Zt();Un(n,t,r,i),A0(n,e,r)}}function n2(t,e,n){var r=Wr(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(L0(t))k0(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,Bn(a,s)){var u=e.interleaved;u===null?(i.next=i,$f(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}n=a0(t,e,i,r),n!==null&&(i=Zt(),Un(n,t,r,i),A0(n,e,r))}}function L0(t){var e=t.alternate;return t===nt||e!==null&&e===nt}function k0(t,e){Rs=$l=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function A0(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,xf(t,n)}}var Hl={readContext:An,useCallback:Ut,useContext:Ut,useEffect:Ut,useImperativeHandle:Ut,useInsertionEffect:Ut,useLayoutEffect:Ut,useMemo:Ut,useReducer:Ut,useRef:Ut,useState:Ut,useDebugValue:Ut,useDeferredValue:Ut,useTransition:Ut,useMutableSource:Ut,useSyncExternalStore:Ut,useId:Ut,unstable_isNewReconciler:!1},r2={readContext:An,useCallback:function(t,e){return Gn().memoizedState=[t,e===void 0?null:e],t},useContext:An,useEffect:Tg,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,gl(4194308,4,E0.bind(null,e,t),n)},useLayoutEffect:function(t,e){return gl(4194308,4,t,e)},useInsertionEffect:function(t,e){return gl(4,2,t,e)},useMemo:function(t,e){var n=Gn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Gn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=t2.bind(null,nt,t),[r.memoizedState,t]},useRef:function(t){var e=Gn();return t={current:t},e.memoizedState=t},useState:wg,useDebugValue:Yf,useDeferredValue:function(t){return Gn().memoizedState=t},useTransition:function(){var t=wg(!1),e=t[0];return t=e2.bind(null,t[1]),Gn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=nt,i=Gn();if(Ye){if(n===void 0)throw Error(J(407));n=n()}else{if(n=e(),Ct===null)throw Error(J(349));Pi&30||f0(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,Tg(p0.bind(null,r,o,t),[t]),r.flags|=2048,na(9,d0.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=Gn(),e=Ct.identifierPrefix;if(Ye){var n=ur,r=lr;n=(r&~(1<<32-Fn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=ea++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=JT++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},i2={readContext:An,useCallback:T0,useContext:An,useEffect:Xf,useImperativeHandle:w0,useInsertionEffect:y0,useLayoutEffect:_0,useMemo:C0,useReducer:kc,useRef:v0,useState:function(){return kc(ta)},useDebugValue:Yf,useDeferredValue:function(t){var e=xn();return S0(e,mt.memoizedState,t)},useTransition:function(){var t=kc(ta)[0],e=xn().memoizedState;return[t,e]},useMutableSource:c0,useSyncExternalStore:h0,useId:I0,unstable_isNewReconciler:!1},o2={readContext:An,useCallback:T0,useContext:An,useEffect:Xf,useImperativeHandle:w0,useInsertionEffect:y0,useLayoutEffect:_0,useMemo:C0,useReducer:Ac,useRef:v0,useState:function(){return Ac(ta)},useDebugValue:Yf,useDeferredValue:function(t){var e=xn();return mt===null?e.memoizedState=t:S0(e,mt.memoizedState,t)},useTransition:function(){var t=Ac(ta)[0],e=xn().memoizedState;return[t,e]},useMutableSource:c0,useSyncExternalStore:h0,useId:I0,unstable_isNewReconciler:!1};function Nn(t,e){if(t&&t.defaultProps){e=rt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Ih(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:rt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Cu={isMounted:function(t){return(t=t._reactInternals)?Fi(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Zt(),i=Wr(t),o=hr(r,i);o.payload=e,n!=null&&(o.callback=n),e=$r(t,o,i),e!==null&&(Un(e,t,i,r),dl(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Zt(),i=Wr(t),o=hr(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=$r(t,o,i),e!==null&&(Un(e,t,i,r),dl(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Zt(),r=Wr(t),i=hr(n,r);i.tag=2,e!=null&&(i.callback=e),e=$r(t,i,r),e!==null&&(Un(e,t,r,n),dl(e,t,r))}};function Cg(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!Ks(n,r)||!Ks(i,o):!0}function x0(t,e,n){var r=!1,i=Jr,o=e.contextType;return typeof o=="object"&&o!==null?o=An(o):(i=sn(e)?Ai:Gt.current,r=e.contextTypes,o=(r=r!=null)?Io(t,i):Jr),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Cu,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function Sg(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Cu.enqueueReplaceState(e,e.state,null)}function Lh(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Hf(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=An(o):(o=sn(e)?Ai:Gt.current,i.context=Io(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Ih(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Cu.enqueueReplaceState(i,i.state,null),zl(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function xo(t,e){try{var n="",r=e;do n+=bw(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function xc(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function kh(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var s2=typeof WeakMap=="function"?WeakMap:Map;function P0(t,e,n){n=hr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Gl||(Gl=!0,Vh=r),kh(t,e)},n}function R0(t,e,n){n=hr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){kh(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){kh(t,e),typeof r!="function"&&(Hr===null?Hr=new Set([this]):Hr.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function Ig(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new s2;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=E2.bind(null,t,e,n),e.then(t,t))}function Lg(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function kg(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=hr(-1,1),e.tag=2,$r(n,e,1))),n.lanes|=1),t)}var a2=_r.ReactCurrentOwner,rn=!1;function Qt(t,e,n,r){e.child=t===null?s0(e,null,n,r):ko(e,t.child,n,r)}function Ag(t,e,n,r,i){n=n.render;var o=e.ref;return Eo(e,i),r=Qf(t,e,n,r,o,i),n=Zf(),t!==null&&!rn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,gr(t,e,i)):(Ye&&n&&Vf(e),e.flags|=1,Qt(t,e,r,i),e.child)}function xg(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!sd(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,M0(t,e,o,r,i)):(t=_l(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:Ks,n(s,r)&&t.ref===e.ref)return gr(t,e,i)}return e.flags|=1,t=Gr(o,r),t.ref=e.ref,t.return=e,e.child=t}function M0(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(Ks(o,r)&&t.ref===e.ref)if(rn=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(rn=!0);else return e.lanes=t.lanes,gr(t,e,i)}return Ah(t,e,n,r,i)}function b0(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ke(po,dn),dn|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ke(po,dn),dn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Ke(po,dn),dn|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,Ke(po,dn),dn|=r;return Qt(t,e,i,n),e.child}function D0(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Ah(t,e,n,r,i){var o=sn(n)?Ai:Gt.current;return o=Io(e,o),Eo(e,i),n=Qf(t,e,n,r,o,i),r=Zf(),t!==null&&!rn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,gr(t,e,i)):(Ye&&r&&Vf(e),e.flags|=1,Qt(t,e,n,i),e.child)}function Pg(t,e,n,r,i){if(sn(n)){var o=!0;Ol(e)}else o=!1;if(Eo(e,i),e.stateNode===null)ml(t,e),x0(e,n,r),Lh(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var u=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=An(c):(c=sn(n)?Ai:Gt.current,c=Io(e,c));var h=n.getDerivedStateFromProps,f=typeof h=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||u!==c)&&Sg(e,s,r,c),Pr=!1;var d=e.memoizedState;s.state=d,zl(e,r,s,i),u=e.memoizedState,a!==r||d!==u||on.current||Pr?(typeof h=="function"&&(Ih(e,n,h,r),u=e.memoizedState),(a=Pr||Cg(e,n,a,r,d,u,c))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),s.props=r,s.state=u,s.context=c,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,l0(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Nn(e.type,a),s.props=c,f=e.pendingProps,d=s.context,u=n.contextType,typeof u=="object"&&u!==null?u=An(u):(u=sn(n)?Ai:Gt.current,u=Io(e,u));var g=n.getDerivedStateFromProps;(h=typeof g=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==f||d!==u)&&Sg(e,s,r,u),Pr=!1,d=e.memoizedState,s.state=d,zl(e,r,s,i);var _=e.memoizedState;a!==f||d!==_||on.current||Pr?(typeof g=="function"&&(Ih(e,n,g,r),_=e.memoizedState),(c=Pr||Cg(e,n,c,r,d,_,u)||!1)?(h||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,_,u),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,_,u)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=_),s.props=r,s.state=_,s.context=u,r=c):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return xh(t,e,n,r,o,i)}function xh(t,e,n,r,i,o){D0(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&gg(e,n,!1),gr(t,e,o);r=e.stateNode,a2.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=ko(e,t.child,null,o),e.child=ko(e,null,a,o)):Qt(t,e,a,o),e.memoizedState=r.state,i&&gg(e,n,!0),e.child}function N0(t){var e=t.stateNode;e.pendingContext?pg(t,e.pendingContext,e.pendingContext!==e.context):e.context&&pg(t,e.context,!1),Wf(t,e.containerInfo)}function Rg(t,e,n,r,i){return Lo(),Uf(i),e.flags|=256,Qt(t,e,n,r),e.child}var Ph={dehydrated:null,treeContext:null,retryLane:0};function Rh(t){return{baseLanes:t,cachePool:null,transitions:null}}function O0(t,e,n){var r=e.pendingProps,i=tt.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ke(tt,i&1),t===null)return Ch(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=Lu(s,r,0,null),t=Ii(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=Rh(n),e.memoizedState=Ph,t):Jf(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return l2(t,e,s,r,a,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,a=i.sibling;var u={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=Gr(i,u),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=Gr(a,o):(o=Ii(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?Rh(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=Ph,r}return o=t.child,t=o.sibling,r=Gr(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Jf(t,e){return e=Lu({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Qa(t,e,n,r){return r!==null&&Uf(r),ko(e,t.child,null,n),t=Jf(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function l2(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=xc(Error(J(422))),Qa(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=Lu({mode:"visible",children:r.children},i,0,null),o=Ii(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&ko(e,t.child,null,s),e.child.memoizedState=Rh(s),e.memoizedState=Ph,o);if(!(e.mode&1))return Qa(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(J(419)),r=xc(o,r,void 0),Qa(t,e,s,r)}if(a=(s&t.childLanes)!==0,rn||a){if(r=Ct,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,pr(t,i),Un(r,t,i,-1))}return od(),r=xc(Error(J(421))),Qa(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=w2.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,gn=jr(i.nextSibling),yn=e,Ye=!0,Vn=null,t!==null&&(Cn[Sn++]=lr,Cn[Sn++]=ur,Cn[Sn++]=xi,lr=t.id,ur=t.overflow,xi=e),e=Jf(e,r.children),e.flags|=4096,e)}function Mg(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Sh(t.return,e,n)}function Pc(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function V0(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(Qt(t,e,r.children,n),r=tt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Mg(t,n,e);else if(t.tag===19)Mg(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ke(tt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&jl(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Pc(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&jl(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Pc(e,!0,n,null,o);break;case"together":Pc(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ml(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function gr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ri|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(J(153));if(e.child!==null){for(t=e.child,n=Gr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Gr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function u2(t,e,n){switch(e.tag){case 3:N0(e),Lo();break;case 5:u0(e);break;case 1:sn(e.type)&&Ol(e);break;case 4:Wf(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ke(Ul,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ke(tt,tt.current&1),e.flags|=128,null):n&e.child.childLanes?O0(t,e,n):(Ke(tt,tt.current&1),t=gr(t,e,n),t!==null?t.sibling:null);Ke(tt,tt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return V0(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ke(tt,tt.current),r)break;return null;case 22:case 23:return e.lanes=0,b0(t,e,n)}return gr(t,e,n)}var F0,Mh,U0,B0;F0=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Mh=function(){};U0=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Ei(Xn.current);var o=null;switch(n){case"input":i=eh(t,i),r=eh(t,r),o=[];break;case"select":i=rt({},i,{value:void 0}),r=rt({},r,{value:void 0}),o=[];break;case"textarea":i=rh(t,i),r=rh(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Dl)}oh(n,r);var s;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(zs.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var u=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&u!==a&&(u!=null||a!=null))if(c==="style")if(a){for(s in a)!a.hasOwnProperty(s)||u&&u.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in u)u.hasOwnProperty(s)&&a[s]!==u[s]&&(n||(n={}),n[s]=u[s])}else n||(o||(o=[]),o.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(o=o||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(o=o||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(zs.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&Ze("scroll",t),o||a===u||(o=[])):(o=o||[]).push(c,u))}n&&(o=o||[]).push("style",n);var c=o;(e.updateQueue=c)&&(e.flags|=4)}};B0=function(t,e,n,r){n!==r&&(e.flags|=4)};function fs(t,e){if(!Ye)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Bt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function c2(t,e,n){var r=e.pendingProps;switch(Ff(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Bt(e),null;case 1:return sn(e.type)&&Nl(),Bt(e),null;case 3:return r=e.stateNode,Ao(),Xe(on),Xe(Gt),qf(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(qa(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Vn!==null&&(Bh(Vn),Vn=null))),Mh(t,e),Bt(e),null;case 5:Gf(e);var i=Ei(Js.current);if(n=e.type,t!==null&&e.stateNode!=null)U0(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(J(166));return Bt(e),null}if(t=Ei(Xn.current),qa(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[Kn]=e,r[Xs]=o,t=(e.mode&1)!==0,n){case"dialog":Ze("cancel",r),Ze("close",r);break;case"iframe":case"object":case"embed":Ze("load",r);break;case"video":case"audio":for(i=0;i<Ts.length;i++)Ze(Ts[i],r);break;case"source":Ze("error",r);break;case"img":case"image":case"link":Ze("error",r),Ze("load",r);break;case"details":Ze("toggle",r);break;case"input":zp(r,o),Ze("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ze("invalid",r);break;case"textarea":$p(r,o),Ze("invalid",r)}oh(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&Ga(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&Ga(r.textContent,a,t),i=["children",""+a]):zs.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&Ze("scroll",r)}switch(n){case"input":Fa(r),jp(r,o,!0);break;case"textarea":Fa(r),Hp(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Dl)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=py(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[Kn]=e,t[Xs]=r,F0(t,e,!1,!1),e.stateNode=t;e:{switch(s=sh(n,r),n){case"dialog":Ze("cancel",t),Ze("close",t),i=r;break;case"iframe":case"object":case"embed":Ze("load",t),i=r;break;case"video":case"audio":for(i=0;i<Ts.length;i++)Ze(Ts[i],t);i=r;break;case"source":Ze("error",t),i=r;break;case"img":case"image":case"link":Ze("error",t),Ze("load",t),i=r;break;case"details":Ze("toggle",t),i=r;break;case"input":zp(t,r),i=eh(t,r),Ze("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=rt({},r,{value:void 0}),Ze("invalid",t);break;case"textarea":$p(t,r),i=rh(t,r),Ze("invalid",t);break;default:i=r}oh(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var u=a[o];o==="style"?vy(t,u):o==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&gy(t,u)):o==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&js(t,u):typeof u=="number"&&js(t,""+u):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(zs.hasOwnProperty(o)?u!=null&&o==="onScroll"&&Ze("scroll",t):u!=null&&Cf(t,o,u,s))}switch(n){case"input":Fa(t),jp(t,r,!1);break;case"textarea":Fa(t),Hp(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Yr(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?mo(t,!!r.multiple,o,!1):r.defaultValue!=null&&mo(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Dl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Bt(e),null;case 6:if(t&&e.stateNode!=null)B0(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(J(166));if(n=Ei(Js.current),Ei(Xn.current),qa(e)){if(r=e.stateNode,n=e.memoizedProps,r[Kn]=e,(o=r.nodeValue!==n)&&(t=yn,t!==null))switch(t.tag){case 3:Ga(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ga(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Kn]=e,e.stateNode=r}return Bt(e),null;case 13:if(Xe(tt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ye&&gn!==null&&e.mode&1&&!(e.flags&128))i0(),Lo(),e.flags|=98560,o=!1;else if(o=qa(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(J(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(J(317));o[Kn]=e}else Lo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Bt(e),o=!1}else Vn!==null&&(Bh(Vn),Vn=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||tt.current&1?yt===0&&(yt=3):od())),e.updateQueue!==null&&(e.flags|=4),Bt(e),null);case 4:return Ao(),Mh(t,e),t===null&&Qs(e.stateNode.containerInfo),Bt(e),null;case 10:return jf(e.type._context),Bt(e),null;case 17:return sn(e.type)&&Nl(),Bt(e),null;case 19:if(Xe(tt),o=e.memoizedState,o===null)return Bt(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)fs(o,!1);else{if(yt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=jl(t),s!==null){for(e.flags|=128,fs(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ke(tt,tt.current&1|2),e.child}t=t.sibling}o.tail!==null&&ht()>Po&&(e.flags|=128,r=!0,fs(o,!1),e.lanes=4194304)}else{if(!r)if(t=jl(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),fs(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!Ye)return Bt(e),null}else 2*ht()-o.renderingStartTime>Po&&n!==1073741824&&(e.flags|=128,r=!0,fs(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=ht(),e.sibling=null,n=tt.current,Ke(tt,r?n&1|2:n&1),e):(Bt(e),null);case 22:case 23:return id(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?dn&1073741824&&(Bt(e),e.subtreeFlags&6&&(e.flags|=8192)):Bt(e),null;case 24:return null;case 25:return null}throw Error(J(156,e.tag))}function h2(t,e){switch(Ff(e),e.tag){case 1:return sn(e.type)&&Nl(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ao(),Xe(on),Xe(Gt),qf(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Gf(e),null;case 13:if(Xe(tt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(J(340));Lo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Xe(tt),null;case 4:return Ao(),null;case 10:return jf(e.type._context),null;case 22:case 23:return id(),null;case 24:return null;default:return null}}var Za=!1,Ht=!1,f2=typeof WeakSet=="function"?WeakSet:Set,re=null;function fo(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){st(t,e,r)}else n.current=null}function bh(t,e,n){try{n()}catch(r){st(t,e,r)}}var bg=!1;function d2(t,e){if(mh=Rl,t=Wy(),Of(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,u=-1,c=0,h=0,f=t,d=null;t:for(;;){for(var g;f!==n||i!==0&&f.nodeType!==3||(a=s+i),f!==o||r!==0&&f.nodeType!==3||(u=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(g=f.firstChild)!==null;)d=f,f=g;for(;;){if(f===t)break t;if(d===n&&++c===i&&(a=s),d===o&&++h===r&&(u=s),(g=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=g}n=a===-1||u===-1?null:{start:a,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(vh={focusedElem:t,selectionRange:n},Rl=!1,re=e;re!==null;)if(e=re,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,re=t;else for(;re!==null;){e=re;try{var _=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var S=_.memoizedProps,P=_.memoizedState,w=e.stateNode,I=w.getSnapshotBeforeUpdate(e.elementType===e.type?S:Nn(e.type,S),P);w.__reactInternalSnapshotBeforeUpdate=I}break;case 3:var L=e.stateNode.containerInfo;L.nodeType===1?L.textContent="":L.nodeType===9&&L.documentElement&&L.removeChild(L.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(J(163))}}catch(b){st(e,e.return,b)}if(t=e.sibling,t!==null){t.return=e.return,re=t;break}re=e.return}return _=bg,bg=!1,_}function Ms(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&bh(e,n,o)}i=i.next}while(i!==r)}}function Su(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Dh(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function z0(t){var e=t.alternate;e!==null&&(t.alternate=null,z0(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Kn],delete e[Xs],delete e[Eh],delete e[QT],delete e[ZT])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function j0(t){return t.tag===5||t.tag===3||t.tag===4}function Dg(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||j0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Nh(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Dl));else if(r!==4&&(t=t.child,t!==null))for(Nh(t,e,n),t=t.sibling;t!==null;)Nh(t,e,n),t=t.sibling}function Oh(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Oh(t,e,n),t=t.sibling;t!==null;)Oh(t,e,n),t=t.sibling}var At=null,On=!1;function kr(t,e,n){for(n=n.child;n!==null;)$0(t,e,n),n=n.sibling}function $0(t,e,n){if(Zn&&typeof Zn.onCommitFiberUnmount=="function")try{Zn.onCommitFiberUnmount(mu,n)}catch{}switch(n.tag){case 5:Ht||fo(n,e);case 6:var r=At,i=On;At=null,kr(t,e,n),At=r,On=i,At!==null&&(On?(t=At,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):At.removeChild(n.stateNode));break;case 18:At!==null&&(On?(t=At,n=n.stateNode,t.nodeType===8?Cc(t.parentNode,n):t.nodeType===1&&Cc(t,n),Gs(t)):Cc(At,n.stateNode));break;case 4:r=At,i=On,At=n.stateNode.containerInfo,On=!0,kr(t,e,n),At=r,On=i;break;case 0:case 11:case 14:case 15:if(!Ht&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&bh(n,e,s),i=i.next}while(i!==r)}kr(t,e,n);break;case 1:if(!Ht&&(fo(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){st(n,e,a)}kr(t,e,n);break;case 21:kr(t,e,n);break;case 22:n.mode&1?(Ht=(r=Ht)||n.memoizedState!==null,kr(t,e,n),Ht=r):kr(t,e,n);break;default:kr(t,e,n)}}function Ng(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new f2),e.forEach(function(r){var i=T2.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function bn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:At=a.stateNode,On=!1;break e;case 3:At=a.stateNode.containerInfo,On=!0;break e;case 4:At=a.stateNode.containerInfo,On=!0;break e}a=a.return}if(At===null)throw Error(J(160));$0(o,s,i),At=null,On=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(c){st(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)H0(e,t),e=e.sibling}function H0(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(bn(e,t),Wn(t),r&4){try{Ms(3,t,t.return),Su(3,t)}catch(S){st(t,t.return,S)}try{Ms(5,t,t.return)}catch(S){st(t,t.return,S)}}break;case 1:bn(e,t),Wn(t),r&512&&n!==null&&fo(n,n.return);break;case 5:if(bn(e,t),Wn(t),r&512&&n!==null&&fo(n,n.return),t.flags&32){var i=t.stateNode;try{js(i,"")}catch(S){st(t,t.return,S)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&fy(i,o),sh(a,s);var c=sh(a,o);for(s=0;s<u.length;s+=2){var h=u[s],f=u[s+1];h==="style"?vy(i,f):h==="dangerouslySetInnerHTML"?gy(i,f):h==="children"?js(i,f):Cf(i,h,f,c)}switch(a){case"input":th(i,o);break;case"textarea":dy(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var g=o.value;g!=null?mo(i,!!o.multiple,g,!1):d!==!!o.multiple&&(o.defaultValue!=null?mo(i,!!o.multiple,o.defaultValue,!0):mo(i,!!o.multiple,o.multiple?[]:"",!1))}i[Xs]=o}catch(S){st(t,t.return,S)}}break;case 6:if(bn(e,t),Wn(t),r&4){if(t.stateNode===null)throw Error(J(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(S){st(t,t.return,S)}}break;case 3:if(bn(e,t),Wn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Gs(e.containerInfo)}catch(S){st(t,t.return,S)}break;case 4:bn(e,t),Wn(t);break;case 13:bn(e,t),Wn(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(nd=ht())),r&4&&Ng(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(Ht=(c=Ht)||h,bn(e,t),Ht=c):bn(e,t),Wn(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!h&&t.mode&1)for(re=t,h=t.child;h!==null;){for(f=re=h;re!==null;){switch(d=re,g=d.child,d.tag){case 0:case 11:case 14:case 15:Ms(4,d,d.return);break;case 1:fo(d,d.return);var _=d.stateNode;if(typeof _.componentWillUnmount=="function"){r=d,n=d.return;try{e=r,_.props=e.memoizedProps,_.state=e.memoizedState,_.componentWillUnmount()}catch(S){st(r,n,S)}}break;case 5:fo(d,d.return);break;case 22:if(d.memoizedState!==null){Vg(f);continue}}g!==null?(g.return=d,re=g):Vg(f)}h=h.sibling}e:for(h=null,f=t;;){if(f.tag===5){if(h===null){h=f;try{i=f.stateNode,c?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=f.stateNode,u=f.memoizedProps.style,s=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=my("display",s))}catch(S){st(t,t.return,S)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(S){st(t,t.return,S)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:bn(e,t),Wn(t),r&4&&Ng(t);break;case 21:break;default:bn(e,t),Wn(t)}}function Wn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(j0(n)){var r=n;break e}n=n.return}throw Error(J(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(js(i,""),r.flags&=-33);var o=Dg(t);Oh(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=Dg(t);Nh(t,a,s);break;default:throw Error(J(161))}}catch(u){st(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function p2(t,e,n){re=t,W0(t)}function W0(t,e,n){for(var r=(t.mode&1)!==0;re!==null;){var i=re,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||Za;if(!s){var a=i.alternate,u=a!==null&&a.memoizedState!==null||Ht;a=Za;var c=Ht;if(Za=s,(Ht=u)&&!c)for(re=i;re!==null;)s=re,u=s.child,s.tag===22&&s.memoizedState!==null?Fg(i):u!==null?(u.return=s,re=u):Fg(i);for(;o!==null;)re=o,W0(o),o=o.sibling;re=i,Za=a,Ht=c}Og(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,re=o):Og(t)}}function Og(t){for(;re!==null;){var e=re;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ht||Su(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ht)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Nn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&Eg(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Eg(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var h=c.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&Gs(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(J(163))}Ht||e.flags&512&&Dh(e)}catch(d){st(e,e.return,d)}}if(e===t){re=null;break}if(n=e.sibling,n!==null){n.return=e.return,re=n;break}re=e.return}}function Vg(t){for(;re!==null;){var e=re;if(e===t){re=null;break}var n=e.sibling;if(n!==null){n.return=e.return,re=n;break}re=e.return}}function Fg(t){for(;re!==null;){var e=re;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Su(4,e)}catch(u){st(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(u){st(e,i,u)}}var o=e.return;try{Dh(e)}catch(u){st(e,o,u)}break;case 5:var s=e.return;try{Dh(e)}catch(u){st(e,s,u)}}}catch(u){st(e,e.return,u)}if(e===t){re=null;break}var a=e.sibling;if(a!==null){a.return=e.return,re=a;break}re=e.return}}var g2=Math.ceil,Wl=_r.ReactCurrentDispatcher,ed=_r.ReactCurrentOwner,Ln=_r.ReactCurrentBatchConfig,Oe=0,Ct=null,gt=null,Rt=0,dn=0,po=ii(0),yt=0,ra=null,Ri=0,Iu=0,td=0,bs=null,en=null,nd=0,Po=1/0,sr=null,Gl=!1,Vh=null,Hr=null,Xa=!1,Or=null,ql=0,Ds=0,Fh=null,vl=-1,yl=0;function Zt(){return Oe&6?ht():vl!==-1?vl:vl=ht()}function Wr(t){return t.mode&1?Oe&2&&Rt!==0?Rt&-Rt:YT.transition!==null?(yl===0&&(yl=xy()),yl):(t=je,t!==0||(t=window.event,t=t===void 0?16:Oy(t.type)),t):1}function Un(t,e,n,r){if(50<Ds)throw Ds=0,Fh=null,Error(J(185));da(t,n,r),(!(Oe&2)||t!==Ct)&&(t===Ct&&(!(Oe&2)&&(Iu|=n),yt===4&&br(t,Rt)),an(t,r),n===1&&Oe===0&&!(e.mode&1)&&(Po=ht()+500,wu&&oi()))}function an(t,e){var n=t.callbackNode;Yw(t,e);var r=Pl(t,t===Ct?Rt:0);if(r===0)n!==null&&qp(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&qp(n),e===1)t.tag===0?XT(Ug.bind(null,t)):t0(Ug.bind(null,t)),qT(function(){!(Oe&6)&&oi()}),n=null;else{switch(Py(r)){case 1:n=Af;break;case 4:n=ky;break;case 16:n=xl;break;case 536870912:n=Ay;break;default:n=xl}n=J0(n,G0.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function G0(t,e){if(vl=-1,yl=0,Oe&6)throw Error(J(327));var n=t.callbackNode;if(wo()&&t.callbackNode!==n)return null;var r=Pl(t,t===Ct?Rt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Kl(t,r);else{e=r;var i=Oe;Oe|=2;var o=K0();(Ct!==t||Rt!==e)&&(sr=null,Po=ht()+500,Si(t,e));do try{y2();break}catch(a){q0(t,a)}while(!0);zf(),Wl.current=o,Oe=i,gt!==null?e=0:(Ct=null,Rt=0,e=yt)}if(e!==0){if(e===2&&(i=hh(t),i!==0&&(r=i,e=Uh(t,i))),e===1)throw n=ra,Si(t,0),br(t,r),an(t,ht()),n;if(e===6)br(t,r);else{if(i=t.current.alternate,!(r&30)&&!m2(i)&&(e=Kl(t,r),e===2&&(o=hh(t),o!==0&&(r=o,e=Uh(t,o))),e===1))throw n=ra,Si(t,0),br(t,r),an(t,ht()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(J(345));case 2:mi(t,en,sr);break;case 3:if(br(t,r),(r&130023424)===r&&(e=nd+500-ht(),10<e)){if(Pl(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Zt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=_h(mi.bind(null,t,en,sr),e);break}mi(t,en,sr);break;case 4:if(br(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-Fn(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=ht()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*g2(r/1960))-r,10<r){t.timeoutHandle=_h(mi.bind(null,t,en,sr),r);break}mi(t,en,sr);break;case 5:mi(t,en,sr);break;default:throw Error(J(329))}}}return an(t,ht()),t.callbackNode===n?G0.bind(null,t):null}function Uh(t,e){var n=bs;return t.current.memoizedState.isDehydrated&&(Si(t,e).flags|=256),t=Kl(t,e),t!==2&&(e=en,en=n,e!==null&&Bh(e)),t}function Bh(t){en===null?en=t:en.push.apply(en,t)}function m2(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Bn(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function br(t,e){for(e&=~td,e&=~Iu,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Fn(e),r=1<<n;t[n]=-1,e&=~r}}function Ug(t){if(Oe&6)throw Error(J(327));wo();var e=Pl(t,0);if(!(e&1))return an(t,ht()),null;var n=Kl(t,e);if(t.tag!==0&&n===2){var r=hh(t);r!==0&&(e=r,n=Uh(t,r))}if(n===1)throw n=ra,Si(t,0),br(t,e),an(t,ht()),n;if(n===6)throw Error(J(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,mi(t,en,sr),an(t,ht()),null}function rd(t,e){var n=Oe;Oe|=1;try{return t(e)}finally{Oe=n,Oe===0&&(Po=ht()+500,wu&&oi())}}function Mi(t){Or!==null&&Or.tag===0&&!(Oe&6)&&wo();var e=Oe;Oe|=1;var n=Ln.transition,r=je;try{if(Ln.transition=null,je=1,t)return t()}finally{je=r,Ln.transition=n,Oe=e,!(Oe&6)&&oi()}}function id(){dn=po.current,Xe(po)}function Si(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,GT(n)),gt!==null)for(n=gt.return;n!==null;){var r=n;switch(Ff(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Nl();break;case 3:Ao(),Xe(on),Xe(Gt),qf();break;case 5:Gf(r);break;case 4:Ao();break;case 13:Xe(tt);break;case 19:Xe(tt);break;case 10:jf(r.type._context);break;case 22:case 23:id()}n=n.return}if(Ct=t,gt=t=Gr(t.current,null),Rt=dn=e,yt=0,ra=null,td=Iu=Ri=0,en=bs=null,_i!==null){for(e=0;e<_i.length;e++)if(n=_i[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}_i=null}return t}function q0(t,e){do{var n=gt;try{if(zf(),pl.current=Hl,$l){for(var r=nt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}$l=!1}if(Pi=0,Tt=mt=nt=null,Rs=!1,ea=0,ed.current=null,n===null||n.return===null){yt=1,ra=e,gt=null;break}e:{var o=t,s=n.return,a=n,u=e;if(e=Rt,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,h=a,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var d=h.alternate;d?(h.updateQueue=d.updateQueue,h.memoizedState=d.memoizedState,h.lanes=d.lanes):(h.updateQueue=null,h.memoizedState=null)}var g=Lg(s);if(g!==null){g.flags&=-257,kg(g,s,a,o,e),g.mode&1&&Ig(o,c,e),e=g,u=c;var _=e.updateQueue;if(_===null){var S=new Set;S.add(u),e.updateQueue=S}else _.add(u);break e}else{if(!(e&1)){Ig(o,c,e),od();break e}u=Error(J(426))}}else if(Ye&&a.mode&1){var P=Lg(s);if(P!==null){!(P.flags&65536)&&(P.flags|=256),kg(P,s,a,o,e),Uf(xo(u,a));break e}}o=u=xo(u,a),yt!==4&&(yt=2),bs===null?bs=[o]:bs.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var w=P0(o,u,e);_g(o,w);break e;case 1:a=u;var I=o.type,L=o.stateNode;if(!(o.flags&128)&&(typeof I.getDerivedStateFromError=="function"||L!==null&&typeof L.componentDidCatch=="function"&&(Hr===null||!Hr.has(L)))){o.flags|=65536,e&=-e,o.lanes|=e;var b=R0(o,a,e);_g(o,b);break e}}o=o.return}while(o!==null)}Z0(n)}catch(O){e=O,gt===n&&n!==null&&(gt=n=n.return);continue}break}while(!0)}function K0(){var t=Wl.current;return Wl.current=Hl,t===null?Hl:t}function od(){(yt===0||yt===3||yt===2)&&(yt=4),Ct===null||!(Ri&268435455)&&!(Iu&268435455)||br(Ct,Rt)}function Kl(t,e){var n=Oe;Oe|=2;var r=K0();(Ct!==t||Rt!==e)&&(sr=null,Si(t,e));do try{v2();break}catch(i){q0(t,i)}while(!0);if(zf(),Oe=n,Wl.current=r,gt!==null)throw Error(J(261));return Ct=null,Rt=0,yt}function v2(){for(;gt!==null;)Q0(gt)}function y2(){for(;gt!==null&&!$w();)Q0(gt)}function Q0(t){var e=Y0(t.alternate,t,dn);t.memoizedProps=t.pendingProps,e===null?Z0(t):gt=e,ed.current=null}function Z0(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=h2(n,e),n!==null){n.flags&=32767,gt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{yt=6,gt=null;return}}else if(n=c2(n,e,dn),n!==null){gt=n;return}if(e=e.sibling,e!==null){gt=e;return}gt=e=t}while(e!==null);yt===0&&(yt=5)}function mi(t,e,n){var r=je,i=Ln.transition;try{Ln.transition=null,je=1,_2(t,e,n,r)}finally{Ln.transition=i,je=r}return null}function _2(t,e,n,r){do wo();while(Or!==null);if(Oe&6)throw Error(J(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(J(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(Jw(t,o),t===Ct&&(gt=Ct=null,Rt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Xa||(Xa=!0,J0(xl,function(){return wo(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Ln.transition,Ln.transition=null;var s=je;je=1;var a=Oe;Oe|=4,ed.current=null,d2(t,n),H0(n,t),UT(vh),Rl=!!mh,vh=mh=null,t.current=n,p2(n),Hw(),Oe=a,je=s,Ln.transition=o}else t.current=n;if(Xa&&(Xa=!1,Or=t,ql=i),o=t.pendingLanes,o===0&&(Hr=null),qw(n.stateNode),an(t,ht()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Gl)throw Gl=!1,t=Vh,Vh=null,t;return ql&1&&t.tag!==0&&wo(),o=t.pendingLanes,o&1?t===Fh?Ds++:(Ds=0,Fh=t):Ds=0,oi(),null}function wo(){if(Or!==null){var t=Py(ql),e=Ln.transition,n=je;try{if(Ln.transition=null,je=16>t?16:t,Or===null)var r=!1;else{if(t=Or,Or=null,ql=0,Oe&6)throw Error(J(331));var i=Oe;for(Oe|=4,re=t.current;re!==null;){var o=re,s=o.child;if(re.flags&16){var a=o.deletions;if(a!==null){for(var u=0;u<a.length;u++){var c=a[u];for(re=c;re!==null;){var h=re;switch(h.tag){case 0:case 11:case 15:Ms(8,h,o)}var f=h.child;if(f!==null)f.return=h,re=f;else for(;re!==null;){h=re;var d=h.sibling,g=h.return;if(z0(h),h===c){re=null;break}if(d!==null){d.return=g,re=d;break}re=g}}}var _=o.alternate;if(_!==null){var S=_.child;if(S!==null){_.child=null;do{var P=S.sibling;S.sibling=null,S=P}while(S!==null)}}re=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,re=s;else e:for(;re!==null;){if(o=re,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Ms(9,o,o.return)}var w=o.sibling;if(w!==null){w.return=o.return,re=w;break e}re=o.return}}var I=t.current;for(re=I;re!==null;){s=re;var L=s.child;if(s.subtreeFlags&2064&&L!==null)L.return=s,re=L;else e:for(s=I;re!==null;){if(a=re,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Su(9,a)}}catch(O){st(a,a.return,O)}if(a===s){re=null;break e}var b=a.sibling;if(b!==null){b.return=a.return,re=b;break e}re=a.return}}if(Oe=i,oi(),Zn&&typeof Zn.onPostCommitFiberRoot=="function")try{Zn.onPostCommitFiberRoot(mu,t)}catch{}r=!0}return r}finally{je=n,Ln.transition=e}}return!1}function Bg(t,e,n){e=xo(n,e),e=P0(t,e,1),t=$r(t,e,1),e=Zt(),t!==null&&(da(t,1,e),an(t,e))}function st(t,e,n){if(t.tag===3)Bg(t,t,n);else for(;e!==null;){if(e.tag===3){Bg(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Hr===null||!Hr.has(r))){t=xo(n,t),t=R0(e,t,1),e=$r(e,t,1),t=Zt(),e!==null&&(da(e,1,t),an(e,t));break}}e=e.return}}function E2(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Zt(),t.pingedLanes|=t.suspendedLanes&n,Ct===t&&(Rt&n)===n&&(yt===4||yt===3&&(Rt&130023424)===Rt&&500>ht()-nd?Si(t,0):td|=n),an(t,e)}function X0(t,e){e===0&&(t.mode&1?(e=za,za<<=1,!(za&130023424)&&(za=4194304)):e=1);var n=Zt();t=pr(t,e),t!==null&&(da(t,e,n),an(t,n))}function w2(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),X0(t,n)}function T2(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(J(314))}r!==null&&r.delete(e),X0(t,n)}var Y0;Y0=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||on.current)rn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return rn=!1,u2(t,e,n);rn=!!(t.flags&131072)}else rn=!1,Ye&&e.flags&1048576&&n0(e,Fl,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;ml(t,e),t=e.pendingProps;var i=Io(e,Gt.current);Eo(e,n),i=Qf(null,e,r,t,i,n);var o=Zf();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,sn(r)?(o=!0,Ol(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Hf(e),i.updater=Cu,e.stateNode=i,i._reactInternals=e,Lh(e,r,t,n),e=xh(null,e,r,!0,o,n)):(e.tag=0,Ye&&o&&Vf(e),Qt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(ml(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=S2(r),t=Nn(r,t),i){case 0:e=Ah(null,e,r,t,n);break e;case 1:e=Pg(null,e,r,t,n);break e;case 11:e=Ag(null,e,r,t,n);break e;case 14:e=xg(null,e,r,Nn(r.type,t),n);break e}throw Error(J(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Nn(r,i),Ah(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Nn(r,i),Pg(t,e,r,i,n);case 3:e:{if(N0(e),t===null)throw Error(J(387));r=e.pendingProps,o=e.memoizedState,i=o.element,l0(t,e),zl(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=xo(Error(J(423)),e),e=Rg(t,e,r,n,i);break e}else if(r!==i){i=xo(Error(J(424)),e),e=Rg(t,e,r,n,i);break e}else for(gn=jr(e.stateNode.containerInfo.firstChild),yn=e,Ye=!0,Vn=null,n=s0(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Lo(),r===i){e=gr(t,e,n);break e}Qt(t,e,r,n)}e=e.child}return e;case 5:return u0(e),t===null&&Ch(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,yh(r,i)?s=null:o!==null&&yh(r,o)&&(e.flags|=32),D0(t,e),Qt(t,e,s,n),e.child;case 6:return t===null&&Ch(e),null;case 13:return O0(t,e,n);case 4:return Wf(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ko(e,null,r,n):Qt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Nn(r,i),Ag(t,e,r,i,n);case 7:return Qt(t,e,e.pendingProps,n),e.child;case 8:return Qt(t,e,e.pendingProps.children,n),e.child;case 12:return Qt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,Ke(Ul,r._currentValue),r._currentValue=s,o!==null)if(Bn(o.value,s)){if(o.children===i.children&&!on.current){e=gr(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var u=a.firstContext;u!==null;){if(u.context===r){if(o.tag===1){u=hr(-1,n&-n),u.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var h=c.pending;h===null?u.next=u:(u.next=h.next,h.next=u),c.pending=u}}o.lanes|=n,u=o.alternate,u!==null&&(u.lanes|=n),Sh(o.return,n,e),a.lanes|=n;break}u=u.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(J(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),Sh(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}Qt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Eo(e,n),i=An(i),r=r(i),e.flags|=1,Qt(t,e,r,n),e.child;case 14:return r=e.type,i=Nn(r,e.pendingProps),i=Nn(r.type,i),xg(t,e,r,i,n);case 15:return M0(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Nn(r,i),ml(t,e),e.tag=1,sn(r)?(t=!0,Ol(e)):t=!1,Eo(e,n),x0(e,r,i),Lh(e,r,i,n),xh(null,e,r,!0,t,n);case 19:return V0(t,e,n);case 22:return b0(t,e,n)}throw Error(J(156,e.tag))};function J0(t,e){return Ly(t,e)}function C2(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function In(t,e,n,r){return new C2(t,e,n,r)}function sd(t){return t=t.prototype,!(!t||!t.isReactComponent)}function S2(t){if(typeof t=="function")return sd(t)?1:0;if(t!=null){if(t=t.$$typeof,t===If)return 11;if(t===Lf)return 14}return 2}function Gr(t,e){var n=t.alternate;return n===null?(n=In(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function _l(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")sd(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case ro:return Ii(n.children,i,o,e);case Sf:s=8,i|=8;break;case Zc:return t=In(12,n,e,i|2),t.elementType=Zc,t.lanes=o,t;case Xc:return t=In(13,n,e,i),t.elementType=Xc,t.lanes=o,t;case Yc:return t=In(19,n,e,i),t.elementType=Yc,t.lanes=o,t;case uy:return Lu(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ay:s=10;break e;case ly:s=9;break e;case If:s=11;break e;case Lf:s=14;break e;case xr:s=16,r=null;break e}throw Error(J(130,t==null?t:typeof t,""))}return e=In(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function Ii(t,e,n,r){return t=In(7,t,r,e),t.lanes=n,t}function Lu(t,e,n,r){return t=In(22,t,r,e),t.elementType=uy,t.lanes=n,t.stateNode={isHidden:!1},t}function Rc(t,e,n){return t=In(6,t,null,e),t.lanes=n,t}function Mc(t,e,n){return e=In(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function I2(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=fc(0),this.expirationTimes=fc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fc(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function ad(t,e,n,r,i,o,s,a,u){return t=new I2(t,e,n,a,u),e===1?(e=1,o===!0&&(e|=8)):e=0,o=In(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Hf(o),t}function L2(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:no,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function e1(t){if(!t)return Jr;t=t._reactInternals;e:{if(Fi(t)!==t||t.tag!==1)throw Error(J(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(sn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(J(171))}if(t.tag===1){var n=t.type;if(sn(n))return e0(t,n,e)}return e}function t1(t,e,n,r,i,o,s,a,u){return t=ad(n,r,!0,t,i,o,s,a,u),t.context=e1(null),n=t.current,r=Zt(),i=Wr(n),o=hr(r,i),o.callback=e??null,$r(n,o,i),t.current.lanes=i,da(t,i,r),an(t,r),t}function ku(t,e,n,r){var i=e.current,o=Zt(),s=Wr(i);return n=e1(n),e.context===null?e.context=n:e.pendingContext=n,e=hr(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=$r(i,e,s),t!==null&&(Un(t,i,s,o),dl(t,i,s)),s}function Ql(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function zg(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function ld(t,e){zg(t,e),(t=t.alternate)&&zg(t,e)}function k2(){return null}var n1=typeof reportError=="function"?reportError:function(t){console.error(t)};function ud(t){this._internalRoot=t}Au.prototype.render=ud.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(J(409));ku(t,e,null,null)};Au.prototype.unmount=ud.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Mi(function(){ku(null,t,null,null)}),e[dr]=null}};function Au(t){this._internalRoot=t}Au.prototype.unstable_scheduleHydration=function(t){if(t){var e=by();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Mr.length&&e!==0&&e<Mr[n].priority;n++);Mr.splice(n,0,t),n===0&&Ny(t)}};function cd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function xu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function jg(){}function A2(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var c=Ql(s);o.call(c)}}var s=t1(e,r,t,0,null,!1,!1,"",jg);return t._reactRootContainer=s,t[dr]=s.current,Qs(t.nodeType===8?t.parentNode:t),Mi(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=Ql(u);a.call(c)}}var u=ad(t,0,!1,null,null,!1,!1,"",jg);return t._reactRootContainer=u,t[dr]=u.current,Qs(t.nodeType===8?t.parentNode:t),Mi(function(){ku(e,u,n,r)}),u}function Pu(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var u=Ql(s);a.call(u)}}ku(e,s,t,i)}else s=A2(n,e,t,i,r);return Ql(s)}Ry=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ws(e.pendingLanes);n!==0&&(xf(e,n|1),an(e,ht()),!(Oe&6)&&(Po=ht()+500,oi()))}break;case 13:Mi(function(){var r=pr(t,1);if(r!==null){var i=Zt();Un(r,t,1,i)}}),ld(t,1)}};Pf=function(t){if(t.tag===13){var e=pr(t,134217728);if(e!==null){var n=Zt();Un(e,t,134217728,n)}ld(t,134217728)}};My=function(t){if(t.tag===13){var e=Wr(t),n=pr(t,e);if(n!==null){var r=Zt();Un(n,t,e,r)}ld(t,e)}};by=function(){return je};Dy=function(t,e){var n=je;try{return je=t,e()}finally{je=n}};lh=function(t,e,n){switch(e){case"input":if(th(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Eu(r);if(!i)throw Error(J(90));hy(r),th(r,i)}}}break;case"textarea":dy(t,n);break;case"select":e=n.value,e!=null&&mo(t,!!n.multiple,e,!1)}};Ey=rd;wy=Mi;var x2={usingClientEntryPoint:!1,Events:[ga,ao,Eu,yy,_y,rd]},ds={findFiberByHostInstance:yi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},P2={bundleType:ds.bundleType,version:ds.version,rendererPackageName:ds.rendererPackageName,rendererConfig:ds.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_r.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Sy(t),t===null?null:t.stateNode},findFiberByHostInstance:ds.findFiberByHostInstance||k2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ya=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ya.isDisabled&&Ya.supportsFiber)try{mu=Ya.inject(P2),Zn=Ya}catch{}}En.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=x2;En.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!cd(e))throw Error(J(200));return L2(t,e,null,n)};En.createRoot=function(t,e){if(!cd(t))throw Error(J(299));var n=!1,r="",i=n1;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=ad(t,1,!1,null,null,n,!1,r,i),t[dr]=e.current,Qs(t.nodeType===8?t.parentNode:t),new ud(e)};En.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(J(188)):(t=Object.keys(t).join(","),Error(J(268,t)));return t=Sy(e),t=t===null?null:t.stateNode,t};En.flushSync=function(t){return Mi(t)};En.hydrate=function(t,e,n){if(!xu(e))throw Error(J(200));return Pu(null,t,e,!0,n)};En.hydrateRoot=function(t,e,n){if(!cd(t))throw Error(J(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=n1;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=t1(e,null,t,1,n??null,i,!1,o,s),t[dr]=e.current,Qs(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Au(e)};En.render=function(t,e,n){if(!xu(e))throw Error(J(200));return Pu(null,t,e,!1,n)};En.unmountComponentAtNode=function(t){if(!xu(t))throw Error(J(40));return t._reactRootContainer?(Mi(function(){Pu(null,null,t,!1,function(){t._reactRootContainer=null,t[dr]=null})}),!0):!1};En.unstable_batchedUpdates=rd;En.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!xu(n))throw Error(J(200));if(t==null||t._reactInternals===void 0)throw Error(J(38));return Pu(t,e,n,!1,r)};En.version="18.3.1-next-f1338f8080-20240426";function r1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r1)}catch(t){console.error(t)}}r1(),ry.exports=En;var Ui=ry.exports,$g=Ui;Kc.createRoot=$g.createRoot,Kc.hydrateRoot=$g.hydrateRoot;var Hg={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i1=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},R2=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],a=t[n++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},o1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,h=o>>2,f=(o&3)<<4|a>>4;let d=(a&15)<<2|c>>6,g=c&63;u||(g=64,s||(d=64)),r.push(n[h],n[f],n[d],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(i1(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):R2(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||c==null||f==null)throw new M2;const d=o<<2|a>>4;if(r.push(d),c!==64){const g=a<<4&240|c>>2;if(r.push(g),f!==64){const _=c<<6&192|f;r.push(_)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class M2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const b2=function(t){const e=i1(t);return o1.encodeByteArray(e,!0)},Zl=function(t){return b2(t).replace(/\./g,"")},D2=function(t){try{return o1.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O2=()=>N2().__FIREBASE_DEFAULTS__,V2=()=>{if(typeof process>"u"||typeof Hg>"u")return;const t=Hg.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},F2=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&D2(t[1]);return e&&JSON.parse(e)},hd=()=>{try{return O2()||V2()||F2()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},U2=t=>{var e,n;return(n=(e=hd())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},s1=t=>{const e=U2(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},a1=()=>{var t;return(t=hd())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l1(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Zl(JSON.stringify(n)),Zl(JSON.stringify(s)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z2(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function j2(){var t;const e=(t=hd())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function $2(){return!j2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function H2(){try{return typeof indexedDB=="object"}catch{return!1}}function W2(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G2="FirebaseError";class Bi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=G2,Object.setPrototypeOf(this,Bi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,u1.prototype.create)}}class u1{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?q2(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Bi(i,a,r)}}function q2(t,e){return t.replace(K2,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const K2=/\{\$([^}]+)}/g;function zh(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(Wg(o)&&Wg(s)){if(!zh(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Wg(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pn(t){return t&&t._delegate?t._delegate:t}class Ro{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q2{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new B2;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(X2(e))try{this.getOrInitializeService({instanceIdentifier:vi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=vi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=vi){return this.instances.has(e)}getOptions(e=vi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Z2(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=vi){return this.component?this.component.multipleInstances?e:vi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Z2(t){return t===vi?void 0:t}function X2(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Q2(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ne;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ne||(Ne={}));const J2={debug:Ne.DEBUG,verbose:Ne.VERBOSE,info:Ne.INFO,warn:Ne.WARN,error:Ne.ERROR,silent:Ne.SILENT},eC=Ne.INFO,tC={[Ne.DEBUG]:"log",[Ne.VERBOSE]:"log",[Ne.INFO]:"info",[Ne.WARN]:"warn",[Ne.ERROR]:"error"},nC=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=tC[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class c1{constructor(e){this.name=e,this._logLevel=eC,this._logHandler=nC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ne))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?J2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ne.DEBUG,...e),this._logHandler(this,Ne.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ne.VERBOSE,...e),this._logHandler(this,Ne.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ne.INFO,...e),this._logHandler(this,Ne.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ne.WARN,...e),this._logHandler(this,Ne.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ne.ERROR,...e),this._logHandler(this,Ne.ERROR,...e)}}const rC=(t,e)=>e.some(n=>t instanceof n);let Gg,qg;function iC(){return Gg||(Gg=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function oC(){return qg||(qg=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const h1=new WeakMap,jh=new WeakMap,f1=new WeakMap,bc=new WeakMap,fd=new WeakMap;function sC(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(qr(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&h1.set(n,t)}).catch(()=>{}),fd.set(e,t),e}function aC(t){if(jh.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});jh.set(t,e)}let $h={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return jh.get(t);if(e==="objectStoreNames")return t.objectStoreNames||f1.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return qr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function lC(t){$h=t($h)}function uC(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Dc(this),e,...n);return f1.set(r,e.sort?e.sort():[e]),qr(r)}:oC().includes(t)?function(...e){return t.apply(Dc(this),e),qr(h1.get(this))}:function(...e){return qr(t.apply(Dc(this),e))}}function cC(t){return typeof t=="function"?uC(t):(t instanceof IDBTransaction&&aC(t),rC(t,iC())?new Proxy(t,$h):t)}function qr(t){if(t instanceof IDBRequest)return sC(t);if(bc.has(t))return bc.get(t);const e=cC(t);return e!==t&&(bc.set(t,e),fd.set(e,t)),e}const Dc=t=>fd.get(t);function hC(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=qr(s);return r&&s.addEventListener("upgradeneeded",u=>{r(qr(s.result),u.oldVersion,u.newVersion,qr(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const fC=["get","getKey","getAll","getAllKeys","count"],dC=["put","add","delete","clear"],Nc=new Map;function Kg(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Nc.get(e))return Nc.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=dC.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||fC.includes(n)))return;const o=async function(s,...a){const u=this.transaction(s,i?"readwrite":"readonly");let c=u.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&u.done]))[0]};return Nc.set(e,o),o}lC(t=>({...t,get:(e,n,r)=>Kg(e,n)||t.get(e,n,r),has:(e,n)=>!!Kg(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(gC(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function gC(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Hh="@firebase/app",Qg="0.10.9";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mr=new c1("@firebase/app"),mC="@firebase/app-compat",vC="@firebase/analytics-compat",yC="@firebase/analytics",_C="@firebase/app-check-compat",EC="@firebase/app-check",wC="@firebase/auth",TC="@firebase/auth-compat",CC="@firebase/database",SC="@firebase/database-compat",IC="@firebase/functions",LC="@firebase/functions-compat",kC="@firebase/installations",AC="@firebase/installations-compat",xC="@firebase/messaging",PC="@firebase/messaging-compat",RC="@firebase/performance",MC="@firebase/performance-compat",bC="@firebase/remote-config",DC="@firebase/remote-config-compat",NC="@firebase/storage",OC="@firebase/storage-compat",VC="@firebase/firestore",FC="@firebase/vertexai-preview",UC="@firebase/firestore-compat",BC="firebase",zC="10.13.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wh="[DEFAULT]",jC={[Hh]:"fire-core",[mC]:"fire-core-compat",[yC]:"fire-analytics",[vC]:"fire-analytics-compat",[EC]:"fire-app-check",[_C]:"fire-app-check-compat",[wC]:"fire-auth",[TC]:"fire-auth-compat",[CC]:"fire-rtdb",[SC]:"fire-rtdb-compat",[IC]:"fire-fn",[LC]:"fire-fn-compat",[kC]:"fire-iid",[AC]:"fire-iid-compat",[xC]:"fire-fcm",[PC]:"fire-fcm-compat",[RC]:"fire-perf",[MC]:"fire-perf-compat",[bC]:"fire-rc",[DC]:"fire-rc-compat",[NC]:"fire-gcs",[OC]:"fire-gcs-compat",[VC]:"fire-fst",[UC]:"fire-fst-compat",[FC]:"fire-vertex","fire-js":"fire-js",[BC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xl=new Map,$C=new Map,Gh=new Map;function Zg(t,e){try{t.container.addComponent(e)}catch(n){mr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ia(t){const e=t.name;if(Gh.has(e))return mr.debug(`There were multiple attempts to register component ${e}.`),!1;Gh.set(e,t);for(const n of Xl.values())Zg(n,t);for(const n of $C.values())Zg(n,t);return!0}function d1(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Kr=new u1("app","Firebase",HC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ro("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Kr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p1=zC;function g1(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Wh,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Kr.create("bad-app-name",{appName:String(i)});if(n||(n=a1()),!n)throw Kr.create("no-options");const o=Xl.get(i);if(o){if(zh(n,o.options)&&zh(r,o.config))return o;throw Kr.create("duplicate-app",{appName:i})}const s=new Y2(i);for(const u of Gh.values())s.addComponent(u);const a=new WC(n,r,s);return Xl.set(i,a),a}function m1(t=Wh){const e=Xl.get(t);if(!e&&t===Wh&&a1())return g1();if(!e)throw Kr.create("no-app",{appName:t});return e}function Qr(t,e,n){var r;let i=(r=jC[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),mr.warn(a.join(" "));return}ia(new Ro(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GC="firebase-heartbeat-database",qC=1,oa="firebase-heartbeat-store";let Oc=null;function v1(){return Oc||(Oc=hC(GC,qC,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(oa)}catch(n){console.warn(n)}}}}).catch(t=>{throw Kr.create("idb-open",{originalErrorMessage:t.message})})),Oc}async function KC(t){try{const n=(await v1()).transaction(oa),r=await n.objectStore(oa).get(y1(t));return await n.done,r}catch(e){if(e instanceof Bi)mr.warn(e.message);else{const n=Kr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});mr.warn(n.message)}}}async function Xg(t,e){try{const r=(await v1()).transaction(oa,"readwrite");await r.objectStore(oa).put(e,y1(t)),await r.done}catch(n){if(n instanceof Bi)mr.warn(n.message);else{const r=Kr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});mr.warn(r.message)}}}function y1(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QC=1024,ZC=30*24*60*60*1e3;class XC{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new JC(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n,r;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Yg();return console.log("heartbeats",(e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats),((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{const u=new Date(a.date).valueOf();return Date.now()-u<=ZC}),this._storage.overwrite(this._heartbeatsCache))}catch(i){mr.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Yg(),{heartbeatsToSend:r,unsentEntries:i}=YC(this._heartbeatsCache.heartbeats),o=Zl(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return mr.warn(n),""}}}function Yg(){return new Date().toISOString().substring(0,10)}function YC(t,e=QC){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),Jg(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Jg(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class JC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return H2()?W2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await KC(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Xg(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Xg(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Jg(t){return Zl(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eS(t){ia(new Ro("platform-logger",e=>new pC(e),"PRIVATE")),ia(new Ro("heartbeat",e=>new XC(e),"PRIVATE")),Qr(Hh,Qg,t),Qr(Hh,Qg,"esm2017"),Qr("fire-js","")}eS("");var tS="firebase",nS="10.13.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Qr(tS,nS,"app");var em=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Li,_1;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(T,p){function v(){}v.prototype=p.prototype,T.D=p.prototype,T.prototype=new v,T.prototype.constructor=T,T.C=function(E,A,R){for(var k=Array(arguments.length-2),V=2;V<arguments.length;V++)k[V-2]=arguments[V];return p.prototype[A].apply(E,k)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(T,p,v){v||(v=0);var E=Array(16);if(typeof p=="string")for(var A=0;16>A;++A)E[A]=p.charCodeAt(v++)|p.charCodeAt(v++)<<8|p.charCodeAt(v++)<<16|p.charCodeAt(v++)<<24;else for(A=0;16>A;++A)E[A]=p[v++]|p[v++]<<8|p[v++]<<16|p[v++]<<24;p=T.g[0],v=T.g[1],A=T.g[2];var R=T.g[3],k=p+(R^v&(A^R))+E[0]+3614090360&4294967295;p=v+(k<<7&4294967295|k>>>25),k=R+(A^p&(v^A))+E[1]+3905402710&4294967295,R=p+(k<<12&4294967295|k>>>20),k=A+(v^R&(p^v))+E[2]+606105819&4294967295,A=R+(k<<17&4294967295|k>>>15),k=v+(p^A&(R^p))+E[3]+3250441966&4294967295,v=A+(k<<22&4294967295|k>>>10),k=p+(R^v&(A^R))+E[4]+4118548399&4294967295,p=v+(k<<7&4294967295|k>>>25),k=R+(A^p&(v^A))+E[5]+1200080426&4294967295,R=p+(k<<12&4294967295|k>>>20),k=A+(v^R&(p^v))+E[6]+2821735955&4294967295,A=R+(k<<17&4294967295|k>>>15),k=v+(p^A&(R^p))+E[7]+4249261313&4294967295,v=A+(k<<22&4294967295|k>>>10),k=p+(R^v&(A^R))+E[8]+1770035416&4294967295,p=v+(k<<7&4294967295|k>>>25),k=R+(A^p&(v^A))+E[9]+2336552879&4294967295,R=p+(k<<12&4294967295|k>>>20),k=A+(v^R&(p^v))+E[10]+4294925233&4294967295,A=R+(k<<17&4294967295|k>>>15),k=v+(p^A&(R^p))+E[11]+2304563134&4294967295,v=A+(k<<22&4294967295|k>>>10),k=p+(R^v&(A^R))+E[12]+1804603682&4294967295,p=v+(k<<7&4294967295|k>>>25),k=R+(A^p&(v^A))+E[13]+4254626195&4294967295,R=p+(k<<12&4294967295|k>>>20),k=A+(v^R&(p^v))+E[14]+2792965006&4294967295,A=R+(k<<17&4294967295|k>>>15),k=v+(p^A&(R^p))+E[15]+1236535329&4294967295,v=A+(k<<22&4294967295|k>>>10),k=p+(A^R&(v^A))+E[1]+4129170786&4294967295,p=v+(k<<5&4294967295|k>>>27),k=R+(v^A&(p^v))+E[6]+3225465664&4294967295,R=p+(k<<9&4294967295|k>>>23),k=A+(p^v&(R^p))+E[11]+643717713&4294967295,A=R+(k<<14&4294967295|k>>>18),k=v+(R^p&(A^R))+E[0]+3921069994&4294967295,v=A+(k<<20&4294967295|k>>>12),k=p+(A^R&(v^A))+E[5]+3593408605&4294967295,p=v+(k<<5&4294967295|k>>>27),k=R+(v^A&(p^v))+E[10]+38016083&4294967295,R=p+(k<<9&4294967295|k>>>23),k=A+(p^v&(R^p))+E[15]+3634488961&4294967295,A=R+(k<<14&4294967295|k>>>18),k=v+(R^p&(A^R))+E[4]+3889429448&4294967295,v=A+(k<<20&4294967295|k>>>12),k=p+(A^R&(v^A))+E[9]+568446438&4294967295,p=v+(k<<5&4294967295|k>>>27),k=R+(v^A&(p^v))+E[14]+3275163606&4294967295,R=p+(k<<9&4294967295|k>>>23),k=A+(p^v&(R^p))+E[3]+4107603335&4294967295,A=R+(k<<14&4294967295|k>>>18),k=v+(R^p&(A^R))+E[8]+1163531501&4294967295,v=A+(k<<20&4294967295|k>>>12),k=p+(A^R&(v^A))+E[13]+2850285829&4294967295,p=v+(k<<5&4294967295|k>>>27),k=R+(v^A&(p^v))+E[2]+4243563512&4294967295,R=p+(k<<9&4294967295|k>>>23),k=A+(p^v&(R^p))+E[7]+1735328473&4294967295,A=R+(k<<14&4294967295|k>>>18),k=v+(R^p&(A^R))+E[12]+2368359562&4294967295,v=A+(k<<20&4294967295|k>>>12),k=p+(v^A^R)+E[5]+4294588738&4294967295,p=v+(k<<4&4294967295|k>>>28),k=R+(p^v^A)+E[8]+2272392833&4294967295,R=p+(k<<11&4294967295|k>>>21),k=A+(R^p^v)+E[11]+1839030562&4294967295,A=R+(k<<16&4294967295|k>>>16),k=v+(A^R^p)+E[14]+4259657740&4294967295,v=A+(k<<23&4294967295|k>>>9),k=p+(v^A^R)+E[1]+2763975236&4294967295,p=v+(k<<4&4294967295|k>>>28),k=R+(p^v^A)+E[4]+1272893353&4294967295,R=p+(k<<11&4294967295|k>>>21),k=A+(R^p^v)+E[7]+4139469664&4294967295,A=R+(k<<16&4294967295|k>>>16),k=v+(A^R^p)+E[10]+3200236656&4294967295,v=A+(k<<23&4294967295|k>>>9),k=p+(v^A^R)+E[13]+681279174&4294967295,p=v+(k<<4&4294967295|k>>>28),k=R+(p^v^A)+E[0]+3936430074&4294967295,R=p+(k<<11&4294967295|k>>>21),k=A+(R^p^v)+E[3]+3572445317&4294967295,A=R+(k<<16&4294967295|k>>>16),k=v+(A^R^p)+E[6]+76029189&4294967295,v=A+(k<<23&4294967295|k>>>9),k=p+(v^A^R)+E[9]+3654602809&4294967295,p=v+(k<<4&4294967295|k>>>28),k=R+(p^v^A)+E[12]+3873151461&4294967295,R=p+(k<<11&4294967295|k>>>21),k=A+(R^p^v)+E[15]+530742520&4294967295,A=R+(k<<16&4294967295|k>>>16),k=v+(A^R^p)+E[2]+3299628645&4294967295,v=A+(k<<23&4294967295|k>>>9),k=p+(A^(v|~R))+E[0]+4096336452&4294967295,p=v+(k<<6&4294967295|k>>>26),k=R+(v^(p|~A))+E[7]+1126891415&4294967295,R=p+(k<<10&4294967295|k>>>22),k=A+(p^(R|~v))+E[14]+2878612391&4294967295,A=R+(k<<15&4294967295|k>>>17),k=v+(R^(A|~p))+E[5]+4237533241&4294967295,v=A+(k<<21&4294967295|k>>>11),k=p+(A^(v|~R))+E[12]+1700485571&4294967295,p=v+(k<<6&4294967295|k>>>26),k=R+(v^(p|~A))+E[3]+2399980690&4294967295,R=p+(k<<10&4294967295|k>>>22),k=A+(p^(R|~v))+E[10]+4293915773&4294967295,A=R+(k<<15&4294967295|k>>>17),k=v+(R^(A|~p))+E[1]+2240044497&4294967295,v=A+(k<<21&4294967295|k>>>11),k=p+(A^(v|~R))+E[8]+1873313359&4294967295,p=v+(k<<6&4294967295|k>>>26),k=R+(v^(p|~A))+E[15]+4264355552&4294967295,R=p+(k<<10&4294967295|k>>>22),k=A+(p^(R|~v))+E[6]+2734768916&4294967295,A=R+(k<<15&4294967295|k>>>17),k=v+(R^(A|~p))+E[13]+1309151649&4294967295,v=A+(k<<21&4294967295|k>>>11),k=p+(A^(v|~R))+E[4]+4149444226&4294967295,p=v+(k<<6&4294967295|k>>>26),k=R+(v^(p|~A))+E[11]+3174756917&4294967295,R=p+(k<<10&4294967295|k>>>22),k=A+(p^(R|~v))+E[2]+718787259&4294967295,A=R+(k<<15&4294967295|k>>>17),k=v+(R^(A|~p))+E[9]+3951481745&4294967295,T.g[0]=T.g[0]+p&4294967295,T.g[1]=T.g[1]+(A+(k<<21&4294967295|k>>>11))&4294967295,T.g[2]=T.g[2]+A&4294967295,T.g[3]=T.g[3]+R&4294967295}r.prototype.u=function(T,p){p===void 0&&(p=T.length);for(var v=p-this.blockSize,E=this.B,A=this.h,R=0;R<p;){if(A==0)for(;R<=v;)i(this,T,R),R+=this.blockSize;if(typeof T=="string"){for(;R<p;)if(E[A++]=T.charCodeAt(R++),A==this.blockSize){i(this,E),A=0;break}}else for(;R<p;)if(E[A++]=T[R++],A==this.blockSize){i(this,E),A=0;break}}this.h=A,this.o+=p},r.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var p=1;p<T.length-8;++p)T[p]=0;var v=8*this.o;for(p=T.length-8;p<T.length;++p)T[p]=v&255,v/=256;for(this.u(T),T=Array(16),p=v=0;4>p;++p)for(var E=0;32>E;E+=8)T[v++]=this.g[p]>>>E&255;return T};function o(T,p){var v=a;return Object.prototype.hasOwnProperty.call(v,T)?v[T]:v[T]=p(T)}function s(T,p){this.h=p;for(var v=[],E=!0,A=T.length-1;0<=A;A--){var R=T[A]|0;E&&R==p||(v[A]=R,E=!1)}this.g=v}var a={};function u(T){return-128<=T&&128>T?o(T,function(p){return new s([p|0],0>p?-1:0)}):new s([T|0],0>T?-1:0)}function c(T){if(isNaN(T)||!isFinite(T))return f;if(0>T)return P(c(-T));for(var p=[],v=1,E=0;T>=v;E++)p[E]=T/v|0,v*=4294967296;return new s(p,0)}function h(T,p){if(T.length==0)throw Error("number format error: empty string");if(p=p||10,2>p||36<p)throw Error("radix out of range: "+p);if(T.charAt(0)=="-")return P(h(T.substring(1),p));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var v=c(Math.pow(p,8)),E=f,A=0;A<T.length;A+=8){var R=Math.min(8,T.length-A),k=parseInt(T.substring(A,A+R),p);8>R?(R=c(Math.pow(p,R)),E=E.j(R).add(c(k))):(E=E.j(v),E=E.add(c(k)))}return E}var f=u(0),d=u(1),g=u(16777216);t=s.prototype,t.m=function(){if(S(this))return-P(this).m();for(var T=0,p=1,v=0;v<this.g.length;v++){var E=this.i(v);T+=(0<=E?E:4294967296+E)*p,p*=4294967296}return T},t.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(_(this))return"0";if(S(this))return"-"+P(this).toString(T);for(var p=c(Math.pow(T,6)),v=this,E="";;){var A=b(v,p).g;v=w(v,A.j(p));var R=((0<v.g.length?v.g[0]:v.h)>>>0).toString(T);if(v=A,_(v))return R+E;for(;6>R.length;)R="0"+R;E=R+E}},t.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function _(T){if(T.h!=0)return!1;for(var p=0;p<T.g.length;p++)if(T.g[p]!=0)return!1;return!0}function S(T){return T.h==-1}t.l=function(T){return T=w(this,T),S(T)?-1:_(T)?0:1};function P(T){for(var p=T.g.length,v=[],E=0;E<p;E++)v[E]=~T.g[E];return new s(v,~T.h).add(d)}t.abs=function(){return S(this)?P(this):this},t.add=function(T){for(var p=Math.max(this.g.length,T.g.length),v=[],E=0,A=0;A<=p;A++){var R=E+(this.i(A)&65535)+(T.i(A)&65535),k=(R>>>16)+(this.i(A)>>>16)+(T.i(A)>>>16);E=k>>>16,R&=65535,k&=65535,v[A]=k<<16|R}return new s(v,v[v.length-1]&-2147483648?-1:0)};function w(T,p){return T.add(P(p))}t.j=function(T){if(_(this)||_(T))return f;if(S(this))return S(T)?P(this).j(P(T)):P(P(this).j(T));if(S(T))return P(this.j(P(T)));if(0>this.l(g)&&0>T.l(g))return c(this.m()*T.m());for(var p=this.g.length+T.g.length,v=[],E=0;E<2*p;E++)v[E]=0;for(E=0;E<this.g.length;E++)for(var A=0;A<T.g.length;A++){var R=this.i(E)>>>16,k=this.i(E)&65535,V=T.i(A)>>>16,z=T.i(A)&65535;v[2*E+2*A]+=k*z,I(v,2*E+2*A),v[2*E+2*A+1]+=R*z,I(v,2*E+2*A+1),v[2*E+2*A+1]+=k*V,I(v,2*E+2*A+1),v[2*E+2*A+2]+=R*V,I(v,2*E+2*A+2)}for(E=0;E<p;E++)v[E]=v[2*E+1]<<16|v[2*E];for(E=p;E<2*p;E++)v[E]=0;return new s(v,0)};function I(T,p){for(;(T[p]&65535)!=T[p];)T[p+1]+=T[p]>>>16,T[p]&=65535,p++}function L(T,p){this.g=T,this.h=p}function b(T,p){if(_(p))throw Error("division by zero");if(_(T))return new L(f,f);if(S(T))return p=b(P(T),p),new L(P(p.g),P(p.h));if(S(p))return p=b(T,P(p)),new L(P(p.g),p.h);if(30<T.g.length){if(S(T)||S(p))throw Error("slowDivide_ only works with positive integers.");for(var v=d,E=p;0>=E.l(T);)v=O(v),E=O(E);var A=x(v,1),R=x(E,1);for(E=x(E,2),v=x(v,2);!_(E);){var k=R.add(E);0>=k.l(T)&&(A=A.add(v),R=k),E=x(E,1),v=x(v,1)}return p=w(T,A.j(p)),new L(A,p)}for(A=f;0<=T.l(p);){for(v=Math.max(1,Math.floor(T.m()/p.m())),E=Math.ceil(Math.log(v)/Math.LN2),E=48>=E?1:Math.pow(2,E-48),R=c(v),k=R.j(p);S(k)||0<k.l(T);)v-=E,R=c(v),k=R.j(p);_(R)&&(R=d),A=A.add(R),T=w(T,k)}return new L(A,T)}t.A=function(T){return b(this,T).h},t.and=function(T){for(var p=Math.max(this.g.length,T.g.length),v=[],E=0;E<p;E++)v[E]=this.i(E)&T.i(E);return new s(v,this.h&T.h)},t.or=function(T){for(var p=Math.max(this.g.length,T.g.length),v=[],E=0;E<p;E++)v[E]=this.i(E)|T.i(E);return new s(v,this.h|T.h)},t.xor=function(T){for(var p=Math.max(this.g.length,T.g.length),v=[],E=0;E<p;E++)v[E]=this.i(E)^T.i(E);return new s(v,this.h^T.h)};function O(T){for(var p=T.g.length+1,v=[],E=0;E<p;E++)v[E]=T.i(E)<<1|T.i(E-1)>>>31;return new s(v,T.h)}function x(T,p){var v=p>>5;p%=32;for(var E=T.g.length-v,A=[],R=0;R<E;R++)A[R]=0<p?T.i(R+v)>>>p|T.i(R+v+1)<<32-p:T.i(R+v);return new s(A,T.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,_1=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=c,s.fromString=h,Li=s}).apply(typeof em<"u"?em:typeof self<"u"?self:typeof window<"u"?window:{});var Ja=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var E1,w1,Cs,T1,El,qh,C1,S1,I1;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,m,C){return l==Array.prototype||l==Object.prototype||(l[m]=C.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ja=="object"&&Ja];for(var m=0;m<l.length;++m){var C=l[m];if(C&&C.Math==Math)return C}throw Error("Cannot find global object")}var r=n(this);function i(l,m){if(m)e:{var C=r;l=l.split(".");for(var D=0;D<l.length-1;D++){var $=l[D];if(!($ in C))break e;C=C[$]}l=l[l.length-1],D=C[l],m=m(D),m!=D&&m!=null&&e(C,l,{configurable:!0,writable:!0,value:m})}}function o(l,m){l instanceof String&&(l+="");var C=0,D=!1,$={next:function(){if(!D&&C<l.length){var G=C++;return{value:m(G,l[G]),done:!1}}return D=!0,{done:!0,value:void 0}}};return $[Symbol.iterator]=function(){return $},$}i("Array.prototype.values",function(l){return l||function(){return o(this,function(m,C){return C})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},a=this||self;function u(l){var m=typeof l;return m=m!="object"?m:l?Array.isArray(l)?"array":m:"null",m=="array"||m=="object"&&typeof l.length=="number"}function c(l){var m=typeof l;return m=="object"&&l!=null||m=="function"}function h(l,m,C){return l.call.apply(l.bind,arguments)}function f(l,m,C){if(!l)throw Error();if(2<arguments.length){var D=Array.prototype.slice.call(arguments,2);return function(){var $=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply($,D),l.apply(m,$)}}return function(){return l.apply(m,arguments)}}function d(l,m,C){return d=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:f,d.apply(null,arguments)}function g(l,m){var C=Array.prototype.slice.call(arguments,1);return function(){var D=C.slice();return D.push.apply(D,arguments),l.apply(this,D)}}function _(l,m){function C(){}C.prototype=m.prototype,l.aa=m.prototype,l.prototype=new C,l.prototype.constructor=l,l.Qb=function(D,$,G){for(var te=Array(arguments.length-2),We=2;We<arguments.length;We++)te[We-2]=arguments[We];return m.prototype[$].apply(D,te)}}function S(l){const m=l.length;if(0<m){const C=Array(m);for(let D=0;D<m;D++)C[D]=l[D];return C}return[]}function P(l,m){for(let C=1;C<arguments.length;C++){const D=arguments[C];if(u(D)){const $=l.length||0,G=D.length||0;l.length=$+G;for(let te=0;te<G;te++)l[$+te]=D[te]}else l.push(D)}}class w{constructor(m,C){this.i=m,this.j=C,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function I(l){return/^[\s\xa0]*$/.test(l)}function L(){var l=a.navigator;return l&&(l=l.userAgent)?l:""}function b(l){return b[" "](l),l}b[" "]=function(){};var O=L().indexOf("Gecko")!=-1&&!(L().toLowerCase().indexOf("webkit")!=-1&&L().indexOf("Edge")==-1)&&!(L().indexOf("Trident")!=-1||L().indexOf("MSIE")!=-1)&&L().indexOf("Edge")==-1;function x(l,m,C){for(const D in l)m.call(C,l[D],D,l)}function T(l,m){for(const C in l)m.call(void 0,l[C],C,l)}function p(l){const m={};for(const C in l)m[C]=l[C];return m}const v="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function E(l,m){let C,D;for(let $=1;$<arguments.length;$++){D=arguments[$];for(C in D)l[C]=D[C];for(let G=0;G<v.length;G++)C=v[G],Object.prototype.hasOwnProperty.call(D,C)&&(l[C]=D[C])}}function A(l){var m=1;l=l.split(":");const C=[];for(;0<m&&l.length;)C.push(l.shift()),m--;return l.length&&C.push(l.join(":")),C}function R(l){a.setTimeout(()=>{throw l},0)}function k(){var l=F;let m=null;return l.g&&(m=l.g,l.g=l.g.next,l.g||(l.h=null),m.next=null),m}class V{constructor(){this.h=this.g=null}add(m,C){const D=z.get();D.set(m,C),this.h?this.h.next=D:this.g=D,this.h=D}}var z=new w(()=>new N,l=>l.reset());class N{constructor(){this.next=this.g=this.h=null}set(m,C){this.h=m,this.g=C,this.next=null}reset(){this.next=this.g=this.h=null}}let M,U=!1,F=new V,B=()=>{const l=a.Promise.resolve(void 0);M=()=>{l.then(Q)}};var Q=()=>{for(var l;l=k();){try{l.h.call(l.g)}catch(C){R(C)}var m=z;m.j(l),100>m.h&&(m.h++,l.next=m.g,m.g=l)}U=!1};function q(){this.s=this.s,this.C=this.C}q.prototype.s=!1,q.prototype.ma=function(){this.s||(this.s=!0,this.N())},q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Z(l,m){this.type=l,this.g=this.target=m,this.defaultPrevented=!1}Z.prototype.h=function(){this.defaultPrevented=!0};var K=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var l=!1,m=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const C=()=>{};a.addEventListener("test",C,m),a.removeEventListener("test",C,m)}catch{}return l}();function H(l,m){if(Z.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var C=this.type=l.type,D=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=m,m=l.relatedTarget){if(O){e:{try{b(m.nodeName);var $=!0;break e}catch{}$=!1}$||(m=null)}}else C=="mouseover"?m=l.fromElement:C=="mouseout"&&(m=l.toElement);this.relatedTarget=m,D?(this.clientX=D.clientX!==void 0?D.clientX:D.pageX,this.clientY=D.clientY!==void 0?D.clientY:D.pageY,this.screenX=D.screenX||0,this.screenY=D.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:j[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&H.aa.h.call(this)}}_(H,Z);var j={2:"touch",3:"pen",4:"mouse"};H.prototype.h=function(){H.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var oe="closure_listenable_"+(1e6*Math.random()|0),he=0;function ee(l,m,C,D,$){this.listener=l,this.proxy=null,this.src=m,this.type=C,this.capture=!!D,this.ha=$,this.key=++he,this.da=this.fa=!1}function le(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function ge(l){this.src=l,this.g={},this.h=0}ge.prototype.add=function(l,m,C,D,$){var G=l.toString();l=this.g[G],l||(l=this.g[G]=[],this.h++);var te=Me(l,m,D,$);return-1<te?(m=l[te],C||(m.fa=!1)):(m=new ee(m,this.src,G,!!D,$),m.fa=C,l.push(m)),m};function me(l,m){var C=m.type;if(C in l.g){var D=l.g[C],$=Array.prototype.indexOf.call(D,m,void 0),G;(G=0<=$)&&Array.prototype.splice.call(D,$,1),G&&(le(m),l.g[C].length==0&&(delete l.g[C],l.h--))}}function Me(l,m,C,D){for(var $=0;$<l.length;++$){var G=l[$];if(!G.da&&G.listener==m&&G.capture==!!C&&G.ha==D)return $}return-1}var Ae="closure_lm_"+(1e6*Math.random()|0),fe={};function we(l,m,C,D,$){if(Array.isArray(m)){for(var G=0;G<m.length;G++)we(l,m[G],C,D,$);return null}return C=$e(C),l&&l[oe]?l.K(m,C,c(D)?!!D.capture:!!D,$):ve(l,m,C,!1,D,$)}function ve(l,m,C,D,$,G){if(!m)throw Error("Invalid event type");var te=c($)?!!$.capture:!!$,We=Le(l);if(We||(l[Ae]=We=new ge(l)),C=We.add(m,C,D,te,G),C.proxy)return C;if(D=pe(),C.proxy=D,D.src=l,D.listener=C,l.addEventListener)K||($=te),$===void 0&&($=!1),l.addEventListener(m.toString(),D,$);else if(l.attachEvent)l.attachEvent(Se(m.toString()),D);else if(l.addListener&&l.removeListener)l.addListener(D);else throw Error("addEventListener and attachEvent are unavailable.");return C}function pe(){function l(C){return m.call(l.src,l.listener,C)}const m=ue;return l}function Ee(l,m,C,D,$){if(Array.isArray(m))for(var G=0;G<m.length;G++)Ee(l,m[G],C,D,$);else D=c(D)?!!D.capture:!!D,C=$e(C),l&&l[oe]?(l=l.i,m=String(m).toString(),m in l.g&&(G=l.g[m],C=Me(G,C,D,$),-1<C&&(le(G[C]),Array.prototype.splice.call(G,C,1),G.length==0&&(delete l.g[m],l.h--)))):l&&(l=Le(l))&&(m=l.g[m.toString()],l=-1,m&&(l=Me(m,C,D,$)),(C=-1<l?m[l]:null)&&se(C))}function se(l){if(typeof l!="number"&&l&&!l.da){var m=l.src;if(m&&m[oe])me(m.i,l);else{var C=l.type,D=l.proxy;m.removeEventListener?m.removeEventListener(C,D,l.capture):m.detachEvent?m.detachEvent(Se(C),D):m.addListener&&m.removeListener&&m.removeListener(D),(C=Le(m))?(me(C,l),C.h==0&&(C.src=null,m[Ae]=null)):le(l)}}}function Se(l){return l in fe?fe[l]:fe[l]="on"+l}function ue(l,m){if(l.da)l=!0;else{m=new H(m,this);var C=l.listener,D=l.ha||l.src;l.fa&&se(l),l=C.call(D,m)}return l}function Le(l){return l=l[Ae],l instanceof ge?l:null}var ne="__closure_events_fn_"+(1e9*Math.random()>>>0);function $e(l){return typeof l=="function"?l:(l[ne]||(l[ne]=function(m){return l.handleEvent(m)}),l[ne])}function Be(){q.call(this),this.i=new ge(this),this.M=this,this.F=null}_(Be,q),Be.prototype[oe]=!0,Be.prototype.removeEventListener=function(l,m,C,D){Ee(this,l,m,C,D)};function ze(l,m){var C,D=l.F;if(D)for(C=[];D;D=D.F)C.push(D);if(l=l.M,D=m.type||m,typeof m=="string")m=new Z(m,l);else if(m instanceof Z)m.target=m.target||l;else{var $=m;m=new Z(D,l),E(m,$)}if($=!0,C)for(var G=C.length-1;0<=G;G--){var te=m.g=C[G];$=He(te,D,!0,m)&&$}if(te=m.g=l,$=He(te,D,!0,m)&&$,$=He(te,D,!1,m)&&$,C)for(G=0;G<C.length;G++)te=m.g=C[G],$=He(te,D,!1,m)&&$}Be.prototype.N=function(){if(Be.aa.N.call(this),this.i){var l=this.i,m;for(m in l.g){for(var C=l.g[m],D=0;D<C.length;D++)le(C[D]);delete l.g[m],l.h--}}this.F=null},Be.prototype.K=function(l,m,C,D){return this.i.add(String(l),m,!1,C,D)},Be.prototype.L=function(l,m,C,D){return this.i.add(String(l),m,!0,C,D)};function He(l,m,C,D){if(m=l.i.g[String(m)],!m)return!0;m=m.concat();for(var $=!0,G=0;G<m.length;++G){var te=m[G];if(te&&!te.da&&te.capture==C){var We=te.listener,kt=te.ha||te.src;te.fa&&me(l.i,te),$=We.call(kt,D)!==!1&&$}}return $&&!D.defaultPrevented}function xe(l,m,C){if(typeof l=="function")C&&(l=d(l,C));else if(l&&typeof l.handleEvent=="function")l=d(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:a.setTimeout(l,m||0)}function et(l){l.g=xe(()=>{l.g=null,l.i&&(l.i=!1,et(l))},l.l);const m=l.h;l.h=null,l.m.apply(null,m)}class Nt extends q{constructor(m,C){super(),this.m=m,this.l=C,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:et(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ut(l){q.call(this),this.h=l,this.g={}}_(ut,q);var St=[];function Ot(l){x(l.g,function(m,C){this.g.hasOwnProperty(C)&&se(m)},l),l.g={}}ut.prototype.N=function(){ut.aa.N.call(this),Ot(this)},ut.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Jt=a.JSON.stringify,Er=a.JSON.parse,$i=class{stringify(l){return a.JSON.stringify(l,void 0)}parse(l){return a.JSON.parse(l,void 0)}};function zn(){}zn.prototype.h=null;function jn(l){return l.h||(l.h=l.i())}function Rn(){}var $n={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function It(){Z.call(this,"d")}_(It,Z);function qt(){Z.call(this,"c")}_(qt,Z);var Lt={},un=null;function Hn(){return un=un||new Be}Lt.La="serverreachability";function cn(l){Z.call(this,Lt.La,l)}_(cn,Z);function _t(l){const m=Hn();ze(m,new cn(m))}Lt.STAT_EVENT="statevent";function Go(l,m){Z.call(this,Lt.STAT_EVENT,l),this.stat=m}_(Go,Z);function Et(l){const m=Hn();ze(m,new Go(m,l))}Lt.Ma="timingevent";function ai(l,m){Z.call(this,Lt.Ma,l),this.size=m}_(ai,Z);function wr(l,m){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){l()},m)}function Tr(){this.g=!0}Tr.prototype.xa=function(){this.g=!1};function Hi(l,m,C,D,$,G){l.info(function(){if(l.g)if(G)for(var te="",We=G.split("&"),kt=0;kt<We.length;kt++){var Ve=We[kt].split("=");if(1<Ve.length){var Vt=Ve[0];Ve=Ve[1];var Ft=Vt.split("_");te=2<=Ft.length&&Ft[1]=="type"?te+(Vt+"="+Ve+"&"):te+(Vt+"=redacted&")}}else te=null;else te=G;return"XMLHTTP REQ ("+D+") [attempt "+$+"]: "+m+`
`+C+`
`+te})}function Ca(l,m,C,D,$,G,te){l.info(function(){return"XMLHTTP RESP ("+D+") [ attempt "+$+"]: "+m+`
`+C+`
`+G+" "+te})}function rr(l,m,C,D){l.info(function(){return"XMLHTTP TEXT ("+m+"): "+Sa(l,C)+(D?" "+D:"")})}function Wi(l,m){l.info(function(){return"TIMEOUT: "+m})}Tr.prototype.info=function(){};function Sa(l,m){if(!l.g)return m;if(!m)return null;try{var C=JSON.parse(m);if(C){for(l=0;l<C.length;l++)if(Array.isArray(C[l])){var D=C[l];if(!(2>D.length)){var $=D[1];if(Array.isArray($)&&!(1>$.length)){var G=$[0];if(G!="noop"&&G!="stop"&&G!="close")for(var te=1;te<$.length;te++)$[te]=""}}}}return Jt(C)}catch{return m}}var li={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},qo={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Gi;function ui(){}_(ui,zn),ui.prototype.g=function(){return new XMLHttpRequest},ui.prototype.i=function(){return{}},Gi=new ui;function hn(l,m,C,D){this.j=l,this.i=m,this.l=C,this.R=D||1,this.U=new ut(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ko}function Ko(){this.i=null,this.g="",this.h=!1}var Qo={},Cr={};function qi(l,m,C){l.L=1,l.v=Aa(ir(m)),l.m=C,l.P=!0,Zo(l,null)}function Zo(l,m){l.F=Date.now(),Ki(l),l.A=ir(l.v);var C=l.A,D=l.R;Array.isArray(D)||(D=[String(D)]),dp(C.i,"t",D),l.C=0,C=l.j.J,l.h=new Ko,l.g=Rp(l.j,C?m:null,!l.m),0<l.O&&(l.M=new Nt(d(l.Y,l,l.g),l.O)),m=l.U,C=l.g,D=l.ca;var $="readystatechange";Array.isArray($)||($&&(St[0]=$.toString()),$=St);for(var G=0;G<$.length;G++){var te=we(C,$[G],D||m.handleEvent,!1,m.h||m);if(!te)break;m.g[te.key]=te}m=l.H?p(l.H):{},l.m?(l.u||(l.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,m)):(l.u="GET",l.g.ea(l.A,l.u,null,m)),_t(),Hi(l.i,l.u,l.A,l.l,l.R,l.m)}hn.prototype.ca=function(l){l=l.target;const m=this.M;m&&or(l)==3?m.j():this.Y(l)},hn.prototype.Y=function(l){try{if(l==this.g)e:{const Ft=or(this.g);var m=this.g.Ba();const Xi=this.g.Z();if(!(3>Ft)&&(Ft!=3||this.g&&(this.h.h||this.g.oa()||Ep(this.g)))){this.J||Ft!=4||m==7||(m==8||0>=Xi?_t(3):_t(2)),ye(this);var C=this.g.Z();this.X=C;t:if(ci(this)){var D=Ep(this.g);l="";var $=D.length,G=or(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){hi(this),Xo(this);var te="";break t}this.h.i=new a.TextDecoder}for(m=0;m<$;m++)this.h.h=!0,l+=this.h.i.decode(D[m],{stream:!(G&&m==$-1)});D.length=0,this.h.g+=l,this.C=0,te=this.h.g}else te=this.g.oa();if(this.o=C==200,Ca(this.i,this.u,this.A,this.l,this.R,Ft,C),this.o){if(this.T&&!this.K){t:{if(this.g){var We,kt=this.g;if((We=kt.g?kt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(We)){var Ve=We;break t}}Ve=null}if(C=Ve)rr(this.i,this.l,C,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ju(this,C);else{this.o=!1,this.s=3,Et(12),hi(this),Xo(this);break e}}if(this.P){C=!0;let Mn;for(;!this.J&&this.C<te.length;)if(Mn=Ia(this,te),Mn==Cr){Ft==4&&(this.s=4,Et(14),C=!1),rr(this.i,this.l,null,"[Incomplete Response]");break}else if(Mn==Qo){this.s=4,Et(15),rr(this.i,this.l,te,"[Invalid Chunk]"),C=!1;break}else rr(this.i,this.l,Mn,null),Ju(this,Mn);if(ci(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ft!=4||te.length!=0||this.h.h||(this.s=1,Et(16),C=!1),this.o=this.o&&C,!C)rr(this.i,this.l,te,"[Invalid Chunked Response]"),hi(this),Xo(this);else if(0<te.length&&!this.W){this.W=!0;var Vt=this.j;Vt.g==this&&Vt.ba&&!Vt.M&&(Vt.j.info("Great, no buffering proxy detected. Bytes received: "+te.length),oc(Vt),Vt.M=!0,Et(11))}}else rr(this.i,this.l,te,null),Ju(this,te);Ft==4&&hi(this),this.o&&!this.J&&(Ft==4?kp(this.j,this):(this.o=!1,Ki(this)))}else tw(this.g),C==400&&0<te.indexOf("Unknown SID")?(this.s=3,Et(12)):(this.s=0,Et(13)),hi(this),Xo(this)}}}catch{}finally{}};function ci(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function Ia(l,m){var C=l.C,D=m.indexOf(`
`,C);return D==-1?Cr:(C=Number(m.substring(C,D)),isNaN(C)?Qo:(D+=1,D+C>m.length?Cr:(m=m.slice(D,D+C),l.C=D+C,m)))}hn.prototype.cancel=function(){this.J=!0,hi(this)};function Ki(l){l.S=Date.now()+l.I,Sr(l,l.I)}function Sr(l,m){if(l.B!=null)throw Error("WatchDog timer not null");l.B=wr(d(l.ba,l),m)}function ye(l){l.B&&(a.clearTimeout(l.B),l.B=null)}hn.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(Wi(this.i,this.A),this.L!=2&&(_t(),Et(17)),hi(this),this.s=2,Xo(this)):Sr(this,this.S-l)};function Xo(l){l.j.G==0||l.J||kp(l.j,l)}function hi(l){ye(l);var m=l.M;m&&typeof m.ma=="function"&&m.ma(),l.M=null,Ot(l.U),l.g&&(m=l.g,l.g=null,m.abort(),m.ma())}function Ju(l,m){try{var C=l.j;if(C.G!=0&&(C.g==l||ec(C.h,l))){if(!l.K&&ec(C.h,l)&&C.G==3){try{var D=C.Da.g.parse(m)}catch{D=null}if(Array.isArray(D)&&D.length==3){var $=D;if($[0]==0){e:if(!C.u){if(C.g)if(C.g.F+3e3<l.F)ba(C),Ra(C);else break e;ic(C),Et(18)}}else C.za=$[1],0<C.za-C.T&&37500>$[2]&&C.F&&C.v==0&&!C.C&&(C.C=wr(d(C.Za,C),6e3));if(1>=ip(C.h)&&C.ca){try{C.ca()}catch{}C.ca=void 0}}else di(C,11)}else if((l.K||C.g==l)&&ba(C),!I(m))for($=C.Da.g.parse(m),m=0;m<$.length;m++){let Ve=$[m];if(C.T=Ve[0],Ve=Ve[1],C.G==2)if(Ve[0]=="c"){C.K=Ve[1],C.ia=Ve[2];const Vt=Ve[3];Vt!=null&&(C.la=Vt,C.j.info("VER="+C.la));const Ft=Ve[4];Ft!=null&&(C.Aa=Ft,C.j.info("SVER="+C.Aa));const Xi=Ve[5];Xi!=null&&typeof Xi=="number"&&0<Xi&&(D=1.5*Xi,C.L=D,C.j.info("backChannelRequestTimeoutMs_="+D)),D=C;const Mn=l.g;if(Mn){const Na=Mn.g?Mn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Na){var G=D.h;G.g||Na.indexOf("spdy")==-1&&Na.indexOf("quic")==-1&&Na.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(tc(G,G.h),G.h=null))}if(D.D){const sc=Mn.g?Mn.g.getResponseHeader("X-HTTP-Session-Id"):null;sc&&(D.ya=sc,Qe(D.I,D.D,sc))}}C.G=3,C.l&&C.l.ua(),C.ba&&(C.R=Date.now()-l.F,C.j.info("Handshake RTT: "+C.R+"ms")),D=C;var te=l;if(D.qa=Pp(D,D.J?D.ia:null,D.W),te.K){op(D.h,te);var We=te,kt=D.L;kt&&(We.I=kt),We.B&&(ye(We),Ki(We)),D.g=te}else Ip(D);0<C.i.length&&Ma(C)}else Ve[0]!="stop"&&Ve[0]!="close"||di(C,7);else C.G==3&&(Ve[0]=="stop"||Ve[0]=="close"?Ve[0]=="stop"?di(C,7):rc(C):Ve[0]!="noop"&&C.l&&C.l.ta(Ve),C.v=0)}}_t(4)}catch{}}var UE=class{constructor(l,m){this.g=l,this.map=m}};function np(l){this.l=l||10,a.PerformanceNavigationTiming?(l=a.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function rp(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function ip(l){return l.h?1:l.g?l.g.size:0}function ec(l,m){return l.h?l.h==m:l.g?l.g.has(m):!1}function tc(l,m){l.g?l.g.add(m):l.h=m}function op(l,m){l.h&&l.h==m?l.h=null:l.g&&l.g.has(m)&&l.g.delete(m)}np.prototype.cancel=function(){if(this.i=sp(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function sp(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let m=l.i;for(const C of l.g.values())m=m.concat(C.D);return m}return S(l.i)}function BE(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(u(l)){for(var m=[],C=l.length,D=0;D<C;D++)m.push(l[D]);return m}m=[],C=0;for(D in l)m[C++]=l[D];return m}function zE(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(u(l)||typeof l=="string"){var m=[];l=l.length;for(var C=0;C<l;C++)m.push(C);return m}m=[],C=0;for(const D in l)m[C++]=D;return m}}}function ap(l,m){if(l.forEach&&typeof l.forEach=="function")l.forEach(m,void 0);else if(u(l)||typeof l=="string")Array.prototype.forEach.call(l,m,void 0);else for(var C=zE(l),D=BE(l),$=D.length,G=0;G<$;G++)m.call(void 0,D[G],C&&C[G],l)}var lp=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function jE(l,m){if(l){l=l.split("&");for(var C=0;C<l.length;C++){var D=l[C].indexOf("="),$=null;if(0<=D){var G=l[C].substring(0,D);$=l[C].substring(D+1)}else G=l[C];m(G,$?decodeURIComponent($.replace(/\+/g," ")):"")}}}function fi(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof fi){this.h=l.h,La(this,l.j),this.o=l.o,this.g=l.g,ka(this,l.s),this.l=l.l;var m=l.i,C=new es;C.i=m.i,m.g&&(C.g=new Map(m.g),C.h=m.h),up(this,C),this.m=l.m}else l&&(m=String(l).match(lp))?(this.h=!1,La(this,m[1]||"",!0),this.o=Yo(m[2]||""),this.g=Yo(m[3]||"",!0),ka(this,m[4]),this.l=Yo(m[5]||"",!0),up(this,m[6]||"",!0),this.m=Yo(m[7]||"")):(this.h=!1,this.i=new es(null,this.h))}fi.prototype.toString=function(){var l=[],m=this.j;m&&l.push(Jo(m,cp,!0),":");var C=this.g;return(C||m=="file")&&(l.push("//"),(m=this.o)&&l.push(Jo(m,cp,!0),"@"),l.push(encodeURIComponent(String(C)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),C=this.s,C!=null&&l.push(":",String(C))),(C=this.l)&&(this.g&&C.charAt(0)!="/"&&l.push("/"),l.push(Jo(C,C.charAt(0)=="/"?WE:HE,!0))),(C=this.i.toString())&&l.push("?",C),(C=this.m)&&l.push("#",Jo(C,qE)),l.join("")};function ir(l){return new fi(l)}function La(l,m,C){l.j=C?Yo(m,!0):m,l.j&&(l.j=l.j.replace(/:$/,""))}function ka(l,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);l.s=m}else l.s=null}function up(l,m,C){m instanceof es?(l.i=m,KE(l.i,l.h)):(C||(m=Jo(m,GE)),l.i=new es(m,l.h))}function Qe(l,m,C){l.i.set(m,C)}function Aa(l){return Qe(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function Yo(l,m){return l?m?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Jo(l,m,C){return typeof l=="string"?(l=encodeURI(l).replace(m,$E),C&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function $E(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var cp=/[#\/\?@]/g,HE=/[#\?:]/g,WE=/[#\?]/g,GE=/[#\?@]/g,qE=/#/g;function es(l,m){this.h=this.g=null,this.i=l||null,this.j=!!m}function Ir(l){l.g||(l.g=new Map,l.h=0,l.i&&jE(l.i,function(m,C){l.add(decodeURIComponent(m.replace(/\+/g," ")),C)}))}t=es.prototype,t.add=function(l,m){Ir(this),this.i=null,l=Qi(this,l);var C=this.g.get(l);return C||this.g.set(l,C=[]),C.push(m),this.h+=1,this};function hp(l,m){Ir(l),m=Qi(l,m),l.g.has(m)&&(l.i=null,l.h-=l.g.get(m).length,l.g.delete(m))}function fp(l,m){return Ir(l),m=Qi(l,m),l.g.has(m)}t.forEach=function(l,m){Ir(this),this.g.forEach(function(C,D){C.forEach(function($){l.call(m,$,D,this)},this)},this)},t.na=function(){Ir(this);const l=Array.from(this.g.values()),m=Array.from(this.g.keys()),C=[];for(let D=0;D<m.length;D++){const $=l[D];for(let G=0;G<$.length;G++)C.push(m[D])}return C},t.V=function(l){Ir(this);let m=[];if(typeof l=="string")fp(this,l)&&(m=m.concat(this.g.get(Qi(this,l))));else{l=Array.from(this.g.values());for(let C=0;C<l.length;C++)m=m.concat(l[C])}return m},t.set=function(l,m){return Ir(this),this.i=null,l=Qi(this,l),fp(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[m]),this.h+=1,this},t.get=function(l,m){return l?(l=this.V(l),0<l.length?String(l[0]):m):m};function dp(l,m,C){hp(l,m),0<C.length&&(l.i=null,l.g.set(Qi(l,m),S(C)),l.h+=C.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],m=Array.from(this.g.keys());for(var C=0;C<m.length;C++){var D=m[C];const G=encodeURIComponent(String(D)),te=this.V(D);for(D=0;D<te.length;D++){var $=G;te[D]!==""&&($+="="+encodeURIComponent(String(te[D]))),l.push($)}}return this.i=l.join("&")};function Qi(l,m){return m=String(m),l.j&&(m=m.toLowerCase()),m}function KE(l,m){m&&!l.j&&(Ir(l),l.i=null,l.g.forEach(function(C,D){var $=D.toLowerCase();D!=$&&(hp(this,D),dp(this,$,C))},l)),l.j=m}function QE(l,m){const C=new Tr;if(a.Image){const D=new Image;D.onload=g(Lr,C,"TestLoadImage: loaded",!0,m,D),D.onerror=g(Lr,C,"TestLoadImage: error",!1,m,D),D.onabort=g(Lr,C,"TestLoadImage: abort",!1,m,D),D.ontimeout=g(Lr,C,"TestLoadImage: timeout",!1,m,D),a.setTimeout(function(){D.ontimeout&&D.ontimeout()},1e4),D.src=l}else m(!1)}function ZE(l,m){const C=new Tr,D=new AbortController,$=setTimeout(()=>{D.abort(),Lr(C,"TestPingServer: timeout",!1,m)},1e4);fetch(l,{signal:D.signal}).then(G=>{clearTimeout($),G.ok?Lr(C,"TestPingServer: ok",!0,m):Lr(C,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout($),Lr(C,"TestPingServer: error",!1,m)})}function Lr(l,m,C,D,$){try{$&&($.onload=null,$.onerror=null,$.onabort=null,$.ontimeout=null),D(C)}catch{}}function XE(){this.g=new $i}function YE(l,m,C){const D=C||"";try{ap(l,function($,G){let te=$;c($)&&(te=Jt($)),m.push(D+G+"="+encodeURIComponent(te))})}catch($){throw m.push(D+"type="+encodeURIComponent("_badmap")),$}}function ts(l){this.l=l.Ub||null,this.j=l.eb||!1}_(ts,zn),ts.prototype.g=function(){return new xa(this.l,this.j)},ts.prototype.i=function(l){return function(){return l}}({});function xa(l,m){Be.call(this),this.D=l,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}_(xa,Be),t=xa.prototype,t.open=function(l,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=m,this.readyState=1,rs(this)},t.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(m.body=l),(this.D||a).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ns(this)),this.readyState=0},t.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,rs(this)),this.g&&(this.readyState=3,rs(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;pp(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function pp(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}t.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var m=l.value?l.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!l.done}))&&(this.response=this.responseText+=m)}l.done?ns(this):rs(this),this.readyState==3&&pp(this)}},t.Ra=function(l){this.g&&(this.response=this.responseText=l,ns(this))},t.Qa=function(l){this.g&&(this.response=l,ns(this))},t.ga=function(){this.g&&ns(this)};function ns(l){l.readyState=4,l.l=null,l.j=null,l.v=null,rs(l)}t.setRequestHeader=function(l,m){this.u.append(l,m)},t.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],m=this.h.entries();for(var C=m.next();!C.done;)C=C.value,l.push(C[0]+": "+C[1]),C=m.next();return l.join(`\r
`)};function rs(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(xa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function gp(l){let m="";return x(l,function(C,D){m+=D,m+=":",m+=C,m+=`\r
`}),m}function nc(l,m,C){e:{for(D in C){var D=!1;break e}D=!0}D||(C=gp(C),typeof l=="string"?C!=null&&encodeURIComponent(String(C)):Qe(l,m,C))}function ot(l){Be.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}_(ot,Be);var JE=/^https?$/i,ew=["POST","PUT"];t=ot.prototype,t.Ha=function(l){this.J=l},t.ea=function(l,m,C,D){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);m=m?m.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Gi.g(),this.v=this.o?jn(this.o):jn(Gi),this.g.onreadystatechange=d(this.Ea,this);try{this.B=!0,this.g.open(m,String(l),!0),this.B=!1}catch(G){mp(this,G);return}if(l=C||"",C=new Map(this.headers),D)if(Object.getPrototypeOf(D)===Object.prototype)for(var $ in D)C.set($,D[$]);else if(typeof D.keys=="function"&&typeof D.get=="function")for(const G of D.keys())C.set(G,D.get(G));else throw Error("Unknown input type for opt_headers: "+String(D));D=Array.from(C.keys()).find(G=>G.toLowerCase()=="content-type"),$=a.FormData&&l instanceof a.FormData,!(0<=Array.prototype.indexOf.call(ew,m,void 0))||D||$||C.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,te]of C)this.g.setRequestHeader(G,te);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{_p(this),this.u=!0,this.g.send(l),this.u=!1}catch(G){mp(this,G)}};function mp(l,m){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=m,l.m=5,vp(l),Pa(l)}function vp(l){l.A||(l.A=!0,ze(l,"complete"),ze(l,"error"))}t.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,ze(this,"complete"),ze(this,"abort"),Pa(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Pa(this,!0)),ot.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?yp(this):this.bb())},t.bb=function(){yp(this)};function yp(l){if(l.h&&typeof s<"u"&&(!l.v[1]||or(l)!=4||l.Z()!=2)){if(l.u&&or(l)==4)xe(l.Ea,0,l);else if(ze(l,"readystatechange"),or(l)==4){l.h=!1;try{const te=l.Z();e:switch(te){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var C;if(!(C=m)){var D;if(D=te===0){var $=String(l.D).match(lp)[1]||null;!$&&a.self&&a.self.location&&($=a.self.location.protocol.slice(0,-1)),D=!JE.test($?$.toLowerCase():"")}C=D}if(C)ze(l,"complete"),ze(l,"success");else{l.m=6;try{var G=2<or(l)?l.g.statusText:""}catch{G=""}l.l=G+" ["+l.Z()+"]",vp(l)}}finally{Pa(l)}}}}function Pa(l,m){if(l.g){_p(l);const C=l.g,D=l.v[0]?()=>{}:null;l.g=null,l.v=null,m||ze(l,"ready");try{C.onreadystatechange=D}catch{}}}function _p(l){l.I&&(a.clearTimeout(l.I),l.I=null)}t.isActive=function(){return!!this.g};function or(l){return l.g?l.g.readyState:0}t.Z=function(){try{return 2<or(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(l){if(this.g){var m=this.g.responseText;return l&&m.indexOf(l)==0&&(m=m.substring(l.length)),Er(m)}};function Ep(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function tw(l){const m={};l=(l.g&&2<=or(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let D=0;D<l.length;D++){if(I(l[D]))continue;var C=A(l[D]);const $=C[0];if(C=C[1],typeof C!="string")continue;C=C.trim();const G=m[$]||[];m[$]=G,G.push(C)}T(m,function(D){return D.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function is(l,m,C){return C&&C.internalChannelParams&&C.internalChannelParams[l]||m}function wp(l){this.Aa=0,this.i=[],this.j=new Tr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=is("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=is("baseRetryDelayMs",5e3,l),this.cb=is("retryDelaySeedMs",1e4,l),this.Wa=is("forwardChannelMaxRetries",2,l),this.wa=is("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new np(l&&l.concurrentRequestLimit),this.Da=new XE,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=wp.prototype,t.la=8,t.G=1,t.connect=function(l,m,C,D){Et(0),this.W=l,this.H=m||{},C&&D!==void 0&&(this.H.OSID=C,this.H.OAID=D),this.F=this.X,this.I=Pp(this,null,this.W),Ma(this)};function rc(l){if(Tp(l),l.G==3){var m=l.U++,C=ir(l.I);if(Qe(C,"SID",l.K),Qe(C,"RID",m),Qe(C,"TYPE","terminate"),os(l,C),m=new hn(l,l.j,m),m.L=2,m.v=Aa(ir(C)),C=!1,a.navigator&&a.navigator.sendBeacon)try{C=a.navigator.sendBeacon(m.v.toString(),"")}catch{}!C&&a.Image&&(new Image().src=m.v,C=!0),C||(m.g=Rp(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Ki(m)}xp(l)}function Ra(l){l.g&&(oc(l),l.g.cancel(),l.g=null)}function Tp(l){Ra(l),l.u&&(a.clearTimeout(l.u),l.u=null),ba(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&a.clearTimeout(l.s),l.s=null)}function Ma(l){if(!rp(l.h)&&!l.s){l.s=!0;var m=l.Ga;M||B(),U||(M(),U=!0),F.add(m,l),l.B=0}}function nw(l,m){return ip(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=m.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=wr(d(l.Ga,l,m),Ap(l,l.B)),l.B++,!0)}t.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const $=new hn(this,this.j,l);let G=this.o;if(this.S&&(G?(G=p(G),E(G,this.S)):G=this.S),this.m!==null||this.O||($.H=G,G=null),this.P)e:{for(var m=0,C=0;C<this.i.length;C++){t:{var D=this.i[C];if("__data__"in D.map&&(D=D.map.__data__,typeof D=="string")){D=D.length;break t}D=void 0}if(D===void 0)break;if(m+=D,4096<m){m=C;break e}if(m===4096||C===this.i.length-1){m=C+1;break e}}m=1e3}else m=1e3;m=Sp(this,$,m),C=ir(this.I),Qe(C,"RID",l),Qe(C,"CVER",22),this.D&&Qe(C,"X-HTTP-Session-Id",this.D),os(this,C),G&&(this.O?m="headers="+encodeURIComponent(String(gp(G)))+"&"+m:this.m&&nc(C,this.m,G)),tc(this.h,$),this.Ua&&Qe(C,"TYPE","init"),this.P?(Qe(C,"$req",m),Qe(C,"SID","null"),$.T=!0,qi($,C,null)):qi($,C,m),this.G=2}}else this.G==3&&(l?Cp(this,l):this.i.length==0||rp(this.h)||Cp(this))};function Cp(l,m){var C;m?C=m.l:C=l.U++;const D=ir(l.I);Qe(D,"SID",l.K),Qe(D,"RID",C),Qe(D,"AID",l.T),os(l,D),l.m&&l.o&&nc(D,l.m,l.o),C=new hn(l,l.j,C,l.B+1),l.m===null&&(C.H=l.o),m&&(l.i=m.D.concat(l.i)),m=Sp(l,C,1e3),C.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),tc(l.h,C),qi(C,D,m)}function os(l,m){l.H&&x(l.H,function(C,D){Qe(m,D,C)}),l.l&&ap({},function(C,D){Qe(m,D,C)})}function Sp(l,m,C){C=Math.min(l.i.length,C);var D=l.l?d(l.l.Na,l.l,l):null;e:{var $=l.i;let G=-1;for(;;){const te=["count="+C];G==-1?0<C?(G=$[0].g,te.push("ofs="+G)):G=0:te.push("ofs="+G);let We=!0;for(let kt=0;kt<C;kt++){let Ve=$[kt].g;const Vt=$[kt].map;if(Ve-=G,0>Ve)G=Math.max(0,$[kt].g-100),We=!1;else try{YE(Vt,te,"req"+Ve+"_")}catch{D&&D(Vt)}}if(We){D=te.join("&");break e}}}return l=l.i.splice(0,C),m.D=l,D}function Ip(l){if(!l.g&&!l.u){l.Y=1;var m=l.Fa;M||B(),U||(M(),U=!0),F.add(m,l),l.v=0}}function ic(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=wr(d(l.Fa,l),Ap(l,l.v)),l.v++,!0)}t.Fa=function(){if(this.u=null,Lp(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=wr(d(this.ab,this),l)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Et(10),Ra(this),Lp(this))};function oc(l){l.A!=null&&(a.clearTimeout(l.A),l.A=null)}function Lp(l){l.g=new hn(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var m=ir(l.qa);Qe(m,"RID","rpc"),Qe(m,"SID",l.K),Qe(m,"AID",l.T),Qe(m,"CI",l.F?"0":"1"),!l.F&&l.ja&&Qe(m,"TO",l.ja),Qe(m,"TYPE","xmlhttp"),os(l,m),l.m&&l.o&&nc(m,l.m,l.o),l.L&&(l.g.I=l.L);var C=l.g;l=l.ia,C.L=1,C.v=Aa(ir(m)),C.m=null,C.P=!0,Zo(C,l)}t.Za=function(){this.C!=null&&(this.C=null,Ra(this),ic(this),Et(19))};function ba(l){l.C!=null&&(a.clearTimeout(l.C),l.C=null)}function kp(l,m){var C=null;if(l.g==m){ba(l),oc(l),l.g=null;var D=2}else if(ec(l.h,m))C=m.D,op(l.h,m),D=1;else return;if(l.G!=0){if(m.o)if(D==1){C=m.m?m.m.length:0,m=Date.now()-m.F;var $=l.B;D=Hn(),ze(D,new ai(D,C)),Ma(l)}else Ip(l);else if($=m.s,$==3||$==0&&0<m.X||!(D==1&&nw(l,m)||D==2&&ic(l)))switch(C&&0<C.length&&(m=l.h,m.i=m.i.concat(C)),$){case 1:di(l,5);break;case 4:di(l,10);break;case 3:di(l,6);break;default:di(l,2)}}}function Ap(l,m){let C=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(C*=2),C*m}function di(l,m){if(l.j.info("Error code "+m),m==2){var C=d(l.fb,l),D=l.Xa;const $=!D;D=new fi(D||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||La(D,"https"),Aa(D),$?QE(D.toString(),C):ZE(D.toString(),C)}else Et(2);l.G=0,l.l&&l.l.sa(m),xp(l),Tp(l)}t.fb=function(l){l?(this.j.info("Successfully pinged google.com"),Et(2)):(this.j.info("Failed to ping google.com"),Et(1))};function xp(l){if(l.G=0,l.ka=[],l.l){const m=sp(l.h);(m.length!=0||l.i.length!=0)&&(P(l.ka,m),P(l.ka,l.i),l.h.i.length=0,S(l.i),l.i.length=0),l.l.ra()}}function Pp(l,m,C){var D=C instanceof fi?ir(C):new fi(C);if(D.g!="")m&&(D.g=m+"."+D.g),ka(D,D.s);else{var $=a.location;D=$.protocol,m=m?m+"."+$.hostname:$.hostname,$=+$.port;var G=new fi(null);D&&La(G,D),m&&(G.g=m),$&&ka(G,$),C&&(G.l=C),D=G}return C=l.D,m=l.ya,C&&m&&Qe(D,C,m),Qe(D,"VER",l.la),os(l,D),D}function Rp(l,m,C){if(m&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=l.Ca&&!l.pa?new ot(new ts({eb:C})):new ot(l.pa),m.Ha(l.J),m}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Mp(){}t=Mp.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Da(){}Da.prototype.g=function(l,m){return new fn(l,m)};function fn(l,m){Be.call(this),this.g=new wp(m),this.l=l,this.h=m&&m.messageUrlParams||null,l=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(l?l["X-WebChannel-Content-Type"]=m.messageContentType:l={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(l?l["X-WebChannel-Client-Profile"]=m.va:l={"X-WebChannel-Client-Profile":m.va}),this.g.S=l,(l=m&&m.Sb)&&!I(l)&&(this.g.m=l),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!I(m)&&(this.g.D=m,l=this.h,l!==null&&m in l&&(l=this.h,m in l&&delete l[m])),this.j=new Zi(this)}_(fn,Be),fn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},fn.prototype.close=function(){rc(this.g)},fn.prototype.o=function(l){var m=this.g;if(typeof l=="string"){var C={};C.__data__=l,l=C}else this.u&&(C={},C.__data__=Jt(l),l=C);m.i.push(new UE(m.Ya++,l)),m.G==3&&Ma(m)},fn.prototype.N=function(){this.g.l=null,delete this.j,rc(this.g),delete this.g,fn.aa.N.call(this)};function bp(l){It.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var m=l.__sm__;if(m){e:{for(const C in m){l=C;break e}l=void 0}(this.i=l)&&(l=this.i,m=m!==null&&l in m?m[l]:void 0),this.data=m}else this.data=l}_(bp,It);function Dp(){qt.call(this),this.status=1}_(Dp,qt);function Zi(l){this.g=l}_(Zi,Mp),Zi.prototype.ua=function(){ze(this.g,"a")},Zi.prototype.ta=function(l){ze(this.g,new bp(l))},Zi.prototype.sa=function(l){ze(this.g,new Dp)},Zi.prototype.ra=function(){ze(this.g,"b")},Da.prototype.createWebChannel=Da.prototype.g,fn.prototype.send=fn.prototype.o,fn.prototype.open=fn.prototype.m,fn.prototype.close=fn.prototype.close,I1=function(){return new Da},S1=function(){return Hn()},C1=Lt,qh={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},li.NO_ERROR=0,li.TIMEOUT=8,li.HTTP_ERROR=6,El=li,qo.COMPLETE="complete",T1=qo,Rn.EventType=$n,$n.OPEN="a",$n.CLOSE="b",$n.ERROR="c",$n.MESSAGE="d",Be.prototype.listen=Be.prototype.K,Cs=Rn,w1=ts,ot.prototype.listenOnce=ot.prototype.L,ot.prototype.getLastError=ot.prototype.Ka,ot.prototype.getLastErrorCode=ot.prototype.Ba,ot.prototype.getStatus=ot.prototype.Z,ot.prototype.getResponseJson=ot.prototype.Oa,ot.prototype.getResponseText=ot.prototype.oa,ot.prototype.send=ot.prototype.ea,ot.prototype.setWithCredentials=ot.prototype.Ha,E1=ot}).apply(typeof Ja<"u"?Ja:typeof self<"u"?self:typeof window<"u"?window:{});const tm="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}$t.UNAUTHENTICATED=new $t(null),$t.GOOGLE_CREDENTIALS=new $t("google-credentials-uid"),$t.FIRST_PARTY=new $t("first-party-uid"),$t.MOCK_USER=new $t("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $o="10.13.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bi=new c1("@firebase/firestore");function ps(){return bi.logLevel}function ie(t,...e){if(bi.logLevel<=Ne.DEBUG){const n=e.map(dd);bi.debug(`Firestore (${$o}): ${t}`,...n)}}function vr(t,...e){if(bi.logLevel<=Ne.ERROR){const n=e.map(dd);bi.error(`Firestore (${$o}): ${t}`,...n)}}function Mo(t,...e){if(bi.logLevel<=Ne.WARN){const n=e.map(dd);bi.warn(`Firestore (${$o}): ${t}`,...n)}}function dd(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _e(t="Unexpected state"){const e=`FIRESTORE (${$o}) INTERNAL ASSERTION FAILED: `+t;throw vr(e),new Error(e)}function Ge(t,e){t||_e()}function Ce(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ce extends Bi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L1{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class rS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n($t.UNAUTHENTICATED))}shutdown(){}}class iS{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class oS{constructor(e){this.t=e,this.currentUser=$t.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let o=new Zr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Zr,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const u=o;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},a=u=>{ie("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?a(u):(ie("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Zr)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ie("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ge(typeof r.accessToken=="string"),new L1(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ge(e===null||typeof e=="string"),new $t(e)}}class sS{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=$t.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class aS{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new sS(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n($t.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class lS{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class uS{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=o=>{o.error!=null&&ie("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,ie("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{ie("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):ie("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ge(typeof n.token=="string"),this.R=n.token,new lS(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cS(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k1{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=cS(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}}function Ue(t,e){return t<e?-1:t>e?1:0}function bo(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ce(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ce(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ce(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ce(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ft.fromMillis(Date.now())}static fromDate(e){return ft.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new ft(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ue(this.nanoseconds,e.nanoseconds):Ue(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Te(e)}static min(){return new Te(new ft(0,0))}static max(){return new Te(new ft(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(e,n,r){n===void 0?n=0:n>e.length&&_e(),r===void 0?r=e.length-n:r>e.length-n&&_e(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return sa.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof sa?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Je extends sa{construct(e,n,r){return new Je(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ce(Y.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Je(n)}static emptyPath(){return new Je([])}}const hS=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Pt extends sa{construct(e,n,r){return new Pt(e,n,r)}static isValidIdentifier(e){return hS.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Pt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Pt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new ce(Y.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new ce(Y.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new ce(Y.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new ce(Y.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Pt(n)}static emptyPath(){return new Pt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{constructor(e){this.path=e}static fromPath(e){return new de(Je.fromString(e))}static fromName(e){return new de(Je.fromString(e).popFirst(5))}static empty(){return new de(Je.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Je.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Je.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new de(new Je(e.slice()))}}function fS(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Te.fromTimestamp(r===1e9?new ft(n+1,0):new ft(n,r));return new ei(i,de.empty(),e)}function dS(t){return new ei(t.readTime,t.key,-1)}class ei{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ei(Te.min(),de.empty(),-1)}static max(){return new ei(Te.max(),de.empty(),-1)}}function pS(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=de.comparator(t.documentKey,e.documentKey),n!==0?n:Ue(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class mS{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function va(t){if(t.code!==Y.FAILED_PRECONDITION||t.message!==gS)throw t;ie("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&_e(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new X((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof X?n:X.resolve(n)}catch(n){return X.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):X.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):X.reject(n)}static resolve(e){return new X((n,r)=>{n(e)})}static reject(e){return new X((n,r)=>{r(e)})}static waitFor(e){return new X((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},u=>r(u))}),s=!0,o===i&&n()})}static or(e){let n=X.resolve(!1);for(const r of e)n=n.next(i=>i?X.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new X((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let u=0;u<o;u++){const c=u;n(e[c]).next(h=>{s[c]=h,++a,a===o&&r(s)},h=>i(h))}})}static doWhile(e,n){return new X((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function vS(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ya(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}pd.oe=-1;function Ru(t){return t==null}function Yl(t){return t===0&&1/t==-1/0}function yS(t){return typeof t=="number"&&Number.isInteger(t)&&!Yl(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nm(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function zi(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function A1(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{constructor(e,n){this.comparator=e,this.root=n||xt.EMPTY}insert(e,n){return new it(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,xt.BLACK,null,null))}remove(e){return new it(this.comparator,this.root.remove(e,this.comparator).copy(null,null,xt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new el(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new el(this.root,e,this.comparator,!1)}getReverseIterator(){return new el(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new el(this.root,e,this.comparator,!0)}}class el{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class xt{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??xt.RED,this.left=i??xt.EMPTY,this.right=o??xt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new xt(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return xt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return xt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,xt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,xt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw _e();const e=this.left.check();if(e!==this.right.check())throw _e();return e+(this.isRed()?0:1)}}xt.EMPTY=null,xt.RED=!0,xt.BLACK=!1;xt.EMPTY=new class{constructor(){this.size=0}get key(){throw _e()}get value(){throw _e()}get color(){throw _e()}get left(){throw _e()}get right(){throw _e()}copy(e,n,r,i,o){return this}insert(e,n,r){return new xt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e){this.comparator=e,this.data=new it(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new rm(this.data.getIterator())}getIteratorFrom(e){return new rm(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Mt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Mt(this.comparator);return n.data=e,n}}class rm{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this.fields=e,e.sort(Pt.comparator)}static empty(){return new mn([])}unionWith(e){let n=new Mt(Pt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new mn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return bo(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new x1("Invalid base64 string: "+o):o}}(e);return new Dt(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new Dt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ue(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Dt.EMPTY_BYTE_STRING=new Dt("");const _S=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ti(t){if(Ge(!!t),typeof t=="string"){let e=0;const n=_S.exec(t);if(Ge(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ct(t.seconds),nanos:ct(t.nanos)}}function ct(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Di(t){return typeof t=="string"?Dt.fromBase64String(t):Dt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gd(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function md(t){const e=t.mapValue.fields.__previous_value__;return gd(e)?md(e):e}function aa(t){const e=ti(t.mapValue.fields.__local_write_time__.timestampValue);return new ft(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES{constructor(e,n,r,i,o,s,a,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c}}class la{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new la("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof la&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ni(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?gd(t)?4:TS(t)?9007199254740991:wS(t)?10:11:_e()}function tr(t,e){if(t===e)return!0;const n=Ni(t);if(n!==Ni(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return aa(t).isEqual(aa(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=ti(i.timestampValue),a=ti(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return Di(i.bytesValue).isEqual(Di(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return ct(i.geoPointValue.latitude)===ct(o.geoPointValue.latitude)&&ct(i.geoPointValue.longitude)===ct(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return ct(i.integerValue)===ct(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=ct(i.doubleValue),a=ct(o.doubleValue);return s===a?Yl(s)===Yl(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return bo(t.arrayValue.values||[],e.arrayValue.values||[],tr);case 10:case 11:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(nm(s)!==nm(a))return!1;for(const u in s)if(s.hasOwnProperty(u)&&(a[u]===void 0||!tr(s[u],a[u])))return!1;return!0}(t,e);default:return _e()}}function ua(t,e){return(t.values||[]).find(n=>tr(n,e))!==void 0}function Do(t,e){if(t===e)return 0;const n=Ni(t),r=Ni(e);if(n!==r)return Ue(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ue(t.booleanValue,e.booleanValue);case 2:return function(o,s){const a=ct(o.integerValue||o.doubleValue),u=ct(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return im(t.timestampValue,e.timestampValue);case 4:return im(aa(t),aa(e));case 5:return Ue(t.stringValue,e.stringValue);case 6:return function(o,s){const a=Di(o),u=Di(s);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),u=s.split("/");for(let c=0;c<a.length&&c<u.length;c++){const h=Ue(a[c],u[c]);if(h!==0)return h}return Ue(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const a=Ue(ct(o.latitude),ct(s.latitude));return a!==0?a:Ue(ct(o.longitude),ct(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return om(t.arrayValue,e.arrayValue);case 10:return function(o,s){var a,u,c,h;const f=o.fields||{},d=s.fields||{},g=(a=f.value)===null||a===void 0?void 0:a.arrayValue,_=(u=d.value)===null||u===void 0?void 0:u.arrayValue,S=Ue(((c=g==null?void 0:g.values)===null||c===void 0?void 0:c.length)||0,((h=_==null?void 0:_.values)===null||h===void 0?void 0:h.length)||0);return S!==0?S:om(g,_)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===tl.mapValue&&s===tl.mapValue)return 0;if(o===tl.mapValue)return 1;if(s===tl.mapValue)return-1;const a=o.fields||{},u=Object.keys(a),c=s.fields||{},h=Object.keys(c);u.sort(),h.sort();for(let f=0;f<u.length&&f<h.length;++f){const d=Ue(u[f],h[f]);if(d!==0)return d;const g=Do(a[u[f]],c[h[f]]);if(g!==0)return g}return Ue(u.length,h.length)}(t.mapValue,e.mapValue);default:throw _e()}}function im(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ue(t,e);const n=ti(t),r=ti(e),i=Ue(n.seconds,r.seconds);return i!==0?i:Ue(n.nanos,r.nanos)}function om(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=Do(n[i],r[i]);if(o)return o}return Ue(n.length,r.length)}function No(t){return Kh(t)}function Kh(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ti(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Di(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return de.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=Kh(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${Kh(n.fields[s])}`;return i+"}"}(t.mapValue):_e()}function Qh(t){return!!t&&"integerValue"in t}function vd(t){return!!t&&"arrayValue"in t}function sm(t){return!!t&&"nullValue"in t}function am(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function wl(t){return!!t&&"mapValue"in t}function wS(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Ns(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return zi(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ns(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ns(t.arrayValue.values[n]);return e}return Object.assign({},t)}function TS(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.value=e}static empty(){return new nn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!wl(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ns(n)}setAll(e){let n=Pt.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=Ns(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());wl(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return tr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];wl(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){zi(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new nn(Ns(this.value))}}function P1(t){const e=[];return zi(t.fields,(n,r)=>{const i=new Pt([n]);if(wl(r)){const o=P1(r.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new mn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new Wt(e,0,Te.min(),Te.min(),Te.min(),nn.empty(),0)}static newFoundDocument(e,n,r,i){return new Wt(e,1,n,Te.min(),r,i,0)}static newNoDocument(e,n){return new Wt(e,2,n,Te.min(),Te.min(),nn.empty(),0)}static newUnknownDocument(e,n){return new Wt(e,3,n,Te.min(),Te.min(),nn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Te.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=nn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=nn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Wt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Wt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl{constructor(e,n){this.position=e,this.inclusive=n}}function lm(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?r=de.comparator(de.fromName(s.referenceValue),n.key):r=Do(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function um(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!tr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu{constructor(e,n="asc"){this.field=e,this.dir=n}}function CS(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{}class vt extends R1{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new IS(e,n,r):n==="array-contains"?new AS(e,r):n==="in"?new xS(e,r):n==="not-in"?new PS(e,r):n==="array-contains-any"?new RS(e,r):new vt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new LS(e,r):new kS(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Do(n,this.value)):n!==null&&Ni(this.value)===Ni(n)&&this.matchesComparison(Do(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return _e()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class nr extends R1{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new nr(e,n)}matches(e){return M1(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function M1(t){return t.op==="and"}function b1(t){return SS(t)&&M1(t)}function SS(t){for(const e of t.filters)if(e instanceof nr)return!1;return!0}function Zh(t){if(t instanceof vt)return t.field.canonicalString()+t.op.toString()+No(t.value);if(b1(t))return t.filters.map(e=>Zh(e)).join(",");{const e=t.filters.map(n=>Zh(n)).join(",");return`${t.op}(${e})`}}function D1(t,e){return t instanceof vt?function(r,i){return i instanceof vt&&r.op===i.op&&r.field.isEqual(i.field)&&tr(r.value,i.value)}(t,e):t instanceof nr?function(r,i){return i instanceof nr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&D1(s,i.filters[a]),!0):!1}(t,e):void _e()}function N1(t){return t instanceof vt?function(n){return`${n.field.canonicalString()} ${n.op} ${No(n.value)}`}(t):t instanceof nr?function(n){return n.op.toString()+" {"+n.getFilters().map(N1).join(" ,")+"}"}(t):"Filter"}class IS extends vt{constructor(e,n,r){super(e,n,r),this.key=de.fromName(r.referenceValue)}matches(e){const n=de.comparator(e.key,this.key);return this.matchesComparison(n)}}class LS extends vt{constructor(e,n){super(e,"in",n),this.keys=O1("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class kS extends vt{constructor(e,n){super(e,"not-in",n),this.keys=O1("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function O1(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>de.fromName(r.referenceValue))}class AS extends vt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return vd(n)&&ua(n.arrayValue,this.value)}}class xS extends vt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ua(this.value.arrayValue,n)}}class PS extends vt{constructor(e,n){super(e,"not-in",n)}matches(e){if(ua(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!ua(this.value.arrayValue,n)}}class RS extends vt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!vd(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>ua(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}}function cm(t,e=null,n=[],r=[],i=null,o=null,s=null){return new MS(t,e,n,r,i,o,s)}function yd(t){const e=Ce(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Zh(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Ru(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>No(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>No(r)).join(",")),e.ue=n}return e.ue}function _d(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!CS(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!D1(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!um(t.startAt,e.startAt)&&um(t.endAt,e.endAt)}function Xh(t){return de.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function bS(t,e,n,r,i,o,s,a){return new Mu(t,e,n,r,i,o,s,a)}function V1(t){return new Mu(t)}function hm(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function DS(t){return t.collectionGroup!==null}function Os(t){const e=Ce(t);if(e.ce===null){e.ce=[];const n=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Mt(Pt.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new eu(o,r))}),n.has(Pt.keyField().canonicalString())||e.ce.push(new eu(Pt.keyField(),r))}return e.ce}function Yn(t){const e=Ce(t);return e.le||(e.le=NS(e,Os(t))),e.le}function NS(t,e){if(t.limitType==="F")return cm(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new eu(i.field,o)});const n=t.endAt?new Jl(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Jl(t.startAt.position,t.startAt.inclusive):null;return cm(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Yh(t,e,n){return new Mu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function bu(t,e){return _d(Yn(t),Yn(e))&&t.limitType===e.limitType}function F1(t){return`${yd(Yn(t))}|lt:${t.limitType}`}function Ji(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>N1(i)).join(", ")}]`),Ru(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>No(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>No(i)).join(",")),`Target(${r})`}(Yn(t))}; limitType=${t.limitType})`}function Du(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):de.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of Os(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,u){const c=lm(s,a,u);return s.inclusive?c<=0:c<0}(r.startAt,Os(r),i)||r.endAt&&!function(s,a,u){const c=lm(s,a,u);return s.inclusive?c>=0:c>0}(r.endAt,Os(r),i))}(t,e)}function OS(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function U1(t){return(e,n)=>{let r=!1;for(const i of Os(t)){const o=VS(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function VS(t,e,n){const r=t.field.isKeyField()?de.comparator(e.key,n.key):function(o,s,a){const u=s.data.field(o),c=a.data.field(o);return u!==null&&c!==null?Do(u,c):_e()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return _e()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){zi(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return A1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FS=new it(de.comparator);function yr(){return FS}const B1=new it(de.comparator);function Ss(...t){let e=B1;for(const n of t)e=e.insert(n.key,n);return e}function z1(t){let e=B1;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function wi(){return Vs()}function j1(){return Vs()}function Vs(){return new Ho(t=>t.toString(),(t,e)=>t.isEqual(e))}const US=new it(de.comparator),BS=new Mt(de.comparator);function be(...t){let e=BS;for(const n of t)e=e.add(n);return e}const zS=new Mt(Ue);function jS(){return zS}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ed(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Yl(e)?"-0":e}}function $1(t){return{integerValue:""+t}}function $S(t,e){return yS(e)?$1(e):Ed(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu{constructor(){this._=void 0}}function HS(t,e,n){return t instanceof tu?function(i,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&gd(o)&&(o=md(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof ca?W1(t,e):t instanceof ha?G1(t,e):function(i,o){const s=H1(i,o),a=fm(s)+fm(i.Pe);return Qh(s)&&Qh(i.Pe)?$1(a):Ed(i.serializer,a)}(t,e)}function WS(t,e,n){return t instanceof ca?W1(t,e):t instanceof ha?G1(t,e):n}function H1(t,e){return t instanceof nu?function(r){return Qh(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class tu extends Nu{}class ca extends Nu{constructor(e){super(),this.elements=e}}function W1(t,e){const n=q1(e);for(const r of t.elements)n.some(i=>tr(i,r))||n.push(r);return{arrayValue:{values:n}}}class ha extends Nu{constructor(e){super(),this.elements=e}}function G1(t,e){let n=q1(e);for(const r of t.elements)n=n.filter(i=>!tr(i,r));return{arrayValue:{values:n}}}class nu extends Nu{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function fm(t){return ct(t.integerValue||t.doubleValue)}function q1(t){return vd(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function GS(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof ca&&i instanceof ca||r instanceof ha&&i instanceof ha?bo(r.elements,i.elements,tr):r instanceof nu&&i instanceof nu?tr(r.Pe,i.Pe):r instanceof tu&&i instanceof tu}(t.transform,e.transform)}class qS{constructor(e,n){this.version=e,this.transformResults=n}}class Jn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Jn}static exists(e){return new Jn(void 0,e)}static updateTime(e){return new Jn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Tl(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Ou{}function K1(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Z1(t.key,Jn.none()):new _a(t.key,t.data,Jn.none());{const n=t.data,r=nn.empty();let i=new Mt(Pt.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new si(t.key,r,new mn(i.toArray()),Jn.none())}}function KS(t,e,n){t instanceof _a?function(i,o,s){const a=i.value.clone(),u=pm(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof si?function(i,o,s){if(!Tl(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=pm(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(Q1(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Fs(t,e,n,r){return t instanceof _a?function(o,s,a,u){if(!Tl(o.precondition,s))return a;const c=o.value.clone(),h=gm(o.fieldTransforms,u,s);return c.setAll(h),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof si?function(o,s,a,u){if(!Tl(o.precondition,s))return a;const c=gm(o.fieldTransforms,u,s),h=s.data;return h.setAll(Q1(o)),h.setAll(c),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(o,s,a){return Tl(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function QS(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=H1(r.transform,i||null);o!=null&&(n===null&&(n=nn.empty()),n.set(r.field,o))}return n||null}function dm(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&bo(r,i,(o,s)=>GS(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class _a extends Ou{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class si extends Ou{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function Q1(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function pm(t,e,n){const r=new Map;Ge(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,WS(s,a,n[i]))}return r}function gm(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,HS(o,s,e))}return r}class Z1 extends Ou{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ZS extends Ou{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XS{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&KS(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Fs(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Fs(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=j1();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const u=K1(s,a);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(Te.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),be())}isEqual(e){return this.batchId===e.batchId&&bo(this.mutations,e.mutations,(n,r)=>dm(n,r))&&bo(this.baseMutations,e.baseMutations,(n,r)=>dm(n,r))}}class wd{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ge(e.mutations.length===r.length);let i=function(){return US}();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new wd(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YS{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JS{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pt,De;function eI(t){switch(t){default:return _e();case Y.CANCELLED:case Y.UNKNOWN:case Y.DEADLINE_EXCEEDED:case Y.RESOURCE_EXHAUSTED:case Y.INTERNAL:case Y.UNAVAILABLE:case Y.UNAUTHENTICATED:return!1;case Y.INVALID_ARGUMENT:case Y.NOT_FOUND:case Y.ALREADY_EXISTS:case Y.PERMISSION_DENIED:case Y.FAILED_PRECONDITION:case Y.ABORTED:case Y.OUT_OF_RANGE:case Y.UNIMPLEMENTED:case Y.DATA_LOSS:return!0}}function X1(t){if(t===void 0)return vr("GRPC error has no .code"),Y.UNKNOWN;switch(t){case pt.OK:return Y.OK;case pt.CANCELLED:return Y.CANCELLED;case pt.UNKNOWN:return Y.UNKNOWN;case pt.DEADLINE_EXCEEDED:return Y.DEADLINE_EXCEEDED;case pt.RESOURCE_EXHAUSTED:return Y.RESOURCE_EXHAUSTED;case pt.INTERNAL:return Y.INTERNAL;case pt.UNAVAILABLE:return Y.UNAVAILABLE;case pt.UNAUTHENTICATED:return Y.UNAUTHENTICATED;case pt.INVALID_ARGUMENT:return Y.INVALID_ARGUMENT;case pt.NOT_FOUND:return Y.NOT_FOUND;case pt.ALREADY_EXISTS:return Y.ALREADY_EXISTS;case pt.PERMISSION_DENIED:return Y.PERMISSION_DENIED;case pt.FAILED_PRECONDITION:return Y.FAILED_PRECONDITION;case pt.ABORTED:return Y.ABORTED;case pt.OUT_OF_RANGE:return Y.OUT_OF_RANGE;case pt.UNIMPLEMENTED:return Y.UNIMPLEMENTED;case pt.DATA_LOSS:return Y.DATA_LOSS;default:return _e()}}(De=pt||(pt={}))[De.OK=0]="OK",De[De.CANCELLED=1]="CANCELLED",De[De.UNKNOWN=2]="UNKNOWN",De[De.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",De[De.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",De[De.NOT_FOUND=5]="NOT_FOUND",De[De.ALREADY_EXISTS=6]="ALREADY_EXISTS",De[De.PERMISSION_DENIED=7]="PERMISSION_DENIED",De[De.UNAUTHENTICATED=16]="UNAUTHENTICATED",De[De.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",De[De.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",De[De.ABORTED=10]="ABORTED",De[De.OUT_OF_RANGE=11]="OUT_OF_RANGE",De[De.UNIMPLEMENTED=12]="UNIMPLEMENTED",De[De.INTERNAL=13]="INTERNAL",De[De.UNAVAILABLE=14]="UNAVAILABLE",De[De.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tI(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nI=new Li([4294967295,4294967295],0);function mm(t){const e=tI().encode(t),n=new _1;return n.update(e),new Uint8Array(n.digest())}function vm(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Li([n,r],0),new Li([i,o],0)]}class Td{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Is(`Invalid padding: ${n}`);if(r<0)throw new Is(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Is(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Is(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Li.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Li.fromNumber(r)));return i.compare(nI)===1&&(i=new Li([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=mm(e),[r,i]=vm(n);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new Td(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Ie===0)return;const n=mm(e),[r,i]=vm(n);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Is extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vu{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Ea.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Vu(Te.min(),i,new it(Ue),yr(),be())}}class Ea{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Ea(r,n,be(),be(),be())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class Y1{constructor(e,n){this.targetId=e,this.me=n}}class J1{constructor(e,n,r=Dt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class ym{constructor(){this.fe=0,this.ge=Em(),this.pe=Dt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=be(),n=be(),r=be();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:_e()}}),new Ea(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=Em()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ge(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class rI{constructor(e){this.Le=e,this.Be=new Map,this.ke=yr(),this.qe=_m(),this.Qe=new it(Ue)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:_e()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const o=i.target;if(Xh(o))if(r===0){const s=new de(o.path);this.Ue(n,s,Wt.newNoDocument(s,Te.min()))}else Ge(r===1);else{const s=this.Ye(n);if(s!==r){const a=this.Ze(e),u=a?this.Xe(a,e,s):1;if(u!==0){this.je(n);const c=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,c)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,a;try{s=Di(r).toUint8Array()}catch(u){if(u instanceof x1)return Mo("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new Td(s,i,o)}catch(u){return Mo(u instanceof Is?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,o,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((o,s)=>{const a=this.Je(s);if(a){if(o.current&&Xh(a.target)){const u=new de(a.target.path);this.ke.get(u)!==null||this.it(s,u)||this.Ue(s,u,Wt.newNoDocument(u,e))}o.be&&(n.set(s,o.ve()),o.Ce())}});let r=be();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{const c=this.Je(u);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));const i=new Vu(e,n,this.Qe,this.ke,r);return this.ke=yr(),this.qe=_m(),this.Qe=new it(Ue),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new ym,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Mt(Ue),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||ie("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new ym),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function _m(){return new it(de.comparator)}function Em(){return new it(de.comparator)}const iI={asc:"ASCENDING",desc:"DESCENDING"},oI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},sI={and:"AND",or:"OR"};class aI{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Jh(t,e){return t.useProto3Json||Ru(e)?e:{value:e}}function ru(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function e_(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function lI(t,e){return ru(t,e.toTimestamp())}function er(t){return Ge(!!t),Te.fromTimestamp(function(n){const r=ti(n);return new ft(r.seconds,r.nanos)}(t))}function Cd(t,e){return ef(t,e).canonicalString()}function ef(t,e){const n=function(i){return new Je(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function t_(t){const e=Je.fromString(t);return Ge(s_(e)),e}function tf(t,e){return Cd(t.databaseId,e.path)}function Vc(t,e){const n=t_(e);if(n.get(1)!==t.databaseId.projectId)throw new ce(Y.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ce(Y.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new de(r_(n))}function n_(t,e){return Cd(t.databaseId,e)}function uI(t){const e=t_(t);return e.length===4?Je.emptyPath():r_(e)}function nf(t){return new Je(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function r_(t){return Ge(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function wm(t,e,n){return{name:tf(t,e),fields:n.value.mapValue.fields}}function cI(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:_e()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(c,h){return c.useProto3Json?(Ge(h===void 0||typeof h=="string"),Dt.fromBase64String(h||"")):(Ge(h===void 0||h instanceof Buffer||h instanceof Uint8Array),Dt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(c){const h=c.code===void 0?Y.UNKNOWN:X1(c.code);return new ce(h,c.message||"")}(s);n=new J1(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Vc(t,r.document.name),o=er(r.document.updateTime),s=r.document.createTime?er(r.document.createTime):Te.min(),a=new nn({mapValue:{fields:r.document.fields}}),u=Wt.newFoundDocument(i,o,s,a),c=r.targetIds||[],h=r.removedTargetIds||[];n=new Cl(c,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Vc(t,r.document),o=r.readTime?er(r.readTime):Te.min(),s=Wt.newNoDocument(i,o),a=r.removedTargetIds||[];n=new Cl([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Vc(t,r.document),o=r.removedTargetIds||[];n=new Cl([],o,i,null)}else{if(!("filter"in e))return _e();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new JS(i,o),a=r.targetId;n=new Y1(a,s)}}return n}function hI(t,e){let n;if(e instanceof _a)n={update:wm(t,e.key,e.value)};else if(e instanceof Z1)n={delete:tf(t,e.key)};else if(e instanceof si)n={update:wm(t,e.key,e.data),updateMask:EI(e.fieldMask)};else{if(!(e instanceof ZS))return _e();n={verify:tf(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof tu)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof ca)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof ha)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof nu)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw _e()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:lI(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:_e()}(t,e.precondition)),n}function fI(t,e){return t&&t.length>0?(Ge(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?er(i.updateTime):er(o);return s.isEqual(Te.min())&&(s=er(o)),new qS(s,i.transformResults||[])}(n,e))):[]}function dI(t,e){return{documents:[n_(t,e.path)]}}function pI(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=n_(t,i);const o=function(c){if(c.length!==0)return o_(nr.create(c,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const s=function(c){if(c.length!==0)return c.map(h=>function(d){return{field:eo(d.field),direction:vI(d.dir)}}(h))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const a=Jh(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:n,parent:i}}function gI(t){let e=uI(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ge(r===1);const h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];n.where&&(o=function(f){const d=i_(f);return d instanceof nr&&b1(d)?d.getFilters():[d]}(n.where));let s=[];n.orderBy&&(s=function(f){return f.map(d=>function(_){return new eu(to(_.field),function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(_.direction))}(d))}(n.orderBy));let a=null;n.limit&&(a=function(f){let d;return d=typeof f=="object"?f.value:f,Ru(d)?null:d}(n.limit));let u=null;n.startAt&&(u=function(f){const d=!!f.before,g=f.values||[];return new Jl(g,d)}(n.startAt));let c=null;return n.endAt&&(c=function(f){const d=!f.before,g=f.values||[];return new Jl(g,d)}(n.endAt)),bS(e,i,s,o,a,"F",u,c)}function mI(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _e()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function i_(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=to(n.unaryFilter.field);return vt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=to(n.unaryFilter.field);return vt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=to(n.unaryFilter.field);return vt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=to(n.unaryFilter.field);return vt.create(s,"!=",{nullValue:"NULL_VALUE"});default:return _e()}}(t):t.fieldFilter!==void 0?function(n){return vt.create(to(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return _e()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return nr.create(n.compositeFilter.filters.map(r=>i_(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return _e()}}(n.compositeFilter.op))}(t):_e()}function vI(t){return iI[t]}function yI(t){return oI[t]}function _I(t){return sI[t]}function eo(t){return{fieldPath:t.canonicalString()}}function to(t){return Pt.fromServerFormat(t.fieldPath)}function o_(t){return t instanceof vt?function(n){if(n.op==="=="){if(am(n.value))return{unaryFilter:{field:eo(n.field),op:"IS_NAN"}};if(sm(n.value))return{unaryFilter:{field:eo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(am(n.value))return{unaryFilter:{field:eo(n.field),op:"IS_NOT_NAN"}};if(sm(n.value))return{unaryFilter:{field:eo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:eo(n.field),op:yI(n.op),value:n.value}}}(t):t instanceof nr?function(n){const r=n.getFilters().map(i=>o_(i));return r.length===1?r[0]:{compositeFilter:{op:_I(n.op),filters:r}}}(t):_e()}function EI(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function s_(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr{constructor(e,n,r,i,o=Te.min(),s=Te.min(),a=Dt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new Vr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Vr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Vr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Vr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI{constructor(e){this.ct=e}}function TI(t){const e=gI({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Yh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CI{constructor(){this.un=new SI}addToCollectionParentIndex(e,n){return this.un.add(n),X.resolve()}getCollectionParents(e,n){return X.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return X.resolve()}deleteFieldIndex(e,n){return X.resolve()}deleteAllFieldIndexes(e){return X.resolve()}createTargetIndexes(e,n){return X.resolve()}getDocumentsMatchingTarget(e,n){return X.resolve(null)}getIndexType(e,n){return X.resolve(0)}getFieldIndexes(e,n){return X.resolve([])}getNextCollectionGroupToUpdate(e){return X.resolve(null)}getMinOffset(e,n){return X.resolve(ei.min())}getMinOffsetFromCollectionGroup(e,n){return X.resolve(ei.min())}updateCollectionGroup(e,n,r){return X.resolve()}updateIndexEntries(e,n){return X.resolve()}}class SI{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Mt(Je.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Mt(Je.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Oo(0)}static kn(){return new Oo(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class II{constructor(){this.changes=new Ho(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Wt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?X.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LI{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kI{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Fs(r.mutation,i,mn.empty(),ft.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,be()).next(()=>r))}getLocalViewOfDocuments(e,n,r=be()){const i=wi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=Ss();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=wi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,be()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=yr();const s=Vs(),a=function(){return Vs()}();return n.forEach((u,c)=>{const h=r.get(c.key);i.has(c.key)&&(h===void 0||h.mutation instanceof si)?o=o.insert(c.key,c):h!==void 0?(s.set(c.key,h.mutation.getFieldMask()),Fs(h.mutation,c,h.mutation.getFieldMask(),ft.now())):s.set(c.key,mn.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((c,h)=>s.set(c,h)),n.forEach((c,h)=>{var f;return a.set(c,new LI(h,(f=s.get(c))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Vs();let i=new it((s,a)=>s-a),o=be();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(u=>{const c=n.get(u);if(c===null)return;let h=r.get(u)||mn.empty();h=a.applyToLocalView(c,h),r.set(u,h);const f=(i.get(a.batchId)||be()).add(u);i=i.insert(a.batchId,f)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,h=u.value,f=j1();h.forEach(d=>{if(!o.has(d)){const g=K1(n.get(d),r.get(d));g!==null&&f.set(d,g),o=o.add(d)}}),s.push(this.documentOverlayCache.saveOverlays(e,c,f))}return X.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return de.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):DS(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):X.resolve(wi());let a=-1,u=o;return s.next(c=>X.forEach(c,(h,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),o.get(h)?X.resolve():this.remoteDocumentCache.getEntry(e,h).next(d=>{u=u.insert(h,d)}))).next(()=>this.populateOverlays(e,c,o)).next(()=>this.computeViews(e,u,c,be())).next(h=>({batchId:a,changes:z1(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new de(n)).next(r=>{let i=Ss();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=Ss();return this.indexManager.getCollectionParents(e,o).next(a=>X.forEach(a,u=>{const c=function(f,d){return new Mu(d,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(h=>{h.forEach((f,d)=>{s=s.insert(f,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((u,c)=>{const h=c.getKey();s.get(h)===null&&(s=s.insert(h,Wt.newInvalidDocument(h)))});let a=Ss();return s.forEach((u,c)=>{const h=o.get(u);h!==void 0&&Fs(h.mutation,c,mn.empty(),ft.now()),Du(n,c)&&(a=a.insert(u,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return X.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:er(i.createTime)}}(n)),X.resolve()}getNamedQuery(e,n){return X.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:TI(i.bundledQuery),readTime:er(i.readTime)}}(n)),X.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xI{constructor(){this.overlays=new it(de.comparator),this.Ir=new Map}getOverlay(e,n){return X.resolve(this.overlays.get(n))}getOverlays(e,n){const r=wi();return X.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),X.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),X.resolve()}getOverlaysForCollection(e,n,r){const i=wi(),o=n.length+1,s=new de(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return X.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new it((c,h)=>c-h);const s=this.overlays.getIterator();for(;s.hasNext();){const c=s.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let h=o.get(c.largestBatchId);h===null&&(h=wi(),o=o.insert(c.largestBatchId,h)),h.set(c.getKey(),c)}}const a=wi(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,h)=>a.set(c,h)),!(a.size()>=i)););return X.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new YS(n,r));let o=this.Ir.get(n);o===void 0&&(o=be(),this.Ir.set(n,o)),this.Ir.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PI{constructor(){this.sessionToken=Dt.EMPTY_BYTE_STRING}getSessionToken(e){return X.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,X.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd{constructor(){this.Tr=new Mt(wt.Er),this.dr=new Mt(wt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new wt(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new wt(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new de(new Je([])),r=new wt(n,e),i=new wt(n,e+1),o=[];return this.dr.forEachInRange([r,i],s=>{this.Vr(s),o.push(s.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new de(new Je([])),r=new wt(n,e),i=new wt(n,e+1);let o=be();return this.dr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new wt(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class wt{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return de.comparator(e.key,n.key)||Ue(e.wr,n.wr)}static Ar(e,n){return Ue(e.wr,n.wr)||de.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RI{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Mt(wt.Er)}checkEmpty(e){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new XS(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.br=this.br.add(new wt(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return X.resolve(s)}lookupMutationBatch(e,n){return X.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),o=i<0?0:i;return X.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new wt(n,0),i=new wt(n,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],s=>{const a=this.Dr(s.wr);o.push(a)}),X.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Mt(Ue);return n.forEach(i=>{const o=new wt(i,0),s=new wt(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,s],a=>{r=r.add(a.wr)})}),X.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;de.isDocumentKey(o)||(o=o.child(""));const s=new wt(new de(o),0);let a=new Mt(Ue);return this.br.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u.wr)),!0)},s),X.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ge(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return X.forEach(n.mutations,i=>{const o=new wt(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new wt(n,0),i=this.br.firstAfterOrEqual(r);return X.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,X.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MI{constructor(e){this.Mr=e,this.docs=function(){return new it(de.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return X.resolve(r?r.document.mutableCopy():Wt.newInvalidDocument(n))}getEntries(e,n){let r=yr();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Wt.newInvalidDocument(i))}),X.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=yr();const s=n.path,a=new de(s.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:c,value:{document:h}}=u.getNext();if(!s.isPrefixOf(c.path))break;c.path.length>s.length+1||pS(dS(h),r)<=0||(i.has(h.key)||Du(n,h))&&(o=o.insert(h.key,h.mutableCopy()))}return X.resolve(o)}getAllFromCollectionGroup(e,n,r,i){_e()}Or(e,n){return X.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new bI(this)}getSize(e){return X.resolve(this.size)}}class bI extends II{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),X.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DI{constructor(e){this.persistence=e,this.Nr=new Ho(n=>yd(n),_d),this.lastRemoteSnapshotVersion=Te.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Sd,this.targetCount=0,this.kr=Oo.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),X.resolve()}getLastRemoteSnapshotVersion(e){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return X.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),X.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Oo(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,X.resolve()}updateTargetData(e,n){return this.Kn(n),X.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,X.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Nr.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),X.waitFor(o).next(()=>i)}getTargetCount(e){return X.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return X.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),X.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),X.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),X.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return X.resolve(r)}containsKey(e,n){return X.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NI{constructor(e,n){this.qr={},this.overlays={},this.Qr=new pd(0),this.Kr=!1,this.Kr=!0,this.$r=new PI,this.referenceDelegate=e(this),this.Ur=new DI(this),this.indexManager=new CI,this.remoteDocumentCache=function(i){return new MI(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new wI(n),this.Gr=new AI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new xI,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new RI(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){ie("MemoryPersistence","Starting transaction:",e);const i=new OI(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,n){return X.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class OI extends mS{constructor(e){super(),this.currentSequenceNumber=e}}class Id{constructor(e){this.persistence=e,this.Jr=new Sd,this.Yr=null}static Zr(e){return new Id(e)}get Xr(){if(this.Yr)return this.Yr;throw _e()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),X.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),X.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),X.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.Xr,r=>{const i=de.fromPath(r);return this.ei(e,i).next(o=>{o||n.removeEntry(i,Te.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return X.or([()=>X.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ld{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=be(),i=be();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new Ld(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FI{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return $2()?8:vS(z2())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.Yi(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Zi(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new VI;return this.Xi(e,n,s).next(a=>{if(o.result=a,this.zi)return this.es(e,n,s,a.size)})}).next(()=>o.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(ps()<=Ne.DEBUG&&ie("QueryEngine","SDK will not create cache indexes for query:",Ji(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),X.resolve()):(ps()<=Ne.DEBUG&&ie("QueryEngine","Query:",Ji(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(ps()<=Ne.DEBUG&&ie("QueryEngine","The SDK decides to create cache indexes for query:",Ji(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Yn(n))):X.resolve())}Yi(e,n){if(hm(n))return X.resolve(null);let r=Yn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Yh(n,null,"F"),r=Yn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=be(...o);return this.Ji.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.ts(n,a);return this.ns(n,c,s,u.readTime)?this.Yi(e,Yh(n,null,"F")):this.rs(e,c,n,u)}))})))}Zi(e,n,r,i){return hm(n)||i.isEqual(Te.min())?X.resolve(null):this.Ji.getDocuments(e,r).next(o=>{const s=this.ts(n,o);return this.ns(n,s,r,i)?X.resolve(null):(ps()<=Ne.DEBUG&&ie("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ji(n)),this.rs(e,s,n,fS(i,-1)).next(a=>a))})}ts(e,n){let r=new Mt(U1(e));return n.forEach((i,o)=>{Du(e,o)&&(r=r.add(o))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,n,r){return ps()<=Ne.DEBUG&&ie("QueryEngine","Using full collection scan to execute query:",Ji(n)),this.Ji.getDocumentsMatchingQuery(e,n,ei.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UI{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new it(Ue),this._s=new Ho(o=>yd(o),_d),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new kI(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function BI(t,e,n,r){return new UI(t,e,n,r)}async function a_(t,e){const n=Ce(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let u=be();for(const c of i){s.push(c.batchId);for(const h of c.mutations)u=u.add(h.key)}for(const c of o){a.push(c.batchId);for(const h of c.mutations)u=u.add(h.key)}return n.localDocuments.getDocuments(r,u).next(c=>({hs:c,removedBatchIds:s,addedBatchIds:a}))})})}function zI(t,e){const n=Ce(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,u,c,h){const f=c.batch,d=f.keys();let g=X.resolve();return d.forEach(_=>{g=g.next(()=>h.getEntry(u,_)).next(S=>{const P=c.docVersions.get(_);Ge(P!==null),S.version.compareTo(P)<0&&(f.applyToRemoteDocument(S,c),S.isValidDocument()&&(S.setReadTime(c.commitVersion),h.addEntry(S)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(u,f))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=be();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(u=u.add(a.batch.mutations[c].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function l_(t){const e=Ce(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function jI(t,e){const n=Ce(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const a=[];e.targetChanges.forEach((h,f)=>{const d=i.get(f);if(!d)return;a.push(n.Ur.removeMatchingKeys(o,h.removedDocuments,f).next(()=>n.Ur.addMatchingKeys(o,h.addedDocuments,f)));let g=d.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(f)!==null?g=g.withResumeToken(Dt.EMPTY_BYTE_STRING,Te.min()).withLastLimboFreeSnapshotVersion(Te.min()):h.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(h.resumeToken,r)),i=i.insert(f,g),function(S,P,w){return S.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=3e8?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(d,g,h)&&a.push(n.Ur.updateTargetData(o,g))});let u=yr(),c=be();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push($I(o,s,e.documentUpdates).next(h=>{u=h.Ps,c=h.Is})),!r.isEqual(Te.min())){const h=n.Ur.getLastRemoteSnapshotVersion(o).next(f=>n.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(h)}return X.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,u,c)).next(()=>u)}).then(o=>(n.os=i,o))}function $I(t,e,n){let r=be(),i=be();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=yr();return n.forEach((a,u)=>{const c=o.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(Te.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||u.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):ie("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{Ps:s,Is:i}})}function HI(t,e){const n=Ce(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function WI(t,e){const n=Ce(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(o=>o?(i=o,X.resolve(i)):n.Ur.allocateTargetId(r).next(s=>(i=new Vr(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function rf(t,e,n){const r=Ce(t),i=r.os.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!ya(s))throw s;ie("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function Tm(t,e,n){const r=Ce(t);let i=Te.min(),o=be();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,c,h){const f=Ce(u),d=f._s.get(h);return d!==void 0?X.resolve(f.os.get(d)):f.Ur.getTargetData(c,h)}(r,s,Yn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.ss.getDocumentsMatchingQuery(s,e,n?i:Te.min(),n?o:be())).next(a=>(GI(r,OS(e),a),{documents:a,Ts:o})))}function GI(t,e,n){let r=t.us.get(e)||Te.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.us.set(e,r)}class Cm{constructor(){this.activeTargetIds=jS()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class qI{constructor(){this.so=new Cm,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Cm,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KI{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sm{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){ie("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){ie("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nl=null;function Fc(){return nl===null?nl=function(){return 268435456+Math.round(2147483648*Math.random())}():nl++,"0x"+nl.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZI{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zt="WebChannelConnection";class XI extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(n,r,i,o,s){const a=Fc(),u=this.xo(n,r.toUriEncodedString());ie("RestConnection",`Sending RPC '${n}' ${a}:`,u,i);const c={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(c,o,s),this.No(n,u,c,i).then(h=>(ie("RestConnection",`Received RPC '${n}' ${a}: `,h),h),h=>{throw Mo("RestConnection",`RPC '${n}' ${a} failed with error: `,h,"url: ",u,"request:",i),h})}Lo(n,r,i,o,s,a){return this.Mo(n,r,i,o,s)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+$o}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}xo(n,r){const i=QI[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const o=Fc();return new Promise((s,a)=>{const u=new E1;u.setWithCredentials(!0),u.listenOnce(T1.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case El.NO_ERROR:const h=u.getResponseJson();ie(zt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),s(h);break;case El.TIMEOUT:ie(zt,`RPC '${e}' ${o} timed out`),a(new ce(Y.DEADLINE_EXCEEDED,"Request time out"));break;case El.HTTP_ERROR:const f=u.getStatus();if(ie(zt,`RPC '${e}' ${o} failed with status:`,f,"response text:",u.getResponseText()),f>0){let d=u.getResponseJson();Array.isArray(d)&&(d=d[0]);const g=d==null?void 0:d.error;if(g&&g.status&&g.message){const _=function(P){const w=P.toLowerCase().replace(/_/g,"-");return Object.values(Y).indexOf(w)>=0?w:Y.UNKNOWN}(g.status);a(new ce(_,g.message))}else a(new ce(Y.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new ce(Y.UNAVAILABLE,"Connection failed."));break;default:_e()}}finally{ie(zt,`RPC '${e}' ${o} completed.`)}});const c=JSON.stringify(i);ie(zt,`RPC '${e}' ${o} sending request:`,i),u.send(n,"POST",c,r,15)})}Bo(e,n,r){const i=Fc(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=I1(),a=S1(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.xmlHttpFactory=new w1({})),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const h=o.join("");ie(zt,`Creating RPC '${e}' stream ${i}: ${h}`,u);const f=s.createWebChannel(h,u);let d=!1,g=!1;const _=new ZI({Io:P=>{g?ie(zt,`Not sending because RPC '${e}' stream ${i} is closed:`,P):(d||(ie(zt,`Opening RPC '${e}' stream ${i} transport.`),f.open(),d=!0),ie(zt,`RPC '${e}' stream ${i} sending:`,P),f.send(P))},To:()=>f.close()}),S=(P,w,I)=>{P.listen(w,L=>{try{I(L)}catch(b){setTimeout(()=>{throw b},0)}})};return S(f,Cs.EventType.OPEN,()=>{g||(ie(zt,`RPC '${e}' stream ${i} transport opened.`),_.yo())}),S(f,Cs.EventType.CLOSE,()=>{g||(g=!0,ie(zt,`RPC '${e}' stream ${i} transport closed`),_.So())}),S(f,Cs.EventType.ERROR,P=>{g||(g=!0,Mo(zt,`RPC '${e}' stream ${i} transport errored:`,P),_.So(new ce(Y.UNAVAILABLE,"The operation could not be completed")))}),S(f,Cs.EventType.MESSAGE,P=>{var w;if(!g){const I=P.data[0];Ge(!!I);const L=I,b=L.error||((w=L[0])===null||w===void 0?void 0:w.error);if(b){ie(zt,`RPC '${e}' stream ${i} received error:`,b);const O=b.status;let x=function(v){const E=pt[v];if(E!==void 0)return X1(E)}(O),T=b.message;x===void 0&&(x=Y.INTERNAL,T="Unknown error status: "+O+" with message "+b.message),g=!0,_.So(new ce(x,T)),f.close()}else ie(zt,`RPC '${e}' stream ${i} received:`,I),_.bo(I)}}),S(a,C1.STAT_EVENT,P=>{P.stat===qh.PROXY?ie(zt,`RPC '${e}' stream ${i} detected buffering proxy`):P.stat===qh.NOPROXY&&ie(zt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{_.wo()},0),_}}function Uc(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fu(t){return new aI(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u_{constructor(e,n,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&ie("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c_{constructor(e,n,r,i,o,s,a,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new u_(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===Y.RESOURCE_EXHAUSTED?(vr(n.toString()),vr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===Y.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new ce(Y.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return ie("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(ie("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class YI extends c_{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=cI(this.serializer,e),r=function(o){if(!("targetChange"in o))return Te.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?Te.min():s.readTime?er(s.readTime):Te.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=nf(this.serializer),n.addTarget=function(o,s){let a;const u=s.target;if(a=Xh(u)?{documents:dI(o,u)}:{query:pI(o,u)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=e_(o,s.resumeToken);const c=Jh(o,s.expectedCount);c!==null&&(a.expectedCount=c)}else if(s.snapshotVersion.compareTo(Te.min())>0){a.readTime=ru(o,s.snapshotVersion.toTimestamp());const c=Jh(o,s.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=mI(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=nf(this.serializer),n.removeTarget=e,this.a_(n)}}class JI extends c_{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Ge(!!e.streamToken),this.lastStreamToken=e.streamToken,Ge(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Ge(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=fI(e.writeResults,e.commitTime),r=er(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=nf(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>hI(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eL extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new ce(Y.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Mo(e,ef(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ce(Y.UNKNOWN,o.toString())})}Lo(e,n,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Lo(e,ef(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ce(Y.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class tL{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(vr(n),this.D_=!1):ie("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nL{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(s=>{r.enqueueAndForget(async()=>{ji(this)&&(ie("RemoteStore","Restarting streams for network reachability change."),await async function(u){const c=Ce(u);c.L_.add(4),await wa(c),c.q_.set("Unknown"),c.L_.delete(4),await Uu(c)}(this))})}),this.q_=new tL(r,i)}}async function Uu(t){if(ji(t))for(const e of t.B_)await e(!0)}async function wa(t){for(const e of t.B_)await e(!1)}function h_(t,e){const n=Ce(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),Pd(n)?xd(n):Wo(n).r_()&&Ad(n,e))}function kd(t,e){const n=Ce(t),r=Wo(n);n.N_.delete(e),r.r_()&&f_(n,e),n.N_.size===0&&(r.r_()?r.o_():ji(n)&&n.q_.set("Unknown"))}function Ad(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Te.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Wo(t).A_(e)}function f_(t,e){t.Q_.xe(e),Wo(t).R_(e)}function xd(t){t.Q_=new rI({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Wo(t).start(),t.q_.v_()}function Pd(t){return ji(t)&&!Wo(t).n_()&&t.N_.size>0}function ji(t){return Ce(t).L_.size===0}function d_(t){t.Q_=void 0}async function rL(t){t.q_.set("Online")}async function iL(t){t.N_.forEach((e,n)=>{Ad(t,e)})}async function oL(t,e){d_(t),Pd(t)?(t.q_.M_(e),xd(t)):t.q_.set("Unknown")}async function sL(t,e,n){if(t.q_.set("Online"),e instanceof J1&&e.state===2&&e.cause)try{await async function(i,o){const s=o.cause;for(const a of o.targetIds)i.N_.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.N_.delete(a),i.Q_.removeTarget(a))}(t,e)}catch(r){ie("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await iu(t,r)}else if(e instanceof Cl?t.Q_.Ke(e):e instanceof Y1?t.Q_.He(e):t.Q_.We(e),!n.isEqual(Te.min()))try{const r=await l_(t.localStore);n.compareTo(r)>=0&&await function(o,s){const a=o.Q_.rt(s);return a.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const h=o.N_.get(c);h&&o.N_.set(c,h.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,c)=>{const h=o.N_.get(u);if(!h)return;o.N_.set(u,h.withResumeToken(Dt.EMPTY_BYTE_STRING,h.snapshotVersion)),f_(o,u);const f=new Vr(h.target,u,c,h.sequenceNumber);Ad(o,f)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){ie("RemoteStore","Failed to raise snapshot:",r),await iu(t,r)}}async function iu(t,e,n){if(!ya(e))throw e;t.L_.add(1),await wa(t),t.q_.set("Offline"),n||(n=()=>l_(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ie("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await Uu(t)})}function p_(t,e){return e().catch(n=>iu(t,n,e))}async function Bu(t){const e=Ce(t),n=ni(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;aL(e);)try{const i=await HI(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,lL(e,i)}catch(i){await iu(e,i)}g_(e)&&m_(e)}function aL(t){return ji(t)&&t.O_.length<10}function lL(t,e){t.O_.push(e);const n=ni(t);n.r_()&&n.V_&&n.m_(e.mutations)}function g_(t){return ji(t)&&!ni(t).n_()&&t.O_.length>0}function m_(t){ni(t).start()}async function uL(t){ni(t).p_()}async function cL(t){const e=ni(t);for(const n of t.O_)e.m_(n.mutations)}async function hL(t,e,n){const r=t.O_.shift(),i=wd.from(r,e,n);await p_(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Bu(t)}async function fL(t,e){e&&ni(t).V_&&await async function(r,i){if(function(s){return eI(s)&&s!==Y.ABORTED}(i.code)){const o=r.O_.shift();ni(r).s_(),await p_(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await Bu(r)}}(t,e),g_(t)&&m_(t)}async function Im(t,e){const n=Ce(t);n.asyncQueue.verifyOperationInProgress(),ie("RemoteStore","RemoteStore received new credentials");const r=ji(n);n.L_.add(3),await wa(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Uu(n)}async function dL(t,e){const n=Ce(t);e?(n.L_.delete(2),await Uu(n)):e||(n.L_.add(2),await wa(n),n.q_.set("Unknown"))}function Wo(t){return t.K_||(t.K_=function(n,r,i){const o=Ce(n);return o.w_(),new YI(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:rL.bind(null,t),Ro:iL.bind(null,t),mo:oL.bind(null,t),d_:sL.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),Pd(t)?xd(t):t.q_.set("Unknown")):(await t.K_.stop(),d_(t))})),t.K_}function ni(t){return t.U_||(t.U_=function(n,r,i){const o=Ce(n);return o.w_(),new JI(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:uL.bind(null,t),mo:fL.bind(null,t),f_:cL.bind(null,t),g_:hL.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Bu(t)):(await t.U_.stop(),t.O_.length>0&&(ie("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rd{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Zr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new Rd(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ce(Y.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Md(t,e){if(vr("AsyncQueue",`${e}: ${t}`),ya(t))return new ce(Y.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(e){this.comparator=e?(n,r)=>e(n,r)||de.comparator(n.key,r.key):(n,r)=>de.comparator(n.key,r.key),this.keyedMap=Ss(),this.sortedSet=new it(this.comparator)}static emptySet(e){return new To(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof To)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new To;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lm{constructor(){this.W_=new it(de.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):_e():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Vo{constructor(e,n,r,i,o,s,a,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new Vo(e,n,To.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&bu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pL{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class gL{constructor(){this.queries=km(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=Ce(n),o=i.queries;i.queries=km(),o.forEach((s,a)=>{for(const u of a.j_)u.onError(r)})})(this,new ce(Y.ABORTED,"Firestore shutting down"))}}function km(){return new Ho(t=>F1(t),bu)}async function mL(t,e){const n=Ce(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.H_()&&e.J_()&&(r=2):(o=new pL,r=e.J_()?0:1);try{switch(r){case 0:o.z_=await n.onListen(i,!0);break;case 1:o.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const a=Md(s,`Initialization of query '${Ji(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.j_.push(e),e.Z_(n.onlineState),o.z_&&e.X_(o.z_)&&bd(n)}async function vL(t,e){const n=Ce(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const s=o.j_.indexOf(e);s>=0&&(o.j_.splice(s,1),o.j_.length===0?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function yL(t,e){const n=Ce(t);let r=!1;for(const i of e){const o=i.query,s=n.queries.get(o);if(s){for(const a of s.j_)a.X_(i)&&(r=!0);s.z_=i}}r&&bd(n)}function _L(t,e,n){const r=Ce(t),i=r.queries.get(e);if(i)for(const o of i.j_)o.onError(n);r.queries.delete(e)}function bd(t){t.Y_.forEach(e=>{e.next()})}var of,Am;(Am=of||(of={})).ea="default",Am.Cache="cache";class EL{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Vo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Vo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==of.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v_{constructor(e){this.key=e}}class y_{constructor(e){this.key=e}}class wL{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=be(),this.mutatedKeys=be(),this.Aa=U1(e),this.Ra=new To(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new Lm,i=n?n.Ra:this.Ra;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,f)=>{const d=i.get(h),g=Du(this.query,f)?f:null,_=!!d&&this.mutatedKeys.has(d.key),S=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let P=!1;d&&g?d.data.isEqual(g.data)?_!==S&&(r.track({type:3,doc:g}),P=!0):this.ga(d,g)||(r.track({type:2,doc:g}),P=!0,(u&&this.Aa(g,u)>0||c&&this.Aa(g,c)<0)&&(a=!0)):!d&&g?(r.track({type:0,doc:g}),P=!0):d&&!g&&(r.track({type:1,doc:d}),P=!0,(u||c)&&(a=!0)),P&&(g?(s=s.add(g),o=S?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{Ra:s,fa:r,ns:a,mutatedKeys:o}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const s=e.fa.G_();s.sort((h,f)=>function(g,_){const S=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _e()}};return S(g)-S(_)}(h.type,f.type)||this.Aa(h.doc,f.doc)),this.pa(r),i=i!=null&&i;const a=n&&!i?this.ya():[],u=this.da.size===0&&this.current&&!i?1:0,c=u!==this.Ea;return this.Ea=u,s.length!==0||c?{snapshot:new Vo(this.query,e.Ra,o,s,e.mutatedKeys,u===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Lm,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=be(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new y_(r))}),this.da.forEach(r=>{e.has(r)||n.push(new v_(r))}),n}ba(e){this.Ta=e.Ts,this.da=be();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Vo.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class TL{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class CL{constructor(e){this.key=e,this.va=!1}}class SL{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new Ho(a=>F1(a),bu),this.Ma=new Map,this.xa=new Set,this.Oa=new it(de.comparator),this.Na=new Map,this.La=new Sd,this.Ba={},this.ka=new Map,this.qa=Oo.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function IL(t,e,n=!0){const r=S_(t);let i;const o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=await __(r,e,n,!0),i}async function LL(t,e){const n=S_(t);await __(n,e,!0,!1)}async function __(t,e,n,r){const i=await WI(t.localStore,Yn(e)),o=i.targetId,s=n?t.sharedClientState.addLocalQueryTarget(o):"not-current";let a;return r&&(a=await kL(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&h_(t.remoteStore,i),a}async function kL(t,e,n,r,i){t.Ka=(f,d,g)=>async function(S,P,w,I){let L=P.view.ma(w);L.ns&&(L=await Tm(S.localStore,P.query,!1).then(({documents:T})=>P.view.ma(T,L)));const b=I&&I.targetChanges.get(P.targetId),O=I&&I.targetMismatches.get(P.targetId)!=null,x=P.view.applyChanges(L,S.isPrimaryClient,b,O);return Pm(S,P.targetId,x.wa),x.snapshot}(t,f,d,g);const o=await Tm(t.localStore,e,!0),s=new wL(e,o.Ts),a=s.ma(o.documents),u=Ea.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=s.applyChanges(a,t.isPrimaryClient,u);Pm(t,n,c.wa);const h=new TL(e,n,s);return t.Fa.set(e,h),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),c.snapshot}async function AL(t,e,n){const r=Ce(t),i=r.Fa.get(e),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter(s=>!bu(s,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await rf(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&kd(r.remoteStore,i.targetId),sf(r,i.targetId)}).catch(va)):(sf(r,i.targetId),await rf(r.localStore,i.targetId,!0))}async function xL(t,e){const n=Ce(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),kd(n.remoteStore,r.targetId))}async function PL(t,e,n){const r=VL(t);try{const i=await function(s,a){const u=Ce(s),c=ft.now(),h=a.reduce((g,_)=>g.add(_.key),be());let f,d;return u.persistence.runTransaction("Locally write mutations","readwrite",g=>{let _=yr(),S=be();return u.cs.getEntries(g,h).next(P=>{_=P,_.forEach((w,I)=>{I.isValidDocument()||(S=S.add(w))})}).next(()=>u.localDocuments.getOverlayedDocuments(g,_)).next(P=>{f=P;const w=[];for(const I of a){const L=QS(I,f.get(I.key).overlayedDocument);L!=null&&w.push(new si(I.key,L,P1(L.value.mapValue),Jn.exists(!0)))}return u.mutationQueue.addMutationBatch(g,c,w,a)}).next(P=>{d=P;const w=P.applyToLocalDocumentSet(f,S);return u.documentOverlayCache.saveOverlays(g,P.batchId,w)})}).then(()=>({batchId:d.batchId,changes:z1(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,u){let c=s.Ba[s.currentUser.toKey()];c||(c=new it(Ue)),c=c.insert(a,u),s.Ba[s.currentUser.toKey()]=c}(r,i.batchId,n),await Ta(r,i.changes),await Bu(r.remoteStore)}catch(i){const o=Md(i,"Failed to persist write");n.reject(o)}}async function E_(t,e){const n=Ce(t);try{const r=await jI(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.Na.get(o);s&&(Ge(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.va=!0:i.modifiedDocuments.size>0?Ge(s.va):i.removedDocuments.size>0&&(Ge(s.va),s.va=!1))}),await Ta(n,r,e)}catch(r){await va(r)}}function xm(t,e,n){const r=Ce(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((o,s)=>{const a=s.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const u=Ce(s);u.onlineState=a;let c=!1;u.queries.forEach((h,f)=>{for(const d of f.j_)d.Z_(a)&&(c=!0)}),c&&bd(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function RL(t,e,n){const r=Ce(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),o=i&&i.key;if(o){let s=new it(de.comparator);s=s.insert(o,Wt.newNoDocument(o,Te.min()));const a=be().add(o),u=new Vu(Te.min(),new Map,new it(Ue),s,a);await E_(r,u),r.Oa=r.Oa.remove(o),r.Na.delete(e),Dd(r)}else await rf(r.localStore,e,!1).then(()=>sf(r,e,n)).catch(va)}async function ML(t,e){const n=Ce(t),r=e.batch.batchId;try{const i=await zI(n.localStore,e);T_(n,r,null),w_(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ta(n,i)}catch(i){await va(i)}}async function bL(t,e,n){const r=Ce(t);try{const i=await function(s,a){const u=Ce(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let h;return u.mutationQueue.lookupMutationBatch(c,a).next(f=>(Ge(f!==null),h=f.keys(),u.mutationQueue.removeMutationBatch(c,f))).next(()=>u.mutationQueue.performConsistencyCheck(c)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(c,h,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,h)).next(()=>u.localDocuments.getDocuments(c,h))})}(r.localStore,e);T_(r,e,n),w_(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Ta(r,i)}catch(i){await va(i)}}function w_(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function T_(t,e,n){const r=Ce(t);let i=r.Ba[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function sf(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||C_(t,r)})}function C_(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(kd(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),Dd(t))}function Pm(t,e,n){for(const r of n)r instanceof v_?(t.La.addReference(r.key,e),DL(t,r)):r instanceof y_?(ie("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||C_(t,r.key)):_e()}function DL(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(ie("SyncEngine","New document in limbo: "+n),t.xa.add(r),Dd(t))}function Dd(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new de(Je.fromString(e)),r=t.qa.next();t.Na.set(r,new CL(n)),t.Oa=t.Oa.insert(n,r),h_(t.remoteStore,new Vr(Yn(V1(n.path)),r,"TargetPurposeLimboResolution",pd.oe))}}async function Ta(t,e,n){const r=Ce(t),i=[],o=[],s=[];r.Fa.isEmpty()||(r.Fa.forEach((a,u)=>{s.push(r.Ka(u,e,n).then(c=>{var h;if((c||n)&&r.isPrimaryClient){const f=c?!c.fromCache:(h=n==null?void 0:n.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,f?"current":"not-current")}if(c){i.push(c);const f=Ld.Wi(u.targetId,c);o.push(f)}}))}),await Promise.all(s),r.Ca.d_(i),await async function(u,c){const h=Ce(u);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>X.forEach(c,d=>X.forEach(d.$i,g=>h.persistence.referenceDelegate.addReference(f,d.targetId,g)).next(()=>X.forEach(d.Ui,g=>h.persistence.referenceDelegate.removeReference(f,d.targetId,g)))))}catch(f){if(!ya(f))throw f;ie("LocalStore","Failed to update sequence numbers: "+f)}for(const f of c){const d=f.targetId;if(!f.fromCache){const g=h.os.get(d),_=g.snapshotVersion,S=g.withLastLimboFreeSnapshotVersion(_);h.os=h.os.insert(d,S)}}}(r.localStore,o))}async function NL(t,e){const n=Ce(t);if(!n.currentUser.isEqual(e)){ie("SyncEngine","User change. New user:",e.toKey());const r=await a_(n.localStore,e);n.currentUser=e,function(o,s){o.ka.forEach(a=>{a.forEach(u=>{u.reject(new ce(Y.CANCELLED,s))})}),o.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ta(n,r.hs)}}function OL(t,e){const n=Ce(t),r=n.Na.get(e);if(r&&r.va)return be().add(r.key);{let i=be();const o=n.Ma.get(e);if(!o)return i;for(const s of o){const a=n.Fa.get(s);i=i.unionWith(a.view.Va)}return i}}function S_(t){const e=Ce(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=E_.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=OL.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=RL.bind(null,e),e.Ca.d_=yL.bind(null,e.eventManager),e.Ca.$a=_L.bind(null,e.eventManager),e}function VL(t){const e=Ce(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ML.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=bL.bind(null,e),e}class Rm{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Fu(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return BI(this.persistence,new FI,e.initialUser,this.serializer)}createPersistence(e){return new NI(Id.Zr,this.serializer)}createSharedClientState(e){return new qI}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class FL{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>xm(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=NL.bind(null,this.syncEngine),await dL(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new gL}()}createDatastore(e){const n=Fu(e.databaseInfo.databaseId),r=function(o){return new XI(o)}(e.databaseInfo);return function(o,s,a,u){return new eL(o,s,a,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,a){return new nL(r,i,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,n=>xm(this.syncEngine,n,0),function(){return Sm.D()?new Sm:new KI}())}createSyncEngine(e,n){return function(i,o,s,a,u,c,h){const f=new SL(i,o,s,a,u,c);return h&&(f.Qa=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const o=Ce(i);ie("RemoteStore","RemoteStore shutting down."),o.L_.add(5),await wa(o),o.k_.shutdown(),o.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UL{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ga(this.observer.next,e)}error(e){this.observer.error?this.Ga(this.observer.error,e):vr("Uncaught Error in snapshot listener:",e.toString())}za(){this.muted=!0}Ga(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BL{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=$t.UNAUTHENTICATED,this.clientId=k1.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async o=>{ie("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(ie("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ce(Y.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Zr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Md(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Bc(t,e){t.asyncQueue.verifyOperationInProgress(),ie("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await a_(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Mm(t,e){t.asyncQueue.verifyOperationInProgress();const n=await jL(t);ie("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Im(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>Im(e.remoteStore,i)),t._onlineComponents=e}function zL(t){return t.name==="FirebaseError"?t.code===Y.FAILED_PRECONDITION||t.code===Y.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function jL(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ie("FirestoreClient","Using user provided OfflineComponentProvider");try{await Bc(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!zL(n))throw n;Mo("Error using user provided cache. Falling back to memory cache: "+n),await Bc(t,new Rm)}}else ie("FirestoreClient","Using default OfflineComponentProvider"),await Bc(t,new Rm);return t._offlineComponents}async function I_(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ie("FirestoreClient","Using user provided OnlineComponentProvider"),await Mm(t,t._uninitializedComponentsProvider._online)):(ie("FirestoreClient","Using default OnlineComponentProvider"),await Mm(t,new FL))),t._onlineComponents}function $L(t){return I_(t).then(e=>e.syncEngine)}async function HL(t){const e=await I_(t),n=e.eventManager;return n.onListen=IL.bind(null,e.syncEngine),n.onUnlisten=AL.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=LL.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=xL.bind(null,e.syncEngine),n}function WL(t,e,n={}){const r=new Zr;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,a,u,c){const h=new UL({next:d=>{s.enqueueAndForget(()=>vL(o,f)),d.fromCache&&u.source==="server"?c.reject(new ce(Y.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(d)},error:d=>c.reject(d)}),f=new EL(a,h,{includeMetadataChanges:!0,_a:!0});return mL(o,f)}(await HL(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L_(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bm=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k_(t,e,n){if(!n)throw new ce(Y.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function GL(t,e,n,r){if(e===!0&&r===!0)throw new ce(Y.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Dm(t){if(!de.isDocumentKey(t))throw new ce(Y.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Nm(t){if(de.isDocumentKey(t))throw new ce(Y.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Nd(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":_e()}function Fo(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ce(Y.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Nd(t);throw new ce(Y.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ce(Y.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ce(Y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}GL("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=L_((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new ce(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new ce(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new ce(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class zu{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Om({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ce(Y.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new ce(Y.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Om(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new rS;switch(r.type){case"firstParty":return new aS(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ce(Y.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=bm.get(n);r&&(ie("ComponentProvider","Removing Datastore"),bm.delete(n),r.terminate())}(this),Promise.resolve()}}function qL(t,e,n,r={}){var i;const o=(t=Fo(t,zu))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&Mo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=$t.MOCK_USER;else{a=l1(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new ce(Y.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new $t(c)}t._authCredentials=new iS(new L1(a,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ju(this.firestore,e,this._query)}}class kn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Xr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new kn(this.firestore,e,this._key)}}class Xr extends ju{constructor(e,n,r){super(e,n,V1(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new kn(this.firestore,null,new de(e))}withConverter(e){return new Xr(this.firestore,e,this._path)}}function Od(t,e,...n){if(t=Pn(t),k_("collection","path",e),t instanceof zu){const r=Je.fromString(e,...n);return Nm(r),new Xr(t,null,r)}{if(!(t instanceof kn||t instanceof Xr))throw new ce(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Je.fromString(e,...n));return Nm(r),new Xr(t.firestore,null,r)}}function A_(t,e,...n){if(t=Pn(t),arguments.length===1&&(e=k1.newId()),k_("doc","path",e),t instanceof zu){const r=Je.fromString(e,...n);return Dm(r),new kn(t,null,new de(r))}{if(!(t instanceof kn||t instanceof Xr))throw new ce(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Je.fromString(e,...n));return Dm(r),new kn(t.firestore,t instanceof Xr?t.converter:null,new de(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KL{constructor(){this.au=Promise.resolve(),this.uu=[],this.cu=!1,this.lu=[],this.hu=null,this.Pu=!1,this.Iu=!1,this.Tu=[],this.t_=new u_(this,"async_queue_retry"),this.Eu=()=>{const n=Uc();n&&ie("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()};const e=Uc();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Eu)}get isShuttingDown(){return this.cu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.du(),this.Au(e)}enterRestrictedMode(e){if(!this.cu){this.cu=!0,this.Iu=e||!1;const n=Uc();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Eu)}}enqueue(e){if(this.du(),this.cu)return new Promise(()=>{});const n=new Zr;return this.Au(()=>this.cu&&this.Iu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.uu.push(e),this.Ru()))}async Ru(){if(this.uu.length!==0){try{await this.uu[0](),this.uu.shift(),this.t_.reset()}catch(e){if(!ya(e))throw e;ie("AsyncQueue","Operation failed with retryable error: "+e)}this.uu.length>0&&this.t_.Go(()=>this.Ru())}}Au(e){const n=this.au.then(()=>(this.Pu=!0,e().catch(r=>{this.hu=r,this.Pu=!1;const i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw vr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Pu=!1,r))));return this.au=n,n}enqueueAfterDelay(e,n,r){this.du(),this.Tu.indexOf(e)>-1&&(n=0);const i=Rd.createAndSchedule(this,e,n,r,o=>this.Vu(o));return this.lu.push(i),i}du(){this.hu&&_e()}verifyOperationInProgress(){}async mu(){let e;do e=this.au,await e;while(e!==this.au)}fu(e){for(const n of this.lu)if(n.timerId===e)return!0;return!1}gu(e){return this.mu().then(()=>{this.lu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.lu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.mu()})}pu(e){this.Tu.push(e)}Vu(e){const n=this.lu.indexOf(e);this.lu.splice(n,1)}}class $u extends zu{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new KL}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||P_(this),this._firestoreClient.terminate()}}function QL(t,e){const n=typeof t=="object"?t:m1(),r=typeof t=="string"?t:"(default)",i=d1(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=s1("firestore");o&&qL(i,...o)}return i}function x_(t){return t._firestoreClient||P_(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function P_(t){var e,n,r;const i=t._freezeSettings(),o=function(a,u,c,h){return new ES(a,u,c,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,L_(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new BL(t._authCredentials,t._appCheckCredentials,t._queue,o),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Uo(Dt.fromBase64String(e))}catch(n){throw new ce(Y.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Uo(Dt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hu{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ce(Y.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Pt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vd{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ce(Y.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ce(Y.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ue(this._lat,e._lat)||Ue(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ud{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZL=/^__.*__$/;class XL{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new si(e,this.data,this.fieldMask,n,this.fieldTransforms):new _a(e,this.data,n,this.fieldTransforms)}}class R_{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new si(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function M_(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _e()}}class Bd{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.yu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get wu(){return this.settings.wu}Su(e){return new Bd(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}bu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.vu(e),i}Cu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.yu(),i}Fu(e){return this.Su({path:void 0,Du:!0})}Mu(e){return ou(e,this.settings.methodName,this.settings.xu||!1,this.path,this.settings.Ou)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}yu(){if(this.path)for(let e=0;e<this.path.length;e++)this.vu(this.path.get(e))}vu(e){if(e.length===0)throw this.Mu("Document fields must not be empty");if(M_(this.wu)&&ZL.test(e))throw this.Mu('Document fields cannot begin and end with "__"')}}class YL{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Fu(e)}Nu(e,n,r,i=!1){return new Bd({wu:e,methodName:n,Ou:r,path:Pt.emptyPath(),Du:!1,xu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function b_(t){const e=t._freezeSettings(),n=Fu(t._databaseId);return new YL(t._databaseId,!!e.ignoreUndefinedProperties,n)}function JL(t,e,n,r,i,o={}){const s=t.Nu(o.merge||o.mergeFields?2:0,e,n,i);zd("Data must be an object, but it was:",s,r);const a=D_(r,s);let u,c;if(o.merge)u=new mn(s.fieldMask),c=s.fieldTransforms;else if(o.mergeFields){const h=[];for(const f of o.mergeFields){const d=af(e,f,n);if(!s.contains(d))throw new ce(Y.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);O_(h,d)||h.push(d)}u=new mn(h),c=s.fieldTransforms.filter(f=>u.covers(f.field))}else u=null,c=s.fieldTransforms;return new XL(new nn(a),u,c)}class Wu extends Vd{_toFieldTransform(e){if(e.wu!==2)throw e.wu===1?e.Mu(`${this._methodName}() can only appear at the top level of your update data`):e.Mu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Wu}}function ek(t,e,n,r){const i=t.Nu(1,e,n);zd("Data must be an object, but it was:",i,r);const o=[],s=nn.empty();zi(r,(u,c)=>{const h=jd(e,u,n);c=Pn(c);const f=i.Cu(h);if(c instanceof Wu)o.push(h);else{const d=Gu(c,f);d!=null&&(o.push(h),s.set(h,d))}});const a=new mn(o);return new R_(s,a,i.fieldTransforms)}function tk(t,e,n,r,i,o){const s=t.Nu(1,e,n),a=[af(e,r,n)],u=[i];if(o.length%2!=0)throw new ce(Y.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<o.length;d+=2)a.push(af(e,o[d])),u.push(o[d+1]);const c=[],h=nn.empty();for(let d=a.length-1;d>=0;--d)if(!O_(c,a[d])){const g=a[d];let _=u[d];_=Pn(_);const S=s.Cu(g);if(_ instanceof Wu)c.push(g);else{const P=Gu(_,S);P!=null&&(c.push(g),h.set(g,P))}}const f=new mn(c);return new R_(h,f,s.fieldTransforms)}function Gu(t,e){if(N_(t=Pn(t)))return zd("Unsupported field value:",e,t),D_(t,e);if(t instanceof Vd)return function(r,i){if(!M_(i.wu))throw i.Mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Mu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Du&&e.wu!==4)throw e.Mu("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let u=Gu(a,i.Fu(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=Pn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return $S(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=ft.fromDate(r);return{timestampValue:ru(i.serializer,o)}}if(r instanceof ft){const o=new ft(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ru(i.serializer,o)}}if(r instanceof Fd)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Uo)return{bytesValue:e_(i.serializer,r._byteString)};if(r instanceof kn){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Mu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Cd(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Ud)return function(s,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(u=>{if(typeof u!="number")throw a.Mu("VectorValues must only contain numeric values.");return Ed(a.serializer,u)})}}}}}}(r,i);throw i.Mu(`Unsupported field value: ${Nd(r)}`)}(t,e)}function D_(t,e){const n={};return A1(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):zi(t,(r,i)=>{const o=Gu(i,e.bu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function N_(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ft||t instanceof Fd||t instanceof Uo||t instanceof kn||t instanceof Vd||t instanceof Ud)}function zd(t,e,n){if(!N_(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Nd(n);throw r==="an object"?e.Mu(t+" a custom object"):e.Mu(t+" "+r)}}function af(t,e,n){if((e=Pn(e))instanceof Hu)return e._internalPath;if(typeof e=="string")return jd(t,e);throw ou("Field path arguments must be of type string or ",t,!1,void 0,n)}const nk=new RegExp("[~\\*/\\[\\]]");function jd(t,e,n){if(e.search(nk)>=0)throw ou(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Hu(...e.split("."))._internalPath}catch{throw ou(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function ou(t,e,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new ce(Y.INVALID_ARGUMENT,a+t+u)}function O_(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V_{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new kn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new rk(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(F_("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class rk extends V_{data(){return super.data()}}function F_(t,e){return typeof e=="string"?jd(t,e):e instanceof Hu?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ik(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ce(Y.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ok{convertValue(e,n="none"){switch(Ni(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ct(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Di(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw _e()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return zi(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;const o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>ct(s.doubleValue));return new Ud(o)}convertGeoPoint(e){return new Fd(ct(e.latitude),ct(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=md(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(aa(e));default:return null}}convertTimestamp(e){const n=ti(e);return new ft(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Je.fromString(e);Ge(s_(r));const i=new la(r.get(1),r.get(3)),o=new de(r.popFirst(5));return i.isEqual(n)||vr(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sk(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ak extends V_{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Sl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(F_("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Sl extends ak{data(e={}){return super.data(e)}}class lk{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new rl(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Sl(this._firestore,this._userDataWriter,r.key,r,new rl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ce(Y.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{const u=new Sl(i._firestore,i._userDataWriter,a.doc.key,a.doc,new rl(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{const u=new Sl(i._firestore,i._userDataWriter,a.doc.key,a.doc,new rl(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,h=-1;return a.type!==0&&(c=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:uk(a.type),doc:u,oldIndex:c,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function uk(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _e()}}class ck extends ok{constructor(e){super(),this.firestore=e}convertBytes(e){return new Uo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new kn(this.firestore,null,n)}}function U_(t){t=Fo(t,ju);const e=Fo(t.firestore,$u),n=x_(e),r=new ck(e);return ik(t._query),WL(n,t._query).then(i=>new lk(e,r,t,i))}function hk(t,e,n,...r){t=Fo(t,kn);const i=Fo(t.firestore,$u),o=b_(i);let s;return s=typeof(e=Pn(e))=="string"||e instanceof Hu?tk(o,"updateDoc",t._key,e,n,r):ek(o,"updateDoc",t._key,e),B_(i,[s.toMutation(t._key,Jn.exists(!0))])}function fk(t,e){const n=Fo(t.firestore,$u),r=A_(t),i=sk(t.converter,e);return B_(n,[JL(b_(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Jn.exists(!1))]).then(()=>r)}function B_(t,e){return function(r,i){const o=new Zr;return r.asyncQueue.enqueueAndForget(async()=>PL(await $L(r),i,o)),o.promise}(x_(t),e)}(function(e,n=!0){(function(i){$o=i})(p1),ia(new Ro("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new $u(new oS(r.getProvider("auth-internal")),new uS(r.getProvider("app-check-internal")),function(c,h){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new ce(Y.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new la(c.options.projectId,h)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Qr(tm,"4.7.0",e),Qr(tm,"4.7.0","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z_="firebasestorage.googleapis.com",j_="storageBucket",dk=2*60*1e3,pk=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt extends Bi{constructor(e,n,r=0){super(zc(e),`Firebase Storage: ${n} (${zc(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,lt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return zc(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var at;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(at||(at={}));function zc(t){return"storage/"+t}function $d(){const t="An unknown error occurred, please check the error payload for server response.";return new lt(at.UNKNOWN,t)}function gk(t){return new lt(at.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function mk(t){return new lt(at.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function vk(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new lt(at.UNAUTHENTICATED,t)}function yk(){return new lt(at.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function _k(t){return new lt(at.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function Ek(){return new lt(at.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function wk(){return new lt(at.CANCELED,"User canceled the upload/download.")}function Tk(t){return new lt(at.INVALID_URL,"Invalid URL '"+t+"'.")}function Ck(t){return new lt(at.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function Sk(){return new lt(at.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+j_+"' property when initializing the app?")}function Ik(){return new lt(at.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Lk(){return new lt(at.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function kk(t){return new lt(at.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function lf(t){return new lt(at.INVALID_ARGUMENT,t)}function $_(){return new lt(at.APP_DELETED,"The Firebase app was deleted.")}function Ak(t){return new lt(at.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Us(t,e){return new lt(at.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function gs(t){throw new lt(at.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=vn.makeFromUrl(e,n)}catch{return new vn(e,"")}if(r.path==="")return r;throw Ck(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function o(b){b.path.charAt(b.path.length-1)==="/"&&(b.path_=b.path_.slice(0,-1))}const s="(/(.*))?$",a=new RegExp("^gs://"+i+s,"i"),u={bucket:1,path:3};function c(b){b.path_=decodeURIComponent(b.path)}const h="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),d="(/([^?#]*).*)?$",g=new RegExp(`^https?://${f}/${h}/b/${i}/o${d}`,"i"),_={bucket:1,path:3},S=n===z_?"(?:storage.googleapis.com|storage.cloud.google.com)":n,P="([^?#]*)",w=new RegExp(`^https?://${S}/${i}/${P}`,"i"),L=[{regex:a,indices:u,postModify:o},{regex:g,indices:_,postModify:c},{regex:w,indices:{bucket:1,path:2},postModify:c}];for(let b=0;b<L.length;b++){const O=L[b],x=O.regex.exec(e);if(x){const T=x[O.indices.bucket];let p=x[O.indices.path];p||(p=""),r=new vn(T,p),O.postModify(r);break}}if(r==null)throw Tk(e);return r}}class xk{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pk(t,e,n){let r=1,i=null,o=null,s=!1,a=0;function u(){return a===2}let c=!1;function h(...P){c||(c=!0,e.apply(null,P))}function f(P){i=setTimeout(()=>{i=null,t(g,u())},P)}function d(){o&&clearTimeout(o)}function g(P,...w){if(c){d();return}if(P){d(),h.call(null,P,...w);return}if(u()||s){d(),h.call(null,P,...w);return}r<64&&(r*=2);let L;a===1?(a=2,L=0):L=(r+Math.random())*1e3,f(L)}let _=!1;function S(P){_||(_=!0,d(),!c&&(i!==null?(P||(a=2),clearTimeout(i),f(0)):P||(a=1)))}return f(0),o=setTimeout(()=>{s=!0,S(!0)},n),S}function Rk(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mk(t){return t!==void 0}function bk(t){return typeof t=="object"&&!Array.isArray(t)}function Hd(t){return typeof t=="string"||t instanceof String}function Vm(t){return Wd()&&t instanceof Blob}function Wd(){return typeof Blob<"u"}function Fm(t,e,n,r){if(r<e)throw lf(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw lf(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gd(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function H_(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var ki;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(ki||(ki={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dk(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||i||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nk{constructor(e,n,r,i,o,s,a,u,c,h,f,d=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=u,this.timeout_=c,this.progressCallback_=h,this.connectionFactory_=f,this.retry=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((g,_)=>{this.resolve_=g,this.reject_=_,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new il(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const s=a=>{const u=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,c)};this.progressCallback_!==null&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(s),this.pendingConnection_=null;const a=o.getErrorCode()===ki.NO_ERROR,u=o.getStatus();if(!a||Dk(u,this.additionalRetryCodes_)&&this.retry){const h=o.getErrorCode()===ki.ABORT;r(!1,new il(!1,null,h));return}const c=this.successCodes_.indexOf(u)!==-1;r(!0,new il(c,o))})},n=(r,i)=>{const o=this.resolve_,s=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const u=this.callback_(a,a.getResponse());Mk(u)?o(u):o()}catch(u){s(u)}else if(a!==null){const u=$d();u.serverResponse=a.getErrorText(),this.errorCallback_?s(this.errorCallback_(a,u)):s(u)}else if(i.canceled){const u=this.appDelete_?$_():wk();s(u)}else{const u=Ek();s(u)}};this.canceled_?n(!1,new il(!1,null,!0)):this.backoffId_=Pk(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Rk(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class il{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function Ok(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function Vk(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Fk(t,e){e&&(t["X-Firebase-GMPID"]=e)}function Uk(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function Bk(t,e,n,r,i,o,s=!0){const a=H_(t.urlParams),u=t.url+a,c=Object.assign({},t.headers);return Fk(c,e),Ok(c,n),Vk(c,o),Uk(c,r),new Nk(u,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zk(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function jk(...t){const e=zk();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(Wd())return new Blob(t);throw new lt(at.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function $k(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hk(t){if(typeof atob>"u")throw kk("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class jc{constructor(e,n){this.data=e,this.contentType=n||null}}function Wk(t,e){switch(t){case Qn.RAW:return new jc(W_(e));case Qn.BASE64:case Qn.BASE64URL:return new jc(G_(t,e));case Qn.DATA_URL:return new jc(qk(e),Kk(e))}throw $d()}function W_(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const o=r,s=t.charCodeAt(++n);r=65536|(o&1023)<<10|s&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function Gk(t){let e;try{e=decodeURIComponent(t)}catch{throw Us(Qn.DATA_URL,"Malformed data URL.")}return W_(e)}function G_(t,e){switch(t){case Qn.BASE64:{const i=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(i||o)throw Us(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Qn.BASE64URL:{const i=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(i||o)throw Us(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=Hk(e)}catch(i){throw i.message.includes("polyfill")?i:Us(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class q_{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Us(Qn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=Qk(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function qk(t){const e=new q_(t);return e.base64?G_(Qn.BASE64,e.rest):Gk(e.rest)}function Kk(t){return new q_(t).contentType}function Qk(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr{constructor(e,n){let r=0,i="";Vm(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(Vm(this.data_)){const r=this.data_,i=$k(r,e,n);return i===null?null:new Dr(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Dr(r,!0)}}static getBlob(...e){if(Wd()){const n=e.map(r=>r instanceof Dr?r.data_:r);return new Dr(jk.apply(null,n))}else{const n=e.map(s=>Hd(s)?Wk(Qn.RAW,s).data:s.data_);let r=0;n.forEach(s=>{r+=s.byteLength});const i=new Uint8Array(r);let o=0;return n.forEach(s=>{for(let a=0;a<s.length;a++)i[o++]=s[a]}),new Dr(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K_(t){let e;try{e=JSON.parse(t)}catch{return null}return bk(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zk(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function Xk(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function Q_(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yk(t,e){return e}class Kt{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||Yk}}let ol=null;function Jk(t){return!Hd(t)||t.length<2?t:Q_(t)}function Z_(){if(ol)return ol;const t=[];t.push(new Kt("bucket")),t.push(new Kt("generation")),t.push(new Kt("metageneration")),t.push(new Kt("name","fullPath",!0));function e(o,s){return Jk(s)}const n=new Kt("name");n.xform=e,t.push(n);function r(o,s){return s!==void 0?Number(s):s}const i=new Kt("size");return i.xform=r,t.push(i),t.push(new Kt("timeCreated")),t.push(new Kt("updated")),t.push(new Kt("md5Hash",null,!0)),t.push(new Kt("cacheControl",null,!0)),t.push(new Kt("contentDisposition",null,!0)),t.push(new Kt("contentEncoding",null,!0)),t.push(new Kt("contentLanguage",null,!0)),t.push(new Kt("contentType",null,!0)),t.push(new Kt("metadata","customMetadata",!0)),ol=t,ol}function eA(t,e){function n(){const r=t.bucket,i=t.fullPath,o=new vn(r,i);return e._makeStorageReference(o)}Object.defineProperty(t,"ref",{get:n})}function tA(t,e,n){const r={};r.type="file";const i=n.length;for(let o=0;o<i;o++){const s=n[o];r[s.local]=s.xform(r,e[s.server])}return eA(r,t),r}function X_(t,e,n){const r=K_(e);return r===null?null:tA(t,r,n)}function nA(t,e,n,r){const i=K_(e);if(i===null||!Hd(i.downloadTokens))return null;const o=i.downloadTokens;if(o.length===0)return null;const s=encodeURIComponent;return o.split(",").map(c=>{const h=t.bucket,f=t.fullPath,d="/b/"+s(h)+"/o/"+s(f),g=Gd(d,n,r),_=H_({alt:"media",token:c});return g+_})[0]}function rA(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}class Y_{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J_(t){if(!t)throw $d()}function iA(t,e){function n(r,i){const o=X_(t,i,e);return J_(o!==null),o}return n}function oA(t,e){function n(r,i){const o=X_(t,i,e);return J_(o!==null),nA(o,i,t.host,t._protocol)}return n}function eE(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=yk():i=vk():n.getStatus()===402?i=mk(t.bucket):n.getStatus()===403?i=_k(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function sA(t){const e=eE(t);function n(r,i){let o=e(r,i);return r.getStatus()===404&&(o=gk(t.path)),o.serverResponse=i.serverResponse,o}return n}function aA(t,e,n){const r=e.fullServerUrl(),i=Gd(r,t.host,t._protocol),o="GET",s=t.maxOperationRetryTime,a=new Y_(i,o,oA(t,n),s);return a.errorHandler=sA(e),a}function lA(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function uA(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=lA(null,e)),r}function cA(t,e,n,r,i){const o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};function a(){let L="";for(let b=0;b<2;b++)L=L+Math.random().toString().slice(2);return L}const u=a();s["Content-Type"]="multipart/related; boundary="+u;const c=uA(e,r,i),h=rA(c,n),f="--"+u+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+h+`\r
--`+u+`\r
Content-Type: `+c.contentType+`\r
\r
`,d=`\r
--`+u+"--",g=Dr.getBlob(f,r,d);if(g===null)throw Ik();const _={name:c.fullPath},S=Gd(o,t.host,t._protocol),P="POST",w=t.maxUploadRetryTime,I=new Y_(S,P,iA(t,n),w);return I.urlParams=_,I.headers=s,I.body=g.uploadData(),I.errorHandler=eE(e),I}class hA{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ki.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ki.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ki.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw gs("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const o in i)i.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,i[o].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw gs("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw gs("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw gs("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw gs("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class fA extends hA{initXhr(){this.xhr_.responseType="text"}}function tE(){return new fA}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi{constructor(e,n){this._service=e,n instanceof vn?this._location=n:this._location=vn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Oi(e,n)}get root(){const e=new vn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Q_(this._location.path)}get storage(){return this._service}get parent(){const e=Zk(this._location.path);if(e===null)return null;const n=new vn(this._location.bucket,e);return new Oi(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw Ak(e)}}function dA(t,e,n){t._throwIfRoot("uploadBytes");const r=cA(t.storage,t._location,Z_(),new Dr(e,!0),n);return t.storage.makeRequestWithTokens(r,tE).then(i=>({metadata:i,ref:t}))}function pA(t){t._throwIfRoot("getDownloadURL");const e=aA(t.storage,t._location,Z_());return t.storage.makeRequestWithTokens(e,tE).then(n=>{if(n===null)throw Lk();return n})}function gA(t,e){const n=Xk(t._location.path,e),r=new vn(t._location.bucket,n);return new Oi(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mA(t){return/^[A-Za-z]+:\/\//.test(t)}function vA(t,e){return new Oi(t,e)}function nE(t,e){if(t instanceof qd){const n=t;if(n._bucket==null)throw Sk();const r=new Oi(n,n._bucket);return e!=null?nE(r,e):r}else return e!==void 0?gA(t,e):t}function yA(t,e){if(e&&mA(e)){if(t instanceof qd)return vA(t,e);throw lf("To use ref(service, url), the first argument must be a Storage instance.")}else return nE(t,e)}function Um(t,e){const n=e==null?void 0:e[j_];return n==null?null:vn.makeFromBucketSpec(n,t)}function _A(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:l1(i,t.app.options.projectId))}class qd{constructor(e,n,r,i,o){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=z_,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=dk,this._maxUploadRetryTime=pk,this._requests=new Set,i!=null?this._bucket=vn.makeFromBucketSpec(i,this._host):this._bucket=Um(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=vn.makeFromBucketSpec(this._url,e):this._bucket=Um(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Fm("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Fm("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Oi(this,e)}_makeRequest(e,n,r,i,o=!0){if(this._deleted)return new xk($_());{const s=Bk(e,this._appId,r,i,n,this._firebaseVersion,o);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const Bm="@firebase/storage",zm="0.13.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rE="storage";function EA(t,e,n){return t=Pn(t),dA(t,e,n)}function wA(t){return t=Pn(t),pA(t)}function TA(t,e){return t=Pn(t),yA(t,e)}function CA(t=m1(),e){t=Pn(t);const r=d1(t,rE).getImmediate({identifier:e}),i=s1("storage");return i&&SA(r,...i),r}function SA(t,e,n,r={}){_A(t,e,n,r)}function IA(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new qd(n,r,i,e,p1)}function LA(){ia(new Ro(rE,IA,"PUBLIC").setMultipleInstances(!0)),Qr(Bm,zm,""),Qr(Bm,zm,"esm2017")}LA();const kA={apiKey:"AIzaSyBj4voLaMllaLyTz0a5RZn7S_Y5AYCUszo",authDomain:"tokyood-hackathon-45ed0.firebaseapp.com",projectId:"tokyood-hackathon-45ed0",storageBucket:"tokyood-hackathon-45ed0.appspot.com",messagingSenderId:"596279055158",appId:"1:596279055158:web:ce50eb0c408b07865c5997",measurementId:"G-1KC0KHE486"},iE=g1(kA),qu=QL(iE),AA=CA(iE),Kd=t=>t instanceof ft?t.toDate().toLocaleString("ja-JP",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"}):"",xA=()=>{const[t,e]=y.useState([]),[n,r]=y.useState(!0),[i,o]=y.useState(!1);y.useEffect(()=>{(async()=>{try{const u=Od(qu,"reports"),h=(await U_(u)).docs.map(f=>({id:f.id,...f.data()}));e(h)}catch(u){console.error("Error fetching reports: ",u)}finally{r(!1)}})()},[]);const s=()=>{o(!i)};return n?W.jsx("div",{children:"Loading..."}):W.jsxs("div",{className:"flex h-screen w-screen",children:[W.jsx("div",{className:"w-3/12 bg-gray-50 p-4 text-black flex justify-center",children:""}),W.jsxs("div",{className:"pl-4 bg-white w-full",children:[W.jsx("h1",{children:"Reports"}),W.jsx("ul",{className:"flex flex-wrap gap-4",children:t.map(a=>W.jsx("li",{className:"flex",children:W.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg shadow-md text-gray-700",children:[W.jsx("img",{src:a.imageUrl,alt:a.title,className:"max-w-xs h-auto"}),W.jsx("p",{className:"text-sm text-gray-500",children:Kd(a.timestamp)}),W.jsx("h2",{className:"text-xl font-semibold mb-2",children:a.title}),W.jsx("p",{className:"mb-4",children:a.description}),W.jsx("button",{onClick:s,className:"bg-blue-500 text-white px-4 py-2 rounded w-full mt-2",children:""})]})},a.id))})]})]})};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var uf=function(t,e){return uf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},uf(t,e)};function qe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");uf(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var ae=function(){return ae=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},ae.apply(this,arguments)};function Qd(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function PA(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(h){try{c(r.next(h))}catch(f){s(f)}}function u(h){try{c(r.throw(h))}catch(f){s(f)}}function c(h){h.done?o(h.value):i(h.value).then(a,u)}c((r=r.apply(t,[])).next())})}function RA(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(c){return function(h){return u([c,h])}}function u(c){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){n.label=c[1];break}if(c[0]===6&&n.label<o[1]){n.label=o[1],o=c;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(c);break}o[2]&&n.ops.pop(),n.trys.pop();continue}c=e.call(t,n)}catch(h){c=[6,h],i=0}finally{r=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function oE(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var MA=function(t,e,n,r,i,o,s,a){if(!t){var u;if(e===void 0)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,o,s,a],h=0;u=new Error(e.replace(/%s/g,function(){return c[h++]})),u.name="Invariant Violation"}throw u.framesToPop=1,u}},bA=MA,dt=oE(bA),Ie=y.createContext(null);function DA(){dt(!!y.useContext,"useGoogleMap is React hook and requires React version 16.8+");var t=y.useContext(Ie);return dt(!!t,"useGoogleMap needs a GoogleMap available up in the tree"),t}function NA(t,e,n){return Object.keys(t).reduce(function(i,o){return e(i,t[o],o)},n)}function OA(t,e){Object.keys(t).forEach(function(n){return e(t[n],n)})}function VA(t,e,n,r){var i={},o=function(s,a){var u=n[a];u!==e[a]&&(i[a]=u,s(r,u))};return OA(t,o),i}function FA(t,e,n){var r=NA(n,function(o,s,a){return typeof t[a]=="function"&&o.push(google.maps.event.addListener(e,s,t[a])),o},[]);return r}function UA(t){google.maps.event.removeListener(t)}function Pe(t){t===void 0&&(t=[]),t.forEach(UA)}function ke(t){var e=t.updaterMap,n=t.eventMap,r=t.prevProps,i=t.nextProps,o=t.instance,s=FA(i,o,n);return VA(e,r,i,o),s}var jm={onDblClick:"dblclick",onDragEnd:"dragend",onDragStart:"dragstart",onMapTypeIdChanged:"maptypeid_changed",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseDown:"mousedown",onMouseUp:"mouseup",onRightClick:"rightclick",onTilesLoaded:"tilesloaded",onBoundsChanged:"bounds_changed",onCenterChanged:"center_changed",onClick:"click",onDrag:"drag",onHeadingChanged:"heading_changed",onIdle:"idle",onProjectionChanged:"projection_changed",onResize:"resize",onTiltChanged:"tilt_changed",onZoomChanged:"zoom_changed"},$m={extraMapTypes:function(t,e){e.forEach(function(r,i){t.mapTypes.set(String(i),r)})},center:function(t,e){t.setCenter(e)},clickableIcons:function(t,e){t.setClickableIcons(e)},heading:function(t,e){t.setHeading(e)},mapTypeId:function(t,e){t.setMapTypeId(e)},options:function(t,e){t.setOptions(e)},streetView:function(t,e){t.setStreetView(e)},tilt:function(t,e){t.setTilt(e)},zoom:function(t,e){t.setZoom(e)}};function BA(t){var e=t.children,n=t.options,r=t.id,i=t.mapContainerStyle,o=t.mapContainerClassName,s=t.center,a=t.onClick,u=t.onDblClick,c=t.onDrag,h=t.onDragEnd,f=t.onDragStart,d=t.onMouseMove,g=t.onMouseOut,_=t.onMouseOver,S=t.onMouseDown,P=t.onMouseUp,w=t.onRightClick,I=t.onCenterChanged,L=t.onLoad,b=t.onUnmount,O=y.useState(null),x=O[0],T=O[1],p=y.useRef(null),v=y.useState(null),E=v[0],A=v[1],R=y.useState(null),k=R[0],V=R[1],z=y.useState(null),N=z[0],M=z[1],U=y.useState(null),F=U[0],B=U[1],Q=y.useState(null),q=Q[0],Z=Q[1],K=y.useState(null),H=K[0],j=K[1],oe=y.useState(null),he=oe[0],ee=oe[1],le=y.useState(null),ge=le[0],me=le[1],Me=y.useState(null),Ae=Me[0],fe=Me[1],we=y.useState(null),ve=we[0],pe=we[1],Ee=y.useState(null),se=Ee[0],Se=Ee[1],ue=y.useState(null),Le=ue[0],ne=ue[1];return y.useEffect(function(){n&&x!==null&&x.setOptions(n)},[x,n]),y.useEffect(function(){x!==null&&typeof s<"u"&&x.setCenter(s)},[x,s]),y.useEffect(function(){x&&u&&(k!==null&&google.maps.event.removeListener(k),V(google.maps.event.addListener(x,"dblclick",u)))},[u]),y.useEffect(function(){x&&h&&(N!==null&&google.maps.event.removeListener(N),M(google.maps.event.addListener(x,"dragend",h)))},[h]),y.useEffect(function(){x&&f&&(F!==null&&google.maps.event.removeListener(F),B(google.maps.event.addListener(x,"dragstart",f)))},[f]),y.useEffect(function(){x&&S&&(q!==null&&google.maps.event.removeListener(q),Z(google.maps.event.addListener(x,"mousedown",S)))},[S]),y.useEffect(function(){x&&d&&(H!==null&&google.maps.event.removeListener(H),j(google.maps.event.addListener(x,"mousemove",d)))},[d]),y.useEffect(function(){x&&g&&(he!==null&&google.maps.event.removeListener(he),ee(google.maps.event.addListener(x,"mouseout",g)))},[g]),y.useEffect(function(){x&&_&&(ge!==null&&google.maps.event.removeListener(ge),me(google.maps.event.addListener(x,"mouseover",_)))},[_]),y.useEffect(function(){x&&P&&(Ae!==null&&google.maps.event.removeListener(Ae),fe(google.maps.event.addListener(x,"mouseup",P)))},[P]),y.useEffect(function(){x&&w&&(ve!==null&&google.maps.event.removeListener(ve),pe(google.maps.event.addListener(x,"rightclick",w)))},[w]),y.useEffect(function(){x&&a&&(se!==null&&google.maps.event.removeListener(se),Se(google.maps.event.addListener(x,"click",a)))},[a]),y.useEffect(function(){x&&c&&(Le!==null&&google.maps.event.removeListener(Le),ne(google.maps.event.addListener(x,"drag",c)))},[c]),y.useEffect(function(){x&&I&&(E!==null&&google.maps.event.removeListener(E),A(google.maps.event.addListener(x,"center_changed",I)))},[a]),y.useEffect(function(){var $e=p.current===null?null:new google.maps.Map(p.current,n);return T($e),$e!==null&&L&&L($e),function(){$e!==null&&b&&b($e)}},[]),W.jsx("div",{id:r,ref:p,style:i,className:o,children:W.jsx(Ie.Provider,{value:x,children:x!==null?e:null})})}y.memo(BA);var zA=function(t){qe(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={map:null},n.registeredEvents=[],n.mapRef=null,n.getInstance=function(){return n.mapRef===null?null:new google.maps.Map(n.mapRef,n.props.options)},n.panTo=function(r){var i=n.getInstance();i&&i.panTo(r)},n.setMapCallback=function(){n.state.map!==null&&n.props.onLoad&&n.props.onLoad(n.state.map)},n.getRef=function(r){n.mapRef=r},n}return e.prototype.componentDidMount=function(){var n=this.getInstance();this.registeredEvents=ke({updaterMap:$m,eventMap:jm,prevProps:{},nextProps:this.props,instance:n}),this.setState(function(){return{map:n}},this.setMapCallback)},e.prototype.componentDidUpdate=function(n){this.state.map!==null&&(Pe(this.registeredEvents),this.registeredEvents=ke({updaterMap:$m,eventMap:jm,prevProps:n,nextProps:this.props,instance:this.state.map}))},e.prototype.componentWillUnmount=function(){this.state.map!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.map),Pe(this.registeredEvents))},e.prototype.render=function(){return W.jsx("div",{id:this.props.id,ref:this.getRef,style:this.props.mapContainerStyle,className:this.props.mapContainerClassName,children:W.jsx(Ie.Provider,{value:this.state.map,children:this.state.map!==null?this.props.children:null})})},e}(y.PureComponent),Ti=typeof document<"u";function sE(t){var e=t.url,n=t.id,r=t.nonce;return Ti?new Promise(function(o,s){var a=document.getElementById(n),u=window;if(a){var c=a.getAttribute("data-state");if(a.src===e&&c!=="error"){if(c==="ready")return o(n);var h=u.initMap,f=a.onerror;u.initMap=function(){h&&h(),o(n)},a.onerror=function(g){f&&f(g),s(g)};return}else a.remove()}var d=document.createElement("script");d.type="text/javascript",d.src=e,d.id=n,d.async=!0,d.nonce=r||"",d.onerror=function(_){d.setAttribute("data-state","error"),s(_)},u.initMap=function(){d.setAttribute("data-state","ready"),o(n)},document.head.appendChild(d)}).catch(function(i){throw console.error("injectScript error: ",i),i}):Promise.reject(new Error("document is undefined"))}function Hm(t){var e=t.href;return e&&(e.indexOf("https://fonts.googleapis.com/css?family=Roboto")===0||e.indexOf("https://fonts.googleapis.com/css?family=Google+Sans+Text")===0)?!0:t.tagName.toLowerCase()==="style"&&t.styleSheet&&t.styleSheet.cssText&&t.styleSheet.cssText.replace(`\r
`,"").indexOf(".gm-style")===0?(t.styleSheet.cssText="",!0):t.tagName.toLowerCase()==="style"&&t.innerHTML&&t.innerHTML.replace(`\r
`,"").indexOf(".gm-style")===0?(t.innerHTML="",!0):t.tagName.toLowerCase()==="style"&&!t.styleSheet&&!t.innerHTML}function aE(){var t=document.getElementsByTagName("head")[0];if(t){var e=t.insertBefore.bind(t);t.insertBefore=function(i,o){return Hm(i)||Reflect.apply(e,t,[i,o]),i};var n=t.appendChild.bind(t);t.appendChild=function(i){return Hm(i)||Reflect.apply(n,t,[i]),i}}}function lE(t){var e=t.googleMapsApiKey,n=t.googleMapsClientId,r=t.version,i=r===void 0?"weekly":r,o=t.language,s=t.region,a=t.libraries,u=t.channel,c=t.mapIds,h=t.authReferrerPolicy,f=[];return dt(e&&n||!(e&&n),"You need to specify either googleMapsApiKey or googleMapsClientId for @react-google-maps/api load script to work. You cannot use both at the same time."),e?f.push("key=".concat(e)):n&&f.push("client=".concat(n)),i&&f.push("v=".concat(i)),o&&f.push("language=".concat(o)),s&&f.push("region=".concat(s)),a&&a.length&&f.push("libraries=".concat(a.sort().join(","))),u&&f.push("channel=".concat(u)),c&&c.length&&f.push("map_ids=".concat(c.join(","))),h&&f.push("auth_referrer_policy=".concat(h)),f.push("callback=initMap"),"https://maps.googleapis.com/maps/api/js?".concat(f.join("&"))}var ms=!1;function uE(){return W.jsx("div",{children:"Loading..."})}var cf={id:"script-loader",version:"weekly"},jA=function(t){qe(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.check=y.createRef(),n.state={loaded:!1},n.cleanupCallback=function(){delete window.google.maps,n.injectScript()},n.isCleaningUp=function(){return PA(n,void 0,void 0,function(){function r(i){if(!ms)i();else if(Ti)var o=window.setInterval(function(){ms||(window.clearInterval(o),i())},1)}return RA(this,function(i){return[2,new Promise(r)]})})},n.cleanup=function(){ms=!0;var r=document.getElementById(n.props.id);r&&r.parentNode&&r.parentNode.removeChild(r),Array.prototype.slice.call(document.getElementsByTagName("script")).filter(function(o){return typeof o.src=="string"&&o.src.includes("maps.googleapis")}).forEach(function(o){o.parentNode&&o.parentNode.removeChild(o)}),Array.prototype.slice.call(document.getElementsByTagName("link")).filter(function(o){return o.href==="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Google+Sans"}).forEach(function(o){o.parentNode&&o.parentNode.removeChild(o)}),Array.prototype.slice.call(document.getElementsByTagName("style")).filter(function(o){return o.innerText!==void 0&&o.innerText.length>0&&o.innerText.includes(".gm-")}).forEach(function(o){o.parentNode&&o.parentNode.removeChild(o)})},n.injectScript=function(){n.props.preventGoogleFontsLoading&&aE(),dt(!!n.props.id,'LoadScript requires "id" prop to be a string: %s',n.props.id);var r={id:n.props.id,nonce:n.props.nonce,url:lE(n.props)};sE(r).then(function(){n.props.onLoad&&n.props.onLoad(),n.setState(function(){return{loaded:!0}})}).catch(function(i){n.props.onError&&n.props.onError(i),console.error(`
          There has been an Error with loading Google Maps API script, please check that you provided correct google API key (`.concat(n.props.googleMapsApiKey||"-",") or Client ID (").concat(n.props.googleMapsClientId||"-",`) to <LoadScript />
          Otherwise it is a Network issue.
        `))})},n}return e.prototype.componentDidMount=function(){if(Ti){if(window.google&&window.google.maps&&!ms){console.error("google api is already presented");return}this.isCleaningUp().then(this.injectScript).catch(function(r){console.error("Error at injecting script after cleaning up: ",r)})}},e.prototype.componentDidUpdate=function(n){this.props.libraries!==n.libraries&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),Ti&&n.language!==this.props.language&&(this.cleanup(),this.setState(function(){return{loaded:!1}},this.cleanupCallback))},e.prototype.componentWillUnmount=function(){var n=this;if(Ti){this.cleanup();var r=function(){n.check.current||(delete window.google,ms=!1)};window.setTimeout(r,1),this.props.onUnmount&&this.props.onUnmount()}},e.prototype.render=function(){return W.jsxs(W.Fragment,{children:[W.jsx("div",{ref:this.check}),this.state.loaded?this.props.children:this.props.loadingElement||W.jsx(uE,{})]})},e.defaultProps=cf,e}(y.PureComponent),Wm;function $A(t){var e=t.id,n=e===void 0?cf.id:e,r=t.version,i=r===void 0?cf.version:r,o=t.nonce,s=t.googleMapsApiKey,a=t.googleMapsClientId,u=t.language,c=t.region,h=t.libraries,f=t.preventGoogleFontsLoading,d=t.channel,g=t.mapIds,_=t.authReferrerPolicy,S=y.useRef(!1),P=y.useState(!1),w=P[0],I=P[1],L=y.useState(void 0),b=L[0],O=L[1];y.useEffect(function(){return S.current=!0,function(){S.current=!1}},[]),y.useEffect(function(){Ti&&f&&aE()},[f]),y.useEffect(function(){w&&dt(!!window.google,"useLoadScript was marked as loaded, but window.google is not present. Something went wrong.")},[w]);var x=lE({version:i,googleMapsApiKey:s,googleMapsClientId:a,language:u,region:c,libraries:h,channel:d,mapIds:g,authReferrerPolicy:_});y.useEffect(function(){if(!Ti)return;function v(){S.current&&(I(!0),Wm=x)}if(window.google&&window.google.maps&&Wm===x){v();return}sE({id:n,url:x,nonce:o}).then(v).catch(function(A){S.current&&O(A),console.warn(`
        There has been an Error with loading Google Maps API script, please check that you provided correct google API key (`.concat(s||"-",") or Client ID (").concat(a||"-",`)
        Otherwise it is a Network issue.
      `)),console.error(A)})},[n,x,o]);var T=y.useRef();return y.useEffect(function(){T.current&&h!==T.current&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),T.current=h},[h]),{isLoaded:w,loadError:b,url:x}}var HA=W.jsx(uE,{});function WA(t){var e=t.loadingElement,n=t.onLoad,r=t.onError,i=t.onUnmount,o=t.children,s=Qd(t,["loadingElement","onLoad","onError","onUnmount","children"]),a=$A(s),u=a.isLoaded,c=a.loadError;return y.useEffect(function(){u&&typeof n=="function"&&n()},[u,n]),y.useEffect(function(){c&&typeof r=="function"&&r(c)},[c,r]),y.useEffect(function(){return function(){i&&i()}},[i]),u?o:e||HA}y.memo(WA);var Gm;(function(t){t[t.INITIALIZED=0]="INITIALIZED",t[t.LOADING=1]="LOADING",t[t.SUCCESS=2]="SUCCESS",t[t.FAILURE=3]="FAILURE"})(Gm||(Gm={}));var qm={},Km={options:function(t,e){t.setOptions(e)}};function GA(t){var e=t.options,n=t.onLoad,r=t.onUnmount,i=y.useContext(Ie),o=y.useState(null),s=o[0],a=o[1];return y.useEffect(function(){s!==null&&s.setMap(i)},[i]),y.useEffect(function(){e&&s!==null&&s.setOptions(e)},[s,e]),y.useEffect(function(){var u=new google.maps.TrafficLayer(ae(ae({},e||{}),{map:i}));return a(u),n&&n(u),function(){s!==null&&(r&&r(s),s.setMap(null))}},[]),null}y.memo(GA);(function(t){qe(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={trafficLayer:null},n.setTrafficLayerCallback=function(){n.state.trafficLayer!==null&&n.props.onLoad&&n.props.onLoad(n.state.trafficLayer)},n.registeredEvents=[],n}return e.prototype.componentDidMount=function(){var n=new google.maps.TrafficLayer(ae(ae({},this.props.options||{}),{map:this.context}));this.registeredEvents=ke({updaterMap:Km,eventMap:qm,prevProps:{},nextProps:this.props,instance:n}),this.setState(function(){return{trafficLayer:n}},this.setTrafficLayerCallback)},e.prototype.componentDidUpdate=function(n){this.state.trafficLayer!==null&&(Pe(this.registeredEvents),this.registeredEvents=ke({updaterMap:Km,eventMap:qm,prevProps:n,nextProps:this.props,instance:this.state.trafficLayer}))},e.prototype.componentWillUnmount=function(){this.state.trafficLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.trafficLayer),Pe(this.registeredEvents),this.state.trafficLayer.setMap(null))},e.prototype.render=function(){return null},e.contextType=Ie,e})(y.PureComponent);function qA(t){var e=t.onLoad,n=t.onUnmount,r=y.useContext(Ie),i=y.useState(null),o=i[0],s=i[1];return y.useEffect(function(){o!==null&&o.setMap(r)},[r]),y.useEffect(function(){var a=new google.maps.BicyclingLayer;return s(a),a.setMap(r),e&&e(a),function(){a!==null&&(n&&n(a),a.setMap(null))}},[]),null}y.memo(qA);(function(t){qe(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={bicyclingLayer:null},n.setBicyclingLayerCallback=function(){n.state.bicyclingLayer!==null&&(n.state.bicyclingLayer.setMap(n.context),n.props.onLoad&&n.props.onLoad(n.state.bicyclingLayer))},n}return e.prototype.componentDidMount=function(){var n=new google.maps.BicyclingLayer;this.setState(function(){return{bicyclingLayer:n}},this.setBicyclingLayerCallback)},e.prototype.componentWillUnmount=function(){this.state.bicyclingLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.bicyclingLayer),this.state.bicyclingLayer.setMap(null))},e.prototype.render=function(){return null},e.contextType=Ie,e})(y.PureComponent);function KA(t){var e=t.onLoad,n=t.onUnmount,r=y.useContext(Ie),i=y.useState(null),o=i[0],s=i[1];return y.useEffect(function(){o!==null&&o.setMap(r)},[r]),y.useEffect(function(){var a=new google.maps.TransitLayer;return s(a),a.setMap(r),e&&e(a),function(){o!==null&&(n&&n(o),o.setMap(null))}},[]),null}y.memo(KA);(function(t){qe(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={transitLayer:null},n.setTransitLayerCallback=function(){n.state.transitLayer!==null&&(n.state.transitLayer.setMap(n.context),n.props.onLoad&&n.props.onLoad(n.state.transitLayer))},n}return e.prototype.componentDidMount=function(){var n=new google.maps.TransitLayer;this.setState(function(){return{transitLayer:n}},this.setTransitLayerCallback)},e.prototype.componentWillUnmount=function(){this.state.transitLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.transitLayer),this.state.transitLayer.setMap(null))},e.prototype.render=function(){return null},e.contextType=Ie,e})(y.PureComponent);var Qm={onCircleComplete:"circlecomplete",onMarkerComplete:"markercomplete",onOverlayComplete:"overlaycomplete",onPolygonComplete:"polygoncomplete",onPolylineComplete:"polylinecomplete",onRectangleComplete:"rectanglecomplete"},Zm={drawingMode:function(t,e){t.setDrawingMode(e)},options:function(t,e){t.setOptions(e)}};function QA(t){var e=t.options,n=t.drawingMode,r=t.onCircleComplete,i=t.onMarkerComplete,o=t.onOverlayComplete,s=t.onPolygonComplete,a=t.onPolylineComplete,u=t.onRectangleComplete,c=t.onLoad,h=t.onUnmount,f=y.useContext(Ie),d=y.useState(null),g=d[0],_=d[1],S=y.useState(null),P=S[0],w=S[1],I=y.useState(null),L=I[0],b=I[1],O=y.useState(null),x=O[0],T=O[1],p=y.useState(null),v=p[0],E=p[1],A=y.useState(null),R=A[0],k=A[1],V=y.useState(null),z=V[0],N=V[1];return y.useEffect(function(){g!==null&&g.setMap(f)},[f]),y.useEffect(function(){e&&g!==null&&g.setOptions(e)},[g,e]),y.useEffect(function(){g!==null&&g.setDrawingMode(n??null)},[g,n]),y.useEffect(function(){g&&r&&(P!==null&&google.maps.event.removeListener(P),w(google.maps.event.addListener(g,"circlecomplete",r)))},[g,r]),y.useEffect(function(){g&&i&&(L!==null&&google.maps.event.removeListener(L),b(google.maps.event.addListener(g,"markercomplete",i)))},[g,i]),y.useEffect(function(){g&&o&&(x!==null&&google.maps.event.removeListener(x),T(google.maps.event.addListener(g,"overlaycomplete",o)))},[g,o]),y.useEffect(function(){g&&s&&(v!==null&&google.maps.event.removeListener(v),E(google.maps.event.addListener(g,"polygoncomplete",s)))},[g,s]),y.useEffect(function(){g&&a&&(R!==null&&google.maps.event.removeListener(R),k(google.maps.event.addListener(g,"polylinecomplete",a)))},[g,a]),y.useEffect(function(){g&&u&&(z!==null&&google.maps.event.removeListener(z),N(google.maps.event.addListener(g,"rectanglecomplete",u)))},[g,u]),y.useEffect(function(){dt(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing);var M=new google.maps.drawing.DrawingManager(ae(ae({},e||{}),{map:f}));return n&&M.setDrawingMode(n),r&&w(google.maps.event.addListener(M,"circlecomplete",r)),i&&b(google.maps.event.addListener(M,"markercomplete",i)),o&&T(google.maps.event.addListener(M,"overlaycomplete",o)),s&&E(google.maps.event.addListener(M,"polygoncomplete",s)),a&&k(google.maps.event.addListener(M,"polylinecomplete",a)),u&&N(google.maps.event.addListener(M,"rectanglecomplete",u)),_(M),c&&c(M),function(){g!==null&&(P&&google.maps.event.removeListener(P),L&&google.maps.event.removeListener(L),x&&google.maps.event.removeListener(x),v&&google.maps.event.removeListener(v),R&&google.maps.event.removeListener(R),z&&google.maps.event.removeListener(z),h&&h(g),g.setMap(null))}},[]),null}y.memo(QA);(function(t){qe(e,t);function e(n){var r=t.call(this,n)||this;return r.registeredEvents=[],r.state={drawingManager:null},r.setDrawingManagerCallback=function(){r.state.drawingManager!==null&&r.props.onLoad&&r.props.onLoad(r.state.drawingManager)},dt(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing),r}return e.prototype.componentDidMount=function(){var n=new google.maps.drawing.DrawingManager(ae(ae({},this.props.options||{}),{map:this.context}));this.registeredEvents=ke({updaterMap:Zm,eventMap:Qm,prevProps:{},nextProps:this.props,instance:n}),this.setState(function(){return{drawingManager:n}},this.setDrawingManagerCallback)},e.prototype.componentDidUpdate=function(n){this.state.drawingManager!==null&&(Pe(this.registeredEvents),this.registeredEvents=ke({updaterMap:Zm,eventMap:Qm,prevProps:n,nextProps:this.props,instance:this.state.drawingManager}))},e.prototype.componentWillUnmount=function(){this.state.drawingManager!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.drawingManager),Pe(this.registeredEvents),this.state.drawingManager.setMap(null))},e.prototype.render=function(){return null},e.contextType=Ie,e})(y.PureComponent);var Xm={onAnimationChanged:"animation_changed",onClick:"click",onClickableChanged:"clickable_changed",onCursorChanged:"cursor_changed",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDraggableChanged:"draggable_changed",onDragStart:"dragstart",onFlatChanged:"flat_changed",onIconChanged:"icon_changed",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onPositionChanged:"position_changed",onRightClick:"rightclick",onShapeChanged:"shape_changed",onTitleChanged:"title_changed",onVisibleChanged:"visible_changed",onZindexChanged:"zindex_changed"},Ym={animation:function(t,e){t.setAnimation(e)},clickable:function(t,e){t.setClickable(e)},cursor:function(t,e){t.setCursor(e)},draggable:function(t,e){t.setDraggable(e)},icon:function(t,e){t.setIcon(e)},label:function(t,e){t.setLabel(e)},map:function(t,e){t.setMap(e)},opacity:function(t,e){t.setOpacity(e)},options:function(t,e){t.setOptions(e)},position:function(t,e){t.setPosition(e)},shape:function(t,e){t.setShape(e)},title:function(t,e){t.setTitle(e)},visible:function(t,e){t.setVisible(e)},zIndex:function(t,e){t.setZIndex(e)}},su={};function ZA(t){var e=t.position,n=t.options,r=t.clusterer,i=t.noClustererRedraw,o=t.children,s=t.draggable,a=t.visible,u=t.animation,c=t.clickable,h=t.cursor,f=t.icon,d=t.label,g=t.opacity,_=t.shape,S=t.title,P=t.zIndex,w=t.onClick,I=t.onDblClick,L=t.onDrag,b=t.onDragEnd,O=t.onDragStart,x=t.onMouseOut,T=t.onMouseOver,p=t.onMouseUp,v=t.onMouseDown,E=t.onRightClick,A=t.onClickableChanged,R=t.onCursorChanged,k=t.onAnimationChanged,V=t.onDraggableChanged,z=t.onFlatChanged,N=t.onIconChanged,M=t.onPositionChanged,U=t.onShapeChanged,F=t.onTitleChanged,B=t.onVisibleChanged,Q=t.onZindexChanged,q=t.onLoad,Z=t.onUnmount,K=y.useContext(Ie),H=y.useState(null),j=H[0],oe=H[1],he=y.useState(null),ee=he[0],le=he[1],ge=y.useState(null),me=ge[0],Me=ge[1],Ae=y.useState(null),fe=Ae[0],we=Ae[1],ve=y.useState(null),pe=ve[0],Ee=ve[1],se=y.useState(null),Se=se[0],ue=se[1],Le=y.useState(null),ne=Le[0],$e=Le[1],Be=y.useState(null),ze=Be[0],He=Be[1],xe=y.useState(null),et=xe[0],Nt=xe[1],ut=y.useState(null),St=ut[0],Ot=ut[1],Jt=y.useState(null),Er=Jt[0],$i=Jt[1],zn=y.useState(null),jn=zn[0],Rn=zn[1],$n=y.useState(null),It=$n[0],qt=$n[1],Lt=y.useState(null),un=Lt[0],Hn=Lt[1],cn=y.useState(null),_t=cn[0],Go=cn[1],Et=y.useState(null),ai=Et[0],wr=Et[1],Tr=y.useState(null),Hi=Tr[0],Ca=Tr[1],rr=y.useState(null),Wi=rr[0],Sa=rr[1],li=y.useState(null),qo=li[0],Gi=li[1],ui=y.useState(null),hn=ui[0],Ko=ui[1],Qo=y.useState(null),Cr=Qo[0],qi=Qo[1],Zo=y.useState(null),ci=Zo[0],Ia=Zo[1];y.useEffect(function(){j!==null&&j.setMap(K)},[K]),y.useEffect(function(){typeof n<"u"&&j!==null&&j.setOptions(n)},[j,n]),y.useEffect(function(){typeof s<"u"&&j!==null&&j.setDraggable(s)},[j,s]),y.useEffect(function(){e&&j!==null&&j.setPosition(e)},[j,e]),y.useEffect(function(){typeof a<"u"&&j!==null&&j.setVisible(a)},[j,a]),y.useEffect(function(){j==null||j.setAnimation(u)},[j,u]),y.useEffect(function(){j&&c!==void 0&&j.setClickable(c)},[j,c]),y.useEffect(function(){j&&h!==void 0&&j.setCursor(h)},[j,h]),y.useEffect(function(){j&&f!==void 0&&j.setIcon(f)},[j,f]),y.useEffect(function(){j&&d!==void 0&&j.setLabel(d)},[j,d]),y.useEffect(function(){j&&g!==void 0&&j.setOpacity(g)},[j,g]),y.useEffect(function(){j&&_!==void 0&&j.setShape(_)},[j,_]),y.useEffect(function(){j&&S!==void 0&&j.setTitle(S)},[j,S]),y.useEffect(function(){j&&P!==void 0&&j.setZIndex(P)},[j,P]),y.useEffect(function(){j&&I&&(ee!==null&&google.maps.event.removeListener(ee),le(google.maps.event.addListener(j,"dblclick",I)))},[I]),y.useEffect(function(){j&&b&&(me!==null&&google.maps.event.removeListener(me),Me(google.maps.event.addListener(j,"dragend",b)))},[b]),y.useEffect(function(){j&&O&&(fe!==null&&google.maps.event.removeListener(fe),we(google.maps.event.addListener(j,"dragstart",O)))},[O]),y.useEffect(function(){j&&v&&(pe!==null&&google.maps.event.removeListener(pe),Ee(google.maps.event.addListener(j,"mousedown",v)))},[v]),y.useEffect(function(){j&&x&&(Se!==null&&google.maps.event.removeListener(Se),ue(google.maps.event.addListener(j,"mouseout",x)))},[x]),y.useEffect(function(){j&&T&&(ne!==null&&google.maps.event.removeListener(ne),$e(google.maps.event.addListener(j,"mouseover",T)))},[T]),y.useEffect(function(){j&&p&&(ze!==null&&google.maps.event.removeListener(ze),He(google.maps.event.addListener(j,"mouseup",p)))},[p]),y.useEffect(function(){j&&E&&(et!==null&&google.maps.event.removeListener(et),Nt(google.maps.event.addListener(j,"rightclick",E)))},[E]),y.useEffect(function(){j&&w&&(St!==null&&google.maps.event.removeListener(St),Ot(google.maps.event.addListener(j,"click",w)))},[w]),y.useEffect(function(){j&&L&&(Er!==null&&google.maps.event.removeListener(Er),$i(google.maps.event.addListener(j,"drag",L)))},[L]),y.useEffect(function(){j&&A&&(jn!==null&&google.maps.event.removeListener(jn),Rn(google.maps.event.addListener(j,"clickable_changed",A)))},[A]),y.useEffect(function(){j&&R&&(It!==null&&google.maps.event.removeListener(It),qt(google.maps.event.addListener(j,"cursor_changed",R)))},[R]),y.useEffect(function(){j&&k&&(un!==null&&google.maps.event.removeListener(un),Hn(google.maps.event.addListener(j,"animation_changed",k)))},[k]),y.useEffect(function(){j&&V&&(_t!==null&&google.maps.event.removeListener(_t),Go(google.maps.event.addListener(j,"draggable_changed",V)))},[V]),y.useEffect(function(){j&&z&&(ai!==null&&google.maps.event.removeListener(ai),wr(google.maps.event.addListener(j,"flat_changed",z)))},[z]),y.useEffect(function(){j&&N&&(Hi!==null&&google.maps.event.removeListener(Hi),Ca(google.maps.event.addListener(j,"icon_changed",N)))},[N]),y.useEffect(function(){j&&M&&(Wi!==null&&google.maps.event.removeListener(Wi),Sa(google.maps.event.addListener(j,"position_changed",M)))},[M]),y.useEffect(function(){j&&U&&(qo!==null&&google.maps.event.removeListener(qo),Gi(google.maps.event.addListener(j,"shape_changed",U)))},[U]),y.useEffect(function(){j&&F&&(hn!==null&&google.maps.event.removeListener(hn),Ko(google.maps.event.addListener(j,"title_changed",F)))},[F]),y.useEffect(function(){j&&B&&(Cr!==null&&google.maps.event.removeListener(Cr),qi(google.maps.event.addListener(j,"visible_changed",B)))},[B]),y.useEffect(function(){j&&Q&&(ci!==null&&google.maps.event.removeListener(ci),Ia(google.maps.event.addListener(j,"zindex_changed",Q)))},[Q]),y.useEffect(function(){var Sr=ae(ae(ae({},n||su),r?su:{map:K}),{position:e}),ye=new google.maps.Marker(Sr);return r?r.addMarker(ye,!!i):ye.setMap(K),e&&ye.setPosition(e),typeof a<"u"&&ye.setVisible(a),typeof s<"u"&&ye.setDraggable(s),typeof c<"u"&&ye.setClickable(c),typeof h=="string"&&ye.setCursor(h),f&&ye.setIcon(f),typeof d<"u"&&ye.setLabel(d),typeof g<"u"&&ye.setOpacity(g),_&&ye.setShape(_),typeof S=="string"&&ye.setTitle(S),typeof P=="number"&&ye.setZIndex(P),I&&le(google.maps.event.addListener(ye,"dblclick",I)),b&&Me(google.maps.event.addListener(ye,"dragend",b)),O&&we(google.maps.event.addListener(ye,"dragstart",O)),v&&Ee(google.maps.event.addListener(ye,"mousedown",v)),x&&ue(google.maps.event.addListener(ye,"mouseout",x)),T&&$e(google.maps.event.addListener(ye,"mouseover",T)),p&&He(google.maps.event.addListener(ye,"mouseup",p)),E&&Nt(google.maps.event.addListener(ye,"rightclick",E)),w&&Ot(google.maps.event.addListener(ye,"click",w)),L&&$i(google.maps.event.addListener(ye,"drag",L)),A&&Rn(google.maps.event.addListener(ye,"clickable_changed",A)),R&&qt(google.maps.event.addListener(ye,"cursor_changed",R)),k&&Hn(google.maps.event.addListener(ye,"animation_changed",k)),V&&Go(google.maps.event.addListener(ye,"draggable_changed",V)),z&&wr(google.maps.event.addListener(ye,"flat_changed",z)),N&&Ca(google.maps.event.addListener(ye,"icon_changed",N)),M&&Sa(google.maps.event.addListener(ye,"position_changed",M)),U&&Gi(google.maps.event.addListener(ye,"shape_changed",U)),F&&Ko(google.maps.event.addListener(ye,"title_changed",F)),B&&qi(google.maps.event.addListener(ye,"visible_changed",B)),Q&&Ia(google.maps.event.addListener(ye,"zindex_changed",Q)),oe(ye),q&&q(ye),function(){ee!==null&&google.maps.event.removeListener(ee),me!==null&&google.maps.event.removeListener(me),fe!==null&&google.maps.event.removeListener(fe),pe!==null&&google.maps.event.removeListener(pe),Se!==null&&google.maps.event.removeListener(Se),ne!==null&&google.maps.event.removeListener(ne),ze!==null&&google.maps.event.removeListener(ze),et!==null&&google.maps.event.removeListener(et),St!==null&&google.maps.event.removeListener(St),jn!==null&&google.maps.event.removeListener(jn),It!==null&&google.maps.event.removeListener(It),un!==null&&google.maps.event.removeListener(un),_t!==null&&google.maps.event.removeListener(_t),ai!==null&&google.maps.event.removeListener(ai),Hi!==null&&google.maps.event.removeListener(Hi),Wi!==null&&google.maps.event.removeListener(Wi),hn!==null&&google.maps.event.removeListener(hn),Cr!==null&&google.maps.event.removeListener(Cr),ci!==null&&google.maps.event.removeListener(ci),Z&&Z(ye),r?r.removeMarker(ye,!!i):ye&&ye.setMap(null)}},[]);var Ki=y.useMemo(function(){return o?y.Children.map(o,function(Sr){if(!y.isValidElement(Sr))return Sr;var ye=Sr;return y.cloneElement(ye,{anchor:j})}):null},[o,j]);return W.jsx(W.Fragment,{children:Ki})||null}y.memo(ZA);var $c=function(t){qe(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.registeredEvents=[],n}return e.prototype.componentDidMount=function(){var n=ae(ae(ae({},this.props.options||su),this.props.clusterer?su:{map:this.context}),{position:this.props.position});this.marker=new google.maps.Marker(n),this.props.clusterer?this.props.clusterer.addMarker(this.marker,!!this.props.noClustererRedraw):this.marker.setMap(this.context),this.registeredEvents=ke({updaterMap:Ym,eventMap:Xm,prevProps:{},nextProps:this.props,instance:this.marker}),this.props.onLoad&&this.props.onLoad(this.marker)},e.prototype.componentDidUpdate=function(n){this.marker&&(Pe(this.registeredEvents),this.registeredEvents=ke({updaterMap:Ym,eventMap:Xm,prevProps:n,nextProps:this.props,instance:this.marker}))},e.prototype.componentWillUnmount=function(){this.marker&&(this.props.onUnmount&&this.props.onUnmount(this.marker),Pe(this.registeredEvents),this.props.clusterer?this.props.clusterer.removeMarker(this.marker,!!this.props.noClustererRedraw):this.marker&&this.marker.setMap(null))},e.prototype.render=function(){var n=this,r=null;return this.props.children&&(r=y.Children.map(this.props.children,function(i){if(!y.isValidElement(i))return i;var o=i;return y.cloneElement(o,{anchor:n.marker})})),r||null},e.contextType=Ie,e}(y.PureComponent),XA=function(){function t(e,n){e.getClusterer().extend(t,google.maps.OverlayView),this.cluster=e,this.clusterClassName=this.cluster.getClusterer().getClusterClass(),this.className=this.clusterClassName,this.styles=n,this.center=void 0,this.div=null,this.sums=null,this.visible=!1,this.boundsChangedListener=null,this.url="",this.height=0,this.width=0,this.anchorText=[0,0],this.anchorIcon=[0,0],this.textColor="black",this.textSize=11,this.textDecoration="none",this.fontWeight="bold",this.fontStyle="normal",this.fontFamily="Arial,sans-serif",this.backgroundPosition="0 0",this.cMouseDownInCluster=null,this.cDraggingMapByCluster=null,this.timeOut=null,this.setMap(e.getMap()),this.onBoundsChanged=this.onBoundsChanged.bind(this),this.onMouseDown=this.onMouseDown.bind(this),this.onClick=this.onClick.bind(this),this.onMouseOver=this.onMouseOver.bind(this),this.onMouseOut=this.onMouseOut.bind(this),this.onAdd=this.onAdd.bind(this),this.onRemove=this.onRemove.bind(this),this.draw=this.draw.bind(this),this.hide=this.hide.bind(this),this.show=this.show.bind(this),this.useStyle=this.useStyle.bind(this),this.setCenter=this.setCenter.bind(this),this.getPosFromLatLng=this.getPosFromLatLng.bind(this)}return t.prototype.onBoundsChanged=function(){this.cDraggingMapByCluster=this.cMouseDownInCluster},t.prototype.onMouseDown=function(){this.cMouseDownInCluster=!0,this.cDraggingMapByCluster=!1},t.prototype.onClick=function(e){if(this.cMouseDownInCluster=!1,!this.cDraggingMapByCluster){var n=this.cluster.getClusterer();if(google.maps.event.trigger(n,"click",this.cluster),google.maps.event.trigger(n,"clusterclick",this.cluster),n.getZoomOnClick()){var r=n.getMaxZoom(),i=this.cluster.getBounds(),o=n.getMap();o!==null&&"fitBounds"in o&&o.fitBounds(i),this.timeOut=window.setTimeout(function(){var s=n.getMap();if(s!==null){"fitBounds"in s&&s.fitBounds(i);var a=s.getZoom()||0;r!==null&&a>r&&s.setZoom(r+1)}},100)}e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation()}},t.prototype.onMouseOver=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseover",this.cluster)},t.prototype.onMouseOut=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseout",this.cluster)},t.prototype.onAdd=function(){var e;this.div=document.createElement("div"),this.div.className=this.className,this.visible&&this.show(),(e=this.getPanes())===null||e===void 0||e.overlayMouseTarget.appendChild(this.div);var n=this.getMap();n!==null&&(this.boundsChangedListener=google.maps.event.addListener(n,"bounds_changed",this.onBoundsChanged),this.div.addEventListener("mousedown",this.onMouseDown),this.div.addEventListener("click",this.onClick),this.div.addEventListener("mouseover",this.onMouseOver),this.div.addEventListener("mouseout",this.onMouseOut))},t.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.hide(),this.boundsChangedListener!==null&&google.maps.event.removeListener(this.boundsChangedListener),this.div.removeEventListener("mousedown",this.onMouseDown),this.div.removeEventListener("click",this.onClick),this.div.removeEventListener("mouseover",this.onMouseOver),this.div.removeEventListener("mouseout",this.onMouseOut),this.div.parentNode.removeChild(this.div),this.timeOut!==null&&(window.clearTimeout(this.timeOut),this.timeOut=null),this.div=null)},t.prototype.draw=function(){if(this.visible&&this.div!==null&&this.center){var e=this.getPosFromLatLng(this.center);this.div.style.top=e!==null?"".concat(e.y,"px"):"0",this.div.style.left=e!==null?"".concat(e.x,"px"):"0"}},t.prototype.hide=function(){this.div&&(this.div.style.display="none"),this.visible=!1},t.prototype.show=function(){var e,n,r,i,o,s;if(this.div&&this.center){var a=this.sums===null||typeof this.sums.title>"u"||this.sums.title===""?this.cluster.getClusterer().getTitle():this.sums.title,u=this.backgroundPosition.split(" "),c=parseInt(((e=u[0])===null||e===void 0?void 0:e.replace(/^\s+|\s+$/g,""))||"0",10),h=parseInt(((n=u[1])===null||n===void 0?void 0:n.replace(/^\s+|\s+$/g,""))||"0",10),f=this.getPosFromLatLng(this.center);this.div.className=this.className,this.div.setAttribute("style","cursor: pointer; position: absolute; top: ".concat(f!==null?"".concat(f.y,"px"):"0","; left: ").concat(f!==null?"".concat(f.x,"px"):"0","; width: ").concat(this.width,"px; height: ").concat(this.height,"px; "));var d=document.createElement("img");d.alt=a,d.src=this.url,d.width=this.width,d.height=this.height,d.setAttribute("style","position: absolute; top: ".concat(h,"px; left: ").concat(c,"px")),this.cluster.getClusterer().enableRetinaIcons||(d.style.clip="rect(-".concat(h,"px, -").concat(c+this.width,"px, -").concat(h+this.height,", -").concat(c,")"));var g=document.createElement("div");g.setAttribute("style","position: absolute; top: ".concat(this.anchorText[0],"px; left: ").concat(this.anchorText[1],"px; color: ").concat(this.textColor,"; font-size: ").concat(this.textSize,"px; font-family: ").concat(this.fontFamily,"; font-weight: ").concat(this.fontWeight,"; fontStyle: ").concat(this.fontStyle,"; text-decoration: ").concat(this.textDecoration,"; text-align: center; width: ").concat(this.width,"px; line-height: ").concat(this.height,"px")),!((r=this.sums)===null||r===void 0)&&r.text&&(g.innerText="".concat((i=this.sums)===null||i===void 0?void 0:i.text)),!((o=this.sums)===null||o===void 0)&&o.html&&(g.innerHTML="".concat((s=this.sums)===null||s===void 0?void 0:s.html)),this.div.innerHTML="",this.div.appendChild(d),this.div.appendChild(g),this.div.title=a,this.div.style.display=""}this.visible=!0},t.prototype.useStyle=function(e){this.sums=e;var n=this.cluster.getClusterer().getStyles(),r=n[Math.min(n.length-1,Math.max(0,e.index-1))];r&&(this.url=r.url,this.height=r.height,this.width=r.width,r.className&&(this.className="".concat(this.clusterClassName," ").concat(r.className)),this.anchorText=r.anchorText||[0,0],this.anchorIcon=r.anchorIcon||[this.height/2,this.width/2],this.textColor=r.textColor||"black",this.textSize=r.textSize||11,this.textDecoration=r.textDecoration||"none",this.fontWeight=r.fontWeight||"bold",this.fontStyle=r.fontStyle||"normal",this.fontFamily=r.fontFamily||"Arial,sans-serif",this.backgroundPosition=r.backgroundPosition||"0 0")},t.prototype.setCenter=function(e){this.center=e},t.prototype.getPosFromLatLng=function(e){var n=this.getProjection().fromLatLngToDivPixel(e);return n!==null&&(n.x-=this.anchorIcon[1],n.y-=this.anchorIcon[0]),n},t}(),YA=function(){function t(e){this.markerClusterer=e,this.map=this.markerClusterer.getMap(),this.gridSize=this.markerClusterer.getGridSize(),this.minClusterSize=this.markerClusterer.getMinimumClusterSize(),this.averageCenter=this.markerClusterer.getAverageCenter(),this.markers=[],this.center=void 0,this.bounds=null,this.clusterIcon=new XA(this,this.markerClusterer.getStyles()),this.getSize=this.getSize.bind(this),this.getMarkers=this.getMarkers.bind(this),this.getCenter=this.getCenter.bind(this),this.getMap=this.getMap.bind(this),this.getClusterer=this.getClusterer.bind(this),this.getBounds=this.getBounds.bind(this),this.remove=this.remove.bind(this),this.addMarker=this.addMarker.bind(this),this.isMarkerInClusterBounds=this.isMarkerInClusterBounds.bind(this),this.calculateBounds=this.calculateBounds.bind(this),this.updateIcon=this.updateIcon.bind(this),this.isMarkerAlreadyAdded=this.isMarkerAlreadyAdded.bind(this)}return t.prototype.getSize=function(){return this.markers.length},t.prototype.getMarkers=function(){return this.markers},t.prototype.getCenter=function(){return this.center},t.prototype.getMap=function(){return this.map},t.prototype.getClusterer=function(){return this.markerClusterer},t.prototype.getBounds=function(){for(var e=new google.maps.LatLngBounds(this.center,this.center),n=this.getMarkers(),r=0,i=n;r<i.length;r++){var o=i[r],s=o.getPosition();s&&e.extend(s)}return e},t.prototype.remove=function(){this.clusterIcon.setMap(null),this.markers=[],delete this.markers},t.prototype.addMarker=function(e){var n;if(this.isMarkerAlreadyAdded(e))return!1;if(this.center){if(this.averageCenter){var r=e.getPosition();if(r){var i=this.markers.length+1;this.center=new google.maps.LatLng((this.center.lat()*(i-1)+r.lat())/i,(this.center.lng()*(i-1)+r.lng())/i),this.calculateBounds()}}}else{var r=e.getPosition();r&&(this.center=r,this.calculateBounds())}e.isAdded=!0,this.markers.push(e);var o=this.markers.length,s=this.markerClusterer.getMaxZoom(),a=(n=this.map)===null||n===void 0?void 0:n.getZoom();if(s!==null&&typeof a<"u"&&a>s)e.getMap()!==this.map&&e.setMap(this.map);else if(o<this.minClusterSize)e.getMap()!==this.map&&e.setMap(this.map);else if(o===this.minClusterSize)for(var u=0,c=this.markers;u<c.length;u++){var h=c[u];h.setMap(null)}else e.setMap(null);return!0},t.prototype.isMarkerInClusterBounds=function(e){if(this.bounds!==null){var n=e.getPosition();if(n)return this.bounds.contains(n)}return!1},t.prototype.calculateBounds=function(){this.bounds=this.markerClusterer.getExtendedBounds(new google.maps.LatLngBounds(this.center,this.center))},t.prototype.updateIcon=function(){var e,n=this.markers.length,r=this.markerClusterer.getMaxZoom(),i=(e=this.map)===null||e===void 0?void 0:e.getZoom();if(r!==null&&typeof i<"u"&&i>r){this.clusterIcon.hide();return}if(n<this.minClusterSize){this.clusterIcon.hide();return}this.center&&this.clusterIcon.setCenter(this.center),this.clusterIcon.useStyle(this.markerClusterer.getCalculator()(this.markers,this.markerClusterer.getStyles().length)),this.clusterIcon.show()},t.prototype.isMarkerAlreadyAdded=function(e){if(this.markers.includes)return this.markers.includes(e);for(var n=0;n<this.markers.length;n++)if(e===this.markers[n])return!0;return!1},t}();function JA(t,e){var n=t.length,r=n.toString().length,i=Math.min(r,e);return{text:n.toString(),index:i,title:""}}var ex=2e3,tx=500,nx="https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/m",rx="png",ix=[53,56,66,78,90],ox="cluster",cE=function(){function t(e,n,r){n===void 0&&(n=[]),r===void 0&&(r={}),this.getMinimumClusterSize=this.getMinimumClusterSize.bind(this),this.setMinimumClusterSize=this.setMinimumClusterSize.bind(this),this.getEnableRetinaIcons=this.getEnableRetinaIcons.bind(this),this.setEnableRetinaIcons=this.setEnableRetinaIcons.bind(this),this.addToClosestCluster=this.addToClosestCluster.bind(this),this.getImageExtension=this.getImageExtension.bind(this),this.setImageExtension=this.setImageExtension.bind(this),this.getExtendedBounds=this.getExtendedBounds.bind(this),this.getAverageCenter=this.getAverageCenter.bind(this),this.setAverageCenter=this.setAverageCenter.bind(this),this.getTotalClusters=this.getTotalClusters.bind(this),this.fitMapToMarkers=this.fitMapToMarkers.bind(this),this.getIgnoreHidden=this.getIgnoreHidden.bind(this),this.setIgnoreHidden=this.setIgnoreHidden.bind(this),this.getClusterClass=this.getClusterClass.bind(this),this.setClusterClass=this.setClusterClass.bind(this),this.getTotalMarkers=this.getTotalMarkers.bind(this),this.getZoomOnClick=this.getZoomOnClick.bind(this),this.setZoomOnClick=this.setZoomOnClick.bind(this),this.getBatchSizeIE=this.getBatchSizeIE.bind(this),this.setBatchSizeIE=this.setBatchSizeIE.bind(this),this.createClusters=this.createClusters.bind(this),this.onZoomChanged=this.onZoomChanged.bind(this),this.getImageSizes=this.getImageSizes.bind(this),this.setImageSizes=this.setImageSizes.bind(this),this.getCalculator=this.getCalculator.bind(this),this.setCalculator=this.setCalculator.bind(this),this.removeMarkers=this.removeMarkers.bind(this),this.resetViewport=this.resetViewport.bind(this),this.getImagePath=this.getImagePath.bind(this),this.setImagePath=this.setImagePath.bind(this),this.pushMarkerTo=this.pushMarkerTo.bind(this),this.removeMarker=this.removeMarker.bind(this),this.clearMarkers=this.clearMarkers.bind(this),this.setupStyles=this.setupStyles.bind(this),this.getGridSize=this.getGridSize.bind(this),this.setGridSize=this.setGridSize.bind(this),this.getClusters=this.getClusters.bind(this),this.getMaxZoom=this.getMaxZoom.bind(this),this.setMaxZoom=this.setMaxZoom.bind(this),this.getMarkers=this.getMarkers.bind(this),this.addMarkers=this.addMarkers.bind(this),this.getStyles=this.getStyles.bind(this),this.setStyles=this.setStyles.bind(this),this.addMarker=this.addMarker.bind(this),this.onRemove=this.onRemove.bind(this),this.getTitle=this.getTitle.bind(this),this.setTitle=this.setTitle.bind(this),this.repaint=this.repaint.bind(this),this.onIdle=this.onIdle.bind(this),this.redraw=this.redraw.bind(this),this.onAdd=this.onAdd.bind(this),this.draw=this.draw.bind(this),this.extend=this.extend.bind(this),this.extend(t,google.maps.OverlayView),this.markers=[],this.clusters=[],this.listeners=[],this.activeMap=null,this.ready=!1,this.gridSize=r.gridSize||60,this.minClusterSize=r.minimumClusterSize||2,this.maxZoom=r.maxZoom||null,this.styles=r.styles||[],this.title=r.title||"",this.zoomOnClick=!0,r.zoomOnClick!==void 0&&(this.zoomOnClick=r.zoomOnClick),this.averageCenter=!1,r.averageCenter!==void 0&&(this.averageCenter=r.averageCenter),this.ignoreHidden=!1,r.ignoreHidden!==void 0&&(this.ignoreHidden=r.ignoreHidden),this.enableRetinaIcons=!1,r.enableRetinaIcons!==void 0&&(this.enableRetinaIcons=r.enableRetinaIcons),this.imagePath=r.imagePath||nx,this.imageExtension=r.imageExtension||rx,this.imageSizes=r.imageSizes||ix,this.calculator=r.calculator||JA,this.batchSize=r.batchSize||ex,this.batchSizeIE=r.batchSizeIE||tx,this.clusterClass=r.clusterClass||ox,navigator.userAgent.toLowerCase().indexOf("msie")!==-1&&(this.batchSize=this.batchSizeIE),this.timerRefStatic=null,this.setupStyles(),this.addMarkers(n,!0),this.setMap(e)}return t.prototype.onZoomChanged=function(){var e,n;this.resetViewport(!1),(((e=this.getMap())===null||e===void 0?void 0:e.getZoom())===(this.get("minZoom")||0)||((n=this.getMap())===null||n===void 0?void 0:n.getZoom())===this.get("maxZoom"))&&google.maps.event.trigger(this,"idle")},t.prototype.onIdle=function(){this.redraw()},t.prototype.onAdd=function(){var e=this.getMap();this.activeMap=e,this.ready=!0,this.repaint(),e!==null&&(this.listeners=[google.maps.event.addListener(e,"zoom_changed",this.onZoomChanged),google.maps.event.addListener(e,"idle",this.onIdle)])},t.prototype.onRemove=function(){for(var e=0,n=this.markers;e<n.length;e++){var r=n[e];r.getMap()!==this.activeMap&&r.setMap(this.activeMap)}for(var i=0,o=this.clusters;i<o.length;i++){var s=o[i];s.remove()}this.clusters=[];for(var a=0,u=this.listeners;a<u.length;a++){var c=u[a];google.maps.event.removeListener(c)}this.listeners=[],this.activeMap=null,this.ready=!1},t.prototype.draw=function(){},t.prototype.getMap=function(){return null},t.prototype.getPanes=function(){return null},t.prototype.getProjection=function(){return{fromContainerPixelToLatLng:function(){return null},fromDivPixelToLatLng:function(){return null},fromLatLngToContainerPixel:function(){return null},fromLatLngToDivPixel:function(){return null},getVisibleRegion:function(){return null},getWorldWidth:function(){return 0}}},t.prototype.setMap=function(){},t.prototype.addListener=function(){return{remove:function(){}}},t.prototype.bindTo=function(){},t.prototype.get=function(){},t.prototype.notify=function(){},t.prototype.set=function(){},t.prototype.setValues=function(){},t.prototype.unbind=function(){},t.prototype.unbindAll=function(){},t.prototype.setupStyles=function(){if(!(this.styles.length>0))for(var e=0;e<this.imageSizes.length;e++)this.styles.push({url:"".concat(this.imagePath+(e+1),".").concat(this.imageExtension),height:this.imageSizes[e]||0,width:this.imageSizes[e]||0})},t.prototype.fitMapToMarkers=function(){for(var e=this.getMarkers(),n=new google.maps.LatLngBounds,r=0,i=e;r<i.length;r++){var o=i[r],s=o.getPosition();s&&n.extend(s)}var a=this.getMap();a!==null&&"fitBounds"in a&&a.fitBounds(n)},t.prototype.getGridSize=function(){return this.gridSize},t.prototype.setGridSize=function(e){this.gridSize=e},t.prototype.getMinimumClusterSize=function(){return this.minClusterSize},t.prototype.setMinimumClusterSize=function(e){this.minClusterSize=e},t.prototype.getMaxZoom=function(){return this.maxZoom},t.prototype.setMaxZoom=function(e){this.maxZoom=e},t.prototype.getStyles=function(){return this.styles},t.prototype.setStyles=function(e){this.styles=e},t.prototype.getTitle=function(){return this.title},t.prototype.setTitle=function(e){this.title=e},t.prototype.getZoomOnClick=function(){return this.zoomOnClick},t.prototype.setZoomOnClick=function(e){this.zoomOnClick=e},t.prototype.getAverageCenter=function(){return this.averageCenter},t.prototype.setAverageCenter=function(e){this.averageCenter=e},t.prototype.getIgnoreHidden=function(){return this.ignoreHidden},t.prototype.setIgnoreHidden=function(e){this.ignoreHidden=e},t.prototype.getEnableRetinaIcons=function(){return this.enableRetinaIcons},t.prototype.setEnableRetinaIcons=function(e){this.enableRetinaIcons=e},t.prototype.getImageExtension=function(){return this.imageExtension},t.prototype.setImageExtension=function(e){this.imageExtension=e},t.prototype.getImagePath=function(){return this.imagePath},t.prototype.setImagePath=function(e){this.imagePath=e},t.prototype.getImageSizes=function(){return this.imageSizes},t.prototype.setImageSizes=function(e){this.imageSizes=e},t.prototype.getCalculator=function(){return this.calculator},t.prototype.setCalculator=function(e){this.calculator=e},t.prototype.getBatchSizeIE=function(){return this.batchSizeIE},t.prototype.setBatchSizeIE=function(e){this.batchSizeIE=e},t.prototype.getClusterClass=function(){return this.clusterClass},t.prototype.setClusterClass=function(e){this.clusterClass=e},t.prototype.getMarkers=function(){return this.markers},t.prototype.getTotalMarkers=function(){return this.markers.length},t.prototype.getClusters=function(){return this.clusters},t.prototype.getTotalClusters=function(){return this.clusters.length},t.prototype.addMarker=function(e,n){this.pushMarkerTo(e),n||this.redraw()},t.prototype.addMarkers=function(e,n){for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=e[r];i&&this.pushMarkerTo(i)}n||this.redraw()},t.prototype.pushMarkerTo=function(e){var n=this;e.getDraggable()&&google.maps.event.addListener(e,"dragend",function(){n.ready&&(e.isAdded=!1,n.repaint())}),e.isAdded=!1,this.markers.push(e)},t.prototype.removeMarker_=function(e){var n=-1;if(this.markers.indexOf)n=this.markers.indexOf(e);else for(var r=0;r<this.markers.length;r++)if(e===this.markers[r]){n=r;break}return n===-1?!1:(e.setMap(null),this.markers.splice(n,1),!0)},t.prototype.removeMarker=function(e,n){var r=this.removeMarker_(e);return!n&&r&&this.repaint(),r},t.prototype.removeMarkers=function(e,n){for(var r=!1,i=0,o=e;i<o.length;i++){var s=o[i];r=r||this.removeMarker_(s)}return!n&&r&&this.repaint(),r},t.prototype.clearMarkers=function(){this.resetViewport(!0),this.markers=[]},t.prototype.repaint=function(){var e=this.clusters.slice();this.clusters=[],this.resetViewport(!1),this.redraw(),setTimeout(function(){for(var r=0,i=e;r<i.length;r++){var o=i[r];o.remove()}},0)},t.prototype.getExtendedBounds=function(e){var n=this.getProjection(),r=n.fromLatLngToDivPixel(new google.maps.LatLng(e.getNorthEast().lat(),e.getNorthEast().lng()));r!==null&&(r.x+=this.gridSize,r.y-=this.gridSize);var i=n.fromLatLngToDivPixel(new google.maps.LatLng(e.getSouthWest().lat(),e.getSouthWest().lng()));if(i!==null&&(i.x-=this.gridSize,i.y+=this.gridSize),r!==null){var o=n.fromDivPixelToLatLng(r);o!==null&&e.extend(o)}if(i!==null){var s=n.fromDivPixelToLatLng(i);s!==null&&e.extend(s)}return e},t.prototype.redraw=function(){this.createClusters(0)},t.prototype.resetViewport=function(e){for(var n=0,r=this.clusters;n<r.length;n++){var i=r[n];i.remove()}this.clusters=[];for(var o=0,s=this.markers;o<s.length;o++){var a=s[o];a.isAdded=!1,e&&a.setMap(null)}},t.prototype.distanceBetweenPoints=function(e,n){var r=6371,i=(n.lat()-e.lat())*Math.PI/180,o=(n.lng()-e.lng())*Math.PI/180,s=Math.sin(i/2)*Math.sin(i/2)+Math.cos(e.lat()*Math.PI/180)*Math.cos(n.lat()*Math.PI/180)*Math.sin(o/2)*Math.sin(o/2);return r*(2*Math.atan2(Math.sqrt(s),Math.sqrt(1-s)))},t.prototype.isMarkerInBounds=function(e,n){var r=e.getPosition();return r?n.contains(r):!1},t.prototype.addToClosestCluster=function(e){for(var n,r=4e4,i=null,o=0,s=this.clusters;o<s.length;o++){var a=s[o];n=a;var u=n.getCenter(),c=e.getPosition();if(u&&c){var h=this.distanceBetweenPoints(u,c);h<r&&(r=h,i=n)}}i&&i.isMarkerInClusterBounds(e)?i.addMarker(e):(n=new YA(this),n.addMarker(e),this.clusters.push(n))},t.prototype.createClusters=function(e){var n=this;if(this.ready){e===0&&(google.maps.event.trigger(this,"clusteringbegin",this),this.timerRefStatic!==null&&(window.clearTimeout(this.timerRefStatic),delete this.timerRefStatic));for(var r=this.getMap(),i=r!==null&&("getBounds"in r)?r.getBounds():null,o=(r==null?void 0:r.getZoom())||0,s=o>3?new google.maps.LatLngBounds(i==null?void 0:i.getSouthWest(),i==null?void 0:i.getNorthEast()):new google.maps.LatLngBounds(new google.maps.LatLng(85.02070771743472,-178.48388434375),new google.maps.LatLng(-85.08136444384544,178.00048865625)),a=this.getExtendedBounds(s),u=Math.min(e+this.batchSize,this.markers.length),c=e;c<u;c++){var h=this.markers[c];h&&!h.isAdded&&this.isMarkerInBounds(h,a)&&(!this.ignoreHidden||this.ignoreHidden&&h.getVisible())&&this.addToClosestCluster(h)}if(u<this.markers.length)this.timerRefStatic=window.setTimeout(function(){n.createClusters(u)},0);else{this.timerRefStatic=null,google.maps.event.trigger(this,"clusteringend",this);for(var f=0,d=this.clusters;f<d.length;f++){var g=d[f];g.updateIcon()}}}},t.prototype.extend=function(e,n){return(function(i){for(var o in i.prototype){var s=o;this.prototype[s]=i.prototype[s]}return this}).apply(e,[n])},t}(),Tn={onClick:"click",onClusteringBegin:"clusteringbegin",onClusteringEnd:"clusteringend",onMouseOut:"mouseout",onMouseOver:"mouseover"},Fe={averageCenter:function(t,e){t.setAverageCenter(e)},batchSizeIE:function(t,e){t.setBatchSizeIE(e)},calculator:function(t,e){t.setCalculator(e)},clusterClass:function(t,e){t.setClusterClass(e)},enableRetinaIcons:function(t,e){t.setEnableRetinaIcons(e)},gridSize:function(t,e){t.setGridSize(e)},ignoreHidden:function(t,e){t.setIgnoreHidden(e)},imageExtension:function(t,e){t.setImageExtension(e)},imagePath:function(t,e){t.setImagePath(e)},imageSizes:function(t,e){t.setImageSizes(e)},maxZoom:function(t,e){t.setMaxZoom(e)},minimumClusterSize:function(t,e){t.setMinimumClusterSize(e)},styles:function(t,e){t.setStyles(e)},title:function(t,e){t.setTitle(e)},zoomOnClick:function(t,e){t.setZoomOnClick(e)}},sx={};function ax(t){var e=t.children,n=t.options,r=t.averageCenter,i=t.batchSizeIE,o=t.calculator,s=t.clusterClass,a=t.enableRetinaIcons,u=t.gridSize,c=t.ignoreHidden,h=t.imageExtension,f=t.imagePath,d=t.imageSizes,g=t.maxZoom,_=t.minimumClusterSize,S=t.styles,P=t.title,w=t.zoomOnClick,I=t.onClick,L=t.onClusteringBegin,b=t.onClusteringEnd,O=t.onMouseOver,x=t.onMouseOut,T=t.onLoad,p=t.onUnmount,v=y.useState(null),E=v[0],A=v[1],R=y.useContext(Ie),k=y.useState(null),V=k[0],z=k[1],N=y.useState(null),M=N[0],U=N[1],F=y.useState(null),B=F[0],Q=F[1],q=y.useState(null),Z=q[0],K=q[1],H=y.useState(null),j=H[0],oe=H[1];return y.useEffect(function(){E&&x&&(Z!==null&&google.maps.event.removeListener(Z),K(google.maps.event.addListener(E,Tn.onMouseOut,x)))},[x]),y.useEffect(function(){E&&O&&(j!==null&&google.maps.event.removeListener(j),oe(google.maps.event.addListener(E,Tn.onMouseOver,O)))},[O]),y.useEffect(function(){E&&I&&(V!==null&&google.maps.event.removeListener(V),z(google.maps.event.addListener(E,Tn.onClick,I)))},[I]),y.useEffect(function(){E&&L&&(M!==null&&google.maps.event.removeListener(M),U(google.maps.event.addListener(E,Tn.onClusteringBegin,L)))},[L]),y.useEffect(function(){E&&b&&(B!==null&&google.maps.event.removeListener(B),U(google.maps.event.addListener(E,Tn.onClusteringEnd,b)))},[b]),y.useEffect(function(){typeof r<"u"&&E!==null&&Fe.averageCenter(E,r)},[E,r]),y.useEffect(function(){typeof i<"u"&&E!==null&&Fe.batchSizeIE(E,i)},[E,i]),y.useEffect(function(){typeof o<"u"&&E!==null&&Fe.calculator(E,o)},[E,o]),y.useEffect(function(){typeof s<"u"&&E!==null&&Fe.clusterClass(E,s)},[E,s]),y.useEffect(function(){typeof a<"u"&&E!==null&&Fe.enableRetinaIcons(E,a)},[E,a]),y.useEffect(function(){typeof u<"u"&&E!==null&&Fe.gridSize(E,u)},[E,u]),y.useEffect(function(){typeof c<"u"&&E!==null&&Fe.ignoreHidden(E,c)},[E,c]),y.useEffect(function(){typeof h<"u"&&E!==null&&Fe.imageExtension(E,h)},[E,h]),y.useEffect(function(){typeof f<"u"&&E!==null&&Fe.imagePath(E,f)},[E,f]),y.useEffect(function(){typeof d<"u"&&E!==null&&Fe.imageSizes(E,d)},[E,d]),y.useEffect(function(){typeof g<"u"&&E!==null&&Fe.maxZoom(E,g)},[E,g]),y.useEffect(function(){typeof _<"u"&&E!==null&&Fe.minimumClusterSize(E,_)},[E,_]),y.useEffect(function(){typeof S<"u"&&E!==null&&Fe.styles(E,S)},[E,S]),y.useEffect(function(){typeof P<"u"&&E!==null&&Fe.title(E,P)},[E,P]),y.useEffect(function(){typeof w<"u"&&E!==null&&Fe.zoomOnClick(E,w)},[E,w]),y.useEffect(function(){if(R){var he=ae({},n||sx),ee=new cE(R,[],he);return r&&Fe.averageCenter(ee,r),i&&Fe.batchSizeIE(ee,i),o&&Fe.calculator(ee,o),s&&Fe.clusterClass(ee,s),a&&Fe.enableRetinaIcons(ee,a),u&&Fe.gridSize(ee,u),c&&Fe.ignoreHidden(ee,c),h&&Fe.imageExtension(ee,h),f&&Fe.imagePath(ee,f),d&&Fe.imageSizes(ee,d),g&&Fe.maxZoom(ee,g),_&&Fe.minimumClusterSize(ee,_),S&&Fe.styles(ee,S),P&&Fe.title(ee,P),w&&Fe.zoomOnClick(ee,w),x&&K(google.maps.event.addListener(ee,Tn.onMouseOut,x)),O&&oe(google.maps.event.addListener(ee,Tn.onMouseOver,O)),I&&z(google.maps.event.addListener(ee,Tn.onClick,I)),L&&U(google.maps.event.addListener(ee,Tn.onClusteringBegin,L)),b&&Q(google.maps.event.addListener(ee,Tn.onClusteringEnd,b)),A(ee),T&&T(ee),function(){Z!==null&&google.maps.event.removeListener(Z),j!==null&&google.maps.event.removeListener(j),V!==null&&google.maps.event.removeListener(V),M!==null&&google.maps.event.removeListener(M),B!==null&&google.maps.event.removeListener(B),p&&p(ee)}}},[]),E!==null&&e(E)||null}y.memo(ax);(function(t){qe(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.registeredEvents=[],n.state={markerClusterer:null},n.setClustererCallback=function(){n.state.markerClusterer!==null&&n.props.onLoad&&n.props.onLoad(n.state.markerClusterer)},n}return e.prototype.componentDidMount=function(){if(this.context){var n=new cE(this.context,[],this.props.options);this.registeredEvents=ke({updaterMap:Fe,eventMap:Tn,prevProps:{},nextProps:this.props,instance:n}),this.setState(function(){return{markerClusterer:n}},this.setClustererCallback)}},e.prototype.componentDidUpdate=function(n){this.state.markerClusterer&&(Pe(this.registeredEvents),this.registeredEvents=ke({updaterMap:Fe,eventMap:Tn,prevProps:n,nextProps:this.props,instance:this.state.markerClusterer}))},e.prototype.componentWillUnmount=function(){this.state.markerClusterer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.markerClusterer),Pe(this.registeredEvents),this.state.markerClusterer.setMap(null))},e.prototype.render=function(){return this.state.markerClusterer!==null?this.props.children(this.state.markerClusterer):null},e.contextType=Ie,e})(y.PureComponent);function Jm(t){t.cancelBubble=!0,t.stopPropagation&&t.stopPropagation()}var hE=function(){function t(e){e===void 0&&(e={}),this.getCloseClickHandler=this.getCloseClickHandler.bind(this),this.closeClickHandler=this.closeClickHandler.bind(this),this.createInfoBoxDiv=this.createInfoBoxDiv.bind(this),this.addClickHandler=this.addClickHandler.bind(this),this.getCloseBoxImg=this.getCloseBoxImg.bind(this),this.getBoxWidths=this.getBoxWidths.bind(this),this.setBoxStyle=this.setBoxStyle.bind(this),this.setPosition=this.setPosition.bind(this),this.getPosition=this.getPosition.bind(this),this.setOptions=this.setOptions.bind(this),this.setContent=this.setContent.bind(this),this.setVisible=this.setVisible.bind(this),this.getContent=this.getContent.bind(this),this.getVisible=this.getVisible.bind(this),this.setZIndex=this.setZIndex.bind(this),this.getZIndex=this.getZIndex.bind(this),this.onRemove=this.onRemove.bind(this),this.panBox=this.panBox.bind(this),this.extend=this.extend.bind(this),this.close=this.close.bind(this),this.draw=this.draw.bind(this),this.show=this.show.bind(this),this.hide=this.hide.bind(this),this.open=this.open.bind(this),this.extend(t,google.maps.OverlayView),this.content=e.content||"",this.disableAutoPan=e.disableAutoPan||!1,this.maxWidth=e.maxWidth||0,this.pixelOffset=e.pixelOffset||new google.maps.Size(0,0),this.position=e.position||new google.maps.LatLng(0,0),this.zIndex=e.zIndex||null,this.boxClass=e.boxClass||"infoBox",this.boxStyle=e.boxStyle||{},this.closeBoxMargin=e.closeBoxMargin||"2px",this.closeBoxURL=e.closeBoxURL||"http://www.google.com/intl/en_us/mapfiles/close.gif",e.closeBoxURL===""&&(this.closeBoxURL=""),this.infoBoxClearance=e.infoBoxClearance||new google.maps.Size(1,1),typeof e.visible>"u"&&(typeof e.isHidden>"u"?e.visible=!0:e.visible=!e.isHidden),this.isHidden=!e.visible,this.alignBottom=e.alignBottom||!1,this.pane=e.pane||"floatPane",this.enableEventPropagation=e.enableEventPropagation||!1,this.div=null,this.closeListener=null,this.moveListener=null,this.mapListener=null,this.contextListener=null,this.eventListeners=null,this.fixedWidthSet=null}return t.prototype.createInfoBoxDiv=function(){var e=this,n=function(c){c.returnValue=!1,c.preventDefault&&c.preventDefault(),e.enableEventPropagation||Jm(c)};if(!this.div){this.div=document.createElement("div"),this.setBoxStyle(),typeof this.content=="string"?this.div.innerHTML=this.getCloseBoxImg()+this.content:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(this.content));var r=this.getPanes();if(r!==null&&r[this.pane].appendChild(this.div),this.addClickHandler(),this.div.style.width)this.fixedWidthSet=!0;else if(this.maxWidth!==0&&this.div.offsetWidth>this.maxWidth)this.div.style.width=this.maxWidth+"px",this.fixedWidthSet=!0;else{var i=this.getBoxWidths();this.div.style.width=this.div.offsetWidth-i.left-i.right+"px",this.fixedWidthSet=!1}if(this.panBox(this.disableAutoPan),!this.enableEventPropagation){this.eventListeners=[];for(var o=["mousedown","mouseover","mouseout","mouseup","click","dblclick","touchstart","touchend","touchmove"],s=0,a=o;s<a.length;s++){var u=a[s];this.eventListeners.push(google.maps.event.addListener(this.div,u,Jm))}this.eventListeners.push(google.maps.event.addListener(this.div,"mouseover",function(){e.div&&(e.div.style.cursor="default")}))}this.contextListener=google.maps.event.addListener(this.div,"contextmenu",n),google.maps.event.trigger(this,"domready")}},t.prototype.getCloseBoxImg=function(){var e="";return this.closeBoxURL!==""&&(e='<img alt=""',e+=' aria-hidden="true"',e+=" src='"+this.closeBoxURL+"'",e+=" align=right",e+=" style='",e+=" position: relative;",e+=" cursor: pointer;",e+=" margin: "+this.closeBoxMargin+";",e+="'>"),e},t.prototype.addClickHandler=function(){this.closeListener=this.div&&this.div.firstChild&&this.closeBoxURL!==""?google.maps.event.addListener(this.div.firstChild,"click",this.getCloseClickHandler()):null},t.prototype.closeClickHandler=function(e){e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation(),google.maps.event.trigger(this,"closeclick"),this.close()},t.prototype.getCloseClickHandler=function(){return this.closeClickHandler},t.prototype.panBox=function(e){if(this.div&&!e){var n=this.getMap();if(n instanceof google.maps.Map){var r=0,i=0,o=n.getBounds();o&&!o.contains(this.position)&&n.setCenter(this.position);var s=n.getDiv(),a=s.offsetWidth,u=s.offsetHeight,c=this.pixelOffset.width,h=this.pixelOffset.height,f=this.div.offsetWidth,d=this.div.offsetHeight,g=this.infoBoxClearance.width,_=this.infoBoxClearance.height,S=this.getProjection(),P=S.fromLatLngToContainerPixel(this.position);P!==null&&(P.x<-c+g?r=P.x+c-g:P.x+f+c+g>a&&(r=P.x+f+c+g-a),this.alignBottom?P.y<-h+_+d?i=P.y+h-_-d:P.y+h+_>u&&(i=P.y+h+_-u):P.y<-h+_?i=P.y+h-_:P.y+d+h+_>u&&(i=P.y+d+h+_-u)),r===0&&i===0||n.panBy(r,i)}}},t.prototype.setBoxStyle=function(){if(this.div){this.div.className=this.boxClass,this.div.style.cssText="";var e=this.boxStyle;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(this.div.style[n]=e[n]);if(this.div.style.webkitTransform="translateZ(0)",typeof this.div.style.opacity<"u"&&this.div.style.opacity!==""){var r=parseFloat(this.div.style.opacity||"");this.div.style.msFilter='"progid:DXImageTransform.Microsoft.Alpha(Opacity='+r*100+')"',this.div.style.filter="alpha(opacity="+r*100+")"}this.div.style.position="absolute",this.div.style.visibility="hidden",this.zIndex!==null&&(this.div.style.zIndex=this.zIndex+""),this.div.style.overflow||(this.div.style.overflow="auto")}},t.prototype.getBoxWidths=function(){var e={top:0,bottom:0,left:0,right:0};if(!this.div)return e;if(document.defaultView){var n=this.div.ownerDocument,r=n&&n.defaultView?n.defaultView.getComputedStyle(this.div,""):null;r&&(e.top=parseInt(r.borderTopWidth||"",10)||0,e.bottom=parseInt(r.borderBottomWidth||"",10)||0,e.left=parseInt(r.borderLeftWidth||"",10)||0,e.right=parseInt(r.borderRightWidth||"",10)||0)}else if(document.documentElement.currentStyle){var i=this.div.currentStyle;i&&(e.top=parseInt(i.borderTopWidth||"",10)||0,e.bottom=parseInt(i.borderBottomWidth||"",10)||0,e.left=parseInt(i.borderLeftWidth||"",10)||0,e.right=parseInt(i.borderRightWidth||"",10)||0)}return e},t.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.div.parentNode.removeChild(this.div),this.div=null)},t.prototype.draw=function(){if(this.createInfoBoxDiv(),this.div){var e=this.getProjection(),n=e.fromLatLngToDivPixel(this.position);n!==null&&(this.div.style.left=n.x+this.pixelOffset.width+"px",this.alignBottom?this.div.style.bottom=-(n.y+this.pixelOffset.height)+"px":this.div.style.top=n.y+this.pixelOffset.height+"px"),this.isHidden?this.div.style.visibility="hidden":this.div.style.visibility="visible"}},t.prototype.setOptions=function(e){e===void 0&&(e={}),typeof e.boxClass<"u"&&(this.boxClass=e.boxClass,this.setBoxStyle()),typeof e.boxStyle<"u"&&(this.boxStyle=e.boxStyle,this.setBoxStyle()),typeof e.content<"u"&&this.setContent(e.content),typeof e.disableAutoPan<"u"&&(this.disableAutoPan=e.disableAutoPan),typeof e.maxWidth<"u"&&(this.maxWidth=e.maxWidth),typeof e.pixelOffset<"u"&&(this.pixelOffset=e.pixelOffset),typeof e.alignBottom<"u"&&(this.alignBottom=e.alignBottom),typeof e.position<"u"&&this.setPosition(e.position),typeof e.zIndex<"u"&&this.setZIndex(e.zIndex),typeof e.closeBoxMargin<"u"&&(this.closeBoxMargin=e.closeBoxMargin),typeof e.closeBoxURL<"u"&&(this.closeBoxURL=e.closeBoxURL),typeof e.infoBoxClearance<"u"&&(this.infoBoxClearance=e.infoBoxClearance),typeof e.isHidden<"u"&&(this.isHidden=e.isHidden),typeof e.visible<"u"&&(this.isHidden=!e.visible),typeof e.enableEventPropagation<"u"&&(this.enableEventPropagation=e.enableEventPropagation),this.div&&this.draw()},t.prototype.setContent=function(e){this.content=e,this.div&&(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.fixedWidthSet||(this.div.style.width=""),typeof e=="string"?this.div.innerHTML=this.getCloseBoxImg()+e:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(e)),this.fixedWidthSet||(this.div.style.width=this.div.offsetWidth+"px",typeof e=="string"?this.div.innerHTML=this.getCloseBoxImg()+e:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(e))),this.addClickHandler()),google.maps.event.trigger(this,"content_changed")},t.prototype.setPosition=function(e){this.position=e,this.div&&this.draw(),google.maps.event.trigger(this,"position_changed")},t.prototype.setVisible=function(e){this.isHidden=!e,this.div&&(this.div.style.visibility=this.isHidden?"hidden":"visible")},t.prototype.setZIndex=function(e){this.zIndex=e,this.div&&(this.div.style.zIndex=e+""),google.maps.event.trigger(this,"zindex_changed")},t.prototype.getContent=function(){return this.content},t.prototype.getPosition=function(){return this.position},t.prototype.getZIndex=function(){return this.zIndex},t.prototype.getVisible=function(){var e=this.getMap();return typeof e>"u"||e===null?!1:!this.isHidden},t.prototype.show=function(){this.isHidden=!1,this.div&&(this.div.style.visibility="visible")},t.prototype.hide=function(){this.isHidden=!0,this.div&&(this.div.style.visibility="hidden")},t.prototype.open=function(e,n){var r=this;n&&(this.position=n.getPosition(),this.moveListener=google.maps.event.addListener(n,"position_changed",function(){var i=n.getPosition();r.setPosition(i)}),this.mapListener=google.maps.event.addListener(n,"map_changed",function(){r.setMap(n.map)})),this.setMap(e),this.div&&this.panBox()},t.prototype.close=function(){if(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.eventListeners){for(var e=0,n=this.eventListeners;e<n.length;e++){var r=n[e];google.maps.event.removeListener(r)}this.eventListeners=null}this.moveListener&&(google.maps.event.removeListener(this.moveListener),this.moveListener=null),this.mapListener&&(google.maps.event.removeListener(this.mapListener),this.mapListener=null),this.contextListener&&(google.maps.event.removeListener(this.contextListener),this.contextListener=null),this.setMap(null)},t.prototype.extend=function(e,n){return(function(i){for(var o in i.prototype)Object.prototype.hasOwnProperty.call(this,o)||(this.prototype[o]=i.prototype[o]);return this}).apply(e,[n])},t}(),ev={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},tv={options:function(t,e){t.setOptions(e)},position:function(t,e){e instanceof google.maps.LatLng?t.setPosition(e):t.setPosition(new google.maps.LatLng(e.lat,e.lng))},visible:function(t,e){t.setVisible(e)},zIndex:function(t,e){t.setZIndex(e)}},lx={};function ux(t){var e=t.children,n=t.anchor,r=t.options,i=t.position,o=t.zIndex,s=t.onCloseClick,a=t.onDomReady,u=t.onContentChanged,c=t.onPositionChanged,h=t.onZindexChanged,f=t.onLoad,d=t.onUnmount,g=y.useContext(Ie),_=y.useState(null),S=_[0],P=_[1],w=y.useState(null),I=w[0],L=w[1],b=y.useState(null),O=b[0],x=b[1],T=y.useState(null),p=T[0],v=T[1],E=y.useState(null),A=E[0],R=E[1],k=y.useState(null),V=k[0],z=k[1],N=y.useRef(null);return y.useEffect(function(){g&&S!==null&&(S.close(),n?S.open(g,n):S.getPosition()&&S.open(g))},[g,S,n]),y.useEffect(function(){r&&S!==null&&S.setOptions(r)},[S,r]),y.useEffect(function(){if(i&&S!==null){var M=i instanceof google.maps.LatLng?i:new google.maps.LatLng(i.lat,i.lng);S.setPosition(M)}},[i]),y.useEffect(function(){typeof o=="number"&&S!==null&&S.setZIndex(o)},[o]),y.useEffect(function(){S&&s&&(I!==null&&google.maps.event.removeListener(I),L(google.maps.event.addListener(S,"closeclick",s)))},[s]),y.useEffect(function(){S&&a&&(O!==null&&google.maps.event.removeListener(O),x(google.maps.event.addListener(S,"domready",a)))},[a]),y.useEffect(function(){S&&u&&(p!==null&&google.maps.event.removeListener(p),v(google.maps.event.addListener(S,"content_changed",u)))},[u]),y.useEffect(function(){S&&c&&(A!==null&&google.maps.event.removeListener(A),R(google.maps.event.addListener(S,"position_changed",c)))},[c]),y.useEffect(function(){S&&h&&(V!==null&&google.maps.event.removeListener(V),z(google.maps.event.addListener(S,"zindex_changed",h)))},[h]),y.useEffect(function(){if(g){var M=r||lx,U=M.position,F=Qd(M,["position"]),B=void 0;U&&!(U instanceof google.maps.LatLng)&&(B=new google.maps.LatLng(U.lat,U.lng));var Q=new hE(ae(ae({},F),B?{position:B}:{}));N.current=document.createElement("div"),P(Q),s&&L(google.maps.event.addListener(Q,"closeclick",s)),a&&x(google.maps.event.addListener(Q,"domready",a)),u&&v(google.maps.event.addListener(Q,"content_changed",u)),c&&R(google.maps.event.addListener(Q,"position_changed",c)),h&&z(google.maps.event.addListener(Q,"zindex_changed",h)),Q.setContent(N.current),n?Q.open(g,n):Q.getPosition()?Q.open(g):dt(!1,"You must provide either an anchor or a position prop for <InfoBox>."),f&&f(Q)}return function(){S!==null&&(I&&google.maps.event.removeListener(I),p&&google.maps.event.removeListener(p),O&&google.maps.event.removeListener(O),A&&google.maps.event.removeListener(A),V&&google.maps.event.removeListener(V),d&&d(S),S.close())}},[]),N.current?Ui.createPortal(y.Children.only(e),N.current):null}y.memo(ux);(function(t){qe(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.registeredEvents=[],n.containerElement=null,n.state={infoBox:null},n.open=function(r,i){i?n.context!==null&&r.open(n.context,i):r.getPosition()?n.context!==null&&r.open(n.context):dt(!1,"You must provide either an anchor or a position prop for <InfoBox>.")},n.setInfoBoxCallback=function(){n.state.infoBox!==null&&n.containerElement!==null&&(n.state.infoBox.setContent(n.containerElement),n.open(n.state.infoBox,n.props.anchor),n.props.onLoad&&n.props.onLoad(n.state.infoBox))},n}return e.prototype.componentDidMount=function(){var n=this.props.options||{},r=n.position,i=Qd(n,["position"]),o;r&&!(r instanceof google.maps.LatLng)&&(o=new google.maps.LatLng(r.lat,r.lng));var s=new hE(ae(ae({},i),o?{position:o}:{}));this.containerElement=document.createElement("div"),this.registeredEvents=ke({updaterMap:tv,eventMap:ev,prevProps:{},nextProps:this.props,instance:s}),this.setState({infoBox:s},this.setInfoBoxCallback)},e.prototype.componentDidUpdate=function(n){var r=this.state.infoBox;r!==null&&(Pe(this.registeredEvents),this.registeredEvents=ke({updaterMap:tv,eventMap:ev,prevProps:n,nextProps:this.props,instance:r}))},e.prototype.componentWillUnmount=function(){var n=this.props.onUnmount,r=this.state.infoBox;r!==null&&(n&&n(r),Pe(this.registeredEvents),r.close())},e.prototype.render=function(){return this.containerElement?Ui.createPortal(y.Children.only(this.props.children),this.containerElement):null},e.contextType=Ie,e})(y.PureComponent);var cx=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,i,o;if(Array.isArray(e)){if(r=e.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!t(e[i],n[i]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(o=Object.keys(e),r=o.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,o[i]))return!1;for(i=r;i--!==0;){var s=o[i];if(!t(e[s],n[s]))return!1}return!0}return e!==e&&n!==n},nv=oE(cx);const rv=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],Hc=1,vs=8;class Zd{static from(e){if(!(e instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");const[n,r]=new Uint8Array(e,0,2);if(n!==219)throw new Error("Data does not appear to be in a KDBush format.");const i=r>>4;if(i!==Hc)throw new Error(`Got v${i} data when expected v${Hc}.`);const o=rv[r&15];if(!o)throw new Error("Unrecognized array type.");const[s]=new Uint16Array(e,2,1),[a]=new Uint32Array(e,4,1);return new Zd(a,s,o,e)}constructor(e,n=64,r=Float64Array,i){if(isNaN(e)||e<0)throw new Error(`Unpexpected numItems value: ${e}.`);this.numItems=+e,this.nodeSize=Math.min(Math.max(+n,2),65535),this.ArrayType=r,this.IndexArrayType=e<65536?Uint16Array:Uint32Array;const o=rv.indexOf(this.ArrayType),s=e*2*this.ArrayType.BYTES_PER_ELEMENT,a=e*this.IndexArrayType.BYTES_PER_ELEMENT,u=(8-a%8)%8;if(o<0)throw new Error(`Unexpected typed array class: ${r}.`);i&&i instanceof ArrayBuffer?(this.data=i,this.ids=new this.IndexArrayType(this.data,vs,e),this.coords=new this.ArrayType(this.data,vs+a+u,e*2),this._pos=e*2,this._finished=!0):(this.data=new ArrayBuffer(vs+s+a+u),this.ids=new this.IndexArrayType(this.data,vs,e),this.coords=new this.ArrayType(this.data,vs+a+u,e*2),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,(Hc<<4)+o]),new Uint16Array(this.data,2,1)[0]=n,new Uint32Array(this.data,4,1)[0]=e)}add(e,n){const r=this._pos>>1;return this.ids[r]=r,this.coords[this._pos++]=e,this.coords[this._pos++]=n,r}finish(){const e=this._pos>>1;if(e!==this.numItems)throw new Error(`Added ${e} items when expected ${this.numItems}.`);return hf(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(e,n,r,i){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:o,coords:s,nodeSize:a}=this,u=[0,o.length-1,0],c=[];for(;u.length;){const h=u.pop()||0,f=u.pop()||0,d=u.pop()||0;if(f-d<=a){for(let P=d;P<=f;P++){const w=s[2*P],I=s[2*P+1];w>=e&&w<=r&&I>=n&&I<=i&&c.push(o[P])}continue}const g=d+f>>1,_=s[2*g],S=s[2*g+1];_>=e&&_<=r&&S>=n&&S<=i&&c.push(o[g]),(h===0?e<=_:n<=S)&&(u.push(d),u.push(g-1),u.push(1-h)),(h===0?r>=_:i>=S)&&(u.push(g+1),u.push(f),u.push(1-h))}return c}within(e,n,r){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:i,coords:o,nodeSize:s}=this,a=[0,i.length-1,0],u=[],c=r*r;for(;a.length;){const h=a.pop()||0,f=a.pop()||0,d=a.pop()||0;if(f-d<=s){for(let P=d;P<=f;P++)iv(o[2*P],o[2*P+1],e,n)<=c&&u.push(i[P]);continue}const g=d+f>>1,_=o[2*g],S=o[2*g+1];iv(_,S,e,n)<=c&&u.push(i[g]),(h===0?e-r<=_:n-r<=S)&&(a.push(d),a.push(g-1),a.push(1-h)),(h===0?e+r>=_:n+r>=S)&&(a.push(g+1),a.push(f),a.push(1-h))}return u}}function hf(t,e,n,r,i,o){if(i-r<=n)return;const s=r+i>>1;fE(t,e,s,r,i,o),hf(t,e,n,r,s-1,1-o),hf(t,e,n,s+1,i,1-o)}function fE(t,e,n,r,i,o){for(;i>r;){if(i-r>600){const c=i-r+1,h=n-r+1,f=Math.log(c),d=.5*Math.exp(2*f/3),g=.5*Math.sqrt(f*d*(c-d)/c)*(h-c/2<0?-1:1),_=Math.max(r,Math.floor(n-h*d/c+g)),S=Math.min(i,Math.floor(n+(c-h)*d/c+g));fE(t,e,n,_,S,o)}const s=e[2*n+o];let a=r,u=i;for(ys(t,e,r,n),e[2*i+o]>s&&ys(t,e,r,i);a<u;){for(ys(t,e,a,u),a++,u--;e[2*a+o]<s;)a++;for(;e[2*u+o]>s;)u--}e[2*r+o]===s?ys(t,e,r,u):(u++,ys(t,e,u,i)),u<=n&&(r=u+1),n<=u&&(i=u-1)}}function ys(t,e,n,r){Wc(t,n,r),Wc(e,2*n,2*r),Wc(e,2*n+1,2*r+1)}function Wc(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function iv(t,e,n,r){const i=t-n,o=e-r;return i*i+o*o}const hx={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:t=>t},ov=Math.fround||(t=>e=>(t[0]=+e,t[0]))(new Float32Array(1)),pi=2,Rr=3,Gc=4,Ar=5,dE=6;class fx{constructor(e){this.options=Object.assign(Object.create(hx),e),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(e){const{log:n,minZoom:r,maxZoom:i}=this.options;n&&console.time("total time");const o=`prepare ${e.length} points`;n&&console.time(o),this.points=e;const s=[];for(let u=0;u<e.length;u++){const c=e[u];if(!c.geometry)continue;const[h,f]=c.geometry.coordinates,d=ov(sl(h)),g=ov(al(f));s.push(d,g,1/0,u,-1,1),this.options.reduce&&s.push(0)}let a=this.trees[i+1]=this._createTree(s);n&&console.timeEnd(o);for(let u=i;u>=r;u--){const c=+Date.now();a=this.trees[u]=this._createTree(this._cluster(a,u)),n&&console.log("z%d: %d clusters in %dms",u,a.numItems,+Date.now()-c)}return n&&console.timeEnd("total time"),this}getClusters(e,n){let r=((e[0]+180)%360+360)%360-180;const i=Math.max(-90,Math.min(90,e[1]));let o=e[2]===180?180:((e[2]+180)%360+360)%360-180;const s=Math.max(-90,Math.min(90,e[3]));if(e[2]-e[0]>=360)r=-180,o=180;else if(r>o){const f=this.getClusters([r,i,180,s],n),d=this.getClusters([-180,i,o,s],n);return f.concat(d)}const a=this.trees[this._limitZoom(n)],u=a.range(sl(r),al(s),sl(o),al(i)),c=a.data,h=[];for(const f of u){const d=this.stride*f;h.push(c[d+Ar]>1?sv(c,d,this.clusterProps):this.points[c[d+Rr]])}return h}getChildren(e){const n=this._getOriginId(e),r=this._getOriginZoom(e),i="No cluster with the specified id.",o=this.trees[r];if(!o)throw new Error(i);const s=o.data;if(n*this.stride>=s.length)throw new Error(i);const a=this.options.radius/(this.options.extent*Math.pow(2,r-1)),u=s[n*this.stride],c=s[n*this.stride+1],h=o.within(u,c,a),f=[];for(const d of h){const g=d*this.stride;s[g+Gc]===e&&f.push(s[g+Ar]>1?sv(s,g,this.clusterProps):this.points[s[g+Rr]])}if(f.length===0)throw new Error(i);return f}getLeaves(e,n,r){n=n||10,r=r||0;const i=[];return this._appendLeaves(i,e,n,r,0),i}getTile(e,n,r){const i=this.trees[this._limitZoom(e)],o=Math.pow(2,e),{extent:s,radius:a}=this.options,u=a/s,c=(r-u)/o,h=(r+1+u)/o,f={features:[]};return this._addTileFeatures(i.range((n-u)/o,c,(n+1+u)/o,h),i.data,n,r,o,f),n===0&&this._addTileFeatures(i.range(1-u/o,c,1,h),i.data,o,r,o,f),n===o-1&&this._addTileFeatures(i.range(0,c,u/o,h),i.data,-1,r,o,f),f.features.length?f:null}getClusterExpansionZoom(e){let n=this._getOriginZoom(e)-1;for(;n<=this.options.maxZoom;){const r=this.getChildren(e);if(n++,r.length!==1)break;e=r[0].properties.cluster_id}return n}_appendLeaves(e,n,r,i,o){const s=this.getChildren(n);for(const a of s){const u=a.properties;if(u&&u.cluster?o+u.point_count<=i?o+=u.point_count:o=this._appendLeaves(e,u.cluster_id,r,i,o):o<i?o++:e.push(a),e.length===r)break}return o}_createTree(e){const n=new Zd(e.length/this.stride|0,this.options.nodeSize,Float32Array);for(let r=0;r<e.length;r+=this.stride)n.add(e[r],e[r+1]);return n.finish(),n.data=e,n}_addTileFeatures(e,n,r,i,o,s){for(const a of e){const u=a*this.stride,c=n[u+Ar]>1;let h,f,d;if(c)h=pE(n,u,this.clusterProps),f=n[u],d=n[u+1];else{const S=this.points[n[u+Rr]];h=S.properties;const[P,w]=S.geometry.coordinates;f=sl(P),d=al(w)}const g={type:1,geometry:[[Math.round(this.options.extent*(f*o-r)),Math.round(this.options.extent*(d*o-i))]],tags:h};let _;c||this.options.generateId?_=n[u+Rr]:_=this.points[n[u+Rr]].id,_!==void 0&&(g.id=_),s.features.push(g)}}_limitZoom(e){return Math.max(this.options.minZoom,Math.min(Math.floor(+e),this.options.maxZoom+1))}_cluster(e,n){const{radius:r,extent:i,reduce:o,minPoints:s}=this.options,a=r/(i*Math.pow(2,n)),u=e.data,c=[],h=this.stride;for(let f=0;f<u.length;f+=h){if(u[f+pi]<=n)continue;u[f+pi]=n;const d=u[f],g=u[f+1],_=e.within(u[f],u[f+1],a),S=u[f+Ar];let P=S;for(const w of _){const I=w*h;u[I+pi]>n&&(P+=u[I+Ar])}if(P>S&&P>=s){let w=d*S,I=g*S,L,b=-1;const O=((f/h|0)<<5)+(n+1)+this.points.length;for(const x of _){const T=x*h;if(u[T+pi]<=n)continue;u[T+pi]=n;const p=u[T+Ar];w+=u[T]*p,I+=u[T+1]*p,u[T+Gc]=O,o&&(L||(L=this._map(u,f,!0),b=this.clusterProps.length,this.clusterProps.push(L)),o(L,this._map(u,T)))}u[f+Gc]=O,c.push(w/P,I/P,1/0,O,-1,P),o&&c.push(b)}else{for(let w=0;w<h;w++)c.push(u[f+w]);if(P>1)for(const w of _){const I=w*h;if(!(u[I+pi]<=n)){u[I+pi]=n;for(let L=0;L<h;L++)c.push(u[I+L])}}}}return c}_getOriginId(e){return e-this.points.length>>5}_getOriginZoom(e){return(e-this.points.length)%32}_map(e,n,r){if(e[n+Ar]>1){const s=this.clusterProps[e[n+dE]];return r?Object.assign({},s):s}const i=this.points[e[n+Rr]].properties,o=this.options.map(i);return r&&o===i?Object.assign({},o):o}}function sv(t,e,n){return{type:"Feature",id:t[e+Rr],properties:pE(t,e,n),geometry:{type:"Point",coordinates:[dx(t[e]),px(t[e+1])]}}}function pE(t,e,n){const r=t[e+Ar],i=r>=1e4?`${Math.round(r/1e3)}k`:r>=1e3?`${Math.round(r/100)/10}k`:r,o=t[e+dE],s=o===-1?{}:Object.assign({},n[o]);return Object.assign(s,{cluster:!0,cluster_id:t[e+Rr],point_count:r,point_count_abbreviated:i})}function sl(t){return t/360+.5}function al(t){const e=Math.sin(t*Math.PI/180),n=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return n<0?0:n>1?1:n}function dx(t){return(t-.5)*360}function px(t){const e=(180-t*360)*Math.PI/180;return 360*Math.atan(Math.exp(e))/Math.PI-90}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function gx(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}class pn{static isAdvancedMarkerAvailable(e){return google.maps.marker&&e.getMapCapabilities().isAdvancedMarkersAvailable===!0}static isAdvancedMarker(e){return google.maps.marker&&e instanceof google.maps.marker.AdvancedMarkerElement}static setMap(e,n){this.isAdvancedMarker(e)?e.map=n:e.setMap(n)}static getPosition(e){if(this.isAdvancedMarker(e)){if(e.position){if(e.position instanceof google.maps.LatLng)return e.position;if(e.position.lat&&e.position.lng)return new google.maps.LatLng(e.position.lat,e.position.lng)}return new google.maps.LatLng(null)}return e.getPosition()}static getVisible(e){return this.isAdvancedMarker(e)?!0:e.getVisible()}}class ff{constructor({markers:e,position:n}){this.markers=e,n&&(n instanceof google.maps.LatLng?this._position=n:this._position=new google.maps.LatLng(n))}get bounds(){if(this.markers.length===0&&!this._position)return;const e=new google.maps.LatLngBounds(this._position,this._position);for(const n of this.markers)e.extend(pn.getPosition(n));return e}get position(){return this._position||this.bounds.getCenter()}get count(){return this.markers.filter(e=>pn.getVisible(e)).length}push(e){this.markers.push(e)}delete(){this.marker&&(pn.setMap(this.marker,null),this.marker=void 0),this.markers.length=0}}class mx{constructor({maxZoom:e=16}){this.maxZoom=e}noop({markers:e}){return vx(e)}}const vx=t=>t.map(n=>new ff({position:pn.getPosition(n),markers:[n]}));class yx extends mx{constructor(e){var{maxZoom:n,radius:r=60}=e,i=gx(e,["maxZoom","radius"]);super({maxZoom:n}),this.state={zoom:-1},this.superCluster=new fx(Object.assign({maxZoom:this.maxZoom,radius:r},i))}calculate(e){let n=!1;const r={zoom:e.map.getZoom()};if(!nv(e.markers,this.markers)){n=!0,this.markers=[...e.markers];const i=this.markers.map(o=>{const s=pn.getPosition(o);return{type:"Feature",geometry:{type:"Point",coordinates:[s.lng(),s.lat()]},properties:{marker:o}}});this.superCluster.load(i)}return n||(this.state.zoom<=this.maxZoom||r.zoom<=this.maxZoom)&&(n=!nv(this.state,r)),this.state=r,n&&(this.clusters=this.cluster(e)),{clusters:this.clusters,changed:n}}cluster({map:e}){return this.superCluster.getClusters([-180,-90,180,90],Math.round(e.getZoom())).map(n=>this.transformCluster(n))}transformCluster({geometry:{coordinates:[e,n]},properties:r}){if(r.cluster)return new ff({markers:this.superCluster.getLeaves(r.cluster_id,1/0).map(o=>o.properties.marker),position:{lat:n,lng:e}});const i=r.marker;return new ff({markers:[i],position:pn.getPosition(i)})}}class _x{constructor(e,n){this.markers={sum:e.length};const r=n.map(o=>o.count),i=r.reduce((o,s)=>o+s,0);this.clusters={count:n.length,markers:{mean:i/n.length,sum:i,min:Math.min(...r),max:Math.max(...r)}}}}class Ex{render({count:e,position:n},r,i){const s=`<svg fill="${e>Math.max(10,r.clusters.markers.mean)?"#ff0000":"#0000ff"}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 240 240" width="50" height="50">
<circle cx="120" cy="120" opacity=".6" r="70" />
<circle cx="120" cy="120" opacity=".3" r="90" />
<circle cx="120" cy="120" opacity=".2" r="110" />
<text x="50%" y="50%" style="fill:#fff" text-anchor="middle" font-size="50" dominant-baseline="middle" font-family="roboto,arial,sans-serif">${e}</text>
</svg>`,a=`Cluster of ${e} markers`,u=Number(google.maps.Marker.MAX_ZINDEX)+e;if(pn.isAdvancedMarkerAvailable(i)){const f=new DOMParser().parseFromString(s,"image/svg+xml").documentElement;f.setAttribute("transform","translate(0 25)");const d={map:i,position:n,zIndex:u,title:a,content:f};return new google.maps.marker.AdvancedMarkerElement(d)}const c={position:n,zIndex:u,title:a,icon:{url:`data:image/svg+xml;base64,${btoa(s)}`,anchor:new google.maps.Point(25,25)}};return new google.maps.Marker(c)}}function wx(t,e){for(let n in e.prototype)t.prototype[n]=e.prototype[n]}class Xd{constructor(){wx(Xd,google.maps.OverlayView)}}var Bs;(function(t){t.CLUSTERING_BEGIN="clusteringbegin",t.CLUSTERING_END="clusteringend",t.CLUSTER_CLICK="click"})(Bs||(Bs={}));const Tx=(t,e,n)=>{n.fitBounds(e.bounds)};class Cx extends Xd{constructor({map:e,markers:n=[],algorithmOptions:r={},algorithm:i=new yx(r),renderer:o=new Ex,onClusterClick:s=Tx}){super(),this.markers=[...n],this.clusters=[],this.algorithm=i,this.renderer=o,this.onClusterClick=s,e&&this.setMap(e)}addMarker(e,n){this.markers.includes(e)||(this.markers.push(e),n||this.render())}addMarkers(e,n){e.forEach(r=>{this.addMarker(r,!0)}),n||this.render()}removeMarker(e,n){const r=this.markers.indexOf(e);return r===-1?!1:(pn.setMap(e,null),this.markers.splice(r,1),n||this.render(),!0)}removeMarkers(e,n){let r=!1;return e.forEach(i=>{r=this.removeMarker(i,!0)||r}),r&&!n&&this.render(),r}clearMarkers(e){this.markers.length=0,e||this.render()}render(){const e=this.getMap();if(e instanceof google.maps.Map&&e.getProjection()){google.maps.event.trigger(this,Bs.CLUSTERING_BEGIN,this);const{clusters:n,changed:r}=this.algorithm.calculate({markers:this.markers,map:e,mapCanvasProjection:this.getProjection()});if(r||r==null){const i=new Set;for(const s of n)s.markers.length==1&&i.add(s.markers[0]);const o=[];for(const s of this.clusters)s.marker!=null&&(s.markers.length==1?i.has(s.marker)||pn.setMap(s.marker,null):o.push(s.marker));this.clusters=n,this.renderClusters(),requestAnimationFrame(()=>o.forEach(s=>pn.setMap(s,null)))}google.maps.event.trigger(this,Bs.CLUSTERING_END,this)}}onAdd(){this.idleListener=this.getMap().addListener("idle",this.render.bind(this)),this.render()}onRemove(){google.maps.event.removeListener(this.idleListener),this.reset()}reset(){this.markers.forEach(e=>pn.setMap(e,null)),this.clusters.forEach(e=>e.delete()),this.clusters=[]}renderClusters(){const e=new _x(this.markers,this.clusters),n=this.getMap();this.clusters.forEach(r=>{r.markers.length===1?r.marker=r.markers[0]:(r.marker=this.renderer.render(r,e,n),r.markers.forEach(i=>pn.setMap(i,null)),this.onClusterClick&&r.marker.addListener("click",i=>{google.maps.event.trigger(this,Bs.CLUSTER_CLICK,r),this.onClusterClick(i,r,n)})),pn.setMap(r.marker,n)})}}function Sx(t){var e=DA(),n=y.useState(null),r=n[0],i=n[1];return y.useEffect(function(){if(e&&r===null){var o=new Cx(ae(ae({},t),{map:e}));i(o)}},[e]),r}function Ix(t){var e=t.children,n=t.options,r=Sx(n);return r!==null?e(r):null}y.memo(Ix);var av={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},lv={options:function(t,e){t.setOptions(e)},position:function(t,e){t.setPosition(e)},zIndex:function(t,e){t.setZIndex(e)}};function Lx(t){var e=t.children,n=t.anchor,r=t.options,i=t.position,o=t.zIndex,s=t.onCloseClick,a=t.onDomReady,u=t.onContentChanged,c=t.onPositionChanged,h=t.onZindexChanged,f=t.onLoad,d=t.onUnmount,g=y.useContext(Ie),_=y.useState(null),S=_[0],P=_[1],w=y.useState(null),I=w[0],L=w[1],b=y.useState(null),O=b[0],x=b[1],T=y.useState(null),p=T[0],v=T[1],E=y.useState(null),A=E[0],R=E[1],k=y.useState(null),V=k[0],z=k[1],N=y.useRef(null);return y.useEffect(function(){S!==null&&(S.close(),n?S.open(g,n):S.getPosition()&&S.open(g))},[g,S,n]),y.useEffect(function(){r&&S!==null&&S.setOptions(r)},[S,r]),y.useEffect(function(){i&&S!==null&&S.setPosition(i)},[i]),y.useEffect(function(){typeof o=="number"&&S!==null&&S.setZIndex(o)},[o]),y.useEffect(function(){S&&s&&(I!==null&&google.maps.event.removeListener(I),L(google.maps.event.addListener(S,"closeclick",s)))},[s]),y.useEffect(function(){S&&a&&(O!==null&&google.maps.event.removeListener(O),x(google.maps.event.addListener(S,"domready",a)))},[a]),y.useEffect(function(){S&&u&&(p!==null&&google.maps.event.removeListener(p),v(google.maps.event.addListener(S,"content_changed",u)))},[u]),y.useEffect(function(){S&&c&&(A!==null&&google.maps.event.removeListener(A),R(google.maps.event.addListener(S,"position_changed",c)))},[c]),y.useEffect(function(){S&&h&&(V!==null&&google.maps.event.removeListener(V),z(google.maps.event.addListener(S,"zindex_changed",h)))},[h]),y.useEffect(function(){var M=new google.maps.InfoWindow(ae({},r||{}));return P(M),N.current=document.createElement("div"),s&&L(google.maps.event.addListener(M,"closeclick",s)),a&&x(google.maps.event.addListener(M,"domready",a)),u&&v(google.maps.event.addListener(M,"content_changed",u)),c&&R(google.maps.event.addListener(M,"position_changed",c)),h&&z(google.maps.event.addListener(M,"zindex_changed",h)),M.setContent(N.current),i&&M.setPosition(i),o&&M.setZIndex(o),n?M.open(g,n):M.getPosition()?M.open(g):dt(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>."),f&&f(M),function(){I&&google.maps.event.removeListener(I),p&&google.maps.event.removeListener(p),O&&google.maps.event.removeListener(O),A&&google.maps.event.removeListener(A),V&&google.maps.event.removeListener(V),d&&d(M),M.close()}},[]),N.current?Ui.createPortal(y.Children.only(e),N.current):null}y.memo(Lx);var Yd=function(t){qe(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.registeredEvents=[],n.containerElement=null,n.state={infoWindow:null},n.open=function(r,i){i?r.open(n.context,i):r.getPosition()?r.open(n.context):dt(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>.")},n.setInfoWindowCallback=function(){n.state.infoWindow!==null&&n.containerElement!==null&&(n.state.infoWindow.setContent(n.containerElement),n.open(n.state.infoWindow,n.props.anchor),n.props.onLoad&&n.props.onLoad(n.state.infoWindow))},n}return e.prototype.componentDidMount=function(){var n=new google.maps.InfoWindow(ae({},this.props.options||{}));this.containerElement=document.createElement("div"),this.registeredEvents=ke({updaterMap:lv,eventMap:av,prevProps:{},nextProps:this.props,instance:n}),this.setState(function(){return{infoWindow:n}},this.setInfoWindowCallback)},e.prototype.componentDidUpdate=function(n){this.state.infoWindow!==null&&(Pe(this.registeredEvents),this.registeredEvents=ke({updaterMap:lv,eventMap:av,prevProps:n,nextProps:this.props,instance:this.state.infoWindow}))},e.prototype.componentWillUnmount=function(){this.state.infoWindow!==null&&(Pe(this.registeredEvents),this.props.onUnmount&&this.props.onUnmount(this.state.infoWindow),this.state.infoWindow.close())},e.prototype.render=function(){return this.containerElement?Ui.createPortal(y.Children.only(this.props.children),this.containerElement):null},e.contextType=Ie,e}(y.PureComponent),uv={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},cv={draggable:function(t,e){t.setDraggable(e)},editable:function(t,e){t.setEditable(e)},map:function(t,e){t.setMap(e)},options:function(t,e){t.setOptions(e)},path:function(t,e){t.setPath(e)},visible:function(t,e){t.setVisible(e)}},kx={};function Ax(t){var e=t.options,n=t.draggable,r=t.editable,i=t.visible,o=t.path,s=t.onDblClick,a=t.onDragEnd,u=t.onDragStart,c=t.onMouseDown,h=t.onMouseMove,f=t.onMouseOut,d=t.onMouseOver,g=t.onMouseUp,_=t.onRightClick,S=t.onClick,P=t.onDrag,w=t.onLoad,I=t.onUnmount,L=y.useContext(Ie),b=y.useState(null),O=b[0],x=b[1],T=y.useState(null),p=T[0],v=T[1],E=y.useState(null),A=E[0],R=E[1],k=y.useState(null),V=k[0],z=k[1],N=y.useState(null),M=N[0],U=N[1],F=y.useState(null),B=F[0],Q=F[1],q=y.useState(null),Z=q[0],K=q[1],H=y.useState(null),j=H[0],oe=H[1],he=y.useState(null),ee=he[0],le=he[1],ge=y.useState(null),me=ge[0],Me=ge[1],Ae=y.useState(null),fe=Ae[0],we=Ae[1],ve=y.useState(null),pe=ve[0],Ee=ve[1];return y.useEffect(function(){O!==null&&O.setMap(L)},[L]),y.useEffect(function(){typeof e<"u"&&O!==null&&O.setOptions(e)},[O,e]),y.useEffect(function(){typeof n<"u"&&O!==null&&O.setDraggable(n)},[O,n]),y.useEffect(function(){typeof r<"u"&&O!==null&&O.setEditable(r)},[O,r]),y.useEffect(function(){typeof i<"u"&&O!==null&&O.setVisible(i)},[O,i]),y.useEffect(function(){typeof o<"u"&&O!==null&&O.setPath(o)},[O,o]),y.useEffect(function(){O&&s&&(p!==null&&google.maps.event.removeListener(p),v(google.maps.event.addListener(O,"dblclick",s)))},[s]),y.useEffect(function(){O&&a&&(A!==null&&google.maps.event.removeListener(A),R(google.maps.event.addListener(O,"dragend",a)))},[a]),y.useEffect(function(){O&&u&&(V!==null&&google.maps.event.removeListener(V),z(google.maps.event.addListener(O,"dragstart",u)))},[u]),y.useEffect(function(){O&&c&&(M!==null&&google.maps.event.removeListener(M),U(google.maps.event.addListener(O,"mousedown",c)))},[c]),y.useEffect(function(){O&&h&&(B!==null&&google.maps.event.removeListener(B),Q(google.maps.event.addListener(O,"mousemove",h)))},[h]),y.useEffect(function(){O&&f&&(Z!==null&&google.maps.event.removeListener(Z),K(google.maps.event.addListener(O,"mouseout",f)))},[f]),y.useEffect(function(){O&&d&&(j!==null&&google.maps.event.removeListener(j),oe(google.maps.event.addListener(O,"mouseover",d)))},[d]),y.useEffect(function(){O&&g&&(ee!==null&&google.maps.event.removeListener(ee),le(google.maps.event.addListener(O,"mouseup",g)))},[g]),y.useEffect(function(){O&&_&&(me!==null&&google.maps.event.removeListener(me),Me(google.maps.event.addListener(O,"rightclick",_)))},[_]),y.useEffect(function(){O&&S&&(fe!==null&&google.maps.event.removeListener(fe),we(google.maps.event.addListener(O,"click",S)))},[S]),y.useEffect(function(){O&&P&&(pe!==null&&google.maps.event.removeListener(pe),Ee(google.maps.event.addListener(O,"drag",P)))},[P]),y.useEffect(function(){var se=new google.maps.Polyline(ae(ae({},e||kx),{map:L}));return o&&se.setPath(o),typeof i<"u"&&se.setVisible(i),typeof r<"u"&&se.setEditable(r),typeof n<"u"&&se.setDraggable(n),s&&v(google.maps.event.addListener(se,"dblclick",s)),a&&R(google.maps.event.addListener(se,"dragend",a)),u&&z(google.maps.event.addListener(se,"dragstart",u)),c&&U(google.maps.event.addListener(se,"mousedown",c)),h&&Q(google.maps.event.addListener(se,"mousemove",h)),f&&K(google.maps.event.addListener(se,"mouseout",f)),d&&oe(google.maps.event.addListener(se,"mouseover",d)),g&&le(google.maps.event.addListener(se,"mouseup",g)),_&&Me(google.maps.event.addListener(se,"rightclick",_)),S&&we(google.maps.event.addListener(se,"click",S)),P&&Ee(google.maps.event.addListener(se,"drag",P)),x(se),w&&w(se),function(){p!==null&&google.maps.event.removeListener(p),A!==null&&google.maps.event.removeListener(A),V!==null&&google.maps.event.removeListener(V),M!==null&&google.maps.event.removeListener(M),B!==null&&google.maps.event.removeListener(B),Z!==null&&google.maps.event.removeListener(Z),j!==null&&google.maps.event.removeListener(j),ee!==null&&google.maps.event.removeListener(ee),me!==null&&google.maps.event.removeListener(me),fe!==null&&google.maps.event.removeListener(fe),I&&I(se),se.setMap(null)}},[]),null}y.memo(Ax);(function(t){qe(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.registeredEvents=[],n.state={polyline:null},n.setPolylineCallback=function(){n.state.polyline!==null&&n.props.onLoad&&n.props.onLoad(n.state.polyline)},n}return e.prototype.componentDidMount=function(){var n=new google.maps.Polyline(ae(ae({},this.props.options||{}),{map:this.context}));this.registeredEvents=ke({updaterMap:cv,eventMap:uv,prevProps:{},nextProps:this.props,instance:n}),this.setState(function(){return{polyline:n}},this.setPolylineCallback)},e.prototype.componentDidUpdate=function(n){this.state.polyline!==null&&(Pe(this.registeredEvents),this.registeredEvents=ke({updaterMap:cv,eventMap:uv,prevProps:n,nextProps:this.props,instance:this.state.polyline}))},e.prototype.componentWillUnmount=function(){this.state.polyline!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.polyline),Pe(this.registeredEvents),this.state.polyline.setMap(null))},e.prototype.render=function(){return null},e.contextType=Ie,e})(y.PureComponent);var hv={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},fv={draggable:function(t,e){t.setDraggable(e)},editable:function(t,e){t.setEditable(e)},map:function(t,e){t.setMap(e)},options:function(t,e){t.setOptions(e)},path:function(t,e){t.setPath(e)},paths:function(t,e){t.setPaths(e)},visible:function(t,e){t.setVisible(e)}};function xx(t){var e=t.options,n=t.draggable,r=t.editable,i=t.visible,o=t.path,s=t.paths,a=t.onDblClick,u=t.onDragEnd,c=t.onDragStart,h=t.onMouseDown,f=t.onMouseMove,d=t.onMouseOut,g=t.onMouseOver,_=t.onMouseUp,S=t.onRightClick,P=t.onClick,w=t.onDrag,I=t.onLoad,L=t.onUnmount,b=t.onEdit,O=y.useContext(Ie),x=y.useState(null),T=x[0],p=x[1],v=y.useState(null),E=v[0],A=v[1],R=y.useState(null),k=R[0],V=R[1],z=y.useState(null),N=z[0],M=z[1],U=y.useState(null),F=U[0],B=U[1],Q=y.useState(null),q=Q[0],Z=Q[1],K=y.useState(null),H=K[0],j=K[1],oe=y.useState(null),he=oe[0],ee=oe[1],le=y.useState(null),ge=le[0],me=le[1],Me=y.useState(null),Ae=Me[0],fe=Me[1],we=y.useState(null),ve=we[0],pe=we[1],Ee=y.useState(null),se=Ee[0],Se=Ee[1];return y.useEffect(function(){T!==null&&T.setMap(O)},[O]),y.useEffect(function(){typeof e<"u"&&T!==null&&T.setOptions(e)},[T,e]),y.useEffect(function(){typeof n<"u"&&T!==null&&T.setDraggable(n)},[T,n]),y.useEffect(function(){typeof r<"u"&&T!==null&&T.setEditable(r)},[T,r]),y.useEffect(function(){typeof i<"u"&&T!==null&&T.setVisible(i)},[T,i]),y.useEffect(function(){typeof o<"u"&&T!==null&&T.setPath(o)},[T,o]),y.useEffect(function(){typeof s<"u"&&T!==null&&T.setPaths(s)},[T,s]),y.useEffect(function(){T&&a&&(E!==null&&google.maps.event.removeListener(E),A(google.maps.event.addListener(T,"dblclick",a)))},[a]),y.useEffect(function(){T&&(google.maps.event.addListener(T.getPath(),"insert_at",function(){b==null||b(T)}),google.maps.event.addListener(T.getPath(),"set_at",function(){b==null||b(T)}))},[T,b]),y.useEffect(function(){T&&u&&(k!==null&&google.maps.event.removeListener(k),V(google.maps.event.addListener(T,"dragend",u)))},[u]),y.useEffect(function(){T&&c&&(N!==null&&google.maps.event.removeListener(N),M(google.maps.event.addListener(T,"dragstart",c)))},[c]),y.useEffect(function(){T&&h&&(F!==null&&google.maps.event.removeListener(F),B(google.maps.event.addListener(T,"mousedown",h)))},[h]),y.useEffect(function(){T&&f&&(q!==null&&google.maps.event.removeListener(q),Z(google.maps.event.addListener(T,"mousemove",f)))},[f]),y.useEffect(function(){T&&d&&(H!==null&&google.maps.event.removeListener(H),j(google.maps.event.addListener(T,"mouseout",d)))},[d]),y.useEffect(function(){T&&g&&(he!==null&&google.maps.event.removeListener(he),ee(google.maps.event.addListener(T,"mouseover",g)))},[g]),y.useEffect(function(){T&&_&&(ge!==null&&google.maps.event.removeListener(ge),me(google.maps.event.addListener(T,"mouseup",_)))},[_]),y.useEffect(function(){T&&S&&(Ae!==null&&google.maps.event.removeListener(Ae),fe(google.maps.event.addListener(T,"rightclick",S)))},[S]),y.useEffect(function(){T&&P&&(ve!==null&&google.maps.event.removeListener(ve),pe(google.maps.event.addListener(T,"click",P)))},[P]),y.useEffect(function(){T&&w&&(se!==null&&google.maps.event.removeListener(se),Se(google.maps.event.addListener(T,"drag",w)))},[w]),y.useEffect(function(){var ue=new google.maps.Polygon(ae(ae({},e||{}),{map:O}));return o&&ue.setPath(o),s&&ue.setPaths(s),typeof i<"u"&&ue.setVisible(i),typeof r<"u"&&ue.setEditable(r),typeof n<"u"&&ue.setDraggable(n),a&&A(google.maps.event.addListener(ue,"dblclick",a)),u&&V(google.maps.event.addListener(ue,"dragend",u)),c&&M(google.maps.event.addListener(ue,"dragstart",c)),h&&B(google.maps.event.addListener(ue,"mousedown",h)),f&&Z(google.maps.event.addListener(ue,"mousemove",f)),d&&j(google.maps.event.addListener(ue,"mouseout",d)),g&&ee(google.maps.event.addListener(ue,"mouseover",g)),_&&me(google.maps.event.addListener(ue,"mouseup",_)),S&&fe(google.maps.event.addListener(ue,"rightclick",S)),P&&pe(google.maps.event.addListener(ue,"click",P)),w&&Se(google.maps.event.addListener(ue,"drag",w)),p(ue),I&&I(ue),function(){E!==null&&google.maps.event.removeListener(E),k!==null&&google.maps.event.removeListener(k),N!==null&&google.maps.event.removeListener(N),F!==null&&google.maps.event.removeListener(F),q!==null&&google.maps.event.removeListener(q),H!==null&&google.maps.event.removeListener(H),he!==null&&google.maps.event.removeListener(he),ge!==null&&google.maps.event.removeListener(ge),Ae!==null&&google.maps.event.removeListener(Ae),ve!==null&&google.maps.event.removeListener(ve),L&&L(ue),ue.setMap(null)}},[]),null}y.memo(xx);(function(t){qe(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.registeredEvents=[],n.state={polygon:null},n.setPolygonCallback=function(){n.state.polygon!==null&&n.props.onLoad&&n.props.onLoad(n.state.polygon)},n}return e.prototype.componentDidMount=function(){var n=new google.maps.Polygon(ae(ae({},this.props.options||{}),{map:this.context}));this.registeredEvents=ke({updaterMap:fv,eventMap:hv,prevProps:{},nextProps:this.props,instance:n}),this.setState(function(){return{polygon:n}},this.setPolygonCallback)},e.prototype.componentDidUpdate=function(n){this.state.polygon!==null&&(Pe(this.registeredEvents),this.registeredEvents=ke({updaterMap:fv,eventMap:hv,prevProps:n,nextProps:this.props,instance:this.state.polygon}))},e.prototype.componentWillUnmount=function(){this.state.polygon!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.polygon),Pe(this.registeredEvents),this.state.polygon&&this.state.polygon.setMap(null))},e.prototype.render=function(){return null},e.contextType=Ie,e})(y.PureComponent);var dv={onBoundsChanged:"bounds_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},pv={bounds:function(t,e){t.setBounds(e)},draggable:function(t,e){t.setDraggable(e)},editable:function(t,e){t.setEditable(e)},map:function(t,e){t.setMap(e)},options:function(t,e){t.setOptions(e)},visible:function(t,e){t.setVisible(e)}};function Px(t){var e=t.options,n=t.bounds,r=t.draggable,i=t.editable,o=t.visible,s=t.onDblClick,a=t.onDragEnd,u=t.onDragStart,c=t.onMouseDown,h=t.onMouseMove,f=t.onMouseOut,d=t.onMouseOver,g=t.onMouseUp,_=t.onRightClick,S=t.onClick,P=t.onDrag,w=t.onBoundsChanged,I=t.onLoad,L=t.onUnmount,b=y.useContext(Ie),O=y.useState(null),x=O[0],T=O[1],p=y.useState(null),v=p[0],E=p[1],A=y.useState(null),R=A[0],k=A[1],V=y.useState(null),z=V[0],N=V[1],M=y.useState(null),U=M[0],F=M[1],B=y.useState(null),Q=B[0],q=B[1],Z=y.useState(null),K=Z[0],H=Z[1],j=y.useState(null),oe=j[0],he=j[1],ee=y.useState(null),le=ee[0],ge=ee[1],me=y.useState(null),Me=me[0],Ae=me[1],fe=y.useState(null),we=fe[0],ve=fe[1],pe=y.useState(null),Ee=pe[0],se=pe[1],Se=y.useState(null),ue=Se[0],Le=Se[1];return y.useEffect(function(){x!==null&&x.setMap(b)},[b]),y.useEffect(function(){typeof e<"u"&&x!==null&&x.setOptions(e)},[x,e]),y.useEffect(function(){typeof r<"u"&&x!==null&&x.setDraggable(r)},[x,r]),y.useEffect(function(){typeof i<"u"&&x!==null&&x.setEditable(i)},[x,i]),y.useEffect(function(){typeof o<"u"&&x!==null&&x.setVisible(o)},[x,o]),y.useEffect(function(){typeof n<"u"&&x!==null&&x.setBounds(n)},[x,n]),y.useEffect(function(){x&&s&&(v!==null&&google.maps.event.removeListener(v),E(google.maps.event.addListener(x,"dblclick",s)))},[s]),y.useEffect(function(){x&&a&&(R!==null&&google.maps.event.removeListener(R),k(google.maps.event.addListener(x,"dragend",a)))},[a]),y.useEffect(function(){x&&u&&(z!==null&&google.maps.event.removeListener(z),N(google.maps.event.addListener(x,"dragstart",u)))},[u]),y.useEffect(function(){x&&c&&(U!==null&&google.maps.event.removeListener(U),F(google.maps.event.addListener(x,"mousedown",c)))},[c]),y.useEffect(function(){x&&h&&(Q!==null&&google.maps.event.removeListener(Q),q(google.maps.event.addListener(x,"mousemove",h)))},[h]),y.useEffect(function(){x&&f&&(K!==null&&google.maps.event.removeListener(K),H(google.maps.event.addListener(x,"mouseout",f)))},[f]),y.useEffect(function(){x&&d&&(oe!==null&&google.maps.event.removeListener(oe),he(google.maps.event.addListener(x,"mouseover",d)))},[d]),y.useEffect(function(){x&&g&&(le!==null&&google.maps.event.removeListener(le),ge(google.maps.event.addListener(x,"mouseup",g)))},[g]),y.useEffect(function(){x&&_&&(Me!==null&&google.maps.event.removeListener(Me),Ae(google.maps.event.addListener(x,"rightclick",_)))},[_]),y.useEffect(function(){x&&S&&(we!==null&&google.maps.event.removeListener(we),ve(google.maps.event.addListener(x,"click",S)))},[S]),y.useEffect(function(){x&&P&&(Ee!==null&&google.maps.event.removeListener(Ee),se(google.maps.event.addListener(x,"drag",P)))},[P]),y.useEffect(function(){x&&w&&(ue!==null&&google.maps.event.removeListener(ue),Le(google.maps.event.addListener(x,"bounds_changed",w)))},[w]),y.useEffect(function(){var ne=new google.maps.Rectangle(ae(ae({},e||{}),{map:b}));return typeof o<"u"&&ne.setVisible(o),typeof i<"u"&&ne.setEditable(i),typeof r<"u"&&ne.setDraggable(r),typeof n<"u"&&ne.setBounds(n),s&&E(google.maps.event.addListener(ne,"dblclick",s)),a&&k(google.maps.event.addListener(ne,"dragend",a)),u&&N(google.maps.event.addListener(ne,"dragstart",u)),c&&F(google.maps.event.addListener(ne,"mousedown",c)),h&&q(google.maps.event.addListener(ne,"mousemove",h)),f&&H(google.maps.event.addListener(ne,"mouseout",f)),d&&he(google.maps.event.addListener(ne,"mouseover",d)),g&&ge(google.maps.event.addListener(ne,"mouseup",g)),_&&Ae(google.maps.event.addListener(ne,"rightclick",_)),S&&ve(google.maps.event.addListener(ne,"click",S)),P&&se(google.maps.event.addListener(ne,"drag",P)),w&&Le(google.maps.event.addListener(ne,"bounds_changed",w)),T(ne),I&&I(ne),function(){v!==null&&google.maps.event.removeListener(v),R!==null&&google.maps.event.removeListener(R),z!==null&&google.maps.event.removeListener(z),U!==null&&google.maps.event.removeListener(U),Q!==null&&google.maps.event.removeListener(Q),K!==null&&google.maps.event.removeListener(K),oe!==null&&google.maps.event.removeListener(oe),le!==null&&google.maps.event.removeListener(le),Me!==null&&google.maps.event.removeListener(Me),we!==null&&google.maps.event.removeListener(we),Ee!==null&&google.maps.event.removeListener(Ee),ue!==null&&google.maps.event.removeListener(ue),L&&L(ne),ne.setMap(null)}},[]),null}y.memo(Px);(function(t){qe(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.registeredEvents=[],n.state={rectangle:null},n.setRectangleCallback=function(){n.state.rectangle!==null&&n.props.onLoad&&n.props.onLoad(n.state.rectangle)},n}return e.prototype.componentDidMount=function(){var n=new google.maps.Rectangle(ae(ae({},this.props.options||{}),{map:this.context}));this.registeredEvents=ke({updaterMap:pv,eventMap:dv,prevProps:{},nextProps:this.props,instance:n}),this.setState(function(){return{rectangle:n}},this.setRectangleCallback)},e.prototype.componentDidUpdate=function(n){this.state.rectangle!==null&&(Pe(this.registeredEvents),this.registeredEvents=ke({updaterMap:pv,eventMap:dv,prevProps:n,nextProps:this.props,instance:this.state.rectangle}))},e.prototype.componentWillUnmount=function(){this.state.rectangle!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.rectangle),Pe(this.registeredEvents),this.state.rectangle.setMap(null))},e.prototype.render=function(){return null},e.contextType=Ie,e})(y.PureComponent);var gv={onCenterChanged:"center_changed",onRadiusChanged:"radius_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},mv={center:function(t,e){t.setCenter(e)},draggable:function(t,e){t.setDraggable(e)},editable:function(t,e){t.setEditable(e)},map:function(t,e){t.setMap(e)},options:function(t,e){t.setOptions(e)},radius:function(t,e){t.setRadius(e)},visible:function(t,e){t.setVisible(e)}},Rx={};function Mx(t){var e=t.options,n=t.center,r=t.radius,i=t.draggable,o=t.editable,s=t.visible,a=t.onDblClick,u=t.onDragEnd,c=t.onDragStart,h=t.onMouseDown,f=t.onMouseMove,d=t.onMouseOut,g=t.onMouseOver,_=t.onMouseUp,S=t.onRightClick,P=t.onClick,w=t.onDrag,I=t.onCenterChanged,L=t.onRadiusChanged,b=t.onLoad,O=t.onUnmount,x=y.useContext(Ie),T=y.useState(null),p=T[0],v=T[1],E=y.useState(null),A=E[0],R=E[1],k=y.useState(null),V=k[0],z=k[1],N=y.useState(null),M=N[0],U=N[1],F=y.useState(null),B=F[0],Q=F[1],q=y.useState(null),Z=q[0],K=q[1],H=y.useState(null),j=H[0],oe=H[1],he=y.useState(null),ee=he[0],le=he[1],ge=y.useState(null),me=ge[0],Me=ge[1],Ae=y.useState(null),fe=Ae[0],we=Ae[1],ve=y.useState(null),pe=ve[0],Ee=ve[1],se=y.useState(null),Se=se[0],ue=se[1],Le=y.useState(null),ne=Le[0],$e=Le[1],Be=y.useState(null),ze=Be[0],He=Be[1];return y.useEffect(function(){p!==null&&p.setMap(x)},[x]),y.useEffect(function(){typeof e<"u"&&p!==null&&p.setOptions(e)},[p,e]),y.useEffect(function(){typeof i<"u"&&p!==null&&p.setDraggable(i)},[p,i]),y.useEffect(function(){typeof o<"u"&&p!==null&&p.setEditable(o)},[p,o]),y.useEffect(function(){typeof s<"u"&&p!==null&&p.setVisible(s)},[p,s]),y.useEffect(function(){typeof r=="number"&&p!==null&&p.setRadius(r)},[p,r]),y.useEffect(function(){typeof n<"u"&&p!==null&&p.setCenter(n)},[p,n]),y.useEffect(function(){p&&a&&(A!==null&&google.maps.event.removeListener(A),R(google.maps.event.addListener(p,"dblclick",a)))},[a]),y.useEffect(function(){p&&u&&(V!==null&&google.maps.event.removeListener(V),z(google.maps.event.addListener(p,"dragend",u)))},[u]),y.useEffect(function(){p&&c&&(M!==null&&google.maps.event.removeListener(M),U(google.maps.event.addListener(p,"dragstart",c)))},[c]),y.useEffect(function(){p&&h&&(B!==null&&google.maps.event.removeListener(B),Q(google.maps.event.addListener(p,"mousedown",h)))},[h]),y.useEffect(function(){p&&f&&(Z!==null&&google.maps.event.removeListener(Z),K(google.maps.event.addListener(p,"mousemove",f)))},[f]),y.useEffect(function(){p&&d&&(j!==null&&google.maps.event.removeListener(j),oe(google.maps.event.addListener(p,"mouseout",d)))},[d]),y.useEffect(function(){p&&g&&(ee!==null&&google.maps.event.removeListener(ee),le(google.maps.event.addListener(p,"mouseover",g)))},[g]),y.useEffect(function(){p&&_&&(me!==null&&google.maps.event.removeListener(me),Me(google.maps.event.addListener(p,"mouseup",_)))},[_]),y.useEffect(function(){p&&S&&(fe!==null&&google.maps.event.removeListener(fe),we(google.maps.event.addListener(p,"rightclick",S)))},[S]),y.useEffect(function(){p&&P&&(pe!==null&&google.maps.event.removeListener(pe),Ee(google.maps.event.addListener(p,"click",P)))},[P]),y.useEffect(function(){p&&w&&(Se!==null&&google.maps.event.removeListener(Se),ue(google.maps.event.addListener(p,"drag",w)))},[w]),y.useEffect(function(){p&&I&&(ne!==null&&google.maps.event.removeListener(ne),$e(google.maps.event.addListener(p,"center_changed",I)))},[P]),y.useEffect(function(){p&&L&&(ze!==null&&google.maps.event.removeListener(ze),He(google.maps.event.addListener(p,"radius_changed",L)))},[L]),y.useEffect(function(){var xe=new google.maps.Circle(ae(ae({},e||Rx),{map:x}));return typeof r=="number"&&xe.setRadius(r),typeof n<"u"&&xe.setCenter(n),typeof r=="number"&&xe.setRadius(r),typeof s<"u"&&xe.setVisible(s),typeof o<"u"&&xe.setEditable(o),typeof i<"u"&&xe.setDraggable(i),a&&R(google.maps.event.addListener(xe,"dblclick",a)),u&&z(google.maps.event.addListener(xe,"dragend",u)),c&&U(google.maps.event.addListener(xe,"dragstart",c)),h&&Q(google.maps.event.addListener(xe,"mousedown",h)),f&&K(google.maps.event.addListener(xe,"mousemove",f)),d&&oe(google.maps.event.addListener(xe,"mouseout",d)),g&&le(google.maps.event.addListener(xe,"mouseover",g)),_&&Me(google.maps.event.addListener(xe,"mouseup",_)),S&&we(google.maps.event.addListener(xe,"rightclick",S)),P&&Ee(google.maps.event.addListener(xe,"click",P)),w&&ue(google.maps.event.addListener(xe,"drag",w)),I&&$e(google.maps.event.addListener(xe,"center_changed",I)),L&&He(google.maps.event.addListener(xe,"radius_changed",L)),v(xe),b&&b(xe),function(){A!==null&&google.maps.event.removeListener(A),V!==null&&google.maps.event.removeListener(V),M!==null&&google.maps.event.removeListener(M),B!==null&&google.maps.event.removeListener(B),Z!==null&&google.maps.event.removeListener(Z),j!==null&&google.maps.event.removeListener(j),ee!==null&&google.maps.event.removeListener(ee),me!==null&&google.maps.event.removeListener(me),fe!==null&&google.maps.event.removeListener(fe),pe!==null&&google.maps.event.removeListener(pe),ne!==null&&google.maps.event.removeListener(ne),ze!==null&&google.maps.event.removeListener(ze),O&&O(xe),xe.setMap(null)}},[]),null}y.memo(Mx);(function(t){qe(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.registeredEvents=[],n.state={circle:null},n.setCircleCallback=function(){n.state.circle!==null&&n.props.onLoad&&n.props.onLoad(n.state.circle)},n}return e.prototype.componentDidMount=function(){var n=new google.maps.Circle(ae(ae({},this.props.options||{}),{map:this.context}));this.registeredEvents=ke({updaterMap:mv,eventMap:gv,prevProps:{},nextProps:this.props,instance:n}),this.setState(function(){return{circle:n}},this.setCircleCallback)},e.prototype.componentDidUpdate=function(n){this.state.circle!==null&&(Pe(this.registeredEvents),this.registeredEvents=ke({updaterMap:mv,eventMap:gv,prevProps:n,nextProps:this.props,instance:this.state.circle}))},e.prototype.componentWillUnmount=function(){var n;this.state.circle!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.circle),Pe(this.registeredEvents),(n=this.state.circle)===null||n===void 0||n.setMap(null))},e.prototype.render=function(){return null},e.contextType=Ie,e})(y.PureComponent);var vv={onClick:"click",onDblClick:"dblclick",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick",onAddFeature:"addfeature",onRemoveFeature:"removefeature",onRemoveProperty:"removeproperty",onSetGeometry:"setgeometry",onSetProperty:"setproperty"},yv={add:function(t,e){t.add(e)},addgeojson:function(t,e,n){t.addGeoJson(e,n)},contains:function(t,e){t.contains(e)},foreach:function(t,e){t.forEach(e)},loadgeojson:function(t,e,n,r){t.loadGeoJson(e,n,r)},overridestyle:function(t,e,n){t.overrideStyle(e,n)},remove:function(t,e){t.remove(e)},revertstyle:function(t,e){t.revertStyle(e)},controlposition:function(t,e){t.setControlPosition(e)},controls:function(t,e){t.setControls(e)},drawingmode:function(t,e){t.setDrawingMode(e)},map:function(t,e){t.setMap(e)},style:function(t,e){t.setStyle(e)},togeojson:function(t,e){t.toGeoJson(e)}};function bx(t){var e=t.options,n=t.onClick,r=t.onDblClick,i=t.onMouseDown,o=t.onMouseMove,s=t.onMouseOut,a=t.onMouseOver,u=t.onMouseUp,c=t.onRightClick,h=t.onAddFeature,f=t.onRemoveFeature,d=t.onRemoveProperty,g=t.onSetGeometry,_=t.onSetProperty,S=t.onLoad,P=t.onUnmount,w=y.useContext(Ie),I=y.useState(null),L=I[0],b=I[1],O=y.useState(null),x=O[0],T=O[1],p=y.useState(null),v=p[0],E=p[1],A=y.useState(null),R=A[0],k=A[1],V=y.useState(null),z=V[0],N=V[1],M=y.useState(null),U=M[0],F=M[1],B=y.useState(null),Q=B[0],q=B[1],Z=y.useState(null),K=Z[0],H=Z[1],j=y.useState(null),oe=j[0],he=j[1],ee=y.useState(null),le=ee[0],ge=ee[1],me=y.useState(null),Me=me[0],Ae=me[1],fe=y.useState(null),we=fe[0],ve=fe[1],pe=y.useState(null),Ee=pe[0],se=pe[1],Se=y.useState(null),ue=Se[0],Le=Se[1];return y.useEffect(function(){L!==null&&L.setMap(w)},[w]),y.useEffect(function(){L&&r&&(x!==null&&google.maps.event.removeListener(x),T(google.maps.event.addListener(L,"dblclick",r)))},[r]),y.useEffect(function(){L&&i&&(v!==null&&google.maps.event.removeListener(v),E(google.maps.event.addListener(L,"mousedown",i)))},[i]),y.useEffect(function(){L&&o&&(R!==null&&google.maps.event.removeListener(R),k(google.maps.event.addListener(L,"mousemove",o)))},[o]),y.useEffect(function(){L&&s&&(z!==null&&google.maps.event.removeListener(z),N(google.maps.event.addListener(L,"mouseout",s)))},[s]),y.useEffect(function(){L&&a&&(U!==null&&google.maps.event.removeListener(U),F(google.maps.event.addListener(L,"mouseover",a)))},[a]),y.useEffect(function(){L&&u&&(Q!==null&&google.maps.event.removeListener(Q),q(google.maps.event.addListener(L,"mouseup",u)))},[u]),y.useEffect(function(){L&&c&&(K!==null&&google.maps.event.removeListener(K),H(google.maps.event.addListener(L,"rightclick",c)))},[c]),y.useEffect(function(){L&&n&&(oe!==null&&google.maps.event.removeListener(oe),he(google.maps.event.addListener(L,"click",n)))},[n]),y.useEffect(function(){L&&h&&(le!==null&&google.maps.event.removeListener(le),ge(google.maps.event.addListener(L,"addfeature",h)))},[h]),y.useEffect(function(){L&&f&&(Me!==null&&google.maps.event.removeListener(Me),Ae(google.maps.event.addListener(L,"removefeature",f)))},[f]),y.useEffect(function(){L&&d&&(we!==null&&google.maps.event.removeListener(we),ve(google.maps.event.addListener(L,"removeproperty",d)))},[d]),y.useEffect(function(){L&&g&&(Ee!==null&&google.maps.event.removeListener(Ee),se(google.maps.event.addListener(L,"setgeometry",g)))},[g]),y.useEffect(function(){L&&_&&(ue!==null&&google.maps.event.removeListener(ue),Le(google.maps.event.addListener(L,"setproperty",_)))},[_]),y.useEffect(function(){if(w!==null){var ne=new google.maps.Data(ae(ae({},e||{}),{map:w}));r&&T(google.maps.event.addListener(ne,"dblclick",r)),i&&E(google.maps.event.addListener(ne,"mousedown",i)),o&&k(google.maps.event.addListener(ne,"mousemove",o)),s&&N(google.maps.event.addListener(ne,"mouseout",s)),a&&F(google.maps.event.addListener(ne,"mouseover",a)),u&&q(google.maps.event.addListener(ne,"mouseup",u)),c&&H(google.maps.event.addListener(ne,"rightclick",c)),n&&he(google.maps.event.addListener(ne,"click",n)),h&&ge(google.maps.event.addListener(ne,"addfeature",h)),f&&Ae(google.maps.event.addListener(ne,"removefeature",f)),d&&ve(google.maps.event.addListener(ne,"removeproperty",d)),g&&se(google.maps.event.addListener(ne,"setgeometry",g)),_&&Le(google.maps.event.addListener(ne,"setproperty",_)),b(ne),S&&S(ne)}return function(){L&&(x!==null&&google.maps.event.removeListener(x),v!==null&&google.maps.event.removeListener(v),R!==null&&google.maps.event.removeListener(R),z!==null&&google.maps.event.removeListener(z),U!==null&&google.maps.event.removeListener(U),Q!==null&&google.maps.event.removeListener(Q),K!==null&&google.maps.event.removeListener(K),oe!==null&&google.maps.event.removeListener(oe),le!==null&&google.maps.event.removeListener(le),Me!==null&&google.maps.event.removeListener(Me),we!==null&&google.maps.event.removeListener(we),Ee!==null&&google.maps.event.removeListener(Ee),ue!==null&&google.maps.event.removeListener(ue),P&&P(L),L.setMap(null))}},[]),null}y.memo(bx);(function(t){qe(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.registeredEvents=[],n.state={data:null},n.setDataCallback=function(){n.state.data!==null&&n.props.onLoad&&n.props.onLoad(n.state.data)},n}return e.prototype.componentDidMount=function(){if(this.context!==null){var n=new google.maps.Data(ae(ae({},this.props.options||{}),{map:this.context}));this.registeredEvents=ke({updaterMap:yv,eventMap:vv,prevProps:{},nextProps:this.props,instance:n}),this.setState(function(){return{data:n}},this.setDataCallback)}},e.prototype.componentDidUpdate=function(n){this.state.data!==null&&(Pe(this.registeredEvents),this.registeredEvents=ke({updaterMap:yv,eventMap:vv,prevProps:n,nextProps:this.props,instance:this.state.data}))},e.prototype.componentWillUnmount=function(){this.state.data!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.data),Pe(this.registeredEvents),this.state.data&&this.state.data.setMap(null))},e.prototype.render=function(){return null},e.contextType=Ie,e})(y.PureComponent);var _v={onClick:"click",onDefaultViewportChanged:"defaultviewport_changed",onStatusChanged:"status_changed"},Ev={options:function(t,e){t.setOptions(e)},url:function(t,e){t.setUrl(e)},zIndex:function(t,e){t.setZIndex(e)}};(function(t){qe(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.registeredEvents=[],n.state={kmlLayer:null},n.setKmlLayerCallback=function(){n.state.kmlLayer!==null&&n.props.onLoad&&n.props.onLoad(n.state.kmlLayer)},n}return e.prototype.componentDidMount=function(){var n=new google.maps.KmlLayer(ae(ae({},this.props.options),{map:this.context}));this.registeredEvents=ke({updaterMap:Ev,eventMap:_v,prevProps:{},nextProps:this.props,instance:n}),this.setState(function(){return{kmlLayer:n}},this.setKmlLayerCallback)},e.prototype.componentDidUpdate=function(n){this.state.kmlLayer!==null&&(Pe(this.registeredEvents),this.registeredEvents=ke({updaterMap:Ev,eventMap:_v,prevProps:n,nextProps:this.props,instance:this.state.kmlLayer}))},e.prototype.componentWillUnmount=function(){this.state.kmlLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.kmlLayer),Pe(this.registeredEvents),this.state.kmlLayer.setMap(null))},e.prototype.render=function(){return null},e.contextType=Ie,e})(y.PureComponent);function gE(t,e){return typeof e=="function"?e(t.offsetWidth,t.offsetHeight):{x:0,y:0}}function Dx(t,e){return new e(t.lat,t.lng)}function Nx(t,e){return new e(new google.maps.LatLng(t.ne.lat,t.ne.lng),new google.maps.LatLng(t.sw.lat,t.sw.lng))}function Ox(t,e,n){return t instanceof e?t:n(t,e)}function Vx(t,e,n){return t instanceof e?t:n(t,e)}function Fx(t,e,n){var r=t&&t.fromLatLngToDivPixel(n.getNorthEast()),i=t&&t.fromLatLngToDivPixel(n.getSouthWest());return r&&i?{left:"".concat(i.x+e.x,"px"),top:"".concat(r.y+e.y,"px"),width:"".concat(r.x-i.x-e.x,"px"),height:"".concat(i.y-r.y-e.y,"px")}:{left:"-9999px",top:"-9999px"}}function Ux(t,e,n){var r=t&&t.fromLatLngToDivPixel(n);if(r){var i=r.x,o=r.y;return{left:"".concat(i+e.x,"px"),top:"".concat(o+e.y,"px")}}return{left:"-9999px",top:"-9999px"}}function mE(t,e,n,r){return n!==void 0?Fx(t,e,Vx(n,google.maps.LatLngBounds,Nx)):Ux(t,e,Ox(r,google.maps.LatLng,Dx))}function Bx(t,e){return t.left===e.left&&t.top===e.top&&t.width===e.height&&t.height===e.height}function zx(t,e,n,r,i){var o=function(s){qe(a,s);function a(u,c,h,f){var d=s.call(this)||this;return d.container=u,d.pane=c,d.position=h,d.bounds=f,d}return a.prototype.onAdd=function(){var u,c=(u=this.getPanes())===null||u===void 0?void 0:u[this.pane];c==null||c.appendChild(this.container)},a.prototype.draw=function(){for(var u=this.getProjection(),c=ae({},this.container?gE(this.container,i):{x:0,y:0}),h=mE(u,c,this.bounds,this.position),f=0,d=Object.entries(h);f<d.length;f++){var g=d[f],_=g[0],S=g[1];this.container.style[_]=S}},a.prototype.onRemove=function(){this.container.parentNode!==null&&this.container.parentNode.removeChild(this.container)},a}(google.maps.OverlayView);return new o(t,e,n,r)}function wv(t){if(!t)return"";var e=t instanceof google.maps.LatLng?t:new google.maps.LatLng(t.lat,t.lng);return e+""}function Tv(t){if(!t)return"";var e=t instanceof google.maps.LatLngBounds?t:new google.maps.LatLngBounds(new google.maps.LatLng(t.south,t.east),new google.maps.LatLng(t.north,t.west));return e+""}function jx(t){var e=t.position,n=t.bounds,r=t.mapPaneName,i=t.zIndex,o=t.onLoad,s=t.onUnmount,a=t.getPixelPositionOffset,u=t.children,c=y.useContext(Ie),h=y.useMemo(function(){var d=document.createElement("div");return d.style.position="absolute",d},[]),f=y.useMemo(function(){return zx(h,r,e,n,a)},[h,r,e,n]);return y.useEffect(function(){return o==null||o(f),f==null||f.setMap(c),function(){s==null||s(f),f==null||f.setMap(null)}},[c,f]),y.useEffect(function(){h.style.zIndex="".concat(i)},[i,h]),Ui.createPortal(u,h)}y.memo(jx);(function(t){qe(e,t);function e(n){var r=t.call(this,n)||this;r.state={paneEl:null,containerStyle:{position:"absolute"}},r.updatePane=function(){var o=r.props.mapPaneName,s=r.overlayView.getPanes();dt(!!o,"OverlayView requires props.mapPaneName but got %s",o),s?r.setState({paneEl:s[o]}):r.setState({paneEl:null})},r.onAdd=function(){var o,s;r.updatePane(),(s=(o=r.props).onLoad)===null||s===void 0||s.call(o,r.overlayView)},r.onPositionElement=function(){var o=r.overlayView.getProjection(),s=ae({x:0,y:0},r.containerRef.current?gE(r.containerRef.current,r.props.getPixelPositionOffset):{}),a=mE(o,s,r.props.bounds,r.props.position),u=r.state.containerStyle,c=u.left,h=u.top,f=u.width,d=u.height;Bx(a,{left:c,top:h,width:f,height:d})||r.setState({containerStyle:{top:a.top||0,left:a.left||0,width:a.width||0,height:a.height||0,position:"absolute"}})},r.draw=function(){r.onPositionElement()},r.onRemove=function(){var o,s;r.setState(function(){return{paneEl:null}}),(s=(o=r.props).onUnmount)===null||s===void 0||s.call(o,r.overlayView)},r.containerRef=y.createRef();var i=new google.maps.OverlayView;return i.onAdd=r.onAdd,i.draw=r.draw,i.onRemove=r.onRemove,r.overlayView=i,r}return e.prototype.componentDidMount=function(){this.overlayView.setMap(this.context)},e.prototype.componentDidUpdate=function(n){var r=wv(n.position),i=wv(this.props.position),o=Tv(n.bounds),s=Tv(this.props.bounds);(r!==i||o!==s)&&this.overlayView.draw(),n.mapPaneName!==this.props.mapPaneName&&this.updatePane()},e.prototype.componentWillUnmount=function(){this.overlayView.setMap(null)},e.prototype.render=function(){var n=this.state.paneEl;return n?Ui.createPortal(W.jsx("div",{ref:this.containerRef,style:this.state.containerStyle,children:y.Children.only(this.props.children)}),n):null},e.FLOAT_PANE="floatPane",e.MAP_PANE="mapPane",e.MARKER_LAYER="markerLayer",e.OVERLAY_LAYER="overlayLayer",e.OVERLAY_MOUSE_TARGET="overlayMouseTarget",e.contextType=Ie,e})(y.PureComponent);function $x(){}var Cv={onDblClick:"dblclick",onClick:"click"},Sv={opacity:function(t,e){t.setOpacity(e)}};function Hx(t){var e=t.url,n=t.bounds,r=t.options,i=t.visible,o=y.useContext(Ie),s=new google.maps.LatLngBounds(new google.maps.LatLng(n.south,n.west),new google.maps.LatLng(n.north,n.east)),a=y.useMemo(function(){var u=new google.maps.GroundOverlay(e,s,ae({},r));return u},[]);return y.useEffect(function(){a!==null&&a.setMap(o)},[o]),y.useEffect(function(){typeof e<"u"&&a!==null&&(a.set("url",e),a.setMap(o))},[a,e]),y.useEffect(function(){typeof i<"u"&&a!==null&&a.setOpacity(i?1:0)},[a,i]),y.useEffect(function(){var u=new google.maps.LatLngBounds(new google.maps.LatLng(n.south,n.west),new google.maps.LatLng(n.north,n.east));typeof n<"u"&&a!==null&&(a.set("bounds",u),a.setMap(o))},[a,n]),null}y.memo(Hx);(function(t){qe(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.registeredEvents=[],n.state={groundOverlay:null},n.setGroundOverlayCallback=function(){n.state.groundOverlay!==null&&n.props.onLoad&&n.props.onLoad(n.state.groundOverlay)},n}return e.prototype.componentDidMount=function(){dt(!!this.props.url||!!this.props.bounds,"For GroundOverlay, url and bounds are passed in to constructor and are immutable after instantiated. This is the behavior of Google Maps JavaScript API v3 ( See https://developers.google.com/maps/documentation/javascript/reference#GroundOverlay) Hence, use the corresponding two props provided by `react-google-maps-api`, url and bounds. In some cases, you'll need the GroundOverlay component to reflect the changes of url and bounds. You can leverage the React's key property to remount the component. Typically, just `key={url}` would serve your need. See https://github.com/tomchentw/react-google-maps/issues/655");var n=new google.maps.GroundOverlay(this.props.url,this.props.bounds,ae(ae({},this.props.options),{map:this.context}));this.registeredEvents=ke({updaterMap:Sv,eventMap:Cv,prevProps:{},nextProps:this.props,instance:n}),this.setState(function(){return{groundOverlay:n}},this.setGroundOverlayCallback)},e.prototype.componentDidUpdate=function(n){this.state.groundOverlay!==null&&(Pe(this.registeredEvents),this.registeredEvents=ke({updaterMap:Sv,eventMap:Cv,prevProps:n,nextProps:this.props,instance:this.state.groundOverlay}))},e.prototype.componentWillUnmount=function(){this.state.groundOverlay&&(this.props.onUnmount&&this.props.onUnmount(this.state.groundOverlay),this.state.groundOverlay.setMap(null))},e.prototype.render=function(){return null},e.defaultProps={onLoad:$x},e.contextType=Ie,e})(y.PureComponent);var Iv={},Lv={data:function(t,e){t.setData(e)},map:function(t,e){t.setMap(e)},options:function(t,e){t.setOptions(e)}};function Wx(t){var e=t.data,n=t.onLoad,r=t.onUnmount,i=t.options,o=y.useContext(Ie),s=y.useState(null),a=s[0],u=s[1];return y.useEffect(function(){google.maps.visualization||dt(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} in useJsApiScript? %s',google.maps.visualization)},[]),y.useEffect(function(){dt(!!e,"data property is required in HeatmapLayer %s",e)},[e]),y.useEffect(function(){a!==null&&a.setMap(o)},[o]),y.useEffect(function(){i&&a!==null&&a.setOptions(i)},[a,i]),y.useEffect(function(){var c=new google.maps.visualization.HeatmapLayer(ae(ae({},i||{}),{data:e,map:o}));return u(c),n&&n(c),function(){a!==null&&(r&&r(a),a.setMap(null))}},[]),null}y.memo(Wx);(function(t){qe(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.registeredEvents=[],n.state={heatmapLayer:null},n.setHeatmapLayerCallback=function(){n.state.heatmapLayer!==null&&n.props.onLoad&&n.props.onLoad(n.state.heatmapLayer)},n}return e.prototype.componentDidMount=function(){dt(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} to <LoadScript />? %s',google.maps.visualization),dt(!!this.props.data,"data property is required in HeatmapLayer %s",this.props.data);var n=new google.maps.visualization.HeatmapLayer(ae(ae({},this.props.options||{}),{data:this.props.data,map:this.context}));this.registeredEvents=ke({updaterMap:Lv,eventMap:Iv,prevProps:{},nextProps:this.props,instance:n}),this.setState(function(){return{heatmapLayer:n}},this.setHeatmapLayerCallback)},e.prototype.componentDidUpdate=function(n){Pe(this.registeredEvents),this.registeredEvents=ke({updaterMap:Lv,eventMap:Iv,prevProps:n,nextProps:this.props,instance:this.state.heatmapLayer})},e.prototype.componentWillUnmount=function(){this.state.heatmapLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.heatmapLayer),Pe(this.registeredEvents),this.state.heatmapLayer.setMap(null))},e.prototype.render=function(){return null},e.contextType=Ie,e})(y.PureComponent);var kv={onCloseClick:"closeclick",onPanoChanged:"pano_changed",onPositionChanged:"position_changed",onPovChanged:"pov_changed",onResize:"resize",onStatusChanged:"status_changed",onVisibleChanged:"visible_changed",onZoomChanged:"zoom_changed"},Av={register:function(t,e,n){t.registerPanoProvider(e,n)},links:function(t,e){t.setLinks(e)},motionTracking:function(t,e){t.setMotionTracking(e)},options:function(t,e){t.setOptions(e)},pano:function(t,e){t.setPano(e)},position:function(t,e){t.setPosition(e)},pov:function(t,e){t.setPov(e)},visible:function(t,e){t.setVisible(e)},zoom:function(t,e){t.setZoom(e)}};(function(t){qe(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.registeredEvents=[],n.state={streetViewPanorama:null},n.setStreetViewPanoramaCallback=function(){n.state.streetViewPanorama!==null&&n.props.onLoad&&n.props.onLoad(n.state.streetViewPanorama)},n}return e.prototype.componentDidMount=function(){var n,r,i=(r=(n=this.context)===null||n===void 0?void 0:n.getStreetView())!==null&&r!==void 0?r:null;this.registeredEvents=ke({updaterMap:Av,eventMap:kv,prevProps:{},nextProps:this.props,instance:i}),this.setState(function(){return{streetViewPanorama:i}},this.setStreetViewPanoramaCallback)},e.prototype.componentDidUpdate=function(n){this.state.streetViewPanorama!==null&&(Pe(this.registeredEvents),this.registeredEvents=ke({updaterMap:Av,eventMap:kv,prevProps:n,nextProps:this.props,instance:this.state.streetViewPanorama}))},e.prototype.componentWillUnmount=function(){this.state.streetViewPanorama!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.streetViewPanorama),Pe(this.registeredEvents),this.state.streetViewPanorama.setVisible(!1))},e.prototype.render=function(){return null},e.contextType=Ie,e})(y.PureComponent);(function(t){qe(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={streetViewService:null},n.setStreetViewServiceCallback=function(){n.state.streetViewService!==null&&n.props.onLoad&&n.props.onLoad(n.state.streetViewService)},n}return e.prototype.componentDidMount=function(){var n=new google.maps.StreetViewService;this.setState(function(){return{streetViewService:n}},this.setStreetViewServiceCallback)},e.prototype.componentWillUnmount=function(){this.state.streetViewService!==null&&this.props.onUnmount&&this.props.onUnmount(this.state.streetViewService)},e.prototype.render=function(){return null},e.contextType=Ie,e})(y.PureComponent);(function(t){qe(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={directionsService:null},n.setDirectionsServiceCallback=function(){n.state.directionsService!==null&&n.props.onLoad&&n.props.onLoad(n.state.directionsService)},n}return e.prototype.componentDidMount=function(){dt(!!this.props.options,"DirectionsService expected options object as parameter, but got %s",this.props.options);var n=new google.maps.DirectionsService;this.setState(function(){return{directionsService:n}},this.setDirectionsServiceCallback)},e.prototype.componentDidUpdate=function(){this.state.directionsService!==null&&this.state.directionsService.route(this.props.options,this.props.callback)},e.prototype.componentWillUnmount=function(){this.state.directionsService!==null&&this.props.onUnmount&&this.props.onUnmount(this.state.directionsService)},e.prototype.render=function(){return null},e})(y.PureComponent);var xv={onDirectionsChanged:"directions_changed"},Pv={directions:function(t,e){t.setDirections(e)},map:function(t,e){t.setMap(e)},options:function(t,e){t.setOptions(e)},panel:function(t,e){t.setPanel(e)},routeIndex:function(t,e){t.setRouteIndex(e)}};(function(t){qe(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.registeredEvents=[],n.state={directionsRenderer:null},n.setDirectionsRendererCallback=function(){n.state.directionsRenderer!==null&&(n.state.directionsRenderer.setMap(n.context),n.props.onLoad&&n.props.onLoad(n.state.directionsRenderer))},n}return e.prototype.componentDidMount=function(){var n=new google.maps.DirectionsRenderer(this.props.options);this.registeredEvents=ke({updaterMap:Pv,eventMap:xv,prevProps:{},nextProps:this.props,instance:n}),this.setState(function(){return{directionsRenderer:n}},this.setDirectionsRendererCallback)},e.prototype.componentDidUpdate=function(n){this.state.directionsRenderer!==null&&(Pe(this.registeredEvents),this.registeredEvents=ke({updaterMap:Pv,eventMap:xv,prevProps:n,nextProps:this.props,instance:this.state.directionsRenderer}))},e.prototype.componentWillUnmount=function(){this.state.directionsRenderer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.directionsRenderer),Pe(this.registeredEvents),this.state.directionsRenderer&&this.state.directionsRenderer.setMap(null))},e.prototype.render=function(){return W.jsx(W.Fragment,{})},e.contextType=Ie,e})(y.PureComponent);(function(t){qe(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={distanceMatrixService:null},n.setDistanceMatrixServiceCallback=function(){n.state.distanceMatrixService!==null&&n.props.onLoad&&n.props.onLoad(n.state.distanceMatrixService)},n}return e.prototype.componentDidMount=function(){dt(!!this.props.options,"DistanceMatrixService expected options object as parameter, but go %s",this.props.options);var n=new google.maps.DistanceMatrixService;this.setState(function(){return{distanceMatrixService:n}},this.setDistanceMatrixServiceCallback)},e.prototype.componentDidUpdate=function(){this.state.distanceMatrixService!==null&&this.state.distanceMatrixService.getDistanceMatrix(this.props.options,this.props.callback)},e.prototype.componentWillUnmount=function(){this.state.distanceMatrixService!==null&&this.props.onUnmount&&this.props.onUnmount(this.state.distanceMatrixService)},e.prototype.render=function(){return null},e})(y.PureComponent);var Rv={onPlacesChanged:"places_changed"},Mv={bounds:function(t,e){t.setBounds(e)}};(function(t){qe(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.registeredEvents=[],n.containerElement=y.createRef(),n.state={searchBox:null},n.setSearchBoxCallback=function(){n.state.searchBox!==null&&n.props.onLoad&&n.props.onLoad(n.state.searchBox)},n}return e.prototype.componentDidMount=function(){if(dt(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places),this.containerElement!==null&&this.containerElement.current!==null){var n=this.containerElement.current.querySelector("input");if(n!==null){var r=new google.maps.places.SearchBox(n,this.props.options);this.registeredEvents=ke({updaterMap:Mv,eventMap:Rv,prevProps:{},nextProps:this.props,instance:r}),this.setState(function(){return{searchBox:r}},this.setSearchBoxCallback)}}},e.prototype.componentDidUpdate=function(n){this.state.searchBox!==null&&(Pe(this.registeredEvents),this.registeredEvents=ke({updaterMap:Mv,eventMap:Rv,prevProps:n,nextProps:this.props,instance:this.state.searchBox}))},e.prototype.componentWillUnmount=function(){this.state.searchBox!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.searchBox),Pe(this.registeredEvents))},e.prototype.render=function(){return W.jsx("div",{ref:this.containerElement,children:y.Children.only(this.props.children)})},e.contextType=Ie,e})(y.PureComponent);var bv={onPlaceChanged:"place_changed"},Dv={bounds:function(t,e){t.setBounds(e)},restrictions:function(t,e){t.setComponentRestrictions(e)},fields:function(t,e){t.setFields(e)},options:function(t,e){t.setOptions(e)},types:function(t,e){t.setTypes(e)}};(function(t){qe(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.registeredEvents=[],n.containerElement=y.createRef(),n.state={autocomplete:null},n.setAutocompleteCallback=function(){n.state.autocomplete!==null&&n.props.onLoad&&n.props.onLoad(n.state.autocomplete)},n}return e.prototype.componentDidMount=function(){var n;dt(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places);var r=(n=this.containerElement.current)===null||n===void 0?void 0:n.querySelector("input");if(r){var i=new google.maps.places.Autocomplete(r,this.props.options);this.registeredEvents=ke({updaterMap:Dv,eventMap:bv,prevProps:{},nextProps:this.props,instance:i}),this.setState(function(){return{autocomplete:i}},this.setAutocompleteCallback)}},e.prototype.componentDidUpdate=function(n){Pe(this.registeredEvents),this.registeredEvents=ke({updaterMap:Dv,eventMap:bv,prevProps:n,nextProps:this.props,instance:this.state.autocomplete})},e.prototype.componentWillUnmount=function(){this.state.autocomplete!==null&&Pe(this.registeredEvents)},e.prototype.render=function(){return W.jsx("div",{ref:this.containerElement,className:this.props.className,children:y.Children.only(this.props.children)})},e.defaultProps={className:""},e.contextType=Ie,e})(y.PureComponent);const Gx=async()=>{const t=Od(qu,"reports");return(await U_(t)).docs.map(r=>{const i=r.data();return{id:r.id,title:i.title||"",description:i.description||"",imageUrl:i.imageUrl||"",position:{lat:i.position.lat,lng:i.position.lng},comments:i.comments||[]}})},qx="/ODHack/assets/markerDanger-DlYkauEI.png",Kx="/ODHack/assets/evacuationIcon-D0f6mCS_.png",Qx="/ODHack/assets/AEDIcon-Bw0s6l-d.png";var vE={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Nv=cr.createContext&&cr.createContext(vE),Zx=["attr","size","title"];function Xx(t,e){if(t==null)return{};var n=Yx(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Yx(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function au(){return au=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},au.apply(this,arguments)}function Ov(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ov(Object(n),!0).forEach(function(r){Jx(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ov(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jx(t,e,n){return e=eP(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eP(t){var e=tP(t,"string");return typeof e=="symbol"?e:e+""}function tP(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yE(t){return t&&t.map((e,n)=>cr.createElement(e.tag,lu({key:n},e.attr),yE(e.child)))}function _E(t){return e=>cr.createElement(nP,au({attr:lu({},t.attr)},e),yE(t.child))}function nP(t){var e=n=>{var{attr:r,size:i,title:o}=t,s=Xx(t,Zx),a=i||n.size||"1em",u;return n.className&&(u=n.className),t.className&&(u=(u?u+" ":"")+t.className),cr.createElement("svg",au({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,s,{className:u,style:lu(lu({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),o&&cr.createElement("title",null,o),t.children)};return Nv!==void 0?cr.createElement(Nv.Consumer,null,n=>e(n)):e(vE)}function Ku(t){return _E({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M304 48c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-48 368c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm208-208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zM96 256c0-26.51-21.49-48-48-48S0 229.49 0 256s21.49 48 48 48 48-21.49 48-48zm12.922 99.078c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.491-48-48-48zm294.156 0c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.49-48-48-48zM108.922 60.922c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.491-48-48-48z"},child:[]}]})(t)}function rP(t){return _E({tag:"svg",attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(t)}const iP=({selectedMarker:t,handleDirectionsClick:e,handleCloseInfoWindow:n,handleMenuToggle:r,loading:i})=>(console.log(t),W.jsx(Yd,{position:t.position,onCloseClick:n,children:W.jsxs("div",{className:"info-window-content",style:{maxWidth:"300px"},children:[W.jsxs("div",{className:"text-gray-900",children:[W.jsx("h2",{className:"text-xl font-bold mb-2",children:t.title}),W.jsx("p",{className:"mb-4",children:t.description}),W.jsx("p",{children:Kd(t.timestamp)})]}),t.imageUrl&&W.jsx("img",{src:t.imageUrl,alt:"Report",style:{maxWidth:"100%",height:"auto"}}),W.jsx("button",{onClick:e,className:`${i?"bg-orange-500":"bg-green-500"} text-white px-4 py-2 rounded w-full mt-2 flex items-center justify-center`,children:i?W.jsxs(W.Fragment,{children:[W.jsx(Ku,{className:"animate-spin mr-2"}),""]}):""}),W.jsx("button",{onClick:r,className:"bg-blue-500 text-white px-4 py-2 rounded w-full mt-2",children:""})]})})),oP=({selectedMarker:t,handleDirectionsClick:e,handleCloseInfoWindow:n,handleMenuToggle:r,loading:i})=>W.jsx(Yd,{position:t.position,onCloseClick:n,children:W.jsxs("div",{className:"info-window-content",style:{maxWidth:"300px"},children:[W.jsxs("div",{className:"text-gray-900",children:[W.jsx("h2",{className:"text-xl font-bold mb-2",children:t.title}),W.jsxs("p",{className:"mb-2",children:["1: ",t.elvator1f?"":""]}),W.jsxs("p",{className:"mb-2",children:[": ",t.slope?"":""]}),W.jsxs("p",{className:"mb-2",children:[": ",t.brailleBlock?"":""]}),W.jsxs("p",{className:"mb-4",children:[": ",t.WheelchairToilet?"":""]})]}),W.jsx("button",{onClick:e,className:`${i?"bg-orange-500":"bg-green-500"} text-white px-4 py-2 rounded w-full mt-2 flex items-center justify-center`,children:i?W.jsxs(W.Fragment,{children:[W.jsx(Ku,{className:"animate-spin mr-2"}),""]}):""})]})}),sP=({selectedMarker:t,handleDirectionsClick:e,handleCloseInfoWindow:n,handleMenuToggle:r,loading:i})=>W.jsx(Yd,{position:t.position,onCloseClick:n,children:W.jsxs("div",{className:"info-window-content",style:{minWidth:"300px",maxWidth:"300px"},children:[W.jsxs("div",{className:"text-gray-900",children:[W.jsx("h2",{className:"text-xl font-bold mb-2",children:t.title}),W.jsxs("p",{className:"mb-4",children:[": ",t.place]})]}),W.jsx("button",{onClick:e,className:`${i?"bg-orange-500":"bg-green-500"} text-white px-4 py-2 rounded w-full mt-2 flex items-center justify-center`,children:i?W.jsxs(W.Fragment,{children:[W.jsx(Ku,{className:"animate-spin mr-2"}),""]}):""})]})}),aP={width:"100%",height:"100%"},lP={lat:35.682839,lng:139.759455},uP=({selectedMarker:t,updateSelectedMarker:e,handleMenuToggle:n})=>{const[r,i]=y.useState(""),o=a=>{i(a.target.value)},s=async()=>{if(r.trim()==="")return;const a={id:Date.now().toString(),text:r,timestamp:ft.now()};try{const u=A_(qu,"reports",t.id);await hk(u,{comments:[...t.comments,a]}),e({...t,comments:[...t.comments,a]}),i("")}catch(u){console.error("Error updating marker comments: ",u)}};return W.jsx("div",{className:"menu",style:{position:"absolute",right:0,top:0,width:"300px",height:"100%",backgroundColor:"white"},children:W.jsxs("div",{className:"text-gray-700 p-4",style:{display:"flex",flexDirection:"column",height:"100%"},children:[W.jsx("h3",{className:"text-lg font-bold mb-2",children:""}),W.jsx("div",{className:"comments-list mb-4",style:{flex:1,overflowY:"auto",maxHeight:"calc(100% - 150px)"},children:t.comments.length>0?t.comments.map(a=>W.jsxs("div",{className:"comment-item border-b border-gray-300 py-2",children:[W.jsx("p",{className:"text-gray-600 text-sm",children:Kd(a.timestamp)}),W.jsx("p",{children:a.text})]},a.id)):W.jsx("p",{children:""})}),W.jsx("textarea",{value:r,onChange:o,placeholder:"...",className:"w-full h-32 p-2 border rounded mb-2 bg-white text-gray-700"}),W.jsx("button",{onClick:s,className:"bg-blue-500 text-white px-4 py-2 rounded w-full",children:""})]})})},cP=[{or:"",:"35.69735834",:"139.7603058",or:"False",:"False",:"False",:"False"},{or:"",:"35.6946622",:"139.7811492",or:"True",:"True",:"True",:"False"},{or:"",:"35.68912646",:"139.7675435",or:"True",:"True",:"True",:"True"},{or:"",:"35.690456",:"139.740402",or:"True",:"True",:"True",:"True"},{or:"",:"35.68534413",:"139.739763",or:"True",:"True",:"True",:"True"},{or:"",:"35.68797468",:"139.7338004",or:"False",:"False",:"False",:"False"},{or:"",:"35.68049367",:"139.7392463",or:"True",:"True",:"True",:"True"},{or:"",:"35.69723698",:"139.746433",or:"True",:"True",:"True",:"True"},{or:"",:"35.6941386",:"139.7567712",or:"True",:"True",:"True",:"True"},{or:"",:"35.69304104",:"139.7684903",or:"True",:"True",:"True",:"True"},{or:"",:"35.70127815",:"139.7698738",or:"True",:"True",:"True",:"True"},{or:"3331",:"35.70424084",:"139.7708116",or:"True",:"True",:"True",:"True"},{or:"",:"35.69913662",:"139.7784272",or:"True",:"True",:"True",:"True"},{or:"",:"35.69167731",:"139.772728",or:"False",:"False",:"False",:"False"},{or:"",:"35.676564",:"139.771358",or:"True",:"True",:"False",:"True"},{or:"",:"35.67236218",:"139.7614057",or:"False",:"False",:"False",:"False"},{or:"",:"35.67227065",:"139.7788612",or:"True",:"True",:"True",:"True"},{or:"",:"35.66886598",:"139.7765556",or:"True",:"True",:"True",:"True"},{or:"",:"35.66800993",:"139.7711951",or:"True",:"True",:"False",:"True"},{or:"",:"35.67606031",:"139.7820718",or:"True",:"True",:"True",:"True"},{or:"",:"35.66545304",:"139.7647587",or:"True",:"True",:"False",:"True"},{or:"",:"35.67314536",:"139.7715908",or:"True",:"True",:"True",:"True"},{or:"",:"35.67487128",:"139.7758294",or:"True",:"True",:"True",:"True"},{or:"",:"35.68846361",:"139.7705493",or:"True",:"True",:"False",:"False"},{or:"",:"35.68468833",:"139.7816085",or:"True",:"True",:"False",:"True"},{or:"",:"35.68328566",:"139.787998",or:"True",:"True",:"False",:"True"},{or:"",:"35.68904292",:"139.7843301",or:"True",:"True",:"False",:"True"},{or:"",:"35.67985",:"139.77681",or:"True",:"True",:"True",:"True"},{or:"",:"35.69227162",:"139.7868678",or:"False",:"False",:"False",:"False"},{or:"",:"35.69109549",:"139.7769257",or:"True",:"True",:"True",:"True"},{or:"",:"35.66862322",:"139.7847579",or:"True",:"True",:"False",:"True"},{or:"",:"35.66807529",:"139.7850859",or:"True",:"True",:"False",:"True"},{or:"",:"35.66065199",:"139.7800976",or:"True",:"True",:"False",:"True"},{or:"",:"35.66023493",:"139.775979",or:"True",:"True",:"False",:"True"},{or:"",:"35.65890134",:"139.7858242",or:"True",:"True",:"False",:"True"},{or:"",:"35.653467",:"139.771393",or:"True",:"True",:"True",:"True"},{or:"",:"35.65978",:"139.784455",or:"True",:"True",:"False",:"True"},{or:"",:"35.648753",:"139.749744",or:"True",:"True",:"True",:"True"},{or:"",:"35.65646498",:"139.7249105",or:"False",:"False",:"False",:"False"},{or:"",:"35.66131311",:"139.7497892",or:"True",:"True",:"False",:"True"},{or:"",:"35.65093928",:"139.7500735",or:"True",:"False",:"False",:"True"},{or:"",:"35.65320582",:"139.7423831",or:"True",:"True",:"False",:"True"},{or:"",:"35.66159709",:"139.7504181",or:"True",:"True",:"False",:"True"},{or:"",:"35.66555782",:"139.7570774",or:"True",:"True",:"True",:"True"},{or:"",:"35.658849",:"139.756888",or:"True",:"True",:"True",:"True"},{or:"",:"35.66118323",:"139.7537918",or:"True",:"True",:"False",:"True"},{or:"",:"35.658827",:"139.757554",or:"True",:"True",:"True",:"True"},{or:"",:"35.667906",:"139.748713",or:"True",:"True",:"True",:"True"},{or:"",:"35.66194273",:"139.7385311",or:"True",:"False",:"False",:"True"},{or:"",:"35.658228",:"139.742603",or:"False",:"False",:"False",:"False"},{or:"",:"35.64980887",:"139.7299363",or:"True",:"True",:"False",:"True"},{or:"",:"35.6509159",:"139.7358738",or:"True",:"False",:"False",:"False"},{or:"",:"35.66083969",:"139.7321867",or:"True",:"True",:"True",:"True"},{or:"",:"35.656898",:"139.720394",or:"True",:"True",:"True",:"True"},{or:"",:"35.65723705",:"139.7306589",or:"True",:"False",:"False",:"True"},{or:"",:"35.66068578",:"139.7350834",or:"True",:"False",:"True",:"True"},{or:"",:"35.651435",:"139.735101",or:"True",:"False",:"True",:"True"},{or:"",:"35.651038",:"139.72741",or:"True",:"False",:"True",:"True"},{or:"",:"35.660903",:"139.722721",or:"True",:"False",:"True",:"True"},{or:"",:"35.656904",:"139.740889",or:"True",:"True",:"True",:"True"},{or:"",:"35.6694257",:"139.7312404",or:"True",:"True",:"False",:"True"},{or:"",:"35.66970833",:"139.7189074",or:"True",:"False",:"False",:"True"},{or:"",:"35.66350995",:"139.7161019",or:"False",:"False",:"False",:"False"},{or:"",:"35.66817984",:"139.7315024",or:"True",:"True",:"True",:"True"},{or:"",:"35.67418691",:"139.722053",or:"True",:"False",:"False",:"True"},{or:"",:"35.67466312",:"139.7318491",or:"True",:"False",:"False",:"True"},{or:"",:"35.66976483",:"139.7377258",or:"True",:"True",:"True",:"True"},{or:"",:"35.670358",:"139.734939",or:"True",:"True",:"True",:"True"},{or:"",:"35.669191",:"139.721243",or:"True",:"True",:"True",:"True"},{or:"",:"35.666466",:"139.717313",or:"True",:"True",:"True",:"True"},{or:"",:"35.64311183",:"139.7378879",or:"False",:"False",:"False",:"False"},{or:"",:"35.64204585",:"139.7340183",or:"True",:"True",:"True",:"True"},{or:"",:"35.63678829",:"139.7285519",or:"False",:"False",:"False",:"False"},{or:"",:"35.64444045",:"139.7292546",or:"True",:"True",:"False",:"True"},{or:"",:"35.643711",:"139.72693",or:"True",:"True",:"True",:"True"},{or:"",:"35.64364341",:"139.724498",or:"True",:"False",:"False",:"False"},{or:"",:"35.64523",:"139.740851",or:"True",:"True",:"True",:"True"},{or:"",:"35.64087998",:"139.7340943",or:"True",:"True",:"False",:"True"},{or:"",:"35.6363345",:"139.7343855",or:"True",:"True",:"True",:"True"},{or:"",:"35.642375",:"139.734832",or:"True",:"False",:"True",:"True"},{or:"",:"35.646502",:"139.739662",or:"True",:"False",:"False",:"True"},{or:"",:"35.633201",:"139.735693",or:"True",:"True",:"True",:"True"},{or:"",:"35.644894",:"139.731074",or:"True",:"True",:"True",:"True"},{or:"",:"35.637714",:"139.724958",or:"True",:"False",:"True",:"True"},{or:"",:"35.638159",:"139.746311",or:"True",:"True",:"True",:"True"},{or:"",:"35.6292298",:"139.7496449",or:"True",:"True",:"True",:"True"},{or:"",:"35.63111848",:"139.7490614",or:"True",:"True",:"False",:"True"},{or:"",:"35.64053041",:"139.7485721",or:"True",:"False",:"True",:"True"},{or:"",:"35.646636",:"139.751425",or:"True",:"True",:"True",:"True"},{or:"",:"35.630944",:"139.74965",or:"True",:"True",:"True",:"True"},{or:"",:"35.629642",:"139.747058",or:"True",:"True",:"True",:"True"},{or:"",:"35.63360695",:"139.777149",or:"True",:"True",:"True",:"True"},{or:"",:"35.62996436",:"139.7770641",or:"True",:"False",:"True",:"True"},{or:"()",:"35.6450673",:"139.742457",or:"True",:"True",:"True",:"True"},{or:"",:"35.6463391",:"139.7488232",or:"True",:"False",:"True",:"True"},{or:"",:"35.6891824",:"139.7053966",or:"False",:"False",:"False",:"False"},{or:"",:"35.70685184",:"139.7282035",or:"False",:"False",:"False",:"False"},{or:"",:"35.6936183",:"139.7161452",or:"False",:"False",:"False",:"False"},{or:"",:"35.70671194",:"139.7103447",or:"False",:"False",:"False",:"False"},{or:"",:"35.70953",:"139.696534",or:"True",:"False",:"True",:"True"}],hP=[{:"",:"",:"139.6362741",:"35.69980769"},{:"",:"",:"139.6362741",:"35.69980769"},{:"",:"",:"139.6362741",:"35.69980769"},{:"",:"",:"139.6362741",:"35.69980769"},{:"",:"",:"139.6362741",:"35.69980769"},{:"",:"",:"139.6375769",:"35.69847269"},{:"",:"",:"139.6189008",:"35.72340022"},{:"",:"",:"139.622897",:"35.7048018"},{:"",:"",:"139.6153289",:"35.68336986"},{:"",:"",:"139.6374696",:"35.7039764"},{:"",:"",:"139.6375566",:"35.70395051"},{:"",:"",:"139.6165461",:"35.720648"},{:"",:"",:"139.6459664",:"35.67566151"},{:"",:"",:"139.6460638",:"35.67566368"},{:"",:"",:"139.6540169",:"35.69670036"},{:"",:"",:"139.6166174",:"35.68364789"},{:"",:"",:"139.6166174",:"35.68364789"},{:"",:"",:"139.6414773",:"35.69630257"},{:"",:"",:"139.6125642",:"35.67109919"},{:"",:"",:"139.6483677",:"35.70768139"},{:"",:"",:"139.6085634",:"35.72283503"},{:"",:"",:"139.6018169",:"35.70151671"},{:"",:"",:"139.6217444",:"35.72438898"},{:"",:"",:"139.6587963",:"35.67663678"},{:"",:"",:"139.6242995",:"35.71258838"},{:"",:"",:"139.5994591",:"35.68662523"},{:"",:"",:"139.6299962",:"35.68044676"},{:"",:"",:"139.6560509",:"35.68099524"},{:"",:"",:"139.6078484",:"35.70871473"},{:"",:"",:"139.6302792",:"35.67439328"},{:"",:"",:"139.6427428",:"35.69205779"},{:"",:"",:"139.6338248",:"35.70608104"},{:"",:"",:"139.6486449",:"35.70683437"},{:"",:"",:"139.6047065",:"35.69464541"},{:"",:"",:"139.6439196",:"35.70198677"},{:"",:"",:"139.6589382",:"35.67910756"},{:"",:"",:"139.6125775",:"35.69872865"},{:"",:"",:"139.6087303",:"35.72268314"},{:"",:"",:"139.6264119",:"35.71066597"},{:"",:"",:"139.6165543",:"35.6778084"},{:"",:"",:"139.6513404",:"35.70494239"},{:"",:"",:"139.6131513",:"35.71365093"},{:"",:"",:"139.6580912",:"35.69860345"},{:"",:"",:"139.6595482",:"35.69160075"},{:"",:"",:"139.6497622",:"35.69328941"},{:"",:"",:"139.6499433",:"35.6793443"},{:"",:"",:"139.6068795",:"35.6813833"},{:"",:"",:"139.6250341",:"35.68335371"},{:"",:"",:"139.6195835",:"35.72700266"},{:"",:"",:"139.6303984",:"35.71596446"},{:"",:"",:"139.5886604",:"35.71338697"},{:"",:"",:"139.601538",:"35.68846057"},{:"",:"",:"139.6259965",:"35.68742832"},{:"",:"",:"139.6246023",:"35.71937781"},{:"",:"",:"139.6389981",:"35.67155274"},{:"",:"",:"139.6234666",:"35.70189145"},{:"",:"",:"139.648269",:"35.68720117"},{:"",:"",:"139.6360615",:"35.67228626"},{:"",:"",:"139.6420509",:"35.68561655"},{:"",:"",:"139.6422991",:"35.66947375"},{:"",:"",:"139.6422976",:"35.66947503"},{:"",:"1",:"139.6105403",:"35.69686446"},{:"",:"1",:"139.6105383",:"35.69686171"},{:"",:"2",:"139.6105408",:"35.69686221"},{:"",:"",:"139.6020696",:"35.72402552"},{:"",:"",:"139.6020696",:"35.72402552"},{:"",:"",:"139.6020696",:"35.72402552"},{:"",:"",:"139.6020696",:"35.72402552"},{:"",:"",:"139.6542426",:"35.69974189"},{:"",:"1",:"139.6178196",:"35.71828485"},{:"",:"1",:"139.6178196",:"35.71828485"},{:"",:"1",:"139.6574737",:"35.69693163"},{:"",:"",:"139.6166174",:"35.68364789"},{:"",:"",:"139.637079",:"35.6708691"},{:"",:"",:"139.6060716",:"35.71523793"},{:"",:"",:"139.6123334",:"35.72668002"},{:"",:"",:"139.6245664",:"35.70078954"},{:"",:"",:"139.6263128",:"35.67754395"},{:"",:"",:"139.6557208",:"35.69779146"},{:"",:"",:"139.6300098",:"35.69033977"},{:"",:"",:"139.6247114",:"35.67495912"},{:"",:"",:"139.6430542",:"35.70958003"},{:"",:"",:"139.6210936",:"35.69136635"},{:"",:"",:"139.6197908",:"35.6826046"},{:"",:"",:"139.6157894",:"35.72711189"},{:"",:"",:"139.613486",:"35.69229879"},{:"",:"1",:"139.648269",:"35.68720117"},{:"",:"",:"139.6578565",:"35.69106278"},{:"",:"",:"139.6178179",:"35.68966919"},{:"",:"",:"139.611006",:"35.70328906"},{:"",:"",:"139.6090286",:"35.71802713"},{:"",:"",:"139.5970568",:"35.7180949"},{:"",:"",:"139.592701",:"35.6982468"},{:"",:"",:"139.6301407",:"35.70776322"},{:"",:"1",:"139.6162645",:"35.6857496"},{:"",:"",:"139.6492313",:"35.68608533"},{:"",:"",:"139.6178095",:"35.6895365"},{:"",:"1",:"139.6491943",:"35.700629"},{:"",:"",:"139.6202429",:"35.70222098"},{:"",:"",:"139.6202429",:"35.70222098"}];function fP(){const[t,e]=y.useState([]),[n,r]=y.useState([]),[i,o]=y.useState([]),[s,a]=y.useState(null),u=y.useRef(null),c=y.useRef(null),[h,f]=y.useState(!1),[d,g]=y.useState(!1),[_,S]=y.useState(null),P=y.useCallback(T=>{S(T)},[]),w=y.useCallback(()=>{f(T=>!T)},[]);y.useEffect(()=>{(async()=>{const p=await Gx();e(p)})()},[]),y.useEffect(()=>{t.length>0&&(()=>{const p=cP.map(v=>({id:"1",title:v.or,elvator1f:v.or==="True",slope:v.==="True",brailleBlock:v.==="True",WheelchairToilet:v.==="True",position:{lat:parseFloat(v.),lng:parseFloat(v.)}}));r(p)})()},[t]),y.useEffect(()=>{n.length>0&&(()=>{const p=hP.map(v=>({id:"1",title:v.,place:v.,position:{lat:parseFloat(v.),lng:parseFloat(v.)}}));o(p)})()},[n]);const I=y.useCallback(T=>{a(T),u.current=new window.google.maps.DirectionsService,c.current=new window.google.maps.DirectionsRenderer,c.current.setMap(T)},[]),L=y.useCallback(T=>{S(T)},[]),b=y.useCallback(()=>{S(null)},[]),O=y.useCallback(()=>{u.current&&c.current&&_&&s&&(g(!0),navigator.geolocation.getCurrentPosition(T=>{console.log("");const{latitude:p,longitude:v}=T.coords,E=new window.google.maps.LatLng(p,v),A=new window.google.maps.LatLng(_.position.lat,_.position.lng),R={origin:E,destination:A,travelMode:google.maps.TravelMode.DRIVING};u.current.route(R,(k,V)=>{g(!1),V===google.maps.DirectionsStatus.OK?c.current.setDirections(k):console.error("Directions request failed due to "+V)})},T=>{g(!1),console.error("Error getting current location:",T)}))},[_,s]);y.useMemo(()=>t.map(T=>W.jsxs($c,{position:T.position,onClick:()=>L(T),icon:{url:qx,scaledSize:new window.google.maps.Size(25,25)},children:[_&&"id"in _&&_.id===T.id&&W.jsx(iP,{selectedMarker:_,handleDirectionsClick:O,handleCloseInfoWindow:b,handleMenuToggle:w,loading:d}),h&&_&&"id"in _&&_.id===T.id&&W.jsx(uP,{selectedMarker:_,handleMenuToggle:w,updateSelectedMarker:P})]},T.id)),[t,_,L,O,b,w,h]),y.useMemo(()=>n.map(T=>W.jsx($c,{position:T.position,onClick:()=>L(T),icon:{url:Kx,scaledSize:new window.google.maps.Size(25,25)},children:_&&"id"in _&&_.id===T.id&&_.hasOwnProperty("elvator1f")&&W.jsx(oP,{selectedMarker:_,handleDirectionsClick:O,handleCloseInfoWindow:b,handleMenuToggle:w,loading:d})},T.id)),[n,_,L,b,w,d]);const x=y.useMemo(()=>i.map(T=>W.jsx($c,{position:T.position,onClick:()=>L(T),icon:{url:Qx,scaledSize:new window.google.maps.Size(25,25)},children:_&&"id"in _&&_.id===T.id&&_.hasOwnProperty("place")&&W.jsx(sP,{selectedMarker:_,handleDirectionsClick:O,handleCloseInfoWindow:b,handleMenuToggle:w,loading:d})},T.id)),[i,_,L,b,w,d]);return W.jsx("div",{className:"w-9/12 h-full",children:W.jsx(jA,{googleMapsApiKey:"AIzaSyBBzbmTJ9fEjkRWcKyIq6wdl5g51E_KU5o",libraries:["places"],children:W.jsx(zA,{mapContainerStyle:aP,center:lP,zoom:11,onLoad:I,children:x})})})}const dP=({onClose:t,title:e})=>W.jsxs("div",{children:[W.jsx("button",{onClick:t,className:"absolute top-2 right-2 text-gray-600 hover:text-gray-800 focus:outline-none",style:{backgroundColor:"transparent",border:"none",padding:0},children:W.jsx(rP,{size:24})}),W.jsx("h2",{className:"text-xl font-bold mb-2 text-gray-700",children:e})]}),pP=({onFileChange:t,imageUrl:e})=>W.jsxs("div",{className:"mb-4",children:[W.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),W.jsx("input",{type:"file",accept:"image/*",onChange:t,className:"border border-gray-300 rounded p-2 w-full"}),e&&W.jsx("div",{className:"mt-4",children:W.jsx("img",{src:e,alt:"Selected preview",className:"w-full max-h-[400px] object-contain"})})]}),gP=({title:t,description:e,onTitleChange:n,onDescriptionChange:r})=>W.jsxs(W.Fragment,{children:[W.jsxs("div",{className:"mb-4",children:[W.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),W.jsx("input",{type:"text",value:t,onChange:n,className:"border border-gray-300 rounded p-2 w-full bg-white text-gray-700"})]}),W.jsxs("div",{className:"mb-4",children:[W.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),W.jsx("textarea",{value:e,onChange:r,className:"border border-gray-300 rounded p-2 w-full bg-white text-gray-700",rows:4})]})]}),mP=({loading:t,onClick:e})=>W.jsx("div",{className:"flex justify-center items-center",children:W.jsx("button",{onClick:e,className:`px-4 py-2 rounded w-full flex justify-center items-center 
                  ${t?"bg-orange-500":"bg-blue-500"} 
                  text-white`,disabled:t,children:t?W.jsxs(W.Fragment,{children:[W.jsx(Ku,{className:"animate-spin mr-2"}),"..."]}):""})}),vP=async t=>{const e=TA(AA,`images/${t.name}`);return await EA(e,t),await wA(e)},yP=async(t,e,n,r)=>fk(Od(qu,"reports"),{title:t,description:e,position:n,imageUrl:r,timestamp:new Date,comments:[]});function _P(t,e){return e.forEach(function(n){n&&typeof n!="string"&&!Array.isArray(n)&&Object.keys(n).forEach(function(r){if(r!=="default"&&!(r in t)){var i=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:function(){return n[r]}})}})}),Object.freeze(t)}function EE(t,e){return new Promise(function(n,r){let i;return EP(t).then(function(o){try{return i=o,n(new Blob([e.slice(0,2),i,e.slice(2)],{type:"image/jpeg"}))}catch(s){return r(s)}},r)})}const EP=t=>new Promise((e,n)=>{const r=new FileReader;r.addEventListener("load",({target:{result:i}})=>{const o=new DataView(i);let s=0;if(o.getUint16(s)!==65496)return n("not a valid JPEG");for(s+=2;;){const a=o.getUint16(s);if(a===65498)break;const u=o.getUint16(s+2);if(a===65505&&o.getUint32(s+4)===1165519206){const c=s+10;let h;switch(o.getUint16(c)){case 18761:h=!0;break;case 19789:h=!1;break;default:return n("TIFF header contains invalid endian")}if(o.getUint16(c+2,h)!==42)return n("TIFF header contains invalid version");const f=o.getUint32(c+4,h),d=c+f+2+12*o.getUint16(c+f,h);for(let g=c+f+2;g<d;g+=12)if(o.getUint16(g,h)==274){if(o.getUint16(g+2,h)!==3)return n("Orientation data type is invalid");if(o.getUint32(g+4,h)!==1)return n("Orientation data count is invalid");o.setUint16(g+8,1,h);break}return e(i.slice(s,s+2+u))}s+=2+u}return e(new Blob)}),r.readAsArrayBuffer(t)});var uu={},wP={get exports(){return uu},set exports(t){uu=t}};(function(t){var e,n,r={};wP.exports=r,r.parse=function(i,o){for(var s=r.bin.readUshort,a=r.bin.readUint,u=0,c={},h=new Uint8Array(i),f=h.length-4;a(h,f)!=101010256;)f--;u=f,u+=4;var d=s(h,u+=4);s(h,u+=2);var g=a(h,u+=2),_=a(h,u+=4);u+=4,u=_;for(var S=0;S<d;S++){a(h,u),u+=4,u+=4,u+=4,a(h,u+=4),g=a(h,u+=4);var P=a(h,u+=4),w=s(h,u+=4),I=s(h,u+2),L=s(h,u+4);u+=6;var b=a(h,u+=8);u+=4,u+=w+I+L,r._readLocal(h,b,c,g,P,o)}return c},r._readLocal=function(i,o,s,a,u,c){var h=r.bin.readUshort,f=r.bin.readUint;f(i,o),h(i,o+=4),h(i,o+=2);var d=h(i,o+=2);f(i,o+=2),f(i,o+=4),o+=4;var g=h(i,o+=8),_=h(i,o+=2);o+=2;var S=r.bin.readUTF8(i,o,g);if(o+=g,o+=_,c)s[S]={size:u,csize:a};else{var P=new Uint8Array(i.buffer,o);if(d==0)s[S]=new Uint8Array(P.buffer.slice(o,o+a));else{if(d!=8)throw"unknown compression method: "+d;var w=new Uint8Array(u);r.inflateRaw(P,w),s[S]=w}}},r.inflateRaw=function(i,o){return r.F.inflate(i,o)},r.inflate=function(i,o){return i[0],i[1],r.inflateRaw(new Uint8Array(i.buffer,i.byteOffset+2,i.length-6),o)},r.deflate=function(i,o){o==null&&(o={level:6});var s=0,a=new Uint8Array(50+Math.floor(1.1*i.length));a[s]=120,a[s+1]=156,s+=2,s=r.F.deflateRaw(i,a,s,o.level);var u=r.adler(i,0,i.length);return a[s+0]=u>>>24&255,a[s+1]=u>>>16&255,a[s+2]=u>>>8&255,a[s+3]=u>>>0&255,new Uint8Array(a.buffer,0,s+4)},r.deflateRaw=function(i,o){o==null&&(o={level:6});var s=new Uint8Array(50+Math.floor(1.1*i.length)),a=r.F.deflateRaw(i,s,a,o.level);return new Uint8Array(s.buffer,0,a)},r.encode=function(i,o){o==null&&(o=!1);var s=0,a=r.bin.writeUint,u=r.bin.writeUshort,c={};for(var h in i){var f=!r._noNeed(h)&&!o,d=i[h],g=r.crc.crc(d,0,d.length);c[h]={cpr:f,usize:d.length,crc:g,file:f?r.deflateRaw(d):d}}for(var h in c)s+=c[h].file.length+30+46+2*r.bin.sizeUTF8(h);s+=22;var _=new Uint8Array(s),S=0,P=[];for(var h in c){var w=c[h];P.push(S),S=r._writeHeader(_,S,h,w,0)}var I=0,L=S;for(var h in c)w=c[h],P.push(S),S=r._writeHeader(_,S,h,w,1,P[I++]);var b=S-L;return a(_,S,101010256),S+=4,u(_,S+=4,I),u(_,S+=2,I),a(_,S+=2,b),a(_,S+=4,L),S+=4,S+=2,_.buffer},r._noNeed=function(i){var o=i.split(".").pop().toLowerCase();return"png,jpg,jpeg,zip".indexOf(o)!=-1},r._writeHeader=function(i,o,s,a,u,c){var h=r.bin.writeUint,f=r.bin.writeUshort,d=a.file;return h(i,o,u==0?67324752:33639248),o+=4,u==1&&(o+=2),f(i,o,20),f(i,o+=2,0),f(i,o+=2,a.cpr?8:0),h(i,o+=2,0),h(i,o+=4,a.crc),h(i,o+=4,d.length),h(i,o+=4,a.usize),f(i,o+=4,r.bin.sizeUTF8(s)),f(i,o+=2,0),o+=2,u==1&&(o+=2,o+=2,h(i,o+=6,c),o+=4),o+=r.bin.writeUTF8(i,o,s),u==0&&(i.set(d,o),o+=d.length),o},r.crc={table:function(){for(var i=new Uint32Array(256),o=0;o<256;o++){for(var s=o,a=0;a<8;a++)1&s?s=3988292384^s>>>1:s>>>=1;i[o]=s}return i}(),update:function(i,o,s,a){for(var u=0;u<a;u++)i=r.crc.table[255&(i^o[s+u])]^i>>>8;return i},crc:function(i,o,s){return 4294967295^r.crc.update(4294967295,i,o,s)}},r.adler=function(i,o,s){for(var a=1,u=0,c=o,h=o+s;c<h;){for(var f=Math.min(c+5552,h);c<f;)u+=a+=i[c++];a%=65521,u%=65521}return u<<16|a},r.bin={readUshort:function(i,o){return i[o]|i[o+1]<<8},writeUshort:function(i,o,s){i[o]=255&s,i[o+1]=s>>8&255},readUint:function(i,o){return 16777216*i[o+3]+(i[o+2]<<16|i[o+1]<<8|i[o])},writeUint:function(i,o,s){i[o]=255&s,i[o+1]=s>>8&255,i[o+2]=s>>16&255,i[o+3]=s>>24&255},readASCII:function(i,o,s){for(var a="",u=0;u<s;u++)a+=String.fromCharCode(i[o+u]);return a},writeASCII:function(i,o,s){for(var a=0;a<s.length;a++)i[o+a]=s.charCodeAt(a)},pad:function(i){return i.length<2?"0"+i:i},readUTF8:function(i,o,s){for(var a,u="",c=0;c<s;c++)u+="%"+r.bin.pad(i[o+c].toString(16));try{a=decodeURIComponent(u)}catch{return r.bin.readASCII(i,o,s)}return a},writeUTF8:function(i,o,s){for(var a=s.length,u=0,c=0;c<a;c++){var h=s.charCodeAt(c);if(!(4294967168&h))i[o+u]=h,u++;else if(!(4294965248&h))i[o+u]=192|h>>6,i[o+u+1]=128|h>>0&63,u+=2;else if(!(4294901760&h))i[o+u]=224|h>>12,i[o+u+1]=128|h>>6&63,i[o+u+2]=128|h>>0&63,u+=3;else{if(4292870144&h)throw"e";i[o+u]=240|h>>18,i[o+u+1]=128|h>>12&63,i[o+u+2]=128|h>>6&63,i[o+u+3]=128|h>>0&63,u+=4}}return u},sizeUTF8:function(i){for(var o=i.length,s=0,a=0;a<o;a++){var u=i.charCodeAt(a);if(!(4294967168&u))s++;else if(!(4294965248&u))s+=2;else if(!(4294901760&u))s+=3;else{if(4292870144&u)throw"e";s+=4}}return s}},r.F={},r.F.deflateRaw=function(i,o,s,a){var u=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][a],c=r.F.U,h=r.F._goodIndex;r.F._hash;var f=r.F._putsE,d=0,g=s<<3,_=0,S=i.length;if(a==0){for(;d<S;)f(o,g,d+(A=Math.min(65535,S-d))==S?1:0),g=r.F._copyExact(i,d,A,o,g+8),d+=A;return g>>>3}var P=c.lits,w=c.strt,I=c.prev,L=0,b=0,O=0,x=0,T=0,p=0;for(S>2&&(w[p=r.F._hash(i,0)]=0),d=0;d<S;d++){if(T=p,d+1<S-2){p=r.F._hash(i,d+1);var v=d+1&32767;I[v]=w[p],w[p]=v}if(_<=d){(L>14e3||b>26697)&&S-d>100&&(_<d&&(P[L]=d-_,L+=2,_=d),g=r.F._writeBlock(d==S-1||_==S?1:0,P,L,x,i,O,d-O,o,g),L=b=x=0,O=d);var E=0;d<S-2&&(E=r.F._bestMatch(i,d,I,T,Math.min(u[2],S-d),u[3]));var A=E>>>16,R=65535&E;if(E!=0){R=65535&E;var k=h(A=E>>>16,c.of0);c.lhst[257+k]++;var V=h(R,c.df0);c.dhst[V]++,x+=c.exb[k]+c.dxb[V],P[L]=A<<23|d-_,P[L+1]=R<<16|k<<8|V,L+=2,_=d+A}else c.lhst[i[d]]++;b++}}for(O==d&&i.length!=0||(_<d&&(P[L]=d-_,L+=2,_=d),g=r.F._writeBlock(1,P,L,x,i,O,d-O,o,g),L=0,b=0,L=b=x=0,O=d);7&g;)g++;return g>>>3},r.F._bestMatch=function(i,o,s,a,u,c){var h=32767&o,f=s[h],d=h-f+32768&32767;if(f==h||a!=r.F._hash(i,o-d))return 0;for(var g=0,_=0,S=Math.min(32767,o);d<=S&&--c!=0&&f!=h;){if(g==0||i[o+g]==i[o+g-d]){var P=r.F._howLong(i,o,d);if(P>g){if(_=d,(g=P)>=u)break;d+2<P&&(P=d+2);for(var w=0,I=0;I<P-2;I++){var L=o-d+I+32768&32767,b=L-s[L]+32768&32767;b>w&&(w=b,f=L)}}}d+=(h=f)-(f=s[h])+32768&32767}return g<<16|_},r.F._howLong=function(i,o,s){if(i[o]!=i[o-s]||i[o+1]!=i[o+1-s]||i[o+2]!=i[o+2-s])return 0;var a=o,u=Math.min(i.length,o+258);for(o+=3;o<u&&i[o]==i[o-s];)o++;return o-a},r.F._hash=function(i,o){return(i[o]<<8|i[o+1])+(i[o+2]<<4)&65535},r.saved=0,r.F._writeBlock=function(i,o,s,a,u,c,h,f,d){var g,_,S,P,w,I,L,b,O,x=r.F.U,T=r.F._putsF,p=r.F._putsE;x.lhst[256]++,_=(g=r.F.getTrees())[0],S=g[1],P=g[2],w=g[3],I=g[4],L=g[5],b=g[6],O=g[7];var v=32+(d+3&7?8-(d+3&7):0)+(h<<3),E=a+r.F.contSize(x.fltree,x.lhst)+r.F.contSize(x.fdtree,x.dhst),A=a+r.F.contSize(x.ltree,x.lhst)+r.F.contSize(x.dtree,x.dhst);A+=14+3*L+r.F.contSize(x.itree,x.ihst)+(2*x.ihst[16]+3*x.ihst[17]+7*x.ihst[18]);for(var R=0;R<286;R++)x.lhst[R]=0;for(R=0;R<30;R++)x.dhst[R]=0;for(R=0;R<19;R++)x.ihst[R]=0;var k=v<E&&v<A?0:E<A?1:2;if(T(f,d,i),T(f,d+1,k),d+=3,k==0){for(;7&d;)d++;d=r.F._copyExact(u,c,h,f,d)}else{var V,z;if(k==1&&(V=x.fltree,z=x.fdtree),k==2){r.F.makeCodes(x.ltree,_),r.F.revCodes(x.ltree,_),r.F.makeCodes(x.dtree,S),r.F.revCodes(x.dtree,S),r.F.makeCodes(x.itree,P),r.F.revCodes(x.itree,P),V=x.ltree,z=x.dtree,p(f,d,w-257),p(f,d+=5,I-1),p(f,d+=5,L-4),d+=4;for(var N=0;N<L;N++)p(f,d+3*N,x.itree[1+(x.ordr[N]<<1)]);d+=3*L,d=r.F._codeTiny(b,x.itree,f,d),d=r.F._codeTiny(O,x.itree,f,d)}for(var M=c,U=0;U<s;U+=2){for(var F=o[U],B=F>>>23,Q=M+(8388607&F);M<Q;)d=r.F._writeLit(u[M++],V,f,d);if(B!=0){var q=o[U+1],Z=q>>16,K=q>>8&255,H=255&q;p(f,d=r.F._writeLit(257+K,V,f,d),B-x.of0[K]),d+=x.exb[K],T(f,d=r.F._writeLit(H,z,f,d),Z-x.df0[H]),d+=x.dxb[H],M+=B}}d=r.F._writeLit(256,V,f,d)}return d},r.F._copyExact=function(i,o,s,a,u){var c=u>>>3;return a[c]=s,a[c+1]=s>>>8,a[c+2]=255-a[c],a[c+3]=255-a[c+1],c+=4,a.set(new Uint8Array(i.buffer,o,s),c),u+(s+4<<3)},r.F.getTrees=function(){for(var i=r.F.U,o=r.F._hufTree(i.lhst,i.ltree,15),s=r.F._hufTree(i.dhst,i.dtree,15),a=[],u=r.F._lenCodes(i.ltree,a),c=[],h=r.F._lenCodes(i.dtree,c),f=0;f<a.length;f+=2)i.ihst[a[f]]++;for(f=0;f<c.length;f+=2)i.ihst[c[f]]++;for(var d=r.F._hufTree(i.ihst,i.itree,7),g=19;g>4&&i.itree[1+(i.ordr[g-1]<<1)]==0;)g--;return[o,s,d,u,h,g,a,c]},r.F.getSecond=function(i){for(var o=[],s=0;s<i.length;s+=2)o.push(i[s+1]);return o},r.F.nonZero=function(i){for(var o="",s=0;s<i.length;s+=2)i[s+1]!=0&&(o+=(s>>1)+",");return o},r.F.contSize=function(i,o){for(var s=0,a=0;a<o.length;a++)s+=o[a]*i[1+(a<<1)];return s},r.F._codeTiny=function(i,o,s,a){for(var u=0;u<i.length;u+=2){var c=i[u],h=i[u+1];a=r.F._writeLit(c,o,s,a);var f=c==16?2:c==17?3:7;c>15&&(r.F._putsE(s,a,h,f),a+=f)}return a},r.F._lenCodes=function(i,o){for(var s=i.length;s!=2&&i[s-1]==0;)s-=2;for(var a=0;a<s;a+=2){var u=i[a+1],c=a+3<s?i[a+3]:-1,h=a+5<s?i[a+5]:-1,f=a==0?-1:i[a-1];if(u==0&&c==u&&h==u){for(var d=a+5;d+2<s&&i[d+2]==u;)d+=2;(g=Math.min(d+1-a>>>1,138))<11?o.push(17,g-3):o.push(18,g-11),a+=2*g-2}else if(u==f&&c==u&&h==u){for(d=a+5;d+2<s&&i[d+2]==u;)d+=2;var g=Math.min(d+1-a>>>1,6);o.push(16,g-3),a+=2*g-2}else o.push(u,0)}return s>>>1},r.F._hufTree=function(i,o,s){var a=[],u=i.length,c=o.length,h=0;for(h=0;h<c;h+=2)o[h]=0,o[h+1]=0;for(h=0;h<u;h++)i[h]!=0&&a.push({lit:h,f:i[h]});var f=a.length,d=a.slice(0);if(f==0)return 0;if(f==1){var g=a[0].lit;return d=g==0?1:0,o[1+(g<<1)]=1,o[1+(d<<1)]=1,1}a.sort(function(b,O){return b.f-O.f});var _=a[0],S=a[1],P=0,w=1,I=2;for(a[0]={lit:-1,f:_.f+S.f,l:_,r:S,d:0};w!=f-1;)_=P!=w&&(I==f||a[P].f<a[I].f)?a[P++]:a[I++],S=P!=w&&(I==f||a[P].f<a[I].f)?a[P++]:a[I++],a[w++]={lit:-1,f:_.f+S.f,l:_,r:S};var L=r.F.setDepth(a[w-1],0);for(L>s&&(r.F.restrictDepth(d,s,L),L=s),h=0;h<f;h++)o[1+(d[h].lit<<1)]=d[h].d;return L},r.F.setDepth=function(i,o){return i.lit!=-1?(i.d=o,o):Math.max(r.F.setDepth(i.l,o+1),r.F.setDepth(i.r,o+1))},r.F.restrictDepth=function(i,o,s){var a=0,u=1<<s-o,c=0;for(i.sort(function(f,d){return d.d==f.d?f.f-d.f:d.d-f.d}),a=0;a<i.length&&i[a].d>o;a++){var h=i[a].d;i[a].d=o,c+=u-(1<<s-h)}for(c>>>=s-o;c>0;)(h=i[a].d)<o?(i[a].d++,c-=1<<o-h-1):a++;for(;a>=0;a--)i[a].d==o&&c<0&&(i[a].d--,c++);c!=0&&console.log("debt left")},r.F._goodIndex=function(i,o){var s=0;return o[16|s]<=i&&(s|=16),o[8|s]<=i&&(s|=8),o[4|s]<=i&&(s|=4),o[2|s]<=i&&(s|=2),o[1|s]<=i&&(s|=1),s},r.F._writeLit=function(i,o,s,a){return r.F._putsF(s,a,o[i<<1]),a+o[1+(i<<1)]},r.F.inflate=function(i,o){var s=Uint8Array;if(i[0]==3&&i[1]==0)return o||new s(0);var a=r.F,u=a._bitsF,c=a._bitsE,h=a._decodeTiny,f=a.makeCodes,d=a.codes2map,g=a._get17,_=a.U,S=o==null;S&&(o=new s(i.length>>>2<<3));for(var P,w,I=0,L=0,b=0,O=0,x=0,T=0,p=0,v=0,E=0;I==0;)if(I=u(i,E,1),L=u(i,E+1,2),E+=3,L!=0){if(S&&(o=r.F._check(o,v+(1<<17))),L==1&&(P=_.flmap,w=_.fdmap,T=511,p=31),L==2){b=c(i,E,5)+257,O=c(i,E+5,5)+1,x=c(i,E+10,4)+4,E+=14;for(var A=0;A<38;A+=2)_.itree[A]=0,_.itree[A+1]=0;var R=1;for(A=0;A<x;A++){var k=c(i,E+3*A,3);_.itree[1+(_.ordr[A]<<1)]=k,k>R&&(R=k)}E+=3*x,f(_.itree,R),d(_.itree,R,_.imap),P=_.lmap,w=_.dmap,E=h(_.imap,(1<<R)-1,b+O,i,E,_.ttree);var V=a._copyOut(_.ttree,0,b,_.ltree);T=(1<<V)-1;var z=a._copyOut(_.ttree,b,O,_.dtree);p=(1<<z)-1,f(_.ltree,V),d(_.ltree,V,P),f(_.dtree,z),d(_.dtree,z,w)}for(;;){var N=P[g(i,E)&T];E+=15&N;var M=N>>>4;if(!(M>>>8))o[v++]=M;else{if(M==256)break;var U=v+M-254;if(M>264){var F=_.ldef[M-257];U=v+(F>>>3)+c(i,E,7&F),E+=7&F}var B=w[g(i,E)&p];E+=15&B;var Q=B>>>4,q=_.ddef[Q],Z=(q>>>4)+u(i,E,15&q);for(E+=15&q,S&&(o=r.F._check(o,v+(1<<17)));v<U;)o[v]=o[v++-Z],o[v]=o[v++-Z],o[v]=o[v++-Z],o[v]=o[v++-Z];v=U}}}else{7&E&&(E+=8-(7&E));var K=4+(E>>>3),H=i[K-4]|i[K-3]<<8;S&&(o=r.F._check(o,v+H)),o.set(new s(i.buffer,i.byteOffset+K,H),v),E=K+H<<3,v+=H}return o.length==v?o:o.slice(0,v)},r.F._check=function(i,o){var s=i.length;if(o<=s)return i;var a=new Uint8Array(Math.max(s<<1,o));return a.set(i,0),a},r.F._decodeTiny=function(i,o,s,a,u,c){for(var h=r.F._bitsE,f=r.F._get17,d=0;d<s;){var g=i[f(a,u)&o];u+=15&g;var _=g>>>4;if(_<=15)c[d]=_,d++;else{var S=0,P=0;_==16?(P=3+h(a,u,2),u+=2,S=c[d-1]):_==17?(P=3+h(a,u,3),u+=3):_==18&&(P=11+h(a,u,7),u+=7);for(var w=d+P;d<w;)c[d]=S,d++}}return u},r.F._copyOut=function(i,o,s,a){for(var u=0,c=0,h=a.length>>>1;c<s;){var f=i[c+o];a[c<<1]=0,a[1+(c<<1)]=f,f>u&&(u=f),c++}for(;c<h;)a[c<<1]=0,a[1+(c<<1)]=0,c++;return u},r.F.makeCodes=function(i,o){for(var s,a,u,c,h=r.F.U,f=i.length,d=h.bl_count,g=0;g<=o;g++)d[g]=0;for(g=1;g<f;g+=2)d[i[g]]++;var _=h.next_code;for(s=0,d[0]=0,a=1;a<=o;a++)s=s+d[a-1]<<1,_[a]=s;for(u=0;u<f;u+=2)(c=i[u+1])!=0&&(i[u]=_[c],_[c]++)},r.F.codes2map=function(i,o,s){for(var a=i.length,u=r.F.U.rev15,c=0;c<a;c+=2)if(i[c+1]!=0)for(var h=c>>1,f=i[c+1],d=h<<4|f,g=o-f,_=i[c]<<g,S=_+(1<<g);_!=S;)s[u[_]>>>15-o]=d,_++},r.F.revCodes=function(i,o){for(var s=r.F.U.rev15,a=15-o,u=0;u<i.length;u+=2){var c=i[u]<<o-i[u+1];i[u]=s[c]>>>a}},r.F._putsE=function(i,o,s){s<<=7&o;var a=o>>>3;i[a]|=s,i[a+1]|=s>>>8},r.F._putsF=function(i,o,s){s<<=7&o;var a=o>>>3;i[a]|=s,i[a+1]|=s>>>8,i[a+2]|=s>>>16},r.F._bitsE=function(i,o,s){return(i[o>>>3]|i[1+(o>>>3)]<<8)>>>(7&o)&(1<<s)-1},r.F._bitsF=function(i,o,s){return(i[o>>>3]|i[1+(o>>>3)]<<8|i[2+(o>>>3)]<<16)>>>(7&o)&(1<<s)-1},r.F._get17=function(i,o){return(i[o>>>3]|i[1+(o>>>3)]<<8|i[2+(o>>>3)]<<16)>>>(7&o)},r.F._get25=function(i,o){return(i[o>>>3]|i[1+(o>>>3)]<<8|i[2+(o>>>3)]<<16|i[3+(o>>>3)]<<24)>>>(7&o)},r.F.U=(e=Uint16Array,n=Uint32Array,{next_code:new e(16),bl_count:new e(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new e(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new n(32),flmap:new e(512),fltree:[],fdmap:new e(32),fdtree:[],lmap:new e(32768),ltree:[],ttree:[],dmap:new e(32768),dtree:[],imap:new e(512),itree:[],rev15:new e(32768),lhst:new n(286),dhst:new n(30),ihst:new n(19),lits:new n(15e3),strt:new e(65536),prev:new e(32768)}),function(){for(var i=r.F.U,o=0;o<32768;o++){var s=o;s=(4278255360&(s=(4042322160&(s=(3435973836&(s=(2863311530&s)>>>1|(1431655765&s)<<1))>>>2|(858993459&s)<<2))>>>4|(252645135&s)<<4))>>>8|(16711935&s)<<8,i.rev15[o]=(s>>>16|s<<16)>>>17}function a(u,c,h){for(;c--!=0;)u.push(0,h)}for(o=0;o<32;o++)i.ldef[o]=i.of0[o]<<3|i.exb[o],i.ddef[o]=i.df0[o]<<4|i.dxb[o];a(i.fltree,144,8),a(i.fltree,112,9),a(i.fltree,24,7),a(i.fltree,8,8),r.F.makeCodes(i.fltree,9),r.F.codes2map(i.fltree,9,i.flmap),r.F.revCodes(i.fltree,9),a(i.fdtree,32,5),r.F.makeCodes(i.fdtree,5),r.F.codes2map(i.fdtree,5,i.fdmap),r.F.revCodes(i.fdtree,5),a(i.itree,19,0),a(i.ltree,286,0),a(i.dtree,30,0),a(i.ttree,320,0)}()})();var TP=_P({__proto__:null,default:uu},[uu]);const Dn=function(){var t={nextZero(h,f){for(;h[f]!=0;)f++;return f},readUshort:(h,f)=>h[f]<<8|h[f+1],writeUshort(h,f,d){h[f]=d>>8&255,h[f+1]=255&d},readUint:(h,f)=>16777216*h[f]+(h[f+1]<<16|h[f+2]<<8|h[f+3]),writeUint(h,f,d){h[f]=d>>24&255,h[f+1]=d>>16&255,h[f+2]=d>>8&255,h[f+3]=255&d},readASCII(h,f,d){let g="";for(let _=0;_<d;_++)g+=String.fromCharCode(h[f+_]);return g},writeASCII(h,f,d){for(let g=0;g<d.length;g++)h[f+g]=d.charCodeAt(g)},readBytes(h,f,d){const g=[];for(let _=0;_<d;_++)g.push(h[f+_]);return g},pad:h=>h.length<2?`0${h}`:h,readUTF8(h,f,d){let g,_="";for(let S=0;S<d;S++)_+=`%${t.pad(h[f+S].toString(16))}`;try{g=decodeURIComponent(_)}catch{return t.readASCII(h,f,d)}return g}};function e(h,f,d,g){const _=f*d,S=o(g),P=Math.ceil(f*S/8),w=new Uint8Array(4*_),I=new Uint32Array(w.buffer),{ctype:L}=g,{depth:b}=g,O=t.readUshort;if(L==6){const F=_<<2;if(b==8)for(var x=0;x<F;x+=4)w[x]=h[x],w[x+1]=h[x+1],w[x+2]=h[x+2],w[x+3]=h[x+3];if(b==16)for(x=0;x<F;x++)w[x]=h[x<<1]}else if(L==2){const F=g.tabs.tRNS;if(F==null){if(b==8)for(x=0;x<_;x++){var T=3*x;I[x]=255<<24|h[T+2]<<16|h[T+1]<<8|h[T]}if(b==16)for(x=0;x<_;x++)T=6*x,I[x]=255<<24|h[T+4]<<16|h[T+2]<<8|h[T]}else{var p=F[0];const B=F[1],Q=F[2];if(b==8)for(x=0;x<_;x++){var v=x<<2;T=3*x,I[x]=255<<24|h[T+2]<<16|h[T+1]<<8|h[T],h[T]==p&&h[T+1]==B&&h[T+2]==Q&&(w[v+3]=0)}if(b==16)for(x=0;x<_;x++)v=x<<2,T=6*x,I[x]=255<<24|h[T+4]<<16|h[T+2]<<8|h[T],O(h,T)==p&&O(h,T+2)==B&&O(h,T+4)==Q&&(w[v+3]=0)}}else if(L==3){const F=g.tabs.PLTE,B=g.tabs.tRNS,Q=B?B.length:0;if(b==1)for(var E=0;E<d;E++){var A=E*P,R=E*f;for(x=0;x<f;x++){v=R+x<<2;var k=3*(V=h[A+(x>>3)]>>7-((7&x)<<0)&1);w[v]=F[k],w[v+1]=F[k+1],w[v+2]=F[k+2],w[v+3]=V<Q?B[V]:255}}if(b==2)for(E=0;E<d;E++)for(A=E*P,R=E*f,x=0;x<f;x++)v=R+x<<2,k=3*(V=h[A+(x>>2)]>>6-((3&x)<<1)&3),w[v]=F[k],w[v+1]=F[k+1],w[v+2]=F[k+2],w[v+3]=V<Q?B[V]:255;if(b==4)for(E=0;E<d;E++)for(A=E*P,R=E*f,x=0;x<f;x++)v=R+x<<2,k=3*(V=h[A+(x>>1)]>>4-((1&x)<<2)&15),w[v]=F[k],w[v+1]=F[k+1],w[v+2]=F[k+2],w[v+3]=V<Q?B[V]:255;if(b==8)for(x=0;x<_;x++){var V;v=x<<2,k=3*(V=h[x]),w[v]=F[k],w[v+1]=F[k+1],w[v+2]=F[k+2],w[v+3]=V<Q?B[V]:255}}else if(L==4){if(b==8)for(x=0;x<_;x++){v=x<<2;var z=h[N=x<<1];w[v]=z,w[v+1]=z,w[v+2]=z,w[v+3]=h[N+1]}if(b==16)for(x=0;x<_;x++){var N;v=x<<2,z=h[N=x<<2],w[v]=z,w[v+1]=z,w[v+2]=z,w[v+3]=h[N+2]}}else if(L==0)for(p=g.tabs.tRNS?g.tabs.tRNS:-1,E=0;E<d;E++){const F=E*P,B=E*f;if(b==1)for(var M=0;M<f;M++){var U=(z=255*(h[F+(M>>>3)]>>>7-(7&M)&1))==255*p?0:255;I[B+M]=U<<24|z<<16|z<<8|z}else if(b==2)for(M=0;M<f;M++)U=(z=85*(h[F+(M>>>2)]>>>6-((3&M)<<1)&3))==85*p?0:255,I[B+M]=U<<24|z<<16|z<<8|z;else if(b==4)for(M=0;M<f;M++)U=(z=17*(h[F+(M>>>1)]>>>4-((1&M)<<2)&15))==17*p?0:255,I[B+M]=U<<24|z<<16|z<<8|z;else if(b==8)for(M=0;M<f;M++)U=(z=h[F+M])==p?0:255,I[B+M]=U<<24|z<<16|z<<8|z;else if(b==16)for(M=0;M<f;M++)z=h[F+(M<<1)],U=O(h,F+(M<<1))==p?0:255,I[B+M]=U<<24|z<<16|z<<8|z}return w}function n(h,f,d,g){const _=o(h),S=Math.ceil(d*_/8),P=new Uint8Array((S+1+h.interlace)*g);return f=h.tabs.CgBI?i(f,P):r(f,P),h.interlace==0?f=s(f,h,0,d,g):h.interlace==1&&(f=function(I,L){const b=L.width,O=L.height,x=o(L),T=x>>3,p=Math.ceil(b*x/8),v=new Uint8Array(O*p);let E=0;const A=[0,0,4,0,2,0,1],R=[0,4,0,2,0,1,0],k=[8,8,8,4,4,2,2],V=[8,8,4,4,2,2,1];let z=0;for(;z<7;){const M=k[z],U=V[z];let F=0,B=0,Q=A[z];for(;Q<O;)Q+=M,B++;let q=R[z];for(;q<b;)q+=U,F++;const Z=Math.ceil(F*x/8);s(I,L,E,F,B);let K=0,H=A[z];for(;H<O;){let j=R[z],oe=E+K*Z<<3;for(;j<b;){var N;if(x==1&&(N=(N=I[oe>>3])>>7-(7&oe)&1,v[H*p+(j>>3)]|=N<<7-((7&j)<<0)),x==2&&(N=(N=I[oe>>3])>>6-(7&oe)&3,v[H*p+(j>>2)]|=N<<6-((3&j)<<1)),x==4&&(N=(N=I[oe>>3])>>4-(7&oe)&15,v[H*p+(j>>1)]|=N<<4-((1&j)<<2)),x>=8){const he=H*p+j*T;for(let ee=0;ee<T;ee++)v[he+ee]=I[(oe>>3)+ee]}oe+=x,j+=U}K++,H+=M}F*B!=0&&(E+=B*(1+Z)),z+=1}return v}(f,h)),f}function r(h,f){return i(new Uint8Array(h.buffer,2,h.length-6),f)}var i=function(){const h={H:{}};return h.H.N=function(f,d){const g=Uint8Array;let _,S,P=0,w=0,I=0,L=0,b=0,O=0,x=0,T=0,p=0;if(f[0]==3&&f[1]==0)return d||new g(0);const v=h.H,E=v.b,A=v.e,R=v.R,k=v.n,V=v.A,z=v.Z,N=v.m,M=d==null;for(M&&(d=new g(f.length>>>2<<5));P==0;)if(P=E(f,p,1),w=E(f,p+1,2),p+=3,w!=0){if(M&&(d=h.H.W(d,T+(1<<17))),w==1&&(_=N.J,S=N.h,O=511,x=31),w==2){I=A(f,p,5)+257,L=A(f,p+5,5)+1,b=A(f,p+10,4)+4,p+=14;let F=1;for(var U=0;U<38;U+=2)N.Q[U]=0,N.Q[U+1]=0;for(U=0;U<b;U++){const q=A(f,p+3*U,3);N.Q[1+(N.X[U]<<1)]=q,q>F&&(F=q)}p+=3*b,k(N.Q,F),V(N.Q,F,N.u),_=N.w,S=N.d,p=R(N.u,(1<<F)-1,I+L,f,p,N.v);const B=v.V(N.v,0,I,N.C);O=(1<<B)-1;const Q=v.V(N.v,I,L,N.D);x=(1<<Q)-1,k(N.C,B),V(N.C,B,_),k(N.D,Q),V(N.D,Q,S)}for(;;){const F=_[z(f,p)&O];p+=15&F;const B=F>>>4;if(!(B>>>8))d[T++]=B;else{if(B==256)break;{let Q=T+B-254;if(B>264){const j=N.q[B-257];Q=T+(j>>>3)+A(f,p,7&j),p+=7&j}const q=S[z(f,p)&x];p+=15&q;const Z=q>>>4,K=N.c[Z],H=(K>>>4)+E(f,p,15&K);for(p+=15&K;T<Q;)d[T]=d[T++-H],d[T]=d[T++-H],d[T]=d[T++-H],d[T]=d[T++-H];T=Q}}}}else{7&p&&(p+=8-(7&p));const F=4+(p>>>3),B=f[F-4]|f[F-3]<<8;M&&(d=h.H.W(d,T+B)),d.set(new g(f.buffer,f.byteOffset+F,B),T),p=F+B<<3,T+=B}return d.length==T?d:d.slice(0,T)},h.H.W=function(f,d){const g=f.length;if(d<=g)return f;const _=new Uint8Array(g<<1);return _.set(f,0),_},h.H.R=function(f,d,g,_,S,P){const w=h.H.e,I=h.H.Z;let L=0;for(;L<g;){const b=f[I(_,S)&d];S+=15&b;const O=b>>>4;if(O<=15)P[L]=O,L++;else{let x=0,T=0;O==16?(T=3+w(_,S,2),S+=2,x=P[L-1]):O==17?(T=3+w(_,S,3),S+=3):O==18&&(T=11+w(_,S,7),S+=7);const p=L+T;for(;L<p;)P[L]=x,L++}}return S},h.H.V=function(f,d,g,_){let S=0,P=0;const w=_.length>>>1;for(;P<g;){const I=f[P+d];_[P<<1]=0,_[1+(P<<1)]=I,I>S&&(S=I),P++}for(;P<w;)_[P<<1]=0,_[1+(P<<1)]=0,P++;return S},h.H.n=function(f,d){const g=h.H.m,_=f.length;let S,P,w,I;const L=g.j;for(var b=0;b<=d;b++)L[b]=0;for(b=1;b<_;b+=2)L[f[b]]++;const O=g.K;for(S=0,L[0]=0,P=1;P<=d;P++)S=S+L[P-1]<<1,O[P]=S;for(w=0;w<_;w+=2)I=f[w+1],I!=0&&(f[w]=O[I],O[I]++)},h.H.A=function(f,d,g){const _=f.length,S=h.H.m.r;for(let P=0;P<_;P+=2)if(f[P+1]!=0){const w=P>>1,I=f[P+1],L=w<<4|I,b=d-I;let O=f[P]<<b;const x=O+(1<<b);for(;O!=x;)g[S[O]>>>15-d]=L,O++}},h.H.l=function(f,d){const g=h.H.m.r,_=15-d;for(let S=0;S<f.length;S+=2){const P=f[S]<<d-f[S+1];f[S]=g[P]>>>_}},h.H.M=function(f,d,g){g<<=7&d;const _=d>>>3;f[_]|=g,f[_+1]|=g>>>8},h.H.I=function(f,d,g){g<<=7&d;const _=d>>>3;f[_]|=g,f[_+1]|=g>>>8,f[_+2]|=g>>>16},h.H.e=function(f,d,g){return(f[d>>>3]|f[1+(d>>>3)]<<8)>>>(7&d)&(1<<g)-1},h.H.b=function(f,d,g){return(f[d>>>3]|f[1+(d>>>3)]<<8|f[2+(d>>>3)]<<16)>>>(7&d)&(1<<g)-1},h.H.Z=function(f,d){return(f[d>>>3]|f[1+(d>>>3)]<<8|f[2+(d>>>3)]<<16)>>>(7&d)},h.H.i=function(f,d){return(f[d>>>3]|f[1+(d>>>3)]<<8|f[2+(d>>>3)]<<16|f[3+(d>>>3)]<<24)>>>(7&d)},h.H.m=function(){const f=Uint16Array,d=Uint32Array;return{K:new f(16),j:new f(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new f(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new d(32),J:new f(512),_:[],h:new f(32),$:[],w:new f(32768),C:[],v:[],d:new f(32768),D:[],u:new f(512),Q:[],r:new f(32768),s:new d(286),Y:new d(30),a:new d(19),t:new d(15e3),k:new f(65536),g:new f(32768)}}(),function(){const f=h.H.m;for(var d=0;d<32768;d++){let _=d;_=(2863311530&_)>>>1|(1431655765&_)<<1,_=(3435973836&_)>>>2|(858993459&_)<<2,_=(4042322160&_)>>>4|(252645135&_)<<4,_=(4278255360&_)>>>8|(16711935&_)<<8,f.r[d]=(_>>>16|_<<16)>>>17}function g(_,S,P){for(;S--!=0;)_.push(0,P)}for(d=0;d<32;d++)f.q[d]=f.S[d]<<3|f.T[d],f.c[d]=f.p[d]<<4|f.z[d];g(f._,144,8),g(f._,112,9),g(f._,24,7),g(f._,8,8),h.H.n(f._,9),h.H.A(f._,9,f.J),h.H.l(f._,9),g(f.$,32,5),h.H.n(f.$,5),h.H.A(f.$,5,f.h),h.H.l(f.$,5),g(f.Q,19,0),g(f.C,286,0),g(f.D,30,0),g(f.v,320,0)}(),h.H.N}();function o(h){return[1,null,3,1,2,null,4][h.ctype]*h.depth}function s(h,f,d,g,_){let S=o(f);const P=Math.ceil(g*S/8);let w,I;S=Math.ceil(S/8);let L=h[d],b=0;if(L>1&&(h[d]=[0,0,1][L-2]),L==3)for(b=S;b<P;b++)h[b+1]=h[b+1]+(h[b+1-S]>>>1)&255;for(let O=0;O<_;O++)if(w=d+O*P,I=w+O+1,L=h[I-1],b=0,L==0)for(;b<P;b++)h[w+b]=h[I+b];else if(L==1){for(;b<S;b++)h[w+b]=h[I+b];for(;b<P;b++)h[w+b]=h[I+b]+h[w+b-S]}else if(L==2)for(;b<P;b++)h[w+b]=h[I+b]+h[w+b-P];else if(L==3){for(;b<S;b++)h[w+b]=h[I+b]+(h[w+b-P]>>>1);for(;b<P;b++)h[w+b]=h[I+b]+(h[w+b-P]+h[w+b-S]>>>1)}else{for(;b<S;b++)h[w+b]=h[I+b]+a(0,h[w+b-P],0);for(;b<P;b++)h[w+b]=h[I+b]+a(h[w+b-S],h[w+b-P],h[w+b-S-P])}return h}function a(h,f,d){const g=h+f-d,_=g-h,S=g-f,P=g-d;return _*_<=S*S&&_*_<=P*P?h:S*S<=P*P?f:d}function u(h,f,d){d.width=t.readUint(h,f),f+=4,d.height=t.readUint(h,f),f+=4,d.depth=h[f],f++,d.ctype=h[f],f++,d.compress=h[f],f++,d.filter=h[f],f++,d.interlace=h[f],f++}function c(h,f,d,g,_,S,P,w,I){const L=Math.min(f,_),b=Math.min(d,S);let O=0,x=0;for(let z=0;z<b;z++)for(let N=0;N<L;N++)if(P>=0&&w>=0?(O=z*f+N<<2,x=(w+z)*_+P+N<<2):(O=(-w+z)*f-P+N<<2,x=z*_+N<<2),I==0)g[x]=h[O],g[x+1]=h[O+1],g[x+2]=h[O+2],g[x+3]=h[O+3];else if(I==1){var T=h[O+3]*.00392156862745098,p=h[O]*T,v=h[O+1]*T,E=h[O+2]*T,A=g[x+3]*(1/255),R=g[x]*A,k=g[x+1]*A,V=g[x+2]*A;const M=1-T,U=T+A*M,F=U==0?0:1/U;g[x+3]=255*U,g[x+0]=(p+R*M)*F,g[x+1]=(v+k*M)*F,g[x+2]=(E+V*M)*F}else if(I==2)T=h[O+3],p=h[O],v=h[O+1],E=h[O+2],A=g[x+3],R=g[x],k=g[x+1],V=g[x+2],T==A&&p==R&&v==k&&E==V?(g[x]=0,g[x+1]=0,g[x+2]=0,g[x+3]=0):(g[x]=p,g[x+1]=v,g[x+2]=E,g[x+3]=T);else if(I==3){if(T=h[O+3],p=h[O],v=h[O+1],E=h[O+2],A=g[x+3],R=g[x],k=g[x+1],V=g[x+2],T==A&&p==R&&v==k&&E==V)continue;if(T<220&&A>20)return!1}return!0}return{decode:function(f){const d=new Uint8Array(f);let g=8;const _=t,S=_.readUshort,P=_.readUint,w={tabs:{},frames:[]},I=new Uint8Array(d.length);let L,b=0,O=0;const x=[137,80,78,71,13,10,26,10];for(var T=0;T<8;T++)if(d[T]!=x[T])throw"The input is not a PNG file!";for(;g<d.length;){const z=_.readUint(d,g);g+=4;const N=_.readASCII(d,g,4);if(g+=4,N=="IHDR")u(d,g,w);else if(N=="iCCP"){for(var p=g;d[p]!=0;)p++;_.readASCII(d,g,p-g),d[p+1];const M=d.slice(p+2,g+z);let U=null;try{U=r(M)}catch{U=i(M)}w.tabs[N]=U}else if(N=="CgBI")w.tabs[N]=d.slice(g,g+4);else if(N=="IDAT"){for(T=0;T<z;T++)I[b+T]=d[g+T];b+=z}else if(N=="acTL")w.tabs[N]={num_frames:P(d,g),num_plays:P(d,g+4)},L=new Uint8Array(d.length);else if(N=="fcTL"){O!=0&&((V=w.frames[w.frames.length-1]).data=n(w,L.slice(0,O),V.rect.width,V.rect.height),O=0);const M={x:P(d,g+12),y:P(d,g+16),width:P(d,g+4),height:P(d,g+8)};let U=S(d,g+22);U=S(d,g+20)/(U==0?100:U);const F={rect:M,delay:Math.round(1e3*U),dispose:d[g+24],blend:d[g+25]};w.frames.push(F)}else if(N=="fdAT"){for(T=0;T<z-4;T++)L[O+T]=d[g+T+4];O+=z-4}else if(N=="pHYs")w.tabs[N]=[_.readUint(d,g),_.readUint(d,g+4),d[g+8]];else if(N=="cHRM")for(w.tabs[N]=[],T=0;T<8;T++)w.tabs[N].push(_.readUint(d,g+4*T));else if(N=="tEXt"||N=="zTXt"){w.tabs[N]==null&&(w.tabs[N]={});var v=_.nextZero(d,g),E=_.readASCII(d,g,v-g),A=g+z-v-1;if(N=="tEXt")k=_.readASCII(d,v+1,A);else{var R=r(d.slice(v+2,v+2+A));k=_.readUTF8(R,0,R.length)}w.tabs[N][E]=k}else if(N=="iTXt"){w.tabs[N]==null&&(w.tabs[N]={}),v=0,p=g,v=_.nextZero(d,p),E=_.readASCII(d,p,v-p);const M=d[p=v+1];var k;d[p+1],p+=2,v=_.nextZero(d,p),_.readASCII(d,p,v-p),p=v+1,v=_.nextZero(d,p),_.readUTF8(d,p,v-p),A=z-((p=v+1)-g),M==0?k=_.readUTF8(d,p,A):(R=r(d.slice(p,p+A)),k=_.readUTF8(R,0,R.length)),w.tabs[N][E]=k}else if(N=="PLTE")w.tabs[N]=_.readBytes(d,g,z);else if(N=="hIST"){const M=w.tabs.PLTE.length/3;for(w.tabs[N]=[],T=0;T<M;T++)w.tabs[N].push(S(d,g+2*T))}else if(N=="tRNS")w.ctype==3?w.tabs[N]=_.readBytes(d,g,z):w.ctype==0?w.tabs[N]=S(d,g):w.ctype==2&&(w.tabs[N]=[S(d,g),S(d,g+2),S(d,g+4)]);else if(N=="gAMA")w.tabs[N]=_.readUint(d,g)/1e5;else if(N=="sRGB")w.tabs[N]=d[g];else if(N=="bKGD")w.ctype==0||w.ctype==4?w.tabs[N]=[S(d,g)]:w.ctype==2||w.ctype==6?w.tabs[N]=[S(d,g),S(d,g+2),S(d,g+4)]:w.ctype==3&&(w.tabs[N]=d[g]);else if(N=="IEND")break;g+=z,_.readUint(d,g),g+=4}var V;return O!=0&&((V=w.frames[w.frames.length-1]).data=n(w,L.slice(0,O),V.rect.width,V.rect.height)),w.data=n(w,I,w.width,w.height),delete w.compress,delete w.interlace,delete w.filter,w},toRGBA8:function(f){const d=f.width,g=f.height;if(f.tabs.acTL==null)return[e(f.data,d,g,f).buffer];const _=[];f.frames[0].data==null&&(f.frames[0].data=f.data);const S=d*g*4,P=new Uint8Array(S),w=new Uint8Array(S),I=new Uint8Array(S);for(let b=0;b<f.frames.length;b++){const O=f.frames[b],x=O.rect.x,T=O.rect.y,p=O.rect.width,v=O.rect.height,E=e(O.data,p,v,f);if(b!=0)for(var L=0;L<S;L++)I[L]=P[L];if(O.blend==0?c(E,p,v,P,d,g,x,T,0):O.blend==1&&c(E,p,v,P,d,g,x,T,1),_.push(P.buffer.slice(0)),O.dispose!=0){if(O.dispose==1)c(w,p,v,P,d,g,x,T,0);else if(O.dispose==2)for(L=0;L<S;L++)P[L]=I[L]}}return _},_paeth:a,_copyTile:c,_bin:t}}();(function(){const{_copyTile:t}=Dn,{_bin:e}=Dn,n=Dn._paeth;var r={table:function(){const p=new Uint32Array(256);for(let v=0;v<256;v++){let E=v;for(let A=0;A<8;A++)1&E?E=3988292384^E>>>1:E>>>=1;p[v]=E}return p}(),update(p,v,E,A){for(let R=0;R<A;R++)p=r.table[255&(p^v[E+R])]^p>>>8;return p},crc:(p,v,E)=>4294967295^r.update(4294967295,p,v,E)};function i(p,v,E,A){v[E]+=p[0]*A>>4,v[E+1]+=p[1]*A>>4,v[E+2]+=p[2]*A>>4,v[E+3]+=p[3]*A>>4}function o(p){return Math.max(0,Math.min(255,p))}function s(p,v){const E=p[0]-v[0],A=p[1]-v[1],R=p[2]-v[2],k=p[3]-v[3];return E*E+A*A+R*R+k*k}function a(p,v,E,A,R,k,V){V==null&&(V=1);const z=A.length,N=[];for(var M=0;M<z;M++){const H=A[M];N.push([H>>>0&255,H>>>8&255,H>>>16&255,H>>>24&255])}for(M=0;M<z;M++){let H=4294967295;for(var U=0,F=0;F<z;F++){var B=s(N[M],N[F]);F!=M&&B<H&&(H=B,U=F)}}const Q=new Uint32Array(R.buffer),q=new Int16Array(v*E*4),Z=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(M=0;M<Z.length;M++)Z[M]=255*((Z[M]+.5)/16-.5);for(let H=0;H<E;H++)for(let j=0;j<v;j++){var K;M=4*(H*v+j),V!=2?K=[o(p[M]+q[M]),o(p[M+1]+q[M+1]),o(p[M+2]+q[M+2]),o(p[M+3]+q[M+3])]:(B=Z[4*(3&H)+(3&j)],K=[o(p[M]+B),o(p[M+1]+B),o(p[M+2]+B),o(p[M+3]+B)]),U=0;let oe=16777215;for(F=0;F<z;F++){const le=s(K,N[F]);le<oe&&(oe=le,U=F)}const he=N[U],ee=[K[0]-he[0],K[1]-he[1],K[2]-he[2],K[3]-he[3]];V==1&&(j!=v-1&&i(ee,q,M+4,7),H!=E-1&&(j!=0&&i(ee,q,M+4*v-4,3),i(ee,q,M+4*v,5),j!=v-1&&i(ee,q,M+4*v+4,1))),k[M>>2]=U,Q[M>>2]=A[U]}}function u(p,v,E,A,R){R==null&&(R={});const{crc:k}=r,V=e.writeUint,z=e.writeUshort,N=e.writeASCII;let M=8;const U=p.frames.length>1;let F,B=!1,Q=33+(U?20:0);if(R.sRGB!=null&&(Q+=13),R.pHYs!=null&&(Q+=21),R.iCCP!=null&&(F=pako.deflate(R.iCCP),Q+=21+F.length+4),p.ctype==3){for(var q=p.plte.length,Z=0;Z<q;Z++)p.plte[Z]>>>24!=255&&(B=!0);Q+=8+3*q+4+(B?8+1*q+4:0)}for(var K=0;K<p.frames.length;K++)U&&(Q+=38),Q+=(he=p.frames[K]).cimg.length+12,K!=0&&(Q+=4);Q+=12;const H=new Uint8Array(Q),j=[137,80,78,71,13,10,26,10];for(Z=0;Z<8;Z++)H[Z]=j[Z];if(V(H,M,13),M+=4,N(H,M,"IHDR"),M+=4,V(H,M,v),M+=4,V(H,M,E),M+=4,H[M]=p.depth,M++,H[M]=p.ctype,M++,H[M]=0,M++,H[M]=0,M++,H[M]=0,M++,V(H,M,k(H,M-17,17)),M+=4,R.sRGB!=null&&(V(H,M,1),M+=4,N(H,M,"sRGB"),M+=4,H[M]=R.sRGB,M++,V(H,M,k(H,M-5,5)),M+=4),R.iCCP!=null){const ee=13+F.length;V(H,M,ee),M+=4,N(H,M,"iCCP"),M+=4,N(H,M,"ICC profile"),M+=11,M+=2,H.set(F,M),M+=F.length,V(H,M,k(H,M-(ee+4),ee+4)),M+=4}if(R.pHYs!=null&&(V(H,M,9),M+=4,N(H,M,"pHYs"),M+=4,V(H,M,R.pHYs[0]),M+=4,V(H,M,R.pHYs[1]),M+=4,H[M]=R.pHYs[2],M++,V(H,M,k(H,M-13,13)),M+=4),U&&(V(H,M,8),M+=4,N(H,M,"acTL"),M+=4,V(H,M,p.frames.length),M+=4,V(H,M,R.loop!=null?R.loop:0),M+=4,V(H,M,k(H,M-12,12)),M+=4),p.ctype==3){for(V(H,M,3*(q=p.plte.length)),M+=4,N(H,M,"PLTE"),M+=4,Z=0;Z<q;Z++){const ee=3*Z,le=p.plte[Z],ge=255&le,me=le>>>8&255,Me=le>>>16&255;H[M+ee+0]=ge,H[M+ee+1]=me,H[M+ee+2]=Me}if(M+=3*q,V(H,M,k(H,M-3*q-4,3*q+4)),M+=4,B){for(V(H,M,q),M+=4,N(H,M,"tRNS"),M+=4,Z=0;Z<q;Z++)H[M+Z]=p.plte[Z]>>>24&255;M+=q,V(H,M,k(H,M-q-4,q+4)),M+=4}}let oe=0;for(K=0;K<p.frames.length;K++){var he=p.frames[K];U&&(V(H,M,26),M+=4,N(H,M,"fcTL"),M+=4,V(H,M,oe++),M+=4,V(H,M,he.rect.width),M+=4,V(H,M,he.rect.height),M+=4,V(H,M,he.rect.x),M+=4,V(H,M,he.rect.y),M+=4,z(H,M,A[K]),M+=2,z(H,M,1e3),M+=2,H[M]=he.dispose,M++,H[M]=he.blend,M++,V(H,M,k(H,M-30,30)),M+=4);const ee=he.cimg;V(H,M,(q=ee.length)+(K==0?0:4)),M+=4;const le=M;N(H,M,K==0?"IDAT":"fdAT"),M+=4,K!=0&&(V(H,M,oe++),M+=4),H.set(ee,M),M+=q,V(H,M,k(H,le,M-le)),M+=4}return V(H,M,0),M+=4,N(H,M,"IEND"),M+=4,V(H,M,k(H,M-4,4)),M+=4,H.buffer}function c(p,v,E){for(let A=0;A<p.frames.length;A++){const R=p.frames[A];R.rect.width;const k=R.rect.height,V=new Uint8Array(k*R.bpl+k);R.cimg=g(R.img,k,R.bpp,R.bpl,V,v,E)}}function h(p,v,E,A,R){const k=R[0],V=R[1],z=R[2],N=R[3],M=R[4],U=R[5];let F=6,B=8,Q=255;for(var q=0;q<p.length;q++){const we=new Uint8Array(p[q]);for(var Z=we.length,K=0;K<Z;K+=4)Q&=we[K+3]}const H=Q!=255,j=function(ve,pe,Ee,se,Se,ue){const Le=[];for(var ne=0;ne<ve.length;ne++){const et=new Uint8Array(ve[ne]),Nt=new Uint32Array(et.buffer);var $e;let ut=0,St=0,Ot=pe,Jt=Ee,Er=se?1:0;if(ne!=0){const $i=ue||se||ne==1||Le[ne-2].dispose!=0?1:2;let zn=0,jn=1e9;for(let Rn=0;Rn<$i;Rn++){var Be=new Uint8Array(ve[ne-1-Rn]);const $n=new Uint32Array(ve[ne-1-Rn]);let It=pe,qt=Ee,Lt=-1,un=-1;for(let cn=0;cn<Ee;cn++)for(let _t=0;_t<pe;_t++)Nt[He=cn*pe+_t]!=$n[He]&&(_t<It&&(It=_t),_t>Lt&&(Lt=_t),cn<qt&&(qt=cn),cn>un&&(un=cn));Lt==-1&&(It=qt=Lt=un=0),Se&&((1&It)==1&&It--,(1&qt)==1&&qt--);const Hn=(Lt-It+1)*(un-qt+1);Hn<jn&&(jn=Hn,zn=Rn,ut=It,St=qt,Ot=Lt-It+1,Jt=un-qt+1)}Be=new Uint8Array(ve[ne-1-zn]),zn==1&&(Le[ne-1].dispose=2),$e=new Uint8Array(Ot*Jt*4),t(Be,pe,Ee,$e,Ot,Jt,-ut,-St,0),Er=t(et,pe,Ee,$e,Ot,Jt,-ut,-St,3)?1:0,Er==1?d(et,pe,Ee,$e,{x:ut,y:St,width:Ot,height:Jt}):t(et,pe,Ee,$e,Ot,Jt,-ut,-St,0)}else $e=et.slice(0);Le.push({rect:{x:ut,y:St,width:Ot,height:Jt},img:$e,blend:Er,dispose:0})}if(se)for(ne=0;ne<Le.length;ne++){if((xe=Le[ne]).blend==1)continue;const et=xe.rect,Nt=Le[ne-1].rect,ut=Math.min(et.x,Nt.x),St=Math.min(et.y,Nt.y),Ot={x:ut,y:St,width:Math.max(et.x+et.width,Nt.x+Nt.width)-ut,height:Math.max(et.y+et.height,Nt.y+Nt.height)-St};Le[ne-1].dispose=1,ne-1!=0&&f(ve,pe,Ee,Le,ne-1,Ot,Se),f(ve,pe,Ee,Le,ne,Ot,Se)}let ze=0;if(ve.length!=1)for(var He=0;He<Le.length;He++){var xe;ze+=(xe=Le[He]).rect.width*xe.rect.height}return Le}(p,v,E,k,V,z),oe={},he=[],ee=[];if(A!=0){const we=[];for(K=0;K<j.length;K++)we.push(j[K].img.buffer);const ve=function(Se){let ue=0;for(var Le=0;Le<Se.length;Le++)ue+=Se[Le].byteLength;const ne=new Uint8Array(ue);let $e=0;for(Le=0;Le<Se.length;Le++){const Be=new Uint8Array(Se[Le]),ze=Be.length;for(let He=0;He<ze;He+=4){let xe=Be[He],et=Be[He+1],Nt=Be[He+2];const ut=Be[He+3];ut==0&&(xe=et=Nt=0),ne[$e+He]=xe,ne[$e+He+1]=et,ne[$e+He+2]=Nt,ne[$e+He+3]=ut}$e+=ze}return ne.buffer}(we),pe=S(ve,A);for(K=0;K<pe.plte.length;K++)he.push(pe.plte[K].est.rgba);let Ee=0;for(K=0;K<j.length;K++){const se=(ge=j[K]).img.length;var le=new Uint8Array(pe.inds.buffer,Ee>>2,se>>2);ee.push(le);const Se=new Uint8Array(pe.abuf,Ee,se);U&&a(ge.img,ge.rect.width,ge.rect.height,he,Se,le),ge.img.set(Se),Ee+=se}}else for(q=0;q<j.length;q++){var ge=j[q];const we=new Uint32Array(ge.img.buffer);var me=ge.rect.width;for(Z=we.length,le=new Uint8Array(Z),ee.push(le),K=0;K<Z;K++){const ve=we[K];if(K!=0&&ve==we[K-1])le[K]=le[K-1];else if(K>me&&ve==we[K-me])le[K]=le[K-me];else{let pe=oe[ve];if(pe==null&&(oe[ve]=pe=he.length,he.push(ve),he.length>=300))break;le[K]=pe}}}const Me=he.length;for(Me<=256&&M==0&&(B=Me<=2?1:Me<=4?2:Me<=16?4:8,B=Math.max(B,N)),q=0;q<j.length;q++){(ge=j[q]).rect.x,ge.rect.y,me=ge.rect.width;const we=ge.rect.height;let ve=ge.img;new Uint32Array(ve.buffer);let pe=4*me,Ee=4;if(Me<=256&&M==0){pe=Math.ceil(B*me/8);var Ae=new Uint8Array(pe*we);const se=ee[q];for(let Se=0;Se<we;Se++){K=Se*pe;const ue=Se*me;if(B==8)for(var fe=0;fe<me;fe++)Ae[K+fe]=se[ue+fe];else if(B==4)for(fe=0;fe<me;fe++)Ae[K+(fe>>1)]|=se[ue+fe]<<4-4*(1&fe);else if(B==2)for(fe=0;fe<me;fe++)Ae[K+(fe>>2)]|=se[ue+fe]<<6-2*(3&fe);else if(B==1)for(fe=0;fe<me;fe++)Ae[K+(fe>>3)]|=se[ue+fe]<<7-1*(7&fe)}ve=Ae,F=3,Ee=1}else if(H==0&&j.length==1){Ae=new Uint8Array(me*we*3);const se=me*we;for(K=0;K<se;K++){const Se=3*K,ue=4*K;Ae[Se]=ve[ue],Ae[Se+1]=ve[ue+1],Ae[Se+2]=ve[ue+2]}ve=Ae,F=2,Ee=3,pe=3*me}ge.img=ve,ge.bpl=pe,ge.bpp=Ee}return{ctype:F,depth:B,plte:he,frames:j}}function f(p,v,E,A,R,k,V){const z=Uint8Array,N=Uint32Array,M=new z(p[R-1]),U=new N(p[R-1]),F=R+1<p.length?new z(p[R+1]):null,B=new z(p[R]),Q=new N(B.buffer);let q=v,Z=E,K=-1,H=-1;for(let oe=0;oe<k.height;oe++)for(let he=0;he<k.width;he++){const ee=k.x+he,le=k.y+oe,ge=le*v+ee,me=Q[ge];me==0||A[R-1].dispose==0&&U[ge]==me&&(F==null||F[4*ge+3]!=0)||(ee<q&&(q=ee),ee>K&&(K=ee),le<Z&&(Z=le),le>H&&(H=le))}K==-1&&(q=Z=K=H=0),V&&((1&q)==1&&q--,(1&Z)==1&&Z--),k={x:q,y:Z,width:K-q+1,height:H-Z+1};const j=A[R];j.rect=k,j.blend=1,j.img=new Uint8Array(k.width*k.height*4),A[R-1].dispose==0?(t(M,v,E,j.img,k.width,k.height,-k.x,-k.y,0),d(B,v,E,j.img,k)):t(B,v,E,j.img,k.width,k.height,-k.x,-k.y,0)}function d(p,v,E,A,R){t(p,v,E,A,R.width,R.height,-R.x,-R.y,2)}function g(p,v,E,A,R,k,V){const z=[];let N,M=[0,1,2,3,4];k!=-1?M=[k]:(v*A>5e5||E==1)&&(M=[0]),V&&(N={level:0});const U=TP;for(var F=0;F<M.length;F++){for(let q=0;q<v;q++)_(R,p,q,A,E,M[F]);z.push(U.deflate(R,N))}let B,Q=1e9;for(F=0;F<z.length;F++)z[F].length<Q&&(B=F,Q=z[F].length);return z[B]}function _(p,v,E,A,R,k){const V=E*A;let z=V+E;if(p[z]=k,z++,k==0)if(A<500)for(var N=0;N<A;N++)p[z+N]=v[V+N];else p.set(new Uint8Array(v.buffer,V,A),z);else if(k==1){for(N=0;N<R;N++)p[z+N]=v[V+N];for(N=R;N<A;N++)p[z+N]=v[V+N]-v[V+N-R]+256&255}else if(E==0){for(N=0;N<R;N++)p[z+N]=v[V+N];if(k==2)for(N=R;N<A;N++)p[z+N]=v[V+N];if(k==3)for(N=R;N<A;N++)p[z+N]=v[V+N]-(v[V+N-R]>>1)+256&255;if(k==4)for(N=R;N<A;N++)p[z+N]=v[V+N]-n(v[V+N-R],0,0)+256&255}else{if(k==2)for(N=0;N<A;N++)p[z+N]=v[V+N]+256-v[V+N-A]&255;if(k==3){for(N=0;N<R;N++)p[z+N]=v[V+N]+256-(v[V+N-A]>>1)&255;for(N=R;N<A;N++)p[z+N]=v[V+N]+256-(v[V+N-A]+v[V+N-R]>>1)&255}if(k==4){for(N=0;N<R;N++)p[z+N]=v[V+N]+256-n(0,v[V+N-A],0)&255;for(N=R;N<A;N++)p[z+N]=v[V+N]+256-n(v[V+N-R],v[V+N-A],v[V+N-R-A])&255}}}function S(p,v){const E=new Uint8Array(p),A=E.slice(0),R=new Uint32Array(A.buffer),k=P(A,v),V=k[0],z=k[1],N=E.length,M=new Uint8Array(N>>2);let U;if(E.length<2e7)for(var F=0;F<N;F+=4)U=w(V,B=E[F]*(1/255),Q=E[F+1]*(1/255),q=E[F+2]*(1/255),Z=E[F+3]*(1/255)),M[F>>2]=U.ind,R[F>>2]=U.est.rgba;else for(F=0;F<N;F+=4){var B=E[F]*.00392156862745098,Q=E[F+1]*(1/255),q=E[F+2]*(1/255),Z=E[F+3]*(1/255);for(U=V;U.left;)U=I(U.est,B,Q,q,Z)<=0?U.left:U.right;M[F>>2]=U.ind,R[F>>2]=U.est.rgba}return{abuf:A.buffer,inds:M,plte:z}}function P(p,v,E){E==null&&(E=1e-4);const A=new Uint32Array(p.buffer),R={i0:0,i1:p.length,bst:null,est:null,tdst:0,left:null,right:null};R.bst=O(p,R.i0,R.i1),R.est=x(R.bst);const k=[R];for(;k.length<v;){let z=0,N=0;for(var V=0;V<k.length;V++)k[V].est.L>z&&(z=k[V].est.L,N=V);if(z<E)break;const M=k[N],U=L(p,A,M.i0,M.i1,M.est.e,M.est.eMq255);if(M.i0>=U||M.i1<=U){M.est.L=0;continue}const F={i0:M.i0,i1:U,bst:null,est:null,tdst:0,left:null,right:null};F.bst=O(p,F.i0,F.i1),F.est=x(F.bst);const B={i0:U,i1:M.i1,bst:null,est:null,tdst:0,left:null,right:null};for(B.bst={R:[],m:[],N:M.bst.N-F.bst.N},V=0;V<16;V++)B.bst.R[V]=M.bst.R[V]-F.bst.R[V];for(V=0;V<4;V++)B.bst.m[V]=M.bst.m[V]-F.bst.m[V];B.est=x(B.bst),M.left=F,M.right=B,k[N]=F,k.push(B)}for(k.sort((z,N)=>N.bst.N-z.bst.N),V=0;V<k.length;V++)k[V].ind=V;return[R,k]}function w(p,v,E,A,R){if(p.left==null)return p.tdst=function(F,B,Q,q,Z){const K=B-F[0],H=Q-F[1],j=q-F[2],oe=Z-F[3];return K*K+H*H+j*j+oe*oe}(p.est.q,v,E,A,R),p;const k=I(p.est,v,E,A,R);let V=p.left,z=p.right;k>0&&(V=p.right,z=p.left);const N=w(V,v,E,A,R);if(N.tdst<=k*k)return N;const M=w(z,v,E,A,R);return M.tdst<N.tdst?M:N}function I(p,v,E,A,R){const{e:k}=p;return k[0]*v+k[1]*E+k[2]*A+k[3]*R-p.eMq}function L(p,v,E,A,R,k){for(A-=4;E<A;){for(;b(p,E,R)<=k;)E+=4;for(;b(p,A,R)>k;)A-=4;if(E>=A)break;const V=v[E>>2];v[E>>2]=v[A>>2],v[A>>2]=V,E+=4,A-=4}for(;b(p,E,R)>k;)E-=4;return E+4}function b(p,v,E){return p[v]*E[0]+p[v+1]*E[1]+p[v+2]*E[2]+p[v+3]*E[3]}function O(p,v,E){const A=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],R=[0,0,0,0],k=E-v>>2;for(let V=v;V<E;V+=4){const z=p[V]*.00392156862745098,N=p[V+1]*(1/255),M=p[V+2]*(1/255),U=p[V+3]*(1/255);R[0]+=z,R[1]+=N,R[2]+=M,R[3]+=U,A[0]+=z*z,A[1]+=z*N,A[2]+=z*M,A[3]+=z*U,A[5]+=N*N,A[6]+=N*M,A[7]+=N*U,A[10]+=M*M,A[11]+=M*U,A[15]+=U*U}return A[4]=A[1],A[8]=A[2],A[9]=A[6],A[12]=A[3],A[13]=A[7],A[14]=A[11],{R:A,m:R,N:k}}function x(p){const{R:v}=p,{m:E}=p,{N:A}=p,R=E[0],k=E[1],V=E[2],z=E[3],N=A==0?0:1/A,M=[v[0]-R*R*N,v[1]-R*k*N,v[2]-R*V*N,v[3]-R*z*N,v[4]-k*R*N,v[5]-k*k*N,v[6]-k*V*N,v[7]-k*z*N,v[8]-V*R*N,v[9]-V*k*N,v[10]-V*V*N,v[11]-V*z*N,v[12]-z*R*N,v[13]-z*k*N,v[14]-z*V*N,v[15]-z*z*N],U=M,F=T;let B=[Math.random(),Math.random(),Math.random(),Math.random()],Q=0,q=0;if(A!=0)for(let K=0;K<16&&(B=F.multVec(U,B),q=Math.sqrt(F.dot(B,B)),B=F.sml(1/q,B),!(K!=0&&Math.abs(q-Q)<1e-9));K++)Q=q;const Z=[R*N,k*N,V*N,z*N];return{Cov:M,q:Z,e:B,L:Q,eMq255:F.dot(F.sml(255,Z),B),eMq:F.dot(B,Z),rgba:(Math.round(255*Z[3])<<24|Math.round(255*Z[2])<<16|Math.round(255*Z[1])<<8|Math.round(255*Z[0])<<0)>>>0}}var T={multVec:(p,v)=>[p[0]*v[0]+p[1]*v[1]+p[2]*v[2]+p[3]*v[3],p[4]*v[0]+p[5]*v[1]+p[6]*v[2]+p[7]*v[3],p[8]*v[0]+p[9]*v[1]+p[10]*v[2]+p[11]*v[3],p[12]*v[0]+p[13]*v[1]+p[14]*v[2]+p[15]*v[3]],dot:(p,v)=>p[0]*v[0]+p[1]*v[1]+p[2]*v[2]+p[3]*v[3],sml:(p,v)=>[p*v[0],p*v[1],p*v[2],p*v[3]]};Dn.encode=function(v,E,A,R,k,V,z){R==null&&(R=0),z==null&&(z=!1);const N=h(v,E,A,R,[!1,!1,!1,0,z,!1]);return c(N,-1),u(N,E,A,k,V)},Dn.encodeLL=function(v,E,A,R,k,V,z,N){const M={ctype:0+(R==1?0:2)+(k==0?0:4),depth:V,frames:[]},U=(R+k)*V,F=U*E;for(let B=0;B<v.length;B++)M.frames.push({rect:{x:0,y:0,width:E,height:A},img:new Uint8Array(v[B]),blend:0,dispose:1,bpp:Math.ceil(U/8),bpl:Math.ceil(F/8)});return c(M,0,!0),u(M,E,A,z,N)},Dn.encode.compress=h,Dn.encode.dither=a,Dn.quantize=S,Dn.quantize.getKDtree=P,Dn.quantize.getNearest=w})();const wE={toArrayBuffer(t,e){const n=t.width,r=t.height,i=n<<2,o=t.getContext("2d").getImageData(0,0,n,r),s=new Uint32Array(o.data.buffer),a=(32*n+31)/32<<2,u=a*r,c=122+u,h=new ArrayBuffer(c),f=new DataView(h),d=1<<20;let g,_,S,P,w=d,I=0,L=0,b=0;function O(p){f.setUint16(L,p,!0),L+=2}function x(p){f.setUint32(L,p,!0),L+=4}function T(p){L+=p}O(19778),x(c),T(4),x(122),x(108),x(n),x(-r>>>0),O(1),O(32),x(3),x(u),x(2835),x(2835),T(8),x(16711680),x(65280),x(255),x(4278190080),x(1466527264),function p(){for(;I<r&&w>0;){for(P=122+I*a,g=0;g<i;)w--,_=s[b++],S=_>>>24,f.setUint32(P+g,_<<8|S),g+=4;I++}b<s.length?(w=d,setTimeout(p,wE._dly)):e(h)}()},toBlob(t,e){this.toArrayBuffer(t,n=>{e(new Blob([n],{type:"image/bmp"}))})},_dly:9};var tn={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},CP={[tn.CHROME]:16384,[tn.FIREFOX]:11180,[tn.DESKTOP_SAFARI]:16384,[tn.IE]:8192,[tn.IOS]:4096,[tn.ETC]:8192};const Jd=typeof window<"u",TE=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,cu=Jd&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),SP=(Jd||TE)&&(cu&&cu.getOriginalSymbol(window,"File")||typeof File<"u"&&File),CE=(Jd||TE)&&(cu&&cu.getOriginalSymbol(window,"FileReader")||typeof FileReader<"u"&&FileReader);function ep(t,e,n=Date.now()){return new Promise(r=>{const i=t.split(","),o=i[0].match(/:(.*?);/)[1],s=globalThis.atob(i[1]);let a=s.length;const u=new Uint8Array(a);for(;a--;)u[a]=s.charCodeAt(a);const c=new Blob([u],{type:o});c.name=e,c.lastModified=n,r(c)})}function SE(t){return new Promise((e,n)=>{const r=new CE;r.onload=()=>e(r.result),r.onerror=i=>n(i),r.readAsDataURL(t)})}function IE(t){return new Promise((e,n)=>{const r=new Image;r.onload=()=>e(r),r.onerror=i=>n(i),r.src=t})}function Ci(){if(Ci.cachedResult!==void 0)return Ci.cachedResult;let t=tn.ETC;const{userAgent:e}=navigator;return/Chrom(e|ium)/i.test(e)?t=tn.CHROME:/iP(ad|od|hone)/i.test(e)&&/WebKit/i.test(e)?t=tn.IOS:/Safari/i.test(e)?t=tn.DESKTOP_SAFARI:/Firefox/i.test(e)?t=tn.FIREFOX:(/MSIE/i.test(e)||document.documentMode)&&(t=tn.IE),Ci.cachedResult=t,Ci.cachedResult}function LE(t,e){const n=Ci(),r=CP[n];let i=t,o=e,s=i*o;const a=i>o?o/i:i/o;for(;s>r*r;){const u=(r+i)/2,c=(r+o)/2;u<c?(o=c,i=c*a):(o=u*a,i=u),s=i*o}return{width:i,height:o}}function Qu(t,e){let n,r;try{if(n=new OffscreenCanvas(t,e),r=n.getContext("2d"),r===null)throw new Error("getContext of OffscreenCanvas returns null")}catch{n=document.createElement("canvas"),r=n.getContext("2d")}return n.width=t,n.height=e,[n,r]}function kE(t,e){const{width:n,height:r}=LE(t.width,t.height),[i,o]=Qu(n,r);return e&&/jpe?g/.test(e)&&(o.fillStyle="white",o.fillRect(0,0,i.width,i.height)),o.drawImage(t,0,0,i.width,i.height),i}function Il(){return Il.cachedResult!==void 0||(Il.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&typeof document<"u"&&"ontouchend"in document),Il.cachedResult}function hu(t,e={}){return new Promise(function(n,r){let i,o;var s=function(){try{return o=kE(i,e.fileType||t.type),n([i,o])}catch(u){return r(u)}},a=function(u){try{var c=function(h){try{throw h}catch(f){return r(f)}};try{let h;return SE(t).then(function(f){try{return h=f,IE(h).then(function(d){try{return i=d,function(){try{return s()}catch(g){return r(g)}}()}catch(g){return c(g)}},c)}catch(d){return c(d)}},c)}catch(h){c(h)}}catch(h){return r(h)}};try{if(Il()||[tn.DESKTOP_SAFARI,tn.MOBILE_SAFARI].includes(Ci()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(t).then(function(u){try{return i=u,s()}catch{return a()}},a)}catch{a()}})}function fu(t,e,n,r,i=1){return new Promise(function(o,s){let a;if(e==="image/png"){let f,d,g;return f=t.getContext("2d"),{data:d}=f.getImageData(0,0,t.width,t.height),g=Dn.encode([d.buffer],t.width,t.height,4096*i),a=new Blob([g],{type:e}),a.name=n,a.lastModified=r,u.call(this)}{let f=function(){return u.call(this)};var c=f;if(e==="image/bmp")return new Promise(d=>wE.toBlob(t,d)).then((function(d){try{return a=d,a.name=n,a.lastModified=r,f.call(this)}catch(g){return s(g)}}).bind(this),s);{let d=function(){return f.call(this)};var h=d;if(typeof OffscreenCanvas=="function"&&t instanceof OffscreenCanvas)return t.convertToBlob({type:e,quality:i}).then((function(g){try{return a=g,a.name=n,a.lastModified=r,d.call(this)}catch(_){return s(_)}}).bind(this),s);{let g;return g=t.toDataURL(e,i),ep(g,n,r).then((function(_){try{return a=_,d.call(this)}catch(S){return s(S)}}).bind(this),s)}}}function u(){return o(a)}})}function qn(t){t.width=0,t.height=0}function go(){return new Promise(function(t,e){let n,r,i,o;return go.cachedResult!==void 0?t(go.cachedResult):ep("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then(function(s){try{return n=s,hu(n).then(function(a){try{return r=a[1],fu(r,n.type,n.name,n.lastModified).then(function(u){try{return i=u,qn(r),hu(i).then(function(c){try{return o=c[0],go.cachedResult=o.width===1&&o.height===2,t(go.cachedResult)}catch(h){return e(h)}},e)}catch(c){return e(c)}},e)}catch(u){return e(u)}},e)}catch(a){return e(a)}},e)})}function AE(t){return new Promise((e,n)=>{const r=new CE;r.onload=i=>{const o=new DataView(i.target.result);if(o.getUint16(0,!1)!=65496)return e(-2);const s=o.byteLength;let a=2;for(;a<s;){if(o.getUint16(a+2,!1)<=8)return e(-1);const u=o.getUint16(a,!1);if(a+=2,u==65505){if(o.getUint32(a+=2,!1)!=1165519206)return e(-1);const c=o.getUint16(a+=6,!1)==18761;a+=o.getUint32(a+4,c);const h=o.getUint16(a,c);a+=2;for(let f=0;f<h;f++)if(o.getUint16(a+12*f,c)==274)return e(o.getUint16(a+12*f+8,c))}else{if((65280&u)!=65280)break;a+=o.getUint16(a,!1)}}return e(-1)},r.onerror=i=>n(i),r.readAsArrayBuffer(t)})}function xE(t,e){const{width:n}=t,{height:r}=t,{maxWidthOrHeight:i}=e;let o,s=t;return isFinite(i)&&(n>i||r>i)&&([s,o]=Qu(n,r),n>r?(s.width=i,s.height=r/n*i):(s.width=n/r*i,s.height=i),o.drawImage(t,0,0,s.width,s.height),qn(t)),s}function PE(t,e){const{width:n}=t,{height:r}=t,[i,o]=Qu(n,r);switch(e>4&&e<9?(i.width=r,i.height=n):(i.width=n,i.height=r),e){case 2:o.transform(-1,0,0,1,n,0);break;case 3:o.transform(-1,0,0,-1,n,r);break;case 4:o.transform(1,0,0,-1,0,r);break;case 5:o.transform(0,1,1,0,0,0);break;case 6:o.transform(0,1,-1,0,r,0);break;case 7:o.transform(0,-1,-1,0,r,n);break;case 8:o.transform(0,-1,1,0,0,n)}return o.drawImage(t,0,0,n,r),qn(t),i}function Vv(t,e,n=0){return new Promise(function(r,i){let o,s,a,u,c,h,f,d,g,_,S,P,w,I,L,b,O,x,T,p;function v(A=5){if(e.signal&&e.signal.aborted)throw e.signal.reason;o+=A,e.onProgress(Math.min(o,100))}function E(A){if(e.signal&&e.signal.aborted)throw e.signal.reason;o=Math.min(Math.max(A,o),100),e.onProgress(o)}return o=n,s=e.maxIteration||10,a=1024*e.maxSizeMB*1024,v(),hu(t,e).then((function(A){try{return[,u]=A,v(),c=xE(u,e),v(),new Promise(function(R,k){var V;if(!(V=e.exifOrientation))return AE(t).then((function(N){try{return V=N,z.call(this)}catch(M){return k(M)}}).bind(this),k);function z(){return R(V)}return z.call(this)}).then((function(R){try{return h=R,v(),go().then((function(k){try{return f=k?c:PE(c,h),v(),d=e.initialQuality||1,g=e.fileType||t.type,fu(f,g,t.name,t.lastModified,d).then((function(V){try{{let U=function(){if(s--&&(L>a||L>w)){let B,Q;return B=p?.95*T.width:T.width,Q=p?.95*T.height:T.height,[O,x]=Qu(B,Q),x.drawImage(T,0,0,B,Q),d*=g==="image/png"?.85:.95,fu(O,g,t.name,t.lastModified,d).then(function(q){try{return b=q,qn(T),T=O,L=b.size,E(Math.min(99,Math.floor((I-L)/(I-a)*100))),U}catch(Z){return i(Z)}},i)}return[1]},F=function(){return qn(T),qn(O),qn(c),qn(f),qn(u),E(100),r(b)};var N=U,M=F;if(_=V,v(),S=_.size>a,P=_.size>t.size,!S&&!P)return E(100),r(_);var z;return w=t.size,I=_.size,L=I,T=f,p=!e.alwaysKeepResolution&&S,(z=(function(B){for(;B;){if(B.then)return void B.then(z,i);try{if(B.pop){if(B.length)return B.pop()?F.call(this):B;B=U}else B=B.call(this)}catch(Q){return i(Q)}}}).bind(this))(U)}}catch(U){return i(U)}}).bind(this),i)}catch(V){return i(V)}}).bind(this),i)}catch(k){return i(k)}}).bind(this),i)}catch(R){return i(R)}}).bind(this),i)})}const IP=`
let scriptImported = false
self.addEventListener('message', async (e) => {
  const { file, id, imageCompressionLibUrl, options } = e.data
  options.onProgress = (progress) => self.postMessage({ progress, id })
  try {
    if (!scriptImported) {
      // console.log('[worker] importScripts', imageCompressionLibUrl)
      self.importScripts(imageCompressionLibUrl)
      scriptImported = true
    }
    // console.log('[worker] self', self)
    const compressedFile = await imageCompression(file, options)
    self.postMessage({ file: compressedFile, id })
  } catch (e) {
    // console.error('[worker] error', e)
    self.postMessage({ error: e.message + '\\n' + e.stack, id })
  }
})
`;let qc;function LP(t,e){return new Promise((n,r)=>{qc||(qc=function(s){const a=[];return a.push(s),URL.createObjectURL(new Blob(a))}(IP));const i=new Worker(qc);i.addEventListener("message",function(s){if(e.signal&&e.signal.aborted)i.terminate();else if(s.data.progress===void 0){if(s.data.error)return r(new Error(s.data.error)),void i.terminate();n(s.data.file),i.terminate()}else e.onProgress(s.data.progress)}),i.addEventListener("error",r),e.signal&&e.signal.addEventListener("abort",()=>{r(e.signal.reason),i.terminate()}),i.postMessage({file:t,imageCompressionLibUrl:e.libURL,options:{...e,onProgress:void 0,signal:void 0}})})}function jt(t,e){return new Promise(function(n,r){let i,o,s,a,u,c;if(i={...e},s=0,{onProgress:a}=i,i.maxSizeMB=i.maxSizeMB||Number.POSITIVE_INFINITY,u=typeof i.useWebWorker!="boolean"||i.useWebWorker,delete i.useWebWorker,i.onProgress=g=>{s=g,typeof a=="function"&&a(s)},!(t instanceof Blob||t instanceof SP))return r(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(t.type))return r(new Error("The file given is not an image"));if(c=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,!u||typeof Worker!="function"||c)return Vv(t,i).then((function(g){try{return o=g,d.call(this)}catch(_){return r(_)}}).bind(this),r);var h=(function(){try{return d.call(this)}catch(g){return r(g)}}).bind(this),f=function(g){try{return Vv(t,i).then(function(_){try{return o=_,h()}catch(S){return r(S)}},r)}catch(_){return r(_)}};try{return i.libURL=i.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",LP(t,i).then(function(g){try{return o=g,h()}catch{return f()}},f)}catch{f()}function d(){try{o.name=t.name,o.lastModified=t.lastModified}catch{}try{i.preserveExif&&t.type==="image/jpeg"&&(!i.fileType||i.fileType&&i.fileType===t.type)&&(o=EE(t,o))}catch{}return n(o)}})}jt.getDataUrlFromFile=SE,jt.getFilefromDataUrl=ep,jt.loadImage=IE,jt.drawImageInCanvas=kE,jt.drawFileInCanvas=hu,jt.canvasToFile=fu,jt.getExifOrientation=AE,jt.handleMaxWidthOrHeight=xE,jt.followExifOrientation=PE,jt.cleanupCanvasMemory=qn,jt.isAutoOrientationInBrowser=go,jt.approximateBelowMaximumCanvasSizeOfBrowser=LE,jt.copyExifWithoutOrientation=EE,jt.getBrowserName=Ci,jt.version="2.0.2";const kP=({isOpen:t,onClose:e})=>{const[n,r]=y.useState(""),[i,o]=y.useState(""),[s,a]=y.useState(null),[u,c]=y.useState(null);y.useState(!1);const[h,f]=y.useState(null),[d,g]=y.useState(!1),[_,S]=y.useState(!1);y.useEffect(()=>{t&&(navigator.geolocation?navigator.geolocation.getCurrentPosition(I=>{a({lat:I.coords.latitude,lng:I.coords.longitude})},I=>{console.error("Error getting location: ",I),alert("")}):alert(""))},[t]);const P=async I=>{if(I.target.files&&I.target.files[0]){const L=I.target.files[0];c(L);const b=new FileReader;b.onloadend=()=>{f(b.result)},b.readAsDataURL(L);try{const x=await jt(L,{maxSizeMB:1,maxWidthOrHeight:1024,useWebWorker:!0}),T=await vP(x);f(T)}catch(O){console.error("Error compressing image:",O),alert("")}}},w=async()=>{g(!0);try{await yP(n,i,s,h),S(!0)}catch(I){console.error("Error adding document: ",I),alert("")}finally{g(!1)}};return t?W.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50",children:W.jsxs("div",{className:"bg-white p-5 rounded-lg shadow-lg relative w-full max-w-lg h-[500px] flex flex-col overflow-hidden",children:[W.jsx("div",{className:"flex-1 overflow-auto",children:_?W.jsxs("div",{className:"flex flex-col items-center justify-center h-full",children:[W.jsx("h2",{className:"text-2xl font-bold text-green-500 mb-4",children:""}),W.jsx("button",{onClick:e,className:"bg-blue-500 text-white px-4 py-2 rounded",children:""})]}):W.jsxs(W.Fragment,{children:[W.jsx(dP,{onClose:e,title:""}),W.jsx(pP,{onFileChange:P,imageUrl:h}),W.jsx(gP,{title:n,description:i,onTitleChange:I=>r(I.target.value),onDescriptionChange:I=>o(I.target.value)})]})}),!_&&W.jsx(mP,{loading:d,onClick:w})]})}):null};function AP(){const[t,e]=y.useState(!1),[n,r]=y.useState(!0),[i,o]=y.useState(!0),s=()=>{e(!0)},a=()=>{e(!1)},u=h=>{h==="aed"?r(!n):h==="evacuation"&&o(!i)},c=h=>{console.log(`Show route to the nearest ${h}`)};return W.jsxs("div",{className:"flex h-screen w-screen",children:[W.jsxs("div",{className:"w-3/12 bg-gray-100 p-4 text-black",children:[W.jsx("button",{onClick:s,className:"mt-4 bg-red-500 text-white px-4 py-2 rounded w-full",children:""}),W.jsxs("div",{className:"mt-4",children:[W.jsx("button",{onClick:()=>u("aed"),className:`w-full px-4 py-2 rounded ${n?"bg-green-500 text-white":"bg-gray-300 text-black"}`,children:n?"AED":"AED"}),W.jsx("button",{onClick:()=>u("evacuation"),className:`w-full mt-2 px-4 py-2 rounded ${i?"bg-green-500 text-white":"bg-gray-300 text-black"}`,children:i?"":""})]}),W.jsxs("div",{className:"mt-4",children:[W.jsx("button",{onClick:()=>c("aed"),className:"w-full mt-2 bg-blue-500 text-white px-4 py-2 rounded",children:"AED"}),W.jsx("button",{onClick:()=>c("evacuation"),className:"w-full mt-2 bg-blue-500 text-white px-4 py-2 rounded",children:""})]}),W.jsx("div",{className:"mt-4 text-gray-700",children:W.jsxs("p",{children:["",W.jsx("a",{href:"https://example.com/wifi",target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:underline",children:"Wi-Fi"}),""]})})]}),W.jsx(fP,{showAED:n,showEvacuation:i}),t&&W.jsx(kP,{isOpen:t,onClose:a})]})}/**
 * @remix-run/router v1.19.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function du(){return du=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},du.apply(this,arguments)}var Fr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Fr||(Fr={}));const Fv="popstate";function xP(t){t===void 0&&(t={});function e(r,i){let{pathname:o,search:s,hash:a}=r.location;return df("",{pathname:o,search:s,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:ME(i)}return RP(e,n,null,t)}function ln(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function RE(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function PP(){return Math.random().toString(36).substr(2,8)}function Uv(t,e){return{usr:t.state,key:t.key,idx:e}}function df(t,e,n,r){return n===void 0&&(n=null),du({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Zu(e):e,{state:n,key:e&&e.key||r||PP()})}function ME(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Zu(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function RP(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a=Fr.Pop,u=null,c=h();c==null&&(c=0,s.replaceState(du({},s.state,{idx:c}),""));function h(){return(s.state||{idx:null}).idx}function f(){a=Fr.Pop;let P=h(),w=P==null?null:P-c;c=P,u&&u({action:a,location:S.location,delta:w})}function d(P,w){a=Fr.Push;let I=df(S.location,P,w);c=h()+1;let L=Uv(I,c),b=S.createHref(I);try{s.pushState(L,"",b)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;i.location.assign(b)}o&&u&&u({action:a,location:S.location,delta:1})}function g(P,w){a=Fr.Replace;let I=df(S.location,P,w);c=h();let L=Uv(I,c),b=S.createHref(I);s.replaceState(L,"",b),o&&u&&u({action:a,location:S.location,delta:0})}function _(P){let w=i.location.origin!=="null"?i.location.origin:i.location.href,I=typeof P=="string"?P:ME(P);return I=I.replace(/ $/,"%20"),ln(w,"No window.location.(origin|href) available to create URL for href: "+I),new URL(I,w)}let S={get action(){return a},get location(){return t(i,s)},listen(P){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(Fv,f),u=P,()=>{i.removeEventListener(Fv,f),u=null}},createHref(P){return e(i,P)},createURL:_,encodeLocation(P){let w=_(P);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:d,replace:g,go(P){return s.go(P)}};return S}var Bv;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Bv||(Bv={}));function MP(t,e,n){return n===void 0&&(n="/"),bP(t,e,n,!1)}function bP(t,e,n,r){let i=typeof e=="string"?Zu(e):e,o=NE(i.pathname||"/",n);if(o==null)return null;let s=bE(t);DP(s);let a=null;for(let u=0;a==null&&u<s.length;++u){let c=WP(o);a=$P(s[u],c,r)}return a}function bE(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,s,a)=>{let u={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};u.relativePath.startsWith("/")&&(ln(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let c=Co([r,u.relativePath]),h=n.concat(u);o.children&&o.children.length>0&&(ln(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),bE(o.children,e,h,c)),!(o.path==null&&!o.index)&&e.push({path:c,score:zP(c,o.index),routesMeta:h})};return t.forEach((o,s)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))i(o,s);else for(let u of DE(o.path))i(o,s,u)}),e}function DE(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=DE(r.join("/")),a=[];return a.push(...s.map(u=>u===""?o:[o,u].join("/"))),i&&a.push(...s),a.map(u=>t.startsWith("/")&&u===""?"/":u)}function DP(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:jP(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const NP=/^:[\w-]+$/,OP=3,VP=2,FP=1,UP=10,BP=-2,zv=t=>t==="*";function zP(t,e){let n=t.split("/"),r=n.length;return n.some(zv)&&(r+=BP),e&&(r+=VP),n.filter(i=>!zv(i)).reduce((i,o)=>i+(NP.test(o)?OP:o===""?FP:UP),r)}function jP(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function $P(t,e,n){let{routesMeta:r}=t,i={},o="/",s=[];for(let a=0;a<r.length;++a){let u=r[a],c=a===r.length-1,h=o==="/"?e:e.slice(o.length)||"/",f=jv({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},h),d=u.route;if(!f&&c&&n&&!r[r.length-1].route.index&&(f=jv({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},h)),!f)return null;Object.assign(i,f.params),s.push({params:i,pathname:Co([o,f.pathname]),pathnameBase:GP(Co([o,f.pathnameBase])),route:d}),f.pathnameBase!=="/"&&(o=Co([o,f.pathnameBase]))}return s}function jv(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=HP(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,h,f)=>{let{paramName:d,isOptional:g}=h;if(d==="*"){let S=a[f]||"";s=o.slice(0,o.length-S.length).replace(/(.)\/+$/,"$1")}const _=a[f];return g&&!_?c[d]=void 0:c[d]=(_||"").replace(/%2F/g,"/"),c},{}),pathname:o,pathnameBase:s,pattern:t}}function HP(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),RE(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,a,u)=>(r.push({paramName:a,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function WP(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return RE(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function NE(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}const Co=t=>t.join("/").replace(/\/\/+/g,"/"),GP=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/");function qP(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const OE=["post","put","patch","delete"];new Set(OE);const KP=["get",...OE];new Set(KP);/**
 * React Router v6.26.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function pu(){return pu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pu.apply(this,arguments)}const QP=y.createContext(null),ZP=y.createContext(null),VE=y.createContext(null),Xu=y.createContext(null),Yu=y.createContext({outlet:null,matches:[],isDataRoute:!1}),FE=y.createContext(null);function tp(){return y.useContext(Xu)!=null}function XP(){return tp()||ln(!1),y.useContext(Xu).location}function YP(t,e){return JP(t,e)}function JP(t,e,n,r){tp()||ln(!1);let{navigator:i}=y.useContext(VE),{matches:o}=y.useContext(Yu),s=o[o.length-1],a=s?s.params:{};s&&s.pathname;let u=s?s.pathnameBase:"/";s&&s.route;let c=XP(),h;if(e){var f;let P=typeof e=="string"?Zu(e):e;u==="/"||(f=P.pathname)!=null&&f.startsWith(u)||ln(!1),h=P}else h=c;let d=h.pathname||"/",g=d;if(u!=="/"){let P=u.replace(/^\//,"").split("/");g="/"+d.replace(/^\//,"").split("/").slice(P.length).join("/")}let _=MP(t,{pathname:g}),S=i3(_&&_.map(P=>Object.assign({},P,{params:Object.assign({},a,P.params),pathname:Co([u,i.encodeLocation?i.encodeLocation(P.pathname).pathname:P.pathname]),pathnameBase:P.pathnameBase==="/"?u:Co([u,i.encodeLocation?i.encodeLocation(P.pathnameBase).pathname:P.pathnameBase])})),o,n,r);return e&&S?y.createElement(Xu.Provider,{value:{location:pu({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Fr.Pop}},S):S}function e3(){let t=l3(),e=qP(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},e),n?y.createElement("pre",{style:i},n):null,null)}const t3=y.createElement(e3,null);class n3 extends y.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?y.createElement(Yu.Provider,{value:this.props.routeContext},y.createElement(FE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function r3(t){let{routeContext:e,match:n,children:r}=t,i=y.useContext(QP);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),y.createElement(Yu.Provider,{value:e},r)}function i3(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var o;if(!n)return null;if(n.errors)t=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let h=s.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);h>=0||ln(!1),s=s.slice(0,Math.min(s.length,h+1))}let u=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let h=0;h<s.length;h++){let f=s[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=h),f.route.id){let{loaderData:d,errors:g}=n,_=f.route.loader&&d[f.route.id]===void 0&&(!g||g[f.route.id]===void 0);if(f.route.lazy||_){u=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((h,f,d)=>{let g,_=!1,S=null,P=null;n&&(g=a&&f.route.id?a[f.route.id]:void 0,S=f.route.errorElement||t3,u&&(c<0&&d===0?(_=!0,P=null):c===d&&(_=!0,P=f.route.hydrateFallbackElement||null)));let w=e.concat(s.slice(0,d+1)),I=()=>{let L;return g?L=S:_?L=P:f.route.Component?L=y.createElement(f.route.Component,null):f.route.element?L=f.route.element:L=h,y.createElement(r3,{match:f,routeContext:{outlet:h,matches:w,isDataRoute:n!=null},children:L})};return n&&(f.route.ErrorBoundary||f.route.errorElement||d===0)?y.createElement(n3,{location:n.location,revalidation:n.revalidation,component:S,error:g,children:I(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):I()},null)}var pf=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(pf||{});function o3(t){let e=y.useContext(ZP);return e||ln(!1),e}function s3(t){let e=y.useContext(Yu);return e||ln(!1),e}function a3(t){let e=s3(),n=e.matches[e.matches.length-1];return n.route.id||ln(!1),n.route.id}function l3(){var t;let e=y.useContext(FE),n=o3(pf.UseRouteError),r=a3(pf.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function gf(t){ln(!1)}function u3(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Fr.Pop,navigator:o,static:s=!1,future:a}=t;tp()&&ln(!1);let u=e.replace(/^\/*/,"/"),c=y.useMemo(()=>({basename:u,navigator:o,static:s,future:pu({v7_relativeSplatPath:!1},a)}),[u,a,o,s]);typeof r=="string"&&(r=Zu(r));let{pathname:h="/",search:f="",hash:d="",state:g=null,key:_="default"}=r,S=y.useMemo(()=>{let P=NE(h,u);return P==null?null:{location:{pathname:P,search:f,hash:d,state:g,key:_},navigationType:i}},[u,h,f,d,g,_,i]);return S==null?null:y.createElement(VE.Provider,{value:c},y.createElement(Xu.Provider,{children:n,value:S}))}function c3(t){let{children:e,location:n}=t;return YP(mf(e),n)}new Promise(()=>{});function mf(t,e){e===void 0&&(e=[]);let n=[];return y.Children.forEach(t,(r,i)=>{if(!y.isValidElement(r))return;let o=[...e,i];if(r.type===y.Fragment){n.push.apply(n,mf(r.props.children,o));return}r.type!==gf&&ln(!1),!r.props.index||!r.props.children||ln(!1);let s={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=mf(r.props.children,o)),n.push(s)}),n}/**
 * React Router DOM v6.26.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const h3="6";try{window.__reactRouterVersion=h3}catch{}const f3="startTransition",$v=Ew[f3];function d3(t){let{basename:e,children:n,future:r,window:i}=t,o=y.useRef();o.current==null&&(o.current=xP({window:i,v5Compat:!0}));let s=o.current,[a,u]=y.useState({action:s.action,location:s.location}),{v7_startTransition:c}=r||{},h=y.useCallback(f=>{c&&$v?$v(()=>u(f)):u(f)},[u,c]);return y.useLayoutEffect(()=>s.listen(h),[s,h]),y.createElement(u3,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:s,future:r})}var Hv;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Hv||(Hv={}));var Wv;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Wv||(Wv={}));Kc.createRoot(document.getElementById("root")).render(W.jsx(cr.StrictMode,{children:W.jsx(d3,{basename:"/ODHack",children:W.jsxs(c3,{children:[W.jsx(gf,{path:"/",element:W.jsx(AP,{})}),W.jsx(gf,{path:"/admin",element:W.jsx(xA,{})})]})})}));
