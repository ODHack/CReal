function Fw(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function Bw(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Rv={exports:{}},fu={},xv={exports:{}},xe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ca=Symbol.for("react.element"),zw=Symbol.for("react.portal"),jw=Symbol.for("react.fragment"),$w=Symbol.for("react.strict_mode"),Hw=Symbol.for("react.profiler"),Ww=Symbol.for("react.provider"),Gw=Symbol.for("react.context"),qw=Symbol.for("react.forward_ref"),Kw=Symbol.for("react.suspense"),Qw=Symbol.for("react.memo"),Zw=Symbol.for("react.lazy"),Ep=Symbol.iterator;function Xw(t){return t===null||typeof t!="object"?null:(t=Ep&&t[Ep]||t["@@iterator"],typeof t=="function"?t:null)}var Mv={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},bv=Object.assign,Dv={};function Uo(t,e,n){this.props=t,this.context=e,this.refs=Dv,this.updater=n||Mv}Uo.prototype.isReactComponent={};Uo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Uo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Ov(){}Ov.prototype=Uo.prototype;function sf(t,e,n){this.props=t,this.context=e,this.refs=Dv,this.updater=n||Mv}var af=sf.prototype=new Ov;af.constructor=sf;bv(af,Uo.prototype);af.isPureReactComponent=!0;var Cp=Array.isArray,Nv=Object.prototype.hasOwnProperty,lf={current:null},Vv={key:!0,ref:!0,__self:!0,__source:!0};function Uv(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)Nv.call(e,r)&&!Vv.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var u=Array(a),c=0;c<a;c++)u[c]=arguments[c+2];i.children=u}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:ca,type:t,key:o,ref:s,props:i,_owner:lf.current}}function Yw(t,e){return{$$typeof:ca,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function uf(t){return typeof t=="object"&&t!==null&&t.$$typeof===ca}function Jw(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Sp=/\/+/g;function Ju(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Jw(""+t.key):e.toString(36)}function sl(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case ca:case zw:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+Ju(s,0):r,Cp(i)?(n="",t!=null&&(n=t.replace(Sp,"$&/")+"/"),sl(i,e,n,"",function(c){return c})):i!=null&&(uf(i)&&(i=Yw(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(Sp,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",Cp(t))for(var a=0;a<t.length;a++){o=t[a];var u=r+Ju(o,a);s+=sl(o,e,n,u,i)}else if(u=Xw(t),typeof u=="function")for(t=u.call(t),a=0;!(o=t.next()).done;)o=o.value,u=r+Ju(o,a++),s+=sl(o,e,n,u,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function Da(t,e,n){if(t==null)return t;var r=[],i=0;return sl(t,r,"","",function(o){return e.call(n,o,i++)}),r}function eE(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Xt={current:null},al={transition:null},tE={ReactCurrentDispatcher:Xt,ReactCurrentBatchConfig:al,ReactCurrentOwner:lf};function Fv(){throw Error("act(...) is not supported in production builds of React.")}xe.Children={map:Da,forEach:function(t,e,n){Da(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Da(t,function(){e++}),e},toArray:function(t){return Da(t,function(e){return e})||[]},only:function(t){if(!uf(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};xe.Component=Uo;xe.Fragment=jw;xe.Profiler=Hw;xe.PureComponent=sf;xe.StrictMode=$w;xe.Suspense=Kw;xe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tE;xe.act=Fv;xe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=bv({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=lf.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(u in e)Nv.call(e,u)&&!Vv.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&a!==void 0?a[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){a=Array(u);for(var c=0;c<u;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:ca,type:t.type,key:i,ref:o,props:r,_owner:s}};xe.createContext=function(t){return t={$$typeof:Gw,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Ww,_context:t},t.Consumer=t};xe.createElement=Uv;xe.createFactory=function(t){var e=Uv.bind(null,t);return e.type=t,e};xe.createRef=function(){return{current:null}};xe.forwardRef=function(t){return{$$typeof:qw,render:t}};xe.isValidElement=uf;xe.lazy=function(t){return{$$typeof:Zw,_payload:{_status:-1,_result:t},_init:eE}};xe.memo=function(t,e){return{$$typeof:Qw,type:t,compare:e===void 0?null:e}};xe.startTransition=function(t){var e=al.transition;al.transition={};try{t()}finally{al.transition=e}};xe.unstable_act=Fv;xe.useCallback=function(t,e){return Xt.current.useCallback(t,e)};xe.useContext=function(t){return Xt.current.useContext(t)};xe.useDebugValue=function(){};xe.useDeferredValue=function(t){return Xt.current.useDeferredValue(t)};xe.useEffect=function(t,e){return Xt.current.useEffect(t,e)};xe.useId=function(){return Xt.current.useId()};xe.useImperativeHandle=function(t,e,n){return Xt.current.useImperativeHandle(t,e,n)};xe.useInsertionEffect=function(t,e){return Xt.current.useInsertionEffect(t,e)};xe.useLayoutEffect=function(t,e){return Xt.current.useLayoutEffect(t,e)};xe.useMemo=function(t,e){return Xt.current.useMemo(t,e)};xe.useReducer=function(t,e,n){return Xt.current.useReducer(t,e,n)};xe.useRef=function(t){return Xt.current.useRef(t)};xe.useState=function(t){return Xt.current.useState(t)};xe.useSyncExternalStore=function(t,e,n){return Xt.current.useSyncExternalStore(t,e,n)};xe.useTransition=function(){return Xt.current.useTransition()};xe.version="18.3.1";xv.exports=xe;var _=xv.exports;const ur=Bw(_),nE=Fw({__proto__:null,default:ur},[_]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rE=_,iE=Symbol.for("react.element"),oE=Symbol.for("react.fragment"),sE=Object.prototype.hasOwnProperty,aE=rE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,lE={key:!0,ref:!0,__self:!0,__source:!0};function Bv(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)sE.call(e,r)&&!lE.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:iE,type:t,key:o,ref:s,props:i,_owner:aE.current}}fu.Fragment=oE;fu.jsx=Bv;fu.jsxs=Bv;Rv.exports=fu;var J=Rv.exports,Fc={},zv={exports:{}},_n={},jv={exports:{}},$v={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(F,U){var B=F.length;F.push(U);e:for(;0<B;){var K=B-1>>>1,G=F[K];if(0<i(G,U))F[K]=U,F[B]=G,B=K;else break e}}function n(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var U=F[0],B=F.pop();if(B!==U){F[0]=B;e:for(var K=0,G=F.length,Q=G>>>1;K<Q;){var q=2*(K+1)-1,H=F[q],j=q+1,oe=F[j];if(0>i(H,B))j<G&&0>i(oe,H)?(F[K]=oe,F[j]=B,K=j):(F[K]=H,F[q]=B,K=q);else if(j<G&&0>i(oe,B))F[K]=oe,F[j]=B,K=j;else break e}}return U}function i(F,U){var B=F.sortIndex-U.sortIndex;return B!==0?B:F.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var u=[],c=[],h=1,f=null,d=3,m=!1,C=!1,L=!1,x=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(F){for(var U=n(c);U!==null;){if(U.callback===null)r(c);else if(U.startTime<=F)r(c),U.sortIndex=U.expirationTime,e(u,U);else break;U=n(c)}}function b(F){if(L=!1,k(F),!C)if(n(u)!==null)C=!0,O(N);else{var U=n(c);U!==null&&M(b,U.startTime-F)}}function N(F,U){C=!1,L&&(L=!1,E(p),p=-1),m=!0;var B=d;try{for(k(U),f=n(u);f!==null&&(!(f.expirationTime>U)||F&&!P());){var K=f.callback;if(typeof K=="function"){f.callback=null,d=f.priorityLevel;var G=K(f.expirationTime<=U);U=t.unstable_now(),typeof G=="function"?f.callback=G:f===n(u)&&r(u),k(U)}else r(u);f=n(u)}if(f!==null)var Q=!0;else{var q=n(c);q!==null&&M(b,q.startTime-U),Q=!1}return Q}finally{f=null,d=B,m=!1}}var A=!1,S=null,p=-1,v=5,y=-1;function P(){return!(t.unstable_now()-y<v)}function R(){if(S!==null){var F=t.unstable_now();y=F;var U=!0;try{U=S(!0,F)}finally{U?I():(A=!1,S=null)}}else A=!1}var I;if(typeof T=="function")I=function(){T(R)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,z=V.port2;V.port1.onmessage=R,I=function(){z.postMessage(null)}}else I=function(){x(R,0)};function O(F){S=F,A||(A=!0,I())}function M(F,U){p=x(function(){F(t.unstable_now())},U)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_continueExecution=function(){C||m||(C=!0,O(N))},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):v=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(F){switch(d){case 1:case 2:case 3:var U=3;break;default:U=d}var B=d;d=U;try{return F()}finally{d=B}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(F,U){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var B=d;d=F;try{return U()}finally{d=B}},t.unstable_scheduleCallback=function(F,U,B){var K=t.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?K+B:K):B=K,F){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=B+G,F={id:h++,callback:U,priorityLevel:F,startTime:B,expirationTime:G,sortIndex:-1},B>K?(F.sortIndex=B,e(c,F),n(u)===null&&F===n(c)&&(L?(E(p),p=-1):L=!0,M(b,B-K))):(F.sortIndex=G,e(u,F),C||m||(C=!0,O(N))),F},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(F){var U=d;return function(){var B=d;d=U;try{return F.apply(this,arguments)}finally{d=B}}}})($v);jv.exports=$v;var uE=jv.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cE=_,yn=uE;function Y(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Hv=new Set,Fs={};function Ni(t,e){Co(t,e),Co(t+"Capture",e)}function Co(t,e){for(Fs[t]=e,t=0;t<e.length;t++)Hv.add(e[t])}var hr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Bc=Object.prototype.hasOwnProperty,hE=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Tp={},Lp={};function fE(t){return Bc.call(Lp,t)?!0:Bc.call(Tp,t)?!1:hE.test(t)?Lp[t]=!0:(Tp[t]=!0,!1)}function dE(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function pE(t,e,n,r){if(e===null||typeof e>"u"||dE(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Yt(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var bt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){bt[t]=new Yt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];bt[e]=new Yt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){bt[t]=new Yt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){bt[t]=new Yt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){bt[t]=new Yt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){bt[t]=new Yt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){bt[t]=new Yt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){bt[t]=new Yt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){bt[t]=new Yt(t,5,!1,t.toLowerCase(),null,!1,!1)});var cf=/[\-:]([a-z])/g;function hf(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(cf,hf);bt[e]=new Yt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(cf,hf);bt[e]=new Yt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(cf,hf);bt[e]=new Yt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){bt[t]=new Yt(t,1,!1,t.toLowerCase(),null,!1,!1)});bt.xlinkHref=new Yt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){bt[t]=new Yt(t,1,!1,t.toLowerCase(),null,!0,!0)});function ff(t,e,n,r){var i=bt.hasOwnProperty(e)?bt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(pE(e,n,i,r)&&(n=null),r||i===null?fE(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var yr=cE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Oa=Symbol.for("react.element"),to=Symbol.for("react.portal"),no=Symbol.for("react.fragment"),df=Symbol.for("react.strict_mode"),zc=Symbol.for("react.profiler"),Wv=Symbol.for("react.provider"),Gv=Symbol.for("react.context"),pf=Symbol.for("react.forward_ref"),jc=Symbol.for("react.suspense"),$c=Symbol.for("react.suspense_list"),gf=Symbol.for("react.memo"),Ar=Symbol.for("react.lazy"),qv=Symbol.for("react.offscreen"),Ip=Symbol.iterator;function is(t){return t===null||typeof t!="object"?null:(t=Ip&&t[Ip]||t["@@iterator"],typeof t=="function"?t:null)}var rt=Object.assign,ec;function vs(t){if(ec===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);ec=e&&e[1]||""}return`
`+ec+t}var tc=!1;function nc(t,e){if(!t||tc)return"";tc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var u=`
`+i[s].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=s&&0<=a);break}}}finally{tc=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?vs(t):""}function gE(t){switch(t.tag){case 5:return vs(t.type);case 16:return vs("Lazy");case 13:return vs("Suspense");case 19:return vs("SuspenseList");case 0:case 2:case 15:return t=nc(t.type,!1),t;case 11:return t=nc(t.type.render,!1),t;case 1:return t=nc(t.type,!0),t;default:return""}}function Hc(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case no:return"Fragment";case to:return"Portal";case zc:return"Profiler";case df:return"StrictMode";case jc:return"Suspense";case $c:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Gv:return(t.displayName||"Context")+".Consumer";case Wv:return(t._context.displayName||"Context")+".Provider";case pf:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case gf:return e=t.displayName||null,e!==null?e:Hc(t.type)||"Memo";case Ar:e=t._payload,t=t._init;try{return Hc(t(e))}catch{}}return null}function mE(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Hc(e);case 8:return e===df?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Zr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Kv(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function vE(t){var e=Kv(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Na(t){t._valueTracker||(t._valueTracker=vE(t))}function Qv(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Kv(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Tl(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Wc(t,e){var n=e.checked;return rt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function kp(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Zr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Zv(t,e){e=e.checked,e!=null&&ff(t,"checked",e,!1)}function Gc(t,e){Zv(t,e);var n=Zr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?qc(t,e.type,n):e.hasOwnProperty("defaultValue")&&qc(t,e.type,Zr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Ap(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function qc(t,e,n){(e!=="number"||Tl(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ys=Array.isArray;function go(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Zr(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Kc(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Y(91));return rt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Pp(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Y(92));if(ys(n)){if(1<n.length)throw Error(Y(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Zr(n)}}function Xv(t,e){var n=Zr(e.value),r=Zr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Rp(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Yv(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Qc(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Yv(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Va,Jv=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Va=Va||document.createElement("div"),Va.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Va.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Bs(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ts={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},yE=["Webkit","ms","Moz","O"];Object.keys(Ts).forEach(function(t){yE.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ts[e]=Ts[t]})});function ey(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ts.hasOwnProperty(t)&&Ts[t]?(""+e).trim():e+"px"}function ty(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=ey(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var _E=rt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Zc(t,e){if(e){if(_E[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Y(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Y(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Y(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Y(62))}}function Xc(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Yc=null;function mf(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Jc=null,mo=null,vo=null;function xp(t){if(t=da(t)){if(typeof Jc!="function")throw Error(Y(280));var e=t.stateNode;e&&(e=vu(e),Jc(t.stateNode,t.type,e))}}function ny(t){mo?vo?vo.push(t):vo=[t]:mo=t}function ry(){if(mo){var t=mo,e=vo;if(vo=mo=null,xp(t),e)for(t=0;t<e.length;t++)xp(e[t])}}function iy(t,e){return t(e)}function oy(){}var rc=!1;function sy(t,e,n){if(rc)return t(e,n);rc=!0;try{return iy(t,e,n)}finally{rc=!1,(mo!==null||vo!==null)&&(oy(),ry())}}function zs(t,e){var n=t.stateNode;if(n===null)return null;var r=vu(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Y(231,e,typeof n));return n}var eh=!1;if(hr)try{var os={};Object.defineProperty(os,"passive",{get:function(){eh=!0}}),window.addEventListener("test",os,os),window.removeEventListener("test",os,os)}catch{eh=!1}function wE(t,e,n,r,i,o,s,a,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(h){this.onError(h)}}var Ls=!1,Ll=null,Il=!1,th=null,EE={onError:function(t){Ls=!0,Ll=t}};function CE(t,e,n,r,i,o,s,a,u){Ls=!1,Ll=null,wE.apply(EE,arguments)}function SE(t,e,n,r,i,o,s,a,u){if(CE.apply(this,arguments),Ls){if(Ls){var c=Ll;Ls=!1,Ll=null}else throw Error(Y(198));Il||(Il=!0,th=c)}}function Vi(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function ay(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Mp(t){if(Vi(t)!==t)throw Error(Y(188))}function TE(t){var e=t.alternate;if(!e){if(e=Vi(t),e===null)throw Error(Y(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Mp(i),t;if(o===r)return Mp(i),e;o=o.sibling}throw Error(Y(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(Y(189))}}if(n.alternate!==r)throw Error(Y(190))}if(n.tag!==3)throw Error(Y(188));return n.stateNode.current===n?t:e}function ly(t){return t=TE(t),t!==null?uy(t):null}function uy(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=uy(t);if(e!==null)return e;t=t.sibling}return null}var cy=yn.unstable_scheduleCallback,bp=yn.unstable_cancelCallback,LE=yn.unstable_shouldYield,IE=yn.unstable_requestPaint,ht=yn.unstable_now,kE=yn.unstable_getCurrentPriorityLevel,vf=yn.unstable_ImmediatePriority,hy=yn.unstable_UserBlockingPriority,kl=yn.unstable_NormalPriority,AE=yn.unstable_LowPriority,fy=yn.unstable_IdlePriority,du=null,Qn=null;function PE(t){if(Qn&&typeof Qn.onCommitFiberRoot=="function")try{Qn.onCommitFiberRoot(du,t,void 0,(t.current.flags&128)===128)}catch{}}var Vn=Math.clz32?Math.clz32:ME,RE=Math.log,xE=Math.LN2;function ME(t){return t>>>=0,t===0?32:31-(RE(t)/xE|0)|0}var Ua=64,Fa=4194304;function _s(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Al(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=_s(a):(o&=s,o!==0&&(r=_s(o)))}else s=n&~i,s!==0?r=_s(s):o!==0&&(r=_s(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Vn(e),i=1<<n,r|=t[n],e&=~i;return r}function bE(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function DE(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-Vn(o),a=1<<s,u=i[s];u===-1?(!(a&n)||a&r)&&(i[s]=bE(a,e)):u<=e&&(t.expiredLanes|=a),o&=~a}}function nh(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function dy(){var t=Ua;return Ua<<=1,!(Ua&4194240)&&(Ua=64),t}function ic(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ha(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Vn(e),t[e]=n}function OE(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Vn(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function yf(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Vn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var je=0;function py(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var gy,_f,my,vy,yy,rh=!1,Ba=[],Vr=null,Ur=null,Fr=null,js=new Map,$s=new Map,xr=[],NE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Dp(t,e){switch(t){case"focusin":case"focusout":Vr=null;break;case"dragenter":case"dragleave":Ur=null;break;case"mouseover":case"mouseout":Fr=null;break;case"pointerover":case"pointerout":js.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":$s.delete(e.pointerId)}}function ss(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=da(e),e!==null&&_f(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function VE(t,e,n,r,i){switch(e){case"focusin":return Vr=ss(Vr,t,e,n,r,i),!0;case"dragenter":return Ur=ss(Ur,t,e,n,r,i),!0;case"mouseover":return Fr=ss(Fr,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return js.set(o,ss(js.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,$s.set(o,ss($s.get(o)||null,t,e,n,r,i)),!0}return!1}function _y(t){var e=mi(t.target);if(e!==null){var n=Vi(e);if(n!==null){if(e=n.tag,e===13){if(e=ay(n),e!==null){t.blockedOn=e,yy(t.priority,function(){my(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ll(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=ih(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Yc=r,n.target.dispatchEvent(r),Yc=null}else return e=da(n),e!==null&&_f(e),t.blockedOn=n,!1;e.shift()}return!0}function Op(t,e,n){ll(t)&&n.delete(e)}function UE(){rh=!1,Vr!==null&&ll(Vr)&&(Vr=null),Ur!==null&&ll(Ur)&&(Ur=null),Fr!==null&&ll(Fr)&&(Fr=null),js.forEach(Op),$s.forEach(Op)}function as(t,e){t.blockedOn===e&&(t.blockedOn=null,rh||(rh=!0,yn.unstable_scheduleCallback(yn.unstable_NormalPriority,UE)))}function Hs(t){function e(i){return as(i,t)}if(0<Ba.length){as(Ba[0],t);for(var n=1;n<Ba.length;n++){var r=Ba[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Vr!==null&&as(Vr,t),Ur!==null&&as(Ur,t),Fr!==null&&as(Fr,t),js.forEach(e),$s.forEach(e),n=0;n<xr.length;n++)r=xr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<xr.length&&(n=xr[0],n.blockedOn===null);)_y(n),n.blockedOn===null&&xr.shift()}var yo=yr.ReactCurrentBatchConfig,Pl=!0;function FE(t,e,n,r){var i=je,o=yo.transition;yo.transition=null;try{je=1,wf(t,e,n,r)}finally{je=i,yo.transition=o}}function BE(t,e,n,r){var i=je,o=yo.transition;yo.transition=null;try{je=4,wf(t,e,n,r)}finally{je=i,yo.transition=o}}function wf(t,e,n,r){if(Pl){var i=ih(t,e,n,r);if(i===null)pc(t,e,r,Rl,n),Dp(t,r);else if(VE(i,t,e,n,r))r.stopPropagation();else if(Dp(t,r),e&4&&-1<NE.indexOf(t)){for(;i!==null;){var o=da(i);if(o!==null&&gy(o),o=ih(t,e,n,r),o===null&&pc(t,e,r,Rl,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else pc(t,e,r,null,n)}}var Rl=null;function ih(t,e,n,r){if(Rl=null,t=mf(r),t=mi(t),t!==null)if(e=Vi(t),e===null)t=null;else if(n=e.tag,n===13){if(t=ay(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Rl=t,null}function wy(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(kE()){case vf:return 1;case hy:return 4;case kl:case AE:return 16;case fy:return 536870912;default:return 16}default:return 16}}var Dr=null,Ef=null,ul=null;function Ey(){if(ul)return ul;var t,e=Ef,n=e.length,r,i="value"in Dr?Dr.value:Dr.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return ul=i.slice(t,1<r?1-r:void 0)}function cl(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function za(){return!0}function Np(){return!1}function wn(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?za:Np,this.isPropagationStopped=Np,this}return rt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=za)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=za)},persist:function(){},isPersistent:za}),e}var Fo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Cf=wn(Fo),fa=rt({},Fo,{view:0,detail:0}),zE=wn(fa),oc,sc,ls,pu=rt({},fa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sf,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ls&&(ls&&t.type==="mousemove"?(oc=t.screenX-ls.screenX,sc=t.screenY-ls.screenY):sc=oc=0,ls=t),oc)},movementY:function(t){return"movementY"in t?t.movementY:sc}}),Vp=wn(pu),jE=rt({},pu,{dataTransfer:0}),$E=wn(jE),HE=rt({},fa,{relatedTarget:0}),ac=wn(HE),WE=rt({},Fo,{animationName:0,elapsedTime:0,pseudoElement:0}),GE=wn(WE),qE=rt({},Fo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),KE=wn(qE),QE=rt({},Fo,{data:0}),Up=wn(QE),ZE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},XE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},YE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function JE(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=YE[t])?!!e[t]:!1}function Sf(){return JE}var eC=rt({},fa,{key:function(t){if(t.key){var e=ZE[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=cl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?XE[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sf,charCode:function(t){return t.type==="keypress"?cl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?cl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),tC=wn(eC),nC=rt({},pu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Fp=wn(nC),rC=rt({},fa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sf}),iC=wn(rC),oC=rt({},Fo,{propertyName:0,elapsedTime:0,pseudoElement:0}),sC=wn(oC),aC=rt({},pu,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),lC=wn(aC),uC=[9,13,27,32],Tf=hr&&"CompositionEvent"in window,Is=null;hr&&"documentMode"in document&&(Is=document.documentMode);var cC=hr&&"TextEvent"in window&&!Is,Cy=hr&&(!Tf||Is&&8<Is&&11>=Is),Bp=" ",zp=!1;function Sy(t,e){switch(t){case"keyup":return uC.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ty(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ro=!1;function hC(t,e){switch(t){case"compositionend":return Ty(e);case"keypress":return e.which!==32?null:(zp=!0,Bp);case"textInput":return t=e.data,t===Bp&&zp?null:t;default:return null}}function fC(t,e){if(ro)return t==="compositionend"||!Tf&&Sy(t,e)?(t=Ey(),ul=Ef=Dr=null,ro=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Cy&&e.locale!=="ko"?null:e.data;default:return null}}var dC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jp(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!dC[t.type]:e==="textarea"}function Ly(t,e,n,r){ny(r),e=xl(e,"onChange"),0<e.length&&(n=new Cf("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ks=null,Ws=null;function pC(t){Ny(t,0)}function gu(t){var e=so(t);if(Qv(e))return t}function gC(t,e){if(t==="change")return e}var Iy=!1;if(hr){var lc;if(hr){var uc="oninput"in document;if(!uc){var $p=document.createElement("div");$p.setAttribute("oninput","return;"),uc=typeof $p.oninput=="function"}lc=uc}else lc=!1;Iy=lc&&(!document.documentMode||9<document.documentMode)}function Hp(){ks&&(ks.detachEvent("onpropertychange",ky),Ws=ks=null)}function ky(t){if(t.propertyName==="value"&&gu(Ws)){var e=[];Ly(e,Ws,t,mf(t)),sy(pC,e)}}function mC(t,e,n){t==="focusin"?(Hp(),ks=e,Ws=n,ks.attachEvent("onpropertychange",ky)):t==="focusout"&&Hp()}function vC(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return gu(Ws)}function yC(t,e){if(t==="click")return gu(e)}function _C(t,e){if(t==="input"||t==="change")return gu(e)}function wC(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Fn=typeof Object.is=="function"?Object.is:wC;function Gs(t,e){if(Fn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Bc.call(e,i)||!Fn(t[i],e[i]))return!1}return!0}function Wp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Gp(t,e){var n=Wp(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Wp(n)}}function Ay(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Ay(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Py(){for(var t=window,e=Tl();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Tl(t.document)}return e}function Lf(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function EC(t){var e=Py(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Ay(n.ownerDocument.documentElement,n)){if(r!==null&&Lf(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=Gp(n,o);var s=Gp(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var CC=hr&&"documentMode"in document&&11>=document.documentMode,io=null,oh=null,As=null,sh=!1;function qp(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;sh||io==null||io!==Tl(r)||(r=io,"selectionStart"in r&&Lf(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),As&&Gs(As,r)||(As=r,r=xl(oh,"onSelect"),0<r.length&&(e=new Cf("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=io)))}function ja(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var oo={animationend:ja("Animation","AnimationEnd"),animationiteration:ja("Animation","AnimationIteration"),animationstart:ja("Animation","AnimationStart"),transitionend:ja("Transition","TransitionEnd")},cc={},Ry={};hr&&(Ry=document.createElement("div").style,"AnimationEvent"in window||(delete oo.animationend.animation,delete oo.animationiteration.animation,delete oo.animationstart.animation),"TransitionEvent"in window||delete oo.transitionend.transition);function mu(t){if(cc[t])return cc[t];if(!oo[t])return t;var e=oo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Ry)return cc[t]=e[n];return t}var xy=mu("animationend"),My=mu("animationiteration"),by=mu("animationstart"),Dy=mu("transitionend"),Oy=new Map,Kp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ti(t,e){Oy.set(t,e),Ni(e,[t])}for(var hc=0;hc<Kp.length;hc++){var fc=Kp[hc],SC=fc.toLowerCase(),TC=fc[0].toUpperCase()+fc.slice(1);ti(SC,"on"+TC)}ti(xy,"onAnimationEnd");ti(My,"onAnimationIteration");ti(by,"onAnimationStart");ti("dblclick","onDoubleClick");ti("focusin","onFocus");ti("focusout","onBlur");ti(Dy,"onTransitionEnd");Co("onMouseEnter",["mouseout","mouseover"]);Co("onMouseLeave",["mouseout","mouseover"]);Co("onPointerEnter",["pointerout","pointerover"]);Co("onPointerLeave",["pointerout","pointerover"]);Ni("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ni("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ni("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ni("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ni("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ni("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ws="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),LC=new Set("cancel close invalid load scroll toggle".split(" ").concat(ws));function Qp(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,SE(r,e,void 0,t),t.currentTarget=null}function Ny(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],u=a.instance,c=a.currentTarget;if(a=a.listener,u!==o&&i.isPropagationStopped())break e;Qp(i,a,c),o=u}else for(s=0;s<r.length;s++){if(a=r[s],u=a.instance,c=a.currentTarget,a=a.listener,u!==o&&i.isPropagationStopped())break e;Qp(i,a,c),o=u}}}if(Il)throw t=th,Il=!1,th=null,t}function Ze(t,e){var n=e[hh];n===void 0&&(n=e[hh]=new Set);var r=t+"__bubble";n.has(r)||(Vy(e,t,2,!1),n.add(r))}function dc(t,e,n){var r=0;e&&(r|=4),Vy(n,t,r,e)}var $a="_reactListening"+Math.random().toString(36).slice(2);function qs(t){if(!t[$a]){t[$a]=!0,Hv.forEach(function(n){n!=="selectionchange"&&(LC.has(n)||dc(n,!1,t),dc(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[$a]||(e[$a]=!0,dc("selectionchange",!1,e))}}function Vy(t,e,n,r){switch(wy(e)){case 1:var i=FE;break;case 4:i=BE;break;default:i=wf}n=i.bind(null,e,n,t),i=void 0,!eh||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function pc(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var u=s.tag;if((u===3||u===4)&&(u=s.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;s=s.return}for(;a!==null;){if(s=mi(a),s===null)return;if(u=s.tag,u===5||u===6){r=o=s;continue e}a=a.parentNode}}r=r.return}sy(function(){var c=o,h=mf(n),f=[];e:{var d=Oy.get(t);if(d!==void 0){var m=Cf,C=t;switch(t){case"keypress":if(cl(n)===0)break e;case"keydown":case"keyup":m=tC;break;case"focusin":C="focus",m=ac;break;case"focusout":C="blur",m=ac;break;case"beforeblur":case"afterblur":m=ac;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Vp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=$E;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=iC;break;case xy:case My:case by:m=GE;break;case Dy:m=sC;break;case"scroll":m=zE;break;case"wheel":m=lC;break;case"copy":case"cut":case"paste":m=KE;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Fp}var L=(e&4)!==0,x=!L&&t==="scroll",E=L?d!==null?d+"Capture":null:d;L=[];for(var T=c,k;T!==null;){k=T;var b=k.stateNode;if(k.tag===5&&b!==null&&(k=b,E!==null&&(b=zs(T,E),b!=null&&L.push(Ks(T,b,k)))),x)break;T=T.return}0<L.length&&(d=new m(d,C,null,n,h),f.push({event:d,listeners:L}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",d&&n!==Yc&&(C=n.relatedTarget||n.fromElement)&&(mi(C)||C[fr]))break e;if((m||d)&&(d=h.window===h?h:(d=h.ownerDocument)?d.defaultView||d.parentWindow:window,m?(C=n.relatedTarget||n.toElement,m=c,C=C?mi(C):null,C!==null&&(x=Vi(C),C!==x||C.tag!==5&&C.tag!==6)&&(C=null)):(m=null,C=c),m!==C)){if(L=Vp,b="onMouseLeave",E="onMouseEnter",T="mouse",(t==="pointerout"||t==="pointerover")&&(L=Fp,b="onPointerLeave",E="onPointerEnter",T="pointer"),x=m==null?d:so(m),k=C==null?d:so(C),d=new L(b,T+"leave",m,n,h),d.target=x,d.relatedTarget=k,b=null,mi(h)===c&&(L=new L(E,T+"enter",C,n,h),L.target=k,L.relatedTarget=x,b=L),x=b,m&&C)t:{for(L=m,E=C,T=0,k=L;k;k=Xi(k))T++;for(k=0,b=E;b;b=Xi(b))k++;for(;0<T-k;)L=Xi(L),T--;for(;0<k-T;)E=Xi(E),k--;for(;T--;){if(L===E||E!==null&&L===E.alternate)break t;L=Xi(L),E=Xi(E)}L=null}else L=null;m!==null&&Zp(f,d,m,L,!1),C!==null&&x!==null&&Zp(f,x,C,L,!0)}}e:{if(d=c?so(c):window,m=d.nodeName&&d.nodeName.toLowerCase(),m==="select"||m==="input"&&d.type==="file")var N=gC;else if(jp(d))if(Iy)N=_C;else{N=vC;var A=mC}else(m=d.nodeName)&&m.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(N=yC);if(N&&(N=N(t,c))){Ly(f,N,n,h);break e}A&&A(t,d,c),t==="focusout"&&(A=d._wrapperState)&&A.controlled&&d.type==="number"&&qc(d,"number",d.value)}switch(A=c?so(c):window,t){case"focusin":(jp(A)||A.contentEditable==="true")&&(io=A,oh=c,As=null);break;case"focusout":As=oh=io=null;break;case"mousedown":sh=!0;break;case"contextmenu":case"mouseup":case"dragend":sh=!1,qp(f,n,h);break;case"selectionchange":if(CC)break;case"keydown":case"keyup":qp(f,n,h)}var S;if(Tf)e:{switch(t){case"compositionstart":var p="onCompositionStart";break e;case"compositionend":p="onCompositionEnd";break e;case"compositionupdate":p="onCompositionUpdate";break e}p=void 0}else ro?Sy(t,n)&&(p="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(p="onCompositionStart");p&&(Cy&&n.locale!=="ko"&&(ro||p!=="onCompositionStart"?p==="onCompositionEnd"&&ro&&(S=Ey()):(Dr=h,Ef="value"in Dr?Dr.value:Dr.textContent,ro=!0)),A=xl(c,p),0<A.length&&(p=new Up(p,t,null,n,h),f.push({event:p,listeners:A}),S?p.data=S:(S=Ty(n),S!==null&&(p.data=S)))),(S=cC?hC(t,n):fC(t,n))&&(c=xl(c,"onBeforeInput"),0<c.length&&(h=new Up("onBeforeInput","beforeinput",null,n,h),f.push({event:h,listeners:c}),h.data=S))}Ny(f,e)})}function Ks(t,e,n){return{instance:t,listener:e,currentTarget:n}}function xl(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=zs(t,n),o!=null&&r.unshift(Ks(t,o,i)),o=zs(t,e),o!=null&&r.push(Ks(t,o,i))),t=t.return}return r}function Xi(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Zp(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var a=n,u=a.alternate,c=a.stateNode;if(u!==null&&u===r)break;a.tag===5&&c!==null&&(a=c,i?(u=zs(n,o),u!=null&&s.unshift(Ks(n,u,a))):i||(u=zs(n,o),u!=null&&s.push(Ks(n,u,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var IC=/\r\n?/g,kC=/\u0000|\uFFFD/g;function Xp(t){return(typeof t=="string"?t:""+t).replace(IC,`
`).replace(kC,"")}function Ha(t,e,n){if(e=Xp(e),Xp(t)!==e&&n)throw Error(Y(425))}function Ml(){}var ah=null,lh=null;function uh(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var ch=typeof setTimeout=="function"?setTimeout:void 0,AC=typeof clearTimeout=="function"?clearTimeout:void 0,Yp=typeof Promise=="function"?Promise:void 0,PC=typeof queueMicrotask=="function"?queueMicrotask:typeof Yp<"u"?function(t){return Yp.resolve(null).then(t).catch(RC)}:ch;function RC(t){setTimeout(function(){throw t})}function gc(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Hs(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Hs(e)}function Br(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Jp(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Bo=Math.random().toString(36).slice(2),qn="__reactFiber$"+Bo,Qs="__reactProps$"+Bo,fr="__reactContainer$"+Bo,hh="__reactEvents$"+Bo,xC="__reactListeners$"+Bo,MC="__reactHandles$"+Bo;function mi(t){var e=t[qn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[fr]||n[qn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Jp(t);t!==null;){if(n=t[qn])return n;t=Jp(t)}return e}t=n,n=t.parentNode}return null}function da(t){return t=t[qn]||t[fr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function so(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Y(33))}function vu(t){return t[Qs]||null}var fh=[],ao=-1;function ni(t){return{current:t}}function Xe(t){0>ao||(t.current=fh[ao],fh[ao]=null,ao--)}function Ke(t,e){ao++,fh[ao]=t.current,t.current=e}var Xr={},Gt=ni(Xr),on=ni(!1),ki=Xr;function So(t,e){var n=t.type.contextTypes;if(!n)return Xr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function sn(t){return t=t.childContextTypes,t!=null}function bl(){Xe(on),Xe(Gt)}function eg(t,e,n){if(Gt.current!==Xr)throw Error(Y(168));Ke(Gt,e),Ke(on,n)}function Uy(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Y(108,mE(t)||"Unknown",i));return rt({},n,r)}function Dl(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Xr,ki=Gt.current,Ke(Gt,t),Ke(on,on.current),!0}function tg(t,e,n){var r=t.stateNode;if(!r)throw Error(Y(169));n?(t=Uy(t,e,ki),r.__reactInternalMemoizedMergedChildContext=t,Xe(on),Xe(Gt),Ke(Gt,t)):Xe(on),Ke(on,n)}var sr=null,yu=!1,mc=!1;function Fy(t){sr===null?sr=[t]:sr.push(t)}function bC(t){yu=!0,Fy(t)}function ri(){if(!mc&&sr!==null){mc=!0;var t=0,e=je;try{var n=sr;for(je=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}sr=null,yu=!1}catch(i){throw sr!==null&&(sr=sr.slice(t+1)),cy(vf,ri),i}finally{je=e,mc=!1}}return null}var lo=[],uo=0,Ol=null,Nl=0,Cn=[],Sn=0,Ai=null,ar=1,lr="";function di(t,e){lo[uo++]=Nl,lo[uo++]=Ol,Ol=t,Nl=e}function By(t,e,n){Cn[Sn++]=ar,Cn[Sn++]=lr,Cn[Sn++]=Ai,Ai=t;var r=ar;t=lr;var i=32-Vn(r)-1;r&=~(1<<i),n+=1;var o=32-Vn(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,ar=1<<32-Vn(e)+i|n<<i|r,lr=o+t}else ar=1<<o|n<<i|r,lr=t}function If(t){t.return!==null&&(di(t,1),By(t,1,0))}function kf(t){for(;t===Ol;)Ol=lo[--uo],lo[uo]=null,Nl=lo[--uo],lo[uo]=null;for(;t===Ai;)Ai=Cn[--Sn],Cn[Sn]=null,lr=Cn[--Sn],Cn[Sn]=null,ar=Cn[--Sn],Cn[Sn]=null}var vn=null,pn=null,Ye=!1,Nn=null;function zy(t,e){var n=Tn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function ng(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,vn=t,pn=Br(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,vn=t,pn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ai!==null?{id:ar,overflow:lr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Tn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,vn=t,pn=null,!0):!1;default:return!1}}function dh(t){return(t.mode&1)!==0&&(t.flags&128)===0}function ph(t){if(Ye){var e=pn;if(e){var n=e;if(!ng(t,e)){if(dh(t))throw Error(Y(418));e=Br(n.nextSibling);var r=vn;e&&ng(t,e)?zy(r,n):(t.flags=t.flags&-4097|2,Ye=!1,vn=t)}}else{if(dh(t))throw Error(Y(418));t.flags=t.flags&-4097|2,Ye=!1,vn=t}}}function rg(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;vn=t}function Wa(t){if(t!==vn)return!1;if(!Ye)return rg(t),Ye=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!uh(t.type,t.memoizedProps)),e&&(e=pn)){if(dh(t))throw jy(),Error(Y(418));for(;e;)zy(t,e),e=Br(e.nextSibling)}if(rg(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Y(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){pn=Br(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}pn=null}}else pn=vn?Br(t.stateNode.nextSibling):null;return!0}function jy(){for(var t=pn;t;)t=Br(t.nextSibling)}function To(){pn=vn=null,Ye=!1}function Af(t){Nn===null?Nn=[t]:Nn.push(t)}var DC=yr.ReactCurrentBatchConfig;function us(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Y(309));var r=n.stateNode}if(!r)throw Error(Y(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(Y(284));if(!n._owner)throw Error(Y(290,t))}return t}function Ga(t,e){throw t=Object.prototype.toString.call(e),Error(Y(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function ig(t){var e=t._init;return e(t._payload)}function $y(t){function e(E,T){if(t){var k=E.deletions;k===null?(E.deletions=[T],E.flags|=16):k.push(T)}}function n(E,T){if(!t)return null;for(;T!==null;)e(E,T),T=T.sibling;return null}function r(E,T){for(E=new Map;T!==null;)T.key!==null?E.set(T.key,T):E.set(T.index,T),T=T.sibling;return E}function i(E,T){return E=Hr(E,T),E.index=0,E.sibling=null,E}function o(E,T,k){return E.index=k,t?(k=E.alternate,k!==null?(k=k.index,k<T?(E.flags|=2,T):k):(E.flags|=2,T)):(E.flags|=1048576,T)}function s(E){return t&&E.alternate===null&&(E.flags|=2),E}function a(E,T,k,b){return T===null||T.tag!==6?(T=Sc(k,E.mode,b),T.return=E,T):(T=i(T,k),T.return=E,T)}function u(E,T,k,b){var N=k.type;return N===no?h(E,T,k.props.children,b,k.key):T!==null&&(T.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Ar&&ig(N)===T.type)?(b=i(T,k.props),b.ref=us(E,T,k),b.return=E,b):(b=vl(k.type,k.key,k.props,null,E.mode,b),b.ref=us(E,T,k),b.return=E,b)}function c(E,T,k,b){return T===null||T.tag!==4||T.stateNode.containerInfo!==k.containerInfo||T.stateNode.implementation!==k.implementation?(T=Tc(k,E.mode,b),T.return=E,T):(T=i(T,k.children||[]),T.return=E,T)}function h(E,T,k,b,N){return T===null||T.tag!==7?(T=Ti(k,E.mode,b,N),T.return=E,T):(T=i(T,k),T.return=E,T)}function f(E,T,k){if(typeof T=="string"&&T!==""||typeof T=="number")return T=Sc(""+T,E.mode,k),T.return=E,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Oa:return k=vl(T.type,T.key,T.props,null,E.mode,k),k.ref=us(E,null,T),k.return=E,k;case to:return T=Tc(T,E.mode,k),T.return=E,T;case Ar:var b=T._init;return f(E,b(T._payload),k)}if(ys(T)||is(T))return T=Ti(T,E.mode,k,null),T.return=E,T;Ga(E,T)}return null}function d(E,T,k,b){var N=T!==null?T.key:null;if(typeof k=="string"&&k!==""||typeof k=="number")return N!==null?null:a(E,T,""+k,b);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Oa:return k.key===N?u(E,T,k,b):null;case to:return k.key===N?c(E,T,k,b):null;case Ar:return N=k._init,d(E,T,N(k._payload),b)}if(ys(k)||is(k))return N!==null?null:h(E,T,k,b,null);Ga(E,k)}return null}function m(E,T,k,b,N){if(typeof b=="string"&&b!==""||typeof b=="number")return E=E.get(k)||null,a(T,E,""+b,N);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Oa:return E=E.get(b.key===null?k:b.key)||null,u(T,E,b,N);case to:return E=E.get(b.key===null?k:b.key)||null,c(T,E,b,N);case Ar:var A=b._init;return m(E,T,k,A(b._payload),N)}if(ys(b)||is(b))return E=E.get(k)||null,h(T,E,b,N,null);Ga(T,b)}return null}function C(E,T,k,b){for(var N=null,A=null,S=T,p=T=0,v=null;S!==null&&p<k.length;p++){S.index>p?(v=S,S=null):v=S.sibling;var y=d(E,S,k[p],b);if(y===null){S===null&&(S=v);break}t&&S&&y.alternate===null&&e(E,S),T=o(y,T,p),A===null?N=y:A.sibling=y,A=y,S=v}if(p===k.length)return n(E,S),Ye&&di(E,p),N;if(S===null){for(;p<k.length;p++)S=f(E,k[p],b),S!==null&&(T=o(S,T,p),A===null?N=S:A.sibling=S,A=S);return Ye&&di(E,p),N}for(S=r(E,S);p<k.length;p++)v=m(S,E,p,k[p],b),v!==null&&(t&&v.alternate!==null&&S.delete(v.key===null?p:v.key),T=o(v,T,p),A===null?N=v:A.sibling=v,A=v);return t&&S.forEach(function(P){return e(E,P)}),Ye&&di(E,p),N}function L(E,T,k,b){var N=is(k);if(typeof N!="function")throw Error(Y(150));if(k=N.call(k),k==null)throw Error(Y(151));for(var A=N=null,S=T,p=T=0,v=null,y=k.next();S!==null&&!y.done;p++,y=k.next()){S.index>p?(v=S,S=null):v=S.sibling;var P=d(E,S,y.value,b);if(P===null){S===null&&(S=v);break}t&&S&&P.alternate===null&&e(E,S),T=o(P,T,p),A===null?N=P:A.sibling=P,A=P,S=v}if(y.done)return n(E,S),Ye&&di(E,p),N;if(S===null){for(;!y.done;p++,y=k.next())y=f(E,y.value,b),y!==null&&(T=o(y,T,p),A===null?N=y:A.sibling=y,A=y);return Ye&&di(E,p),N}for(S=r(E,S);!y.done;p++,y=k.next())y=m(S,E,p,y.value,b),y!==null&&(t&&y.alternate!==null&&S.delete(y.key===null?p:y.key),T=o(y,T,p),A===null?N=y:A.sibling=y,A=y);return t&&S.forEach(function(R){return e(E,R)}),Ye&&di(E,p),N}function x(E,T,k,b){if(typeof k=="object"&&k!==null&&k.type===no&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case Oa:e:{for(var N=k.key,A=T;A!==null;){if(A.key===N){if(N=k.type,N===no){if(A.tag===7){n(E,A.sibling),T=i(A,k.props.children),T.return=E,E=T;break e}}else if(A.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Ar&&ig(N)===A.type){n(E,A.sibling),T=i(A,k.props),T.ref=us(E,A,k),T.return=E,E=T;break e}n(E,A);break}else e(E,A);A=A.sibling}k.type===no?(T=Ti(k.props.children,E.mode,b,k.key),T.return=E,E=T):(b=vl(k.type,k.key,k.props,null,E.mode,b),b.ref=us(E,T,k),b.return=E,E=b)}return s(E);case to:e:{for(A=k.key;T!==null;){if(T.key===A)if(T.tag===4&&T.stateNode.containerInfo===k.containerInfo&&T.stateNode.implementation===k.implementation){n(E,T.sibling),T=i(T,k.children||[]),T.return=E,E=T;break e}else{n(E,T);break}else e(E,T);T=T.sibling}T=Tc(k,E.mode,b),T.return=E,E=T}return s(E);case Ar:return A=k._init,x(E,T,A(k._payload),b)}if(ys(k))return C(E,T,k,b);if(is(k))return L(E,T,k,b);Ga(E,k)}return typeof k=="string"&&k!==""||typeof k=="number"?(k=""+k,T!==null&&T.tag===6?(n(E,T.sibling),T=i(T,k),T.return=E,E=T):(n(E,T),T=Sc(k,E.mode,b),T.return=E,E=T),s(E)):n(E,T)}return x}var Lo=$y(!0),Hy=$y(!1),Vl=ni(null),Ul=null,co=null,Pf=null;function Rf(){Pf=co=Ul=null}function xf(t){var e=Vl.current;Xe(Vl),t._currentValue=e}function gh(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function _o(t,e){Ul=t,Pf=co=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(rn=!0),t.firstContext=null)}function kn(t){var e=t._currentValue;if(Pf!==t)if(t={context:t,memoizedValue:e,next:null},co===null){if(Ul===null)throw Error(Y(308));co=t,Ul.dependencies={lanes:0,firstContext:t}}else co=co.next=t;return e}var vi=null;function Mf(t){vi===null?vi=[t]:vi.push(t)}function Wy(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Mf(e)):(n.next=i.next,i.next=n),e.interleaved=n,dr(t,r)}function dr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Pr=!1;function bf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Gy(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function cr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function zr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ne&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,dr(t,n)}return i=r.interleaved,i===null?(e.next=e,Mf(r)):(e.next=i.next,i.next=e),r.interleaved=e,dr(t,n)}function hl(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,yf(t,n)}}function og(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Fl(t,e,n,r){var i=t.updateQueue;Pr=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var u=a,c=u.next;u.next=null,s===null?o=c:s.next=c,s=u;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==s&&(a===null?h.firstBaseUpdate=c:a.next=c,h.lastBaseUpdate=u))}if(o!==null){var f=i.baseState;s=0,h=c=u=null,a=o;do{var d=a.lane,m=a.eventTime;if((r&d)===d){h!==null&&(h=h.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var C=t,L=a;switch(d=e,m=n,L.tag){case 1:if(C=L.payload,typeof C=="function"){f=C.call(m,f,d);break e}f=C;break e;case 3:C.flags=C.flags&-65537|128;case 0:if(C=L.payload,d=typeof C=="function"?C.call(m,f,d):C,d==null)break e;f=rt({},f,d);break e;case 2:Pr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,d=i.effects,d===null?i.effects=[a]:d.push(a))}else m={eventTime:m,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(c=h=m,u=f):h=h.next=m,s|=d;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;d=a,a=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(h===null&&(u=f),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=h,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);Ri|=s,t.lanes=s,t.memoizedState=f}}function sg(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Y(191,i));i.call(r)}}}var pa={},Zn=ni(pa),Zs=ni(pa),Xs=ni(pa);function yi(t){if(t===pa)throw Error(Y(174));return t}function Df(t,e){switch(Ke(Xs,e),Ke(Zs,t),Ke(Zn,pa),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Qc(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Qc(e,t)}Xe(Zn),Ke(Zn,e)}function Io(){Xe(Zn),Xe(Zs),Xe(Xs)}function qy(t){yi(Xs.current);var e=yi(Zn.current),n=Qc(e,t.type);e!==n&&(Ke(Zs,t),Ke(Zn,n))}function Of(t){Zs.current===t&&(Xe(Zn),Xe(Zs))}var tt=ni(0);function Bl(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var vc=[];function Nf(){for(var t=0;t<vc.length;t++)vc[t]._workInProgressVersionPrimary=null;vc.length=0}var fl=yr.ReactCurrentDispatcher,yc=yr.ReactCurrentBatchConfig,Pi=0,nt=null,gt=null,Ct=null,zl=!1,Ps=!1,Ys=0,OC=0;function Ft(){throw Error(Y(321))}function Vf(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Fn(t[n],e[n]))return!1;return!0}function Uf(t,e,n,r,i,o){if(Pi=o,nt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,fl.current=t===null||t.memoizedState===null?FC:BC,t=n(r,i),Ps){o=0;do{if(Ps=!1,Ys=0,25<=o)throw Error(Y(301));o+=1,Ct=gt=null,e.updateQueue=null,fl.current=zC,t=n(r,i)}while(Ps)}if(fl.current=jl,e=gt!==null&&gt.next!==null,Pi=0,Ct=gt=nt=null,zl=!1,e)throw Error(Y(300));return t}function Ff(){var t=Ys!==0;return Ys=0,t}function Wn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ct===null?nt.memoizedState=Ct=t:Ct=Ct.next=t,Ct}function An(){if(gt===null){var t=nt.alternate;t=t!==null?t.memoizedState:null}else t=gt.next;var e=Ct===null?nt.memoizedState:Ct.next;if(e!==null)Ct=e,gt=t;else{if(t===null)throw Error(Y(310));gt=t,t={memoizedState:gt.memoizedState,baseState:gt.baseState,baseQueue:gt.baseQueue,queue:gt.queue,next:null},Ct===null?nt.memoizedState=Ct=t:Ct=Ct.next=t}return Ct}function Js(t,e){return typeof e=="function"?e(t):e}function _c(t){var e=An(),n=e.queue;if(n===null)throw Error(Y(311));n.lastRenderedReducer=t;var r=gt,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,u=null,c=o;do{var h=c.lane;if((Pi&h)===h)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var f={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(a=u=f,s=r):u=u.next=f,nt.lanes|=h,Ri|=h}c=c.next}while(c!==null&&c!==o);u===null?s=r:u.next=a,Fn(r,e.memoizedState)||(rn=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,nt.lanes|=o,Ri|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function wc(t){var e=An(),n=e.queue;if(n===null)throw Error(Y(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);Fn(o,e.memoizedState)||(rn=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function Ky(){}function Qy(t,e){var n=nt,r=An(),i=e(),o=!Fn(r.memoizedState,i);if(o&&(r.memoizedState=i,rn=!0),r=r.queue,Bf(Yy.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||Ct!==null&&Ct.memoizedState.tag&1){if(n.flags|=2048,ea(9,Xy.bind(null,n,r,i,e),void 0,null),St===null)throw Error(Y(349));Pi&30||Zy(n,e,i)}return i}function Zy(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=nt.updateQueue,e===null?(e={lastEffect:null,stores:null},nt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Xy(t,e,n,r){e.value=n,e.getSnapshot=r,Jy(e)&&e0(t)}function Yy(t,e,n){return n(function(){Jy(e)&&e0(t)})}function Jy(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Fn(t,n)}catch{return!0}}function e0(t){var e=dr(t,1);e!==null&&Un(e,t,1,-1)}function ag(t){var e=Wn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Js,lastRenderedState:t},e.queue=t,t=t.dispatch=UC.bind(null,nt,t),[e.memoizedState,t]}function ea(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=nt.updateQueue,e===null?(e={lastEffect:null,stores:null},nt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function t0(){return An().memoizedState}function dl(t,e,n,r){var i=Wn();nt.flags|=t,i.memoizedState=ea(1|e,n,void 0,r===void 0?null:r)}function _u(t,e,n,r){var i=An();r=r===void 0?null:r;var o=void 0;if(gt!==null){var s=gt.memoizedState;if(o=s.destroy,r!==null&&Vf(r,s.deps)){i.memoizedState=ea(e,n,o,r);return}}nt.flags|=t,i.memoizedState=ea(1|e,n,o,r)}function lg(t,e){return dl(8390656,8,t,e)}function Bf(t,e){return _u(2048,8,t,e)}function n0(t,e){return _u(4,2,t,e)}function r0(t,e){return _u(4,4,t,e)}function i0(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function o0(t,e,n){return n=n!=null?n.concat([t]):null,_u(4,4,i0.bind(null,e,t),n)}function zf(){}function s0(t,e){var n=An();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Vf(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function a0(t,e){var n=An();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Vf(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function l0(t,e,n){return Pi&21?(Fn(n,e)||(n=dy(),nt.lanes|=n,Ri|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,rn=!0),t.memoizedState=n)}function NC(t,e){var n=je;je=n!==0&&4>n?n:4,t(!0);var r=yc.transition;yc.transition={};try{t(!1),e()}finally{je=n,yc.transition=r}}function u0(){return An().memoizedState}function VC(t,e,n){var r=$r(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},c0(t))h0(e,n);else if(n=Wy(t,e,n,r),n!==null){var i=Zt();Un(n,t,r,i),f0(n,e,r)}}function UC(t,e,n){var r=$r(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(c0(t))h0(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,Fn(a,s)){var u=e.interleaved;u===null?(i.next=i,Mf(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}n=Wy(t,e,i,r),n!==null&&(i=Zt(),Un(n,t,r,i),f0(n,e,r))}}function c0(t){var e=t.alternate;return t===nt||e!==null&&e===nt}function h0(t,e){Ps=zl=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function f0(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,yf(t,n)}}var jl={readContext:kn,useCallback:Ft,useContext:Ft,useEffect:Ft,useImperativeHandle:Ft,useInsertionEffect:Ft,useLayoutEffect:Ft,useMemo:Ft,useReducer:Ft,useRef:Ft,useState:Ft,useDebugValue:Ft,useDeferredValue:Ft,useTransition:Ft,useMutableSource:Ft,useSyncExternalStore:Ft,useId:Ft,unstable_isNewReconciler:!1},FC={readContext:kn,useCallback:function(t,e){return Wn().memoizedState=[t,e===void 0?null:e],t},useContext:kn,useEffect:lg,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,dl(4194308,4,i0.bind(null,e,t),n)},useLayoutEffect:function(t,e){return dl(4194308,4,t,e)},useInsertionEffect:function(t,e){return dl(4,2,t,e)},useMemo:function(t,e){var n=Wn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Wn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=VC.bind(null,nt,t),[r.memoizedState,t]},useRef:function(t){var e=Wn();return t={current:t},e.memoizedState=t},useState:ag,useDebugValue:zf,useDeferredValue:function(t){return Wn().memoizedState=t},useTransition:function(){var t=ag(!1),e=t[0];return t=NC.bind(null,t[1]),Wn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=nt,i=Wn();if(Ye){if(n===void 0)throw Error(Y(407));n=n()}else{if(n=e(),St===null)throw Error(Y(349));Pi&30||Zy(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,lg(Yy.bind(null,r,o,t),[t]),r.flags|=2048,ea(9,Xy.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=Wn(),e=St.identifierPrefix;if(Ye){var n=lr,r=ar;n=(r&~(1<<32-Vn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ys++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=OC++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},BC={readContext:kn,useCallback:s0,useContext:kn,useEffect:Bf,useImperativeHandle:o0,useInsertionEffect:n0,useLayoutEffect:r0,useMemo:a0,useReducer:_c,useRef:t0,useState:function(){return _c(Js)},useDebugValue:zf,useDeferredValue:function(t){var e=An();return l0(e,gt.memoizedState,t)},useTransition:function(){var t=_c(Js)[0],e=An().memoizedState;return[t,e]},useMutableSource:Ky,useSyncExternalStore:Qy,useId:u0,unstable_isNewReconciler:!1},zC={readContext:kn,useCallback:s0,useContext:kn,useEffect:Bf,useImperativeHandle:o0,useInsertionEffect:n0,useLayoutEffect:r0,useMemo:a0,useReducer:wc,useRef:t0,useState:function(){return wc(Js)},useDebugValue:zf,useDeferredValue:function(t){var e=An();return gt===null?e.memoizedState=t:l0(e,gt.memoizedState,t)},useTransition:function(){var t=wc(Js)[0],e=An().memoizedState;return[t,e]},useMutableSource:Ky,useSyncExternalStore:Qy,useId:u0,unstable_isNewReconciler:!1};function Dn(t,e){if(t&&t.defaultProps){e=rt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function mh(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:rt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var wu={isMounted:function(t){return(t=t._reactInternals)?Vi(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Zt(),i=$r(t),o=cr(r,i);o.payload=e,n!=null&&(o.callback=n),e=zr(t,o,i),e!==null&&(Un(e,t,i,r),hl(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Zt(),i=$r(t),o=cr(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=zr(t,o,i),e!==null&&(Un(e,t,i,r),hl(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Zt(),r=$r(t),i=cr(n,r);i.tag=2,e!=null&&(i.callback=e),e=zr(t,i,r),e!==null&&(Un(e,t,r,n),hl(e,t,r))}};function ug(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!Gs(n,r)||!Gs(i,o):!0}function d0(t,e,n){var r=!1,i=Xr,o=e.contextType;return typeof o=="object"&&o!==null?o=kn(o):(i=sn(e)?ki:Gt.current,r=e.contextTypes,o=(r=r!=null)?So(t,i):Xr),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=wu,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function cg(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&wu.enqueueReplaceState(e,e.state,null)}function vh(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},bf(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=kn(o):(o=sn(e)?ki:Gt.current,i.context=So(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(mh(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&wu.enqueueReplaceState(i,i.state,null),Fl(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function ko(t,e){try{var n="",r=e;do n+=gE(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function Ec(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function yh(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var jC=typeof WeakMap=="function"?WeakMap:Map;function p0(t,e,n){n=cr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Hl||(Hl=!0,Ah=r),yh(t,e)},n}function g0(t,e,n){n=cr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){yh(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){yh(t,e),typeof r!="function"&&(jr===null?jr=new Set([this]):jr.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function hg(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new jC;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=nS.bind(null,t,e,n),e.then(t,t))}function fg(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function dg(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=cr(-1,1),e.tag=2,zr(n,e,1))),n.lanes|=1),t)}var $C=yr.ReactCurrentOwner,rn=!1;function Qt(t,e,n,r){e.child=t===null?Hy(e,null,n,r):Lo(e,t.child,n,r)}function pg(t,e,n,r,i){n=n.render;var o=e.ref;return _o(e,i),r=Uf(t,e,n,r,o,i),n=Ff(),t!==null&&!rn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,pr(t,e,i)):(Ye&&n&&If(e),e.flags|=1,Qt(t,e,r,i),e.child)}function gg(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!Qf(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,m0(t,e,o,r,i)):(t=vl(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:Gs,n(s,r)&&t.ref===e.ref)return pr(t,e,i)}return e.flags|=1,t=Hr(o,r),t.ref=e.ref,t.return=e,e.child=t}function m0(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(Gs(o,r)&&t.ref===e.ref)if(rn=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(rn=!0);else return e.lanes=t.lanes,pr(t,e,i)}return _h(t,e,n,r,i)}function v0(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ke(fo,fn),fn|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ke(fo,fn),fn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Ke(fo,fn),fn|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,Ke(fo,fn),fn|=r;return Qt(t,e,i,n),e.child}function y0(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function _h(t,e,n,r,i){var o=sn(n)?ki:Gt.current;return o=So(e,o),_o(e,i),n=Uf(t,e,n,r,o,i),r=Ff(),t!==null&&!rn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,pr(t,e,i)):(Ye&&r&&If(e),e.flags|=1,Qt(t,e,n,i),e.child)}function mg(t,e,n,r,i){if(sn(n)){var o=!0;Dl(e)}else o=!1;if(_o(e,i),e.stateNode===null)pl(t,e),d0(e,n,r),vh(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var u=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=kn(c):(c=sn(n)?ki:Gt.current,c=So(e,c));var h=n.getDerivedStateFromProps,f=typeof h=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||u!==c)&&cg(e,s,r,c),Pr=!1;var d=e.memoizedState;s.state=d,Fl(e,r,s,i),u=e.memoizedState,a!==r||d!==u||on.current||Pr?(typeof h=="function"&&(mh(e,n,h,r),u=e.memoizedState),(a=Pr||ug(e,n,a,r,d,u,c))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),s.props=r,s.state=u,s.context=c,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,Gy(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Dn(e.type,a),s.props=c,f=e.pendingProps,d=s.context,u=n.contextType,typeof u=="object"&&u!==null?u=kn(u):(u=sn(n)?ki:Gt.current,u=So(e,u));var m=n.getDerivedStateFromProps;(h=typeof m=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==f||d!==u)&&cg(e,s,r,u),Pr=!1,d=e.memoizedState,s.state=d,Fl(e,r,s,i);var C=e.memoizedState;a!==f||d!==C||on.current||Pr?(typeof m=="function"&&(mh(e,n,m,r),C=e.memoizedState),(c=Pr||ug(e,n,c,r,d,C,u)||!1)?(h||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,C,u),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,C,u)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=C),s.props=r,s.state=C,s.context=u,r=c):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return wh(t,e,n,r,o,i)}function wh(t,e,n,r,i,o){y0(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&tg(e,n,!1),pr(t,e,o);r=e.stateNode,$C.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=Lo(e,t.child,null,o),e.child=Lo(e,null,a,o)):Qt(t,e,a,o),e.memoizedState=r.state,i&&tg(e,n,!0),e.child}function _0(t){var e=t.stateNode;e.pendingContext?eg(t,e.pendingContext,e.pendingContext!==e.context):e.context&&eg(t,e.context,!1),Df(t,e.containerInfo)}function vg(t,e,n,r,i){return To(),Af(i),e.flags|=256,Qt(t,e,n,r),e.child}var Eh={dehydrated:null,treeContext:null,retryLane:0};function Ch(t){return{baseLanes:t,cachePool:null,transitions:null}}function w0(t,e,n){var r=e.pendingProps,i=tt.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ke(tt,i&1),t===null)return ph(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=Su(s,r,0,null),t=Ti(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=Ch(n),e.memoizedState=Eh,t):jf(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return HC(t,e,s,r,a,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,a=i.sibling;var u={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=Hr(i,u),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=Hr(a,o):(o=Ti(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?Ch(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=Eh,r}return o=t.child,t=o.sibling,r=Hr(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function jf(t,e){return e=Su({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function qa(t,e,n,r){return r!==null&&Af(r),Lo(e,t.child,null,n),t=jf(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function HC(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=Ec(Error(Y(422))),qa(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=Su({mode:"visible",children:r.children},i,0,null),o=Ti(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&Lo(e,t.child,null,s),e.child.memoizedState=Ch(s),e.memoizedState=Eh,o);if(!(e.mode&1))return qa(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(Y(419)),r=Ec(o,r,void 0),qa(t,e,s,r)}if(a=(s&t.childLanes)!==0,rn||a){if(r=St,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,dr(t,i),Un(r,t,i,-1))}return Kf(),r=Ec(Error(Y(421))),qa(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=rS.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,pn=Br(i.nextSibling),vn=e,Ye=!0,Nn=null,t!==null&&(Cn[Sn++]=ar,Cn[Sn++]=lr,Cn[Sn++]=Ai,ar=t.id,lr=t.overflow,Ai=e),e=jf(e,r.children),e.flags|=4096,e)}function yg(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),gh(t.return,e,n)}function Cc(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function E0(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(Qt(t,e,r.children,n),r=tt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&yg(t,n,e);else if(t.tag===19)yg(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ke(tt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Bl(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Cc(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Bl(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Cc(e,!0,n,null,o);break;case"together":Cc(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function pl(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function pr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ri|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Y(153));if(e.child!==null){for(t=e.child,n=Hr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Hr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function WC(t,e,n){switch(e.tag){case 3:_0(e),To();break;case 5:qy(e);break;case 1:sn(e.type)&&Dl(e);break;case 4:Df(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ke(Vl,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ke(tt,tt.current&1),e.flags|=128,null):n&e.child.childLanes?w0(t,e,n):(Ke(tt,tt.current&1),t=pr(t,e,n),t!==null?t.sibling:null);Ke(tt,tt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return E0(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ke(tt,tt.current),r)break;return null;case 22:case 23:return e.lanes=0,v0(t,e,n)}return pr(t,e,n)}var C0,Sh,S0,T0;C0=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Sh=function(){};S0=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,yi(Zn.current);var o=null;switch(n){case"input":i=Wc(t,i),r=Wc(t,r),o=[];break;case"select":i=rt({},i,{value:void 0}),r=rt({},r,{value:void 0}),o=[];break;case"textarea":i=Kc(t,i),r=Kc(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Ml)}Zc(n,r);var s;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Fs.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var u=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&u!==a&&(u!=null||a!=null))if(c==="style")if(a){for(s in a)!a.hasOwnProperty(s)||u&&u.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in u)u.hasOwnProperty(s)&&a[s]!==u[s]&&(n||(n={}),n[s]=u[s])}else n||(o||(o=[]),o.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(o=o||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(o=o||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Fs.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&Ze("scroll",t),o||a===u||(o=[])):(o=o||[]).push(c,u))}n&&(o=o||[]).push("style",n);var c=o;(e.updateQueue=c)&&(e.flags|=4)}};T0=function(t,e,n,r){n!==r&&(e.flags|=4)};function cs(t,e){if(!Ye)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Bt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function GC(t,e,n){var r=e.pendingProps;switch(kf(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Bt(e),null;case 1:return sn(e.type)&&bl(),Bt(e),null;case 3:return r=e.stateNode,Io(),Xe(on),Xe(Gt),Nf(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Wa(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Nn!==null&&(xh(Nn),Nn=null))),Sh(t,e),Bt(e),null;case 5:Of(e);var i=yi(Xs.current);if(n=e.type,t!==null&&e.stateNode!=null)S0(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Y(166));return Bt(e),null}if(t=yi(Zn.current),Wa(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[qn]=e,r[Qs]=o,t=(e.mode&1)!==0,n){case"dialog":Ze("cancel",r),Ze("close",r);break;case"iframe":case"object":case"embed":Ze("load",r);break;case"video":case"audio":for(i=0;i<ws.length;i++)Ze(ws[i],r);break;case"source":Ze("error",r);break;case"img":case"image":case"link":Ze("error",r),Ze("load",r);break;case"details":Ze("toggle",r);break;case"input":kp(r,o),Ze("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ze("invalid",r);break;case"textarea":Pp(r,o),Ze("invalid",r)}Zc(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&Ha(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&Ha(r.textContent,a,t),i=["children",""+a]):Fs.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&Ze("scroll",r)}switch(n){case"input":Na(r),Ap(r,o,!0);break;case"textarea":Na(r),Rp(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Ml)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Yv(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[qn]=e,t[Qs]=r,C0(t,e,!1,!1),e.stateNode=t;e:{switch(s=Xc(n,r),n){case"dialog":Ze("cancel",t),Ze("close",t),i=r;break;case"iframe":case"object":case"embed":Ze("load",t),i=r;break;case"video":case"audio":for(i=0;i<ws.length;i++)Ze(ws[i],t);i=r;break;case"source":Ze("error",t),i=r;break;case"img":case"image":case"link":Ze("error",t),Ze("load",t),i=r;break;case"details":Ze("toggle",t),i=r;break;case"input":kp(t,r),i=Wc(t,r),Ze("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=rt({},r,{value:void 0}),Ze("invalid",t);break;case"textarea":Pp(t,r),i=Kc(t,r),Ze("invalid",t);break;default:i=r}Zc(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var u=a[o];o==="style"?ty(t,u):o==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&Jv(t,u)):o==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&Bs(t,u):typeof u=="number"&&Bs(t,""+u):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Fs.hasOwnProperty(o)?u!=null&&o==="onScroll"&&Ze("scroll",t):u!=null&&ff(t,o,u,s))}switch(n){case"input":Na(t),Ap(t,r,!1);break;case"textarea":Na(t),Rp(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Zr(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?go(t,!!r.multiple,o,!1):r.defaultValue!=null&&go(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Ml)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Bt(e),null;case 6:if(t&&e.stateNode!=null)T0(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Y(166));if(n=yi(Xs.current),yi(Zn.current),Wa(e)){if(r=e.stateNode,n=e.memoizedProps,r[qn]=e,(o=r.nodeValue!==n)&&(t=vn,t!==null))switch(t.tag){case 3:Ha(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ha(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[qn]=e,e.stateNode=r}return Bt(e),null;case 13:if(Xe(tt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ye&&pn!==null&&e.mode&1&&!(e.flags&128))jy(),To(),e.flags|=98560,o=!1;else if(o=Wa(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(Y(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(Y(317));o[qn]=e}else To(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Bt(e),o=!1}else Nn!==null&&(xh(Nn),Nn=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||tt.current&1?vt===0&&(vt=3):Kf())),e.updateQueue!==null&&(e.flags|=4),Bt(e),null);case 4:return Io(),Sh(t,e),t===null&&qs(e.stateNode.containerInfo),Bt(e),null;case 10:return xf(e.type._context),Bt(e),null;case 17:return sn(e.type)&&bl(),Bt(e),null;case 19:if(Xe(tt),o=e.memoizedState,o===null)return Bt(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)cs(o,!1);else{if(vt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=Bl(t),s!==null){for(e.flags|=128,cs(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ke(tt,tt.current&1|2),e.child}t=t.sibling}o.tail!==null&&ht()>Ao&&(e.flags|=128,r=!0,cs(o,!1),e.lanes=4194304)}else{if(!r)if(t=Bl(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),cs(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!Ye)return Bt(e),null}else 2*ht()-o.renderingStartTime>Ao&&n!==1073741824&&(e.flags|=128,r=!0,cs(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=ht(),e.sibling=null,n=tt.current,Ke(tt,r?n&1|2:n&1),e):(Bt(e),null);case 22:case 23:return qf(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?fn&1073741824&&(Bt(e),e.subtreeFlags&6&&(e.flags|=8192)):Bt(e),null;case 24:return null;case 25:return null}throw Error(Y(156,e.tag))}function qC(t,e){switch(kf(e),e.tag){case 1:return sn(e.type)&&bl(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Io(),Xe(on),Xe(Gt),Nf(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Of(e),null;case 13:if(Xe(tt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Y(340));To()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Xe(tt),null;case 4:return Io(),null;case 10:return xf(e.type._context),null;case 22:case 23:return qf(),null;case 24:return null;default:return null}}var Ka=!1,Ht=!1,KC=typeof WeakSet=="function"?WeakSet:Set,re=null;function ho(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){st(t,e,r)}else n.current=null}function Th(t,e,n){try{n()}catch(r){st(t,e,r)}}var _g=!1;function QC(t,e){if(ah=Pl,t=Py(),Lf(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,u=-1,c=0,h=0,f=t,d=null;t:for(;;){for(var m;f!==n||i!==0&&f.nodeType!==3||(a=s+i),f!==o||r!==0&&f.nodeType!==3||(u=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(m=f.firstChild)!==null;)d=f,f=m;for(;;){if(f===t)break t;if(d===n&&++c===i&&(a=s),d===o&&++h===r&&(u=s),(m=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=m}n=a===-1||u===-1?null:{start:a,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(lh={focusedElem:t,selectionRange:n},Pl=!1,re=e;re!==null;)if(e=re,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,re=t;else for(;re!==null;){e=re;try{var C=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(C!==null){var L=C.memoizedProps,x=C.memoizedState,E=e.stateNode,T=E.getSnapshotBeforeUpdate(e.elementType===e.type?L:Dn(e.type,L),x);E.__reactInternalSnapshotBeforeUpdate=T}break;case 3:var k=e.stateNode.containerInfo;k.nodeType===1?k.textContent="":k.nodeType===9&&k.documentElement&&k.removeChild(k.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Y(163))}}catch(b){st(e,e.return,b)}if(t=e.sibling,t!==null){t.return=e.return,re=t;break}re=e.return}return C=_g,_g=!1,C}function Rs(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&Th(e,n,o)}i=i.next}while(i!==r)}}function Eu(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Lh(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function L0(t){var e=t.alternate;e!==null&&(t.alternate=null,L0(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[qn],delete e[Qs],delete e[hh],delete e[xC],delete e[MC])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function I0(t){return t.tag===5||t.tag===3||t.tag===4}function wg(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||I0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ih(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Ml));else if(r!==4&&(t=t.child,t!==null))for(Ih(t,e,n),t=t.sibling;t!==null;)Ih(t,e,n),t=t.sibling}function kh(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(kh(t,e,n),t=t.sibling;t!==null;)kh(t,e,n),t=t.sibling}var At=null,On=!1;function Ir(t,e,n){for(n=n.child;n!==null;)k0(t,e,n),n=n.sibling}function k0(t,e,n){if(Qn&&typeof Qn.onCommitFiberUnmount=="function")try{Qn.onCommitFiberUnmount(du,n)}catch{}switch(n.tag){case 5:Ht||ho(n,e);case 6:var r=At,i=On;At=null,Ir(t,e,n),At=r,On=i,At!==null&&(On?(t=At,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):At.removeChild(n.stateNode));break;case 18:At!==null&&(On?(t=At,n=n.stateNode,t.nodeType===8?gc(t.parentNode,n):t.nodeType===1&&gc(t,n),Hs(t)):gc(At,n.stateNode));break;case 4:r=At,i=On,At=n.stateNode.containerInfo,On=!0,Ir(t,e,n),At=r,On=i;break;case 0:case 11:case 14:case 15:if(!Ht&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&Th(n,e,s),i=i.next}while(i!==r)}Ir(t,e,n);break;case 1:if(!Ht&&(ho(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){st(n,e,a)}Ir(t,e,n);break;case 21:Ir(t,e,n);break;case 22:n.mode&1?(Ht=(r=Ht)||n.memoizedState!==null,Ir(t,e,n),Ht=r):Ir(t,e,n);break;default:Ir(t,e,n)}}function Eg(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new KC),e.forEach(function(r){var i=iS.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Mn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:At=a.stateNode,On=!1;break e;case 3:At=a.stateNode.containerInfo,On=!0;break e;case 4:At=a.stateNode.containerInfo,On=!0;break e}a=a.return}if(At===null)throw Error(Y(160));k0(o,s,i),At=null,On=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(c){st(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)A0(e,t),e=e.sibling}function A0(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Mn(e,t),Hn(t),r&4){try{Rs(3,t,t.return),Eu(3,t)}catch(L){st(t,t.return,L)}try{Rs(5,t,t.return)}catch(L){st(t,t.return,L)}}break;case 1:Mn(e,t),Hn(t),r&512&&n!==null&&ho(n,n.return);break;case 5:if(Mn(e,t),Hn(t),r&512&&n!==null&&ho(n,n.return),t.flags&32){var i=t.stateNode;try{Bs(i,"")}catch(L){st(t,t.return,L)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&Zv(i,o),Xc(a,s);var c=Xc(a,o);for(s=0;s<u.length;s+=2){var h=u[s],f=u[s+1];h==="style"?ty(i,f):h==="dangerouslySetInnerHTML"?Jv(i,f):h==="children"?Bs(i,f):ff(i,h,f,c)}switch(a){case"input":Gc(i,o);break;case"textarea":Xv(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var m=o.value;m!=null?go(i,!!o.multiple,m,!1):d!==!!o.multiple&&(o.defaultValue!=null?go(i,!!o.multiple,o.defaultValue,!0):go(i,!!o.multiple,o.multiple?[]:"",!1))}i[Qs]=o}catch(L){st(t,t.return,L)}}break;case 6:if(Mn(e,t),Hn(t),r&4){if(t.stateNode===null)throw Error(Y(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(L){st(t,t.return,L)}}break;case 3:if(Mn(e,t),Hn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Hs(e.containerInfo)}catch(L){st(t,t.return,L)}break;case 4:Mn(e,t),Hn(t);break;case 13:Mn(e,t),Hn(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(Wf=ht())),r&4&&Eg(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(Ht=(c=Ht)||h,Mn(e,t),Ht=c):Mn(e,t),Hn(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!h&&t.mode&1)for(re=t,h=t.child;h!==null;){for(f=re=h;re!==null;){switch(d=re,m=d.child,d.tag){case 0:case 11:case 14:case 15:Rs(4,d,d.return);break;case 1:ho(d,d.return);var C=d.stateNode;if(typeof C.componentWillUnmount=="function"){r=d,n=d.return;try{e=r,C.props=e.memoizedProps,C.state=e.memoizedState,C.componentWillUnmount()}catch(L){st(r,n,L)}}break;case 5:ho(d,d.return);break;case 22:if(d.memoizedState!==null){Sg(f);continue}}m!==null?(m.return=d,re=m):Sg(f)}h=h.sibling}e:for(h=null,f=t;;){if(f.tag===5){if(h===null){h=f;try{i=f.stateNode,c?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=f.stateNode,u=f.memoizedProps.style,s=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=ey("display",s))}catch(L){st(t,t.return,L)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(L){st(t,t.return,L)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Mn(e,t),Hn(t),r&4&&Eg(t);break;case 21:break;default:Mn(e,t),Hn(t)}}function Hn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(I0(n)){var r=n;break e}n=n.return}throw Error(Y(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Bs(i,""),r.flags&=-33);var o=wg(t);kh(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=wg(t);Ih(t,a,s);break;default:throw Error(Y(161))}}catch(u){st(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function ZC(t,e,n){re=t,P0(t)}function P0(t,e,n){for(var r=(t.mode&1)!==0;re!==null;){var i=re,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||Ka;if(!s){var a=i.alternate,u=a!==null&&a.memoizedState!==null||Ht;a=Ka;var c=Ht;if(Ka=s,(Ht=u)&&!c)for(re=i;re!==null;)s=re,u=s.child,s.tag===22&&s.memoizedState!==null?Tg(i):u!==null?(u.return=s,re=u):Tg(i);for(;o!==null;)re=o,P0(o),o=o.sibling;re=i,Ka=a,Ht=c}Cg(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,re=o):Cg(t)}}function Cg(t){for(;re!==null;){var e=re;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ht||Eu(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ht)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Dn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&sg(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}sg(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var h=c.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&Hs(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Y(163))}Ht||e.flags&512&&Lh(e)}catch(d){st(e,e.return,d)}}if(e===t){re=null;break}if(n=e.sibling,n!==null){n.return=e.return,re=n;break}re=e.return}}function Sg(t){for(;re!==null;){var e=re;if(e===t){re=null;break}var n=e.sibling;if(n!==null){n.return=e.return,re=n;break}re=e.return}}function Tg(t){for(;re!==null;){var e=re;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Eu(4,e)}catch(u){st(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(u){st(e,i,u)}}var o=e.return;try{Lh(e)}catch(u){st(e,o,u)}break;case 5:var s=e.return;try{Lh(e)}catch(u){st(e,s,u)}}}catch(u){st(e,e.return,u)}if(e===t){re=null;break}var a=e.sibling;if(a!==null){a.return=e.return,re=a;break}re=e.return}}var XC=Math.ceil,$l=yr.ReactCurrentDispatcher,$f=yr.ReactCurrentOwner,Ln=yr.ReactCurrentBatchConfig,Ne=0,St=null,pt=null,xt=0,fn=0,fo=ni(0),vt=0,ta=null,Ri=0,Cu=0,Hf=0,xs=null,en=null,Wf=0,Ao=1/0,or=null,Hl=!1,Ah=null,jr=null,Qa=!1,Or=null,Wl=0,Ms=0,Ph=null,gl=-1,ml=0;function Zt(){return Ne&6?ht():gl!==-1?gl:gl=ht()}function $r(t){return t.mode&1?Ne&2&&xt!==0?xt&-xt:DC.transition!==null?(ml===0&&(ml=dy()),ml):(t=je,t!==0||(t=window.event,t=t===void 0?16:wy(t.type)),t):1}function Un(t,e,n,r){if(50<Ms)throw Ms=0,Ph=null,Error(Y(185));ha(t,n,r),(!(Ne&2)||t!==St)&&(t===St&&(!(Ne&2)&&(Cu|=n),vt===4&&Mr(t,xt)),an(t,r),n===1&&Ne===0&&!(e.mode&1)&&(Ao=ht()+500,yu&&ri()))}function an(t,e){var n=t.callbackNode;DE(t,e);var r=Al(t,t===St?xt:0);if(r===0)n!==null&&bp(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&bp(n),e===1)t.tag===0?bC(Lg.bind(null,t)):Fy(Lg.bind(null,t)),PC(function(){!(Ne&6)&&ri()}),n=null;else{switch(py(r)){case 1:n=vf;break;case 4:n=hy;break;case 16:n=kl;break;case 536870912:n=fy;break;default:n=kl}n=V0(n,R0.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function R0(t,e){if(gl=-1,ml=0,Ne&6)throw Error(Y(327));var n=t.callbackNode;if(wo()&&t.callbackNode!==n)return null;var r=Al(t,t===St?xt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Gl(t,r);else{e=r;var i=Ne;Ne|=2;var o=M0();(St!==t||xt!==e)&&(or=null,Ao=ht()+500,Si(t,e));do try{eS();break}catch(a){x0(t,a)}while(!0);Rf(),$l.current=o,Ne=i,pt!==null?e=0:(St=null,xt=0,e=vt)}if(e!==0){if(e===2&&(i=nh(t),i!==0&&(r=i,e=Rh(t,i))),e===1)throw n=ta,Si(t,0),Mr(t,r),an(t,ht()),n;if(e===6)Mr(t,r);else{if(i=t.current.alternate,!(r&30)&&!YC(i)&&(e=Gl(t,r),e===2&&(o=nh(t),o!==0&&(r=o,e=Rh(t,o))),e===1))throw n=ta,Si(t,0),Mr(t,r),an(t,ht()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(Y(345));case 2:pi(t,en,or);break;case 3:if(Mr(t,r),(r&130023424)===r&&(e=Wf+500-ht(),10<e)){if(Al(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Zt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=ch(pi.bind(null,t,en,or),e);break}pi(t,en,or);break;case 4:if(Mr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-Vn(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=ht()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*XC(r/1960))-r,10<r){t.timeoutHandle=ch(pi.bind(null,t,en,or),r);break}pi(t,en,or);break;case 5:pi(t,en,or);break;default:throw Error(Y(329))}}}return an(t,ht()),t.callbackNode===n?R0.bind(null,t):null}function Rh(t,e){var n=xs;return t.current.memoizedState.isDehydrated&&(Si(t,e).flags|=256),t=Gl(t,e),t!==2&&(e=en,en=n,e!==null&&xh(e)),t}function xh(t){en===null?en=t:en.push.apply(en,t)}function YC(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Fn(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Mr(t,e){for(e&=~Hf,e&=~Cu,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Vn(e),r=1<<n;t[n]=-1,e&=~r}}function Lg(t){if(Ne&6)throw Error(Y(327));wo();var e=Al(t,0);if(!(e&1))return an(t,ht()),null;var n=Gl(t,e);if(t.tag!==0&&n===2){var r=nh(t);r!==0&&(e=r,n=Rh(t,r))}if(n===1)throw n=ta,Si(t,0),Mr(t,e),an(t,ht()),n;if(n===6)throw Error(Y(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,pi(t,en,or),an(t,ht()),null}function Gf(t,e){var n=Ne;Ne|=1;try{return t(e)}finally{Ne=n,Ne===0&&(Ao=ht()+500,yu&&ri())}}function xi(t){Or!==null&&Or.tag===0&&!(Ne&6)&&wo();var e=Ne;Ne|=1;var n=Ln.transition,r=je;try{if(Ln.transition=null,je=1,t)return t()}finally{je=r,Ln.transition=n,Ne=e,!(Ne&6)&&ri()}}function qf(){fn=fo.current,Xe(fo)}function Si(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,AC(n)),pt!==null)for(n=pt.return;n!==null;){var r=n;switch(kf(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&bl();break;case 3:Io(),Xe(on),Xe(Gt),Nf();break;case 5:Of(r);break;case 4:Io();break;case 13:Xe(tt);break;case 19:Xe(tt);break;case 10:xf(r.type._context);break;case 22:case 23:qf()}n=n.return}if(St=t,pt=t=Hr(t.current,null),xt=fn=e,vt=0,ta=null,Hf=Cu=Ri=0,en=xs=null,vi!==null){for(e=0;e<vi.length;e++)if(n=vi[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}vi=null}return t}function x0(t,e){do{var n=pt;try{if(Rf(),fl.current=jl,zl){for(var r=nt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}zl=!1}if(Pi=0,Ct=gt=nt=null,Ps=!1,Ys=0,$f.current=null,n===null||n.return===null){vt=1,ta=e,pt=null;break}e:{var o=t,s=n.return,a=n,u=e;if(e=xt,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,h=a,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var d=h.alternate;d?(h.updateQueue=d.updateQueue,h.memoizedState=d.memoizedState,h.lanes=d.lanes):(h.updateQueue=null,h.memoizedState=null)}var m=fg(s);if(m!==null){m.flags&=-257,dg(m,s,a,o,e),m.mode&1&&hg(o,c,e),e=m,u=c;var C=e.updateQueue;if(C===null){var L=new Set;L.add(u),e.updateQueue=L}else C.add(u);break e}else{if(!(e&1)){hg(o,c,e),Kf();break e}u=Error(Y(426))}}else if(Ye&&a.mode&1){var x=fg(s);if(x!==null){!(x.flags&65536)&&(x.flags|=256),dg(x,s,a,o,e),Af(ko(u,a));break e}}o=u=ko(u,a),vt!==4&&(vt=2),xs===null?xs=[o]:xs.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var E=p0(o,u,e);og(o,E);break e;case 1:a=u;var T=o.type,k=o.stateNode;if(!(o.flags&128)&&(typeof T.getDerivedStateFromError=="function"||k!==null&&typeof k.componentDidCatch=="function"&&(jr===null||!jr.has(k)))){o.flags|=65536,e&=-e,o.lanes|=e;var b=g0(o,a,e);og(o,b);break e}}o=o.return}while(o!==null)}D0(n)}catch(N){e=N,pt===n&&n!==null&&(pt=n=n.return);continue}break}while(!0)}function M0(){var t=$l.current;return $l.current=jl,t===null?jl:t}function Kf(){(vt===0||vt===3||vt===2)&&(vt=4),St===null||!(Ri&268435455)&&!(Cu&268435455)||Mr(St,xt)}function Gl(t,e){var n=Ne;Ne|=2;var r=M0();(St!==t||xt!==e)&&(or=null,Si(t,e));do try{JC();break}catch(i){x0(t,i)}while(!0);if(Rf(),Ne=n,$l.current=r,pt!==null)throw Error(Y(261));return St=null,xt=0,vt}function JC(){for(;pt!==null;)b0(pt)}function eS(){for(;pt!==null&&!LE();)b0(pt)}function b0(t){var e=N0(t.alternate,t,fn);t.memoizedProps=t.pendingProps,e===null?D0(t):pt=e,$f.current=null}function D0(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=qC(n,e),n!==null){n.flags&=32767,pt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{vt=6,pt=null;return}}else if(n=GC(n,e,fn),n!==null){pt=n;return}if(e=e.sibling,e!==null){pt=e;return}pt=e=t}while(e!==null);vt===0&&(vt=5)}function pi(t,e,n){var r=je,i=Ln.transition;try{Ln.transition=null,je=1,tS(t,e,n,r)}finally{Ln.transition=i,je=r}return null}function tS(t,e,n,r){do wo();while(Or!==null);if(Ne&6)throw Error(Y(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Y(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(OE(t,o),t===St&&(pt=St=null,xt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Qa||(Qa=!0,V0(kl,function(){return wo(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Ln.transition,Ln.transition=null;var s=je;je=1;var a=Ne;Ne|=4,$f.current=null,QC(t,n),A0(n,t),EC(lh),Pl=!!ah,lh=ah=null,t.current=n,ZC(n),IE(),Ne=a,je=s,Ln.transition=o}else t.current=n;if(Qa&&(Qa=!1,Or=t,Wl=i),o=t.pendingLanes,o===0&&(jr=null),PE(n.stateNode),an(t,ht()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Hl)throw Hl=!1,t=Ah,Ah=null,t;return Wl&1&&t.tag!==0&&wo(),o=t.pendingLanes,o&1?t===Ph?Ms++:(Ms=0,Ph=t):Ms=0,ri(),null}function wo(){if(Or!==null){var t=py(Wl),e=Ln.transition,n=je;try{if(Ln.transition=null,je=16>t?16:t,Or===null)var r=!1;else{if(t=Or,Or=null,Wl=0,Ne&6)throw Error(Y(331));var i=Ne;for(Ne|=4,re=t.current;re!==null;){var o=re,s=o.child;if(re.flags&16){var a=o.deletions;if(a!==null){for(var u=0;u<a.length;u++){var c=a[u];for(re=c;re!==null;){var h=re;switch(h.tag){case 0:case 11:case 15:Rs(8,h,o)}var f=h.child;if(f!==null)f.return=h,re=f;else for(;re!==null;){h=re;var d=h.sibling,m=h.return;if(L0(h),h===c){re=null;break}if(d!==null){d.return=m,re=d;break}re=m}}}var C=o.alternate;if(C!==null){var L=C.child;if(L!==null){C.child=null;do{var x=L.sibling;L.sibling=null,L=x}while(L!==null)}}re=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,re=s;else e:for(;re!==null;){if(o=re,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Rs(9,o,o.return)}var E=o.sibling;if(E!==null){E.return=o.return,re=E;break e}re=o.return}}var T=t.current;for(re=T;re!==null;){s=re;var k=s.child;if(s.subtreeFlags&2064&&k!==null)k.return=s,re=k;else e:for(s=T;re!==null;){if(a=re,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Eu(9,a)}}catch(N){st(a,a.return,N)}if(a===s){re=null;break e}var b=a.sibling;if(b!==null){b.return=a.return,re=b;break e}re=a.return}}if(Ne=i,ri(),Qn&&typeof Qn.onPostCommitFiberRoot=="function")try{Qn.onPostCommitFiberRoot(du,t)}catch{}r=!0}return r}finally{je=n,Ln.transition=e}}return!1}function Ig(t,e,n){e=ko(n,e),e=p0(t,e,1),t=zr(t,e,1),e=Zt(),t!==null&&(ha(t,1,e),an(t,e))}function st(t,e,n){if(t.tag===3)Ig(t,t,n);else for(;e!==null;){if(e.tag===3){Ig(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(jr===null||!jr.has(r))){t=ko(n,t),t=g0(e,t,1),e=zr(e,t,1),t=Zt(),e!==null&&(ha(e,1,t),an(e,t));break}}e=e.return}}function nS(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Zt(),t.pingedLanes|=t.suspendedLanes&n,St===t&&(xt&n)===n&&(vt===4||vt===3&&(xt&130023424)===xt&&500>ht()-Wf?Si(t,0):Hf|=n),an(t,e)}function O0(t,e){e===0&&(t.mode&1?(e=Fa,Fa<<=1,!(Fa&130023424)&&(Fa=4194304)):e=1);var n=Zt();t=dr(t,e),t!==null&&(ha(t,e,n),an(t,n))}function rS(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),O0(t,n)}function iS(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Y(314))}r!==null&&r.delete(e),O0(t,n)}var N0;N0=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||on.current)rn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return rn=!1,WC(t,e,n);rn=!!(t.flags&131072)}else rn=!1,Ye&&e.flags&1048576&&By(e,Nl,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;pl(t,e),t=e.pendingProps;var i=So(e,Gt.current);_o(e,n),i=Uf(null,e,r,t,i,n);var o=Ff();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,sn(r)?(o=!0,Dl(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,bf(e),i.updater=wu,e.stateNode=i,i._reactInternals=e,vh(e,r,t,n),e=wh(null,e,r,!0,o,n)):(e.tag=0,Ye&&o&&If(e),Qt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(pl(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=sS(r),t=Dn(r,t),i){case 0:e=_h(null,e,r,t,n);break e;case 1:e=mg(null,e,r,t,n);break e;case 11:e=pg(null,e,r,t,n);break e;case 14:e=gg(null,e,r,Dn(r.type,t),n);break e}throw Error(Y(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Dn(r,i),_h(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Dn(r,i),mg(t,e,r,i,n);case 3:e:{if(_0(e),t===null)throw Error(Y(387));r=e.pendingProps,o=e.memoizedState,i=o.element,Gy(t,e),Fl(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=ko(Error(Y(423)),e),e=vg(t,e,r,n,i);break e}else if(r!==i){i=ko(Error(Y(424)),e),e=vg(t,e,r,n,i);break e}else for(pn=Br(e.stateNode.containerInfo.firstChild),vn=e,Ye=!0,Nn=null,n=Hy(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(To(),r===i){e=pr(t,e,n);break e}Qt(t,e,r,n)}e=e.child}return e;case 5:return qy(e),t===null&&ph(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,uh(r,i)?s=null:o!==null&&uh(r,o)&&(e.flags|=32),y0(t,e),Qt(t,e,s,n),e.child;case 6:return t===null&&ph(e),null;case 13:return w0(t,e,n);case 4:return Df(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Lo(e,null,r,n):Qt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Dn(r,i),pg(t,e,r,i,n);case 7:return Qt(t,e,e.pendingProps,n),e.child;case 8:return Qt(t,e,e.pendingProps.children,n),e.child;case 12:return Qt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,Ke(Vl,r._currentValue),r._currentValue=s,o!==null)if(Fn(o.value,s)){if(o.children===i.children&&!on.current){e=pr(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var u=a.firstContext;u!==null;){if(u.context===r){if(o.tag===1){u=cr(-1,n&-n),u.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var h=c.pending;h===null?u.next=u:(u.next=h.next,h.next=u),c.pending=u}}o.lanes|=n,u=o.alternate,u!==null&&(u.lanes|=n),gh(o.return,n,e),a.lanes|=n;break}u=u.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(Y(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),gh(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}Qt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,_o(e,n),i=kn(i),r=r(i),e.flags|=1,Qt(t,e,r,n),e.child;case 14:return r=e.type,i=Dn(r,e.pendingProps),i=Dn(r.type,i),gg(t,e,r,i,n);case 15:return m0(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Dn(r,i),pl(t,e),e.tag=1,sn(r)?(t=!0,Dl(e)):t=!1,_o(e,n),d0(e,r,i),vh(e,r,i,n),wh(null,e,r,!0,t,n);case 19:return E0(t,e,n);case 22:return v0(t,e,n)}throw Error(Y(156,e.tag))};function V0(t,e){return cy(t,e)}function oS(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tn(t,e,n,r){return new oS(t,e,n,r)}function Qf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function sS(t){if(typeof t=="function")return Qf(t)?1:0;if(t!=null){if(t=t.$$typeof,t===pf)return 11;if(t===gf)return 14}return 2}function Hr(t,e){var n=t.alternate;return n===null?(n=Tn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function vl(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")Qf(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case no:return Ti(n.children,i,o,e);case df:s=8,i|=8;break;case zc:return t=Tn(12,n,e,i|2),t.elementType=zc,t.lanes=o,t;case jc:return t=Tn(13,n,e,i),t.elementType=jc,t.lanes=o,t;case $c:return t=Tn(19,n,e,i),t.elementType=$c,t.lanes=o,t;case qv:return Su(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Wv:s=10;break e;case Gv:s=9;break e;case pf:s=11;break e;case gf:s=14;break e;case Ar:s=16,r=null;break e}throw Error(Y(130,t==null?t:typeof t,""))}return e=Tn(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function Ti(t,e,n,r){return t=Tn(7,t,r,e),t.lanes=n,t}function Su(t,e,n,r){return t=Tn(22,t,r,e),t.elementType=qv,t.lanes=n,t.stateNode={isHidden:!1},t}function Sc(t,e,n){return t=Tn(6,t,null,e),t.lanes=n,t}function Tc(t,e,n){return e=Tn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function aS(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ic(0),this.expirationTimes=ic(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ic(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Zf(t,e,n,r,i,o,s,a,u){return t=new aS(t,e,n,a,u),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Tn(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},bf(o),t}function lS(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:to,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function U0(t){if(!t)return Xr;t=t._reactInternals;e:{if(Vi(t)!==t||t.tag!==1)throw Error(Y(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(sn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Y(171))}if(t.tag===1){var n=t.type;if(sn(n))return Uy(t,n,e)}return e}function F0(t,e,n,r,i,o,s,a,u){return t=Zf(n,r,!0,t,i,o,s,a,u),t.context=U0(null),n=t.current,r=Zt(),i=$r(n),o=cr(r,i),o.callback=e??null,zr(n,o,i),t.current.lanes=i,ha(t,i,r),an(t,r),t}function Tu(t,e,n,r){var i=e.current,o=Zt(),s=$r(i);return n=U0(n),e.context===null?e.context=n:e.pendingContext=n,e=cr(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=zr(i,e,s),t!==null&&(Un(t,i,s,o),hl(t,i,s)),s}function ql(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function kg(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Xf(t,e){kg(t,e),(t=t.alternate)&&kg(t,e)}function uS(){return null}var B0=typeof reportError=="function"?reportError:function(t){console.error(t)};function Yf(t){this._internalRoot=t}Lu.prototype.render=Yf.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Y(409));Tu(t,e,null,null)};Lu.prototype.unmount=Yf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;xi(function(){Tu(null,t,null,null)}),e[fr]=null}};function Lu(t){this._internalRoot=t}Lu.prototype.unstable_scheduleHydration=function(t){if(t){var e=vy();t={blockedOn:null,target:t,priority:e};for(var n=0;n<xr.length&&e!==0&&e<xr[n].priority;n++);xr.splice(n,0,t),n===0&&_y(t)}};function Jf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Iu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Ag(){}function cS(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var c=ql(s);o.call(c)}}var s=F0(e,r,t,0,null,!1,!1,"",Ag);return t._reactRootContainer=s,t[fr]=s.current,qs(t.nodeType===8?t.parentNode:t),xi(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=ql(u);a.call(c)}}var u=Zf(t,0,!1,null,null,!1,!1,"",Ag);return t._reactRootContainer=u,t[fr]=u.current,qs(t.nodeType===8?t.parentNode:t),xi(function(){Tu(e,u,n,r)}),u}function ku(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var u=ql(s);a.call(u)}}Tu(e,s,t,i)}else s=cS(n,e,t,i,r);return ql(s)}gy=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=_s(e.pendingLanes);n!==0&&(yf(e,n|1),an(e,ht()),!(Ne&6)&&(Ao=ht()+500,ri()))}break;case 13:xi(function(){var r=dr(t,1);if(r!==null){var i=Zt();Un(r,t,1,i)}}),Xf(t,1)}};_f=function(t){if(t.tag===13){var e=dr(t,134217728);if(e!==null){var n=Zt();Un(e,t,134217728,n)}Xf(t,134217728)}};my=function(t){if(t.tag===13){var e=$r(t),n=dr(t,e);if(n!==null){var r=Zt();Un(n,t,e,r)}Xf(t,e)}};vy=function(){return je};yy=function(t,e){var n=je;try{return je=t,e()}finally{je=n}};Jc=function(t,e,n){switch(e){case"input":if(Gc(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=vu(r);if(!i)throw Error(Y(90));Qv(r),Gc(r,i)}}}break;case"textarea":Xv(t,n);break;case"select":e=n.value,e!=null&&go(t,!!n.multiple,e,!1)}};iy=Gf;oy=xi;var hS={usingClientEntryPoint:!1,Events:[da,so,vu,ny,ry,Gf]},hs={findFiberByHostInstance:mi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},fS={bundleType:hs.bundleType,version:hs.version,rendererPackageName:hs.rendererPackageName,rendererConfig:hs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:yr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=ly(t),t===null?null:t.stateNode},findFiberByHostInstance:hs.findFiberByHostInstance||uS,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Za=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Za.isDisabled&&Za.supportsFiber)try{du=Za.inject(fS),Qn=Za}catch{}}_n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=hS;_n.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Jf(e))throw Error(Y(200));return lS(t,e,null,n)};_n.createRoot=function(t,e){if(!Jf(t))throw Error(Y(299));var n=!1,r="",i=B0;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Zf(t,1,!1,null,null,n,!1,r,i),t[fr]=e.current,qs(t.nodeType===8?t.parentNode:t),new Yf(e)};_n.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Y(188)):(t=Object.keys(t).join(","),Error(Y(268,t)));return t=ly(e),t=t===null?null:t.stateNode,t};_n.flushSync=function(t){return xi(t)};_n.hydrate=function(t,e,n){if(!Iu(e))throw Error(Y(200));return ku(null,t,e,!0,n)};_n.hydrateRoot=function(t,e,n){if(!Jf(t))throw Error(Y(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=B0;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=F0(e,null,t,1,n??null,i,!1,o,s),t[fr]=e.current,qs(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Lu(e)};_n.render=function(t,e,n){if(!Iu(e))throw Error(Y(200));return ku(null,t,e,!1,n)};_n.unmountComponentAtNode=function(t){if(!Iu(t))throw Error(Y(40));return t._reactRootContainer?(xi(function(){ku(null,null,t,!1,function(){t._reactRootContainer=null,t[fr]=null})}),!0):!1};_n.unstable_batchedUpdates=Gf;_n.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Iu(n))throw Error(Y(200));if(t==null||t._reactInternals===void 0)throw Error(Y(38));return ku(t,e,n,!1,r)};_n.version="18.3.1-next-f1338f8080-20240426";function z0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(z0)}catch(t){console.error(t)}}z0(),zv.exports=_n;var Ui=zv.exports,Pg=Ui;Fc.createRoot=Pg.createRoot,Fc.hydrateRoot=Pg.hydrateRoot;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Mh=function(t,e){return Mh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},Mh(t,e)};function qe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Mh(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var ae=function(){return ae=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},ae.apply(this,arguments)};function ed(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function dS(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(h){try{c(r.next(h))}catch(f){s(f)}}function u(h){try{c(r.throw(h))}catch(f){s(f)}}function c(h){h.done?o(h.value):i(h.value).then(a,u)}c((r=r.apply(t,[])).next())})}function pS(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(c){return function(h){return u([c,h])}}function u(c){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){n.label=c[1];break}if(c[0]===6&&n.label<o[1]){n.label=o[1],o=c;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(c);break}o[2]&&n.ops.pop(),n.trys.pop();continue}c=e.call(t,n)}catch(h){c=[6,h],i=0}finally{r=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function j0(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var gS=function(t,e,n,r,i,o,s,a){if(!t){var u;if(e===void 0)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,o,s,a],h=0;u=new Error(e.replace(/%s/g,function(){return c[h++]})),u.name="Invariant Violation"}throw u.framesToPop=1,u}},mS=gS,ft=j0(mS),Le=_.createContext(null);function vS(){ft(!!_.useContext,"useGoogleMap is React hook and requires React version 16.8+");var t=_.useContext(Le);return ft(!!t,"useGoogleMap needs a GoogleMap available up in the tree"),t}function yS(t,e,n){return Object.keys(t).reduce(function(i,o){return e(i,t[o],o)},n)}function _S(t,e){Object.keys(t).forEach(function(n){return e(t[n],n)})}function wS(t,e,n,r){var i={},o=function(s,a){var u=n[a];u!==e[a]&&(i[a]=u,s(r,u))};return _S(t,o),i}function ES(t,e,n){var r=yS(n,function(o,s,a){return typeof t[a]=="function"&&o.push(google.maps.event.addListener(e,s,t[a])),o},[]);return r}function CS(t){google.maps.event.removeListener(t)}function Re(t){t===void 0&&(t=[]),t.forEach(CS)}function ke(t){var e=t.updaterMap,n=t.eventMap,r=t.prevProps,i=t.nextProps,o=t.instance,s=ES(i,o,n);return wS(e,r,i,o),s}var Rg={onDblClick:"dblclick",onDragEnd:"dragend",onDragStart:"dragstart",onMapTypeIdChanged:"maptypeid_changed",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseDown:"mousedown",onMouseUp:"mouseup",onRightClick:"rightclick",onTilesLoaded:"tilesloaded",onBoundsChanged:"bounds_changed",onCenterChanged:"center_changed",onClick:"click",onDrag:"drag",onHeadingChanged:"heading_changed",onIdle:"idle",onProjectionChanged:"projection_changed",onResize:"resize",onTiltChanged:"tilt_changed",onZoomChanged:"zoom_changed"},xg={extraMapTypes:function(t,e){e.forEach(function(r,i){t.mapTypes.set(String(i),r)})},center:function(t,e){t.setCenter(e)},clickableIcons:function(t,e){t.setClickableIcons(e)},heading:function(t,e){t.setHeading(e)},mapTypeId:function(t,e){t.setMapTypeId(e)},options:function(t,e){t.setOptions(e)},streetView:function(t,e){t.setStreetView(e)},tilt:function(t,e){t.setTilt(e)},zoom:function(t,e){t.setZoom(e)}};function SS(t){var e=t.children,n=t.options,r=t.id,i=t.mapContainerStyle,o=t.mapContainerClassName,s=t.center,a=t.onClick,u=t.onDblClick,c=t.onDrag,h=t.onDragEnd,f=t.onDragStart,d=t.onMouseMove,m=t.onMouseOut,C=t.onMouseOver,L=t.onMouseDown,x=t.onMouseUp,E=t.onRightClick,T=t.onCenterChanged,k=t.onLoad,b=t.onUnmount,N=_.useState(null),A=N[0],S=N[1],p=_.useRef(null),v=_.useState(null),y=v[0],P=v[1],R=_.useState(null),I=R[0],V=R[1],z=_.useState(null),O=z[0],M=z[1],F=_.useState(null),U=F[0],B=F[1],K=_.useState(null),G=K[0],Q=K[1],q=_.useState(null),H=q[0],j=q[1],oe=_.useState(null),he=oe[0],ee=oe[1],le=_.useState(null),ge=le[0],me=le[1],Me=_.useState(null),Ae=Me[0],fe=Me[1],Ee=_.useState(null),ve=Ee[0],pe=Ee[1],we=_.useState(null),se=we[0],Te=we[1],ue=_.useState(null),Ie=ue[0],ne=ue[1];return _.useEffect(function(){n&&A!==null&&A.setOptions(n)},[A,n]),_.useEffect(function(){A!==null&&typeof s<"u"&&A.setCenter(s)},[A,s]),_.useEffect(function(){A&&u&&(I!==null&&google.maps.event.removeListener(I),V(google.maps.event.addListener(A,"dblclick",u)))},[u]),_.useEffect(function(){A&&h&&(O!==null&&google.maps.event.removeListener(O),M(google.maps.event.addListener(A,"dragend",h)))},[h]),_.useEffect(function(){A&&f&&(U!==null&&google.maps.event.removeListener(U),B(google.maps.event.addListener(A,"dragstart",f)))},[f]),_.useEffect(function(){A&&L&&(G!==null&&google.maps.event.removeListener(G),Q(google.maps.event.addListener(A,"mousedown",L)))},[L]),_.useEffect(function(){A&&d&&(H!==null&&google.maps.event.removeListener(H),j(google.maps.event.addListener(A,"mousemove",d)))},[d]),_.useEffect(function(){A&&m&&(he!==null&&google.maps.event.removeListener(he),ee(google.maps.event.addListener(A,"mouseout",m)))},[m]),_.useEffect(function(){A&&C&&(ge!==null&&google.maps.event.removeListener(ge),me(google.maps.event.addListener(A,"mouseover",C)))},[C]),_.useEffect(function(){A&&x&&(Ae!==null&&google.maps.event.removeListener(Ae),fe(google.maps.event.addListener(A,"mouseup",x)))},[x]),_.useEffect(function(){A&&E&&(ve!==null&&google.maps.event.removeListener(ve),pe(google.maps.event.addListener(A,"rightclick",E)))},[E]),_.useEffect(function(){A&&a&&(se!==null&&google.maps.event.removeListener(se),Te(google.maps.event.addListener(A,"click",a)))},[a]),_.useEffect(function(){A&&c&&(Ie!==null&&google.maps.event.removeListener(Ie),ne(google.maps.event.addListener(A,"drag",c)))},[c]),_.useEffect(function(){A&&T&&(y!==null&&google.maps.event.removeListener(y),P(google.maps.event.addListener(A,"center_changed",T)))},[a]),_.useEffect(function(){var $e=p.current===null?null:new google.maps.Map(p.current,n);return S($e),$e!==null&&k&&k($e),function(){$e!==null&&b&&b($e)}},[]),J.jsx("div",{id:r,ref:p,style:i,className:o,children:J.jsx(Le.Provider,{value:A,children:A!==null?e:null})})}_.memo(SS);var TS=function(t){qe(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={map:null},n.registeredEvents=[],n.mapRef=null,n.getInstance=function(){return n.mapRef===null?null:new google.maps.Map(n.mapRef,n.props.options)},n.panTo=function(r){var i=n.getInstance();i&&i.panTo(r)},n.setMapCallback=function(){n.state.map!==null&&n.props.onLoad&&n.props.onLoad(n.state.map)},n.getRef=function(r){n.mapRef=r},n}return e.prototype.componentDidMount=function(){var n=this.getInstance();this.registeredEvents=ke({updaterMap:xg,eventMap:Rg,prevProps:{},nextProps:this.props,instance:n}),this.setState(function(){return{map:n}},this.setMapCallback)},e.prototype.componentDidUpdate=function(n){this.state.map!==null&&(Re(this.registeredEvents),this.registeredEvents=ke({updaterMap:xg,eventMap:Rg,prevProps:n,nextProps:this.props,instance:this.state.map}))},e.prototype.componentWillUnmount=function(){this.state.map!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.map),Re(this.registeredEvents))},e.prototype.render=function(){return J.jsx("div",{id:this.props.id,ref:this.getRef,style:this.props.mapContainerStyle,className:this.props.mapContainerClassName,children:J.jsx(Le.Provider,{value:this.state.map,children:this.state.map!==null?this.props.children:null})})},e}(_.PureComponent),_i=typeof document<"u";function $0(t){var e=t.url,n=t.id,r=t.nonce;return _i?new Promise(function(o,s){var a=document.getElementById(n),u=window;if(a){var c=a.getAttribute("data-state");if(a.src===e&&c!=="error"){if(c==="ready")return o(n);var h=u.initMap,f=a.onerror;u.initMap=function(){h&&h(),o(n)},a.onerror=function(m){f&&f(m),s(m)};return}else a.remove()}var d=document.createElement("script");d.type="text/javascript",d.src=e,d.id=n,d.async=!0,d.nonce=r||"",d.onerror=function(C){d.setAttribute("data-state","error"),s(C)},u.initMap=function(){d.setAttribute("data-state","ready"),o(n)},document.head.appendChild(d)}).catch(function(i){throw console.error("injectScript error: ",i),i}):Promise.reject(new Error("document is undefined"))}function Mg(t){var e=t.href;return e&&(e.indexOf("https://fonts.googleapis.com/css?family=Roboto")===0||e.indexOf("https://fonts.googleapis.com/css?family=Google+Sans+Text")===0)?!0:t.tagName.toLowerCase()==="style"&&t.styleSheet&&t.styleSheet.cssText&&t.styleSheet.cssText.replace(`\r
`,"").indexOf(".gm-style")===0?(t.styleSheet.cssText="",!0):t.tagName.toLowerCase()==="style"&&t.innerHTML&&t.innerHTML.replace(`\r
`,"").indexOf(".gm-style")===0?(t.innerHTML="",!0):t.tagName.toLowerCase()==="style"&&!t.styleSheet&&!t.innerHTML}function H0(){var t=document.getElementsByTagName("head")[0];if(t){var e=t.insertBefore.bind(t);t.insertBefore=function(i,o){return Mg(i)||Reflect.apply(e,t,[i,o]),i};var n=t.appendChild.bind(t);t.appendChild=function(i){return Mg(i)||Reflect.apply(n,t,[i]),i}}}function W0(t){var e=t.googleMapsApiKey,n=t.googleMapsClientId,r=t.version,i=r===void 0?"weekly":r,o=t.language,s=t.region,a=t.libraries,u=t.channel,c=t.mapIds,h=t.authReferrerPolicy,f=[];return ft(e&&n||!(e&&n),"You need to specify either googleMapsApiKey or googleMapsClientId for @react-google-maps/api load script to work. You cannot use both at the same time."),e?f.push("key=".concat(e)):n&&f.push("client=".concat(n)),i&&f.push("v=".concat(i)),o&&f.push("language=".concat(o)),s&&f.push("region=".concat(s)),a&&a.length&&f.push("libraries=".concat(a.sort().join(","))),u&&f.push("channel=".concat(u)),c&&c.length&&f.push("map_ids=".concat(c.join(","))),h&&f.push("auth_referrer_policy=".concat(h)),f.push("callback=initMap"),"https://maps.googleapis.com/maps/api/js?".concat(f.join("&"))}var fs=!1;function G0(){return J.jsx("div",{children:"Loading..."})}var bh={id:"script-loader",version:"weekly"},LS=function(t){qe(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.check=_.createRef(),n.state={loaded:!1},n.cleanupCallback=function(){delete window.google.maps,n.injectScript()},n.isCleaningUp=function(){return dS(n,void 0,void 0,function(){function r(i){if(!fs)i();else if(_i)var o=window.setInterval(function(){fs||(window.clearInterval(o),i())},1)}return pS(this,function(i){return[2,new Promise(r)]})})},n.cleanup=function(){fs=!0;var r=document.getElementById(n.props.id);r&&r.parentNode&&r.parentNode.removeChild(r),Array.prototype.slice.call(document.getElementsByTagName("script")).filter(function(o){return typeof o.src=="string"&&o.src.includes("maps.googleapis")}).forEach(function(o){o.parentNode&&o.parentNode.removeChild(o)}),Array.prototype.slice.call(document.getElementsByTagName("link")).filter(function(o){return o.href==="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Google+Sans"}).forEach(function(o){o.parentNode&&o.parentNode.removeChild(o)}),Array.prototype.slice.call(document.getElementsByTagName("style")).filter(function(o){return o.innerText!==void 0&&o.innerText.length>0&&o.innerText.includes(".gm-")}).forEach(function(o){o.parentNode&&o.parentNode.removeChild(o)})},n.injectScript=function(){n.props.preventGoogleFontsLoading&&H0(),ft(!!n.props.id,'LoadScript requires "id" prop to be a string: %s',n.props.id);var r={id:n.props.id,nonce:n.props.nonce,url:W0(n.props)};$0(r).then(function(){n.props.onLoad&&n.props.onLoad(),n.setState(function(){return{loaded:!0}})}).catch(function(i){n.props.onError&&n.props.onError(i),console.error(`
          There has been an Error with loading Google Maps API script, please check that you provided correct google API key (`.concat(n.props.googleMapsApiKey||"-",") or Client ID (").concat(n.props.googleMapsClientId||"-",`) to <LoadScript />
          Otherwise it is a Network issue.
        `))})},n}return e.prototype.componentDidMount=function(){if(_i){if(window.google&&window.google.maps&&!fs){console.error("google api is already presented");return}this.isCleaningUp().then(this.injectScript).catch(function(r){console.error("Error at injecting script after cleaning up: ",r)})}},e.prototype.componentDidUpdate=function(n){this.props.libraries!==n.libraries&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),_i&&n.language!==this.props.language&&(this.cleanup(),this.setState(function(){return{loaded:!1}},this.cleanupCallback))},e.prototype.componentWillUnmount=function(){var n=this;if(_i){this.cleanup();var r=function(){n.check.current||(delete window.google,fs=!1)};window.setTimeout(r,1),this.props.onUnmount&&this.props.onUnmount()}},e.prototype.render=function(){return J.jsxs(J.Fragment,{children:[J.jsx("div",{ref:this.check}),this.state.loaded?this.props.children:this.props.loadingElement||J.jsx(G0,{})]})},e.defaultProps=bh,e}(_.PureComponent),bg;function IS(t){var e=t.id,n=e===void 0?bh.id:e,r=t.version,i=r===void 0?bh.version:r,o=t.nonce,s=t.googleMapsApiKey,a=t.googleMapsClientId,u=t.language,c=t.region,h=t.libraries,f=t.preventGoogleFontsLoading,d=t.channel,m=t.mapIds,C=t.authReferrerPolicy,L=_.useRef(!1),x=_.useState(!1),E=x[0],T=x[1],k=_.useState(void 0),b=k[0],N=k[1];_.useEffect(function(){return L.current=!0,function(){L.current=!1}},[]),_.useEffect(function(){_i&&f&&H0()},[f]),_.useEffect(function(){E&&ft(!!window.google,"useLoadScript was marked as loaded, but window.google is not present. Something went wrong.")},[E]);var A=W0({version:i,googleMapsApiKey:s,googleMapsClientId:a,language:u,region:c,libraries:h,channel:d,mapIds:m,authReferrerPolicy:C});_.useEffect(function(){if(!_i)return;function v(){L.current&&(T(!0),bg=A)}if(window.google&&window.google.maps&&bg===A){v();return}$0({id:n,url:A,nonce:o}).then(v).catch(function(P){L.current&&N(P),console.warn(`
        There has been an Error with loading Google Maps API script, please check that you provided correct google API key (`.concat(s||"-",") or Client ID (").concat(a||"-",`)
        Otherwise it is a Network issue.
      `)),console.error(P)})},[n,A,o]);var S=_.useRef();return _.useEffect(function(){S.current&&h!==S.current&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),S.current=h},[h]),{isLoaded:E,loadError:b,url:A}}var kS=J.jsx(G0,{});function AS(t){var e=t.loadingElement,n=t.onLoad,r=t.onError,i=t.onUnmount,o=t.children,s=ed(t,["loadingElement","onLoad","onError","onUnmount","children"]),a=IS(s),u=a.isLoaded,c=a.loadError;return _.useEffect(function(){u&&typeof n=="function"&&n()},[u,n]),_.useEffect(function(){c&&typeof r=="function"&&r(c)},[c,r]),_.useEffect(function(){return function(){i&&i()}},[i]),u?o:e||kS}_.memo(AS);var Dg;(function(t){t[t.INITIALIZED=0]="INITIALIZED",t[t.LOADING=1]="LOADING",t[t.SUCCESS=2]="SUCCESS",t[t.FAILURE=3]="FAILURE"})(Dg||(Dg={}));var Og={},Ng={options:function(t,e){t.setOptions(e)}};function PS(t){var e=t.options,n=t.onLoad,r=t.onUnmount,i=_.useContext(Le),o=_.useState(null),s=o[0],a=o[1];return _.useEffect(function(){s!==null&&s.setMap(i)},[i]),_.useEffect(function(){e&&s!==null&&s.setOptions(e)},[s,e]),_.useEffect(function(){var u=new google.maps.TrafficLayer(ae(ae({},e||{}),{map:i}));return a(u),n&&n(u),function(){s!==null&&(r&&r(s),s.setMap(null))}},[]),null}_.memo(PS);(function(t){qe(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={trafficLayer:null},n.setTrafficLayerCallback=function(){n.state.trafficLayer!==null&&n.props.onLoad&&n.props.onLoad(n.state.trafficLayer)},n.registeredEvents=[],n}return e.prototype.componentDidMount=function(){var n=new google.maps.TrafficLayer(ae(ae({},this.props.options||{}),{map:this.context}));this.registeredEvents=ke({updaterMap:Ng,eventMap:Og,prevProps:{},nextProps:this.props,instance:n}),this.setState(function(){return{trafficLayer:n}},this.setTrafficLayerCallback)},e.prototype.componentDidUpdate=function(n){this.state.trafficLayer!==null&&(Re(this.registeredEvents),this.registeredEvents=ke({updaterMap:Ng,eventMap:Og,prevProps:n,nextProps:this.props,instance:this.state.trafficLayer}))},e.prototype.componentWillUnmount=function(){this.state.trafficLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.trafficLayer),Re(this.registeredEvents),this.state.trafficLayer.setMap(null))},e.prototype.render=function(){return null},e.contextType=Le,e})(_.PureComponent);function RS(t){var e=t.onLoad,n=t.onUnmount,r=_.useContext(Le),i=_.useState(null),o=i[0],s=i[1];return _.useEffect(function(){o!==null&&o.setMap(r)},[r]),_.useEffect(function(){var a=new google.maps.BicyclingLayer;return s(a),a.setMap(r),e&&e(a),function(){a!==null&&(n&&n(a),a.setMap(null))}},[]),null}_.memo(RS);(function(t){qe(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={bicyclingLayer:null},n.setBicyclingLayerCallback=function(){n.state.bicyclingLayer!==null&&(n.state.bicyclingLayer.setMap(n.context),n.props.onLoad&&n.props.onLoad(n.state.bicyclingLayer))},n}return e.prototype.componentDidMount=function(){var n=new google.maps.BicyclingLayer;this.setState(function(){return{bicyclingLayer:n}},this.setBicyclingLayerCallback)},e.prototype.componentWillUnmount=function(){this.state.bicyclingLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.bicyclingLayer),this.state.bicyclingLayer.setMap(null))},e.prototype.render=function(){return null},e.contextType=Le,e})(_.PureComponent);function xS(t){var e=t.onLoad,n=t.onUnmount,r=_.useContext(Le),i=_.useState(null),o=i[0],s=i[1];return _.useEffect(function(){o!==null&&o.setMap(r)},[r]),_.useEffect(function(){var a=new google.maps.TransitLayer;return s(a),a.setMap(r),e&&e(a),function(){o!==null&&(n&&n(o),o.setMap(null))}},[]),null}_.memo(xS);(function(t){qe(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={transitLayer:null},n.setTransitLayerCallback=function(){n.state.transitLayer!==null&&(n.state.transitLayer.setMap(n.context),n.props.onLoad&&n.props.onLoad(n.state.transitLayer))},n}return e.prototype.componentDidMount=function(){var n=new google.maps.TransitLayer;this.setState(function(){return{transitLayer:n}},this.setTransitLayerCallback)},e.prototype.componentWillUnmount=function(){this.state.transitLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.transitLayer),this.state.transitLayer.setMap(null))},e.prototype.render=function(){return null},e.contextType=Le,e})(_.PureComponent);var Vg={onCircleComplete:"circlecomplete",onMarkerComplete:"markercomplete",onOverlayComplete:"overlaycomplete",onPolygonComplete:"polygoncomplete",onPolylineComplete:"polylinecomplete",onRectangleComplete:"rectanglecomplete"},Ug={drawingMode:function(t,e){t.setDrawingMode(e)},options:function(t,e){t.setOptions(e)}};function MS(t){var e=t.options,n=t.drawingMode,r=t.onCircleComplete,i=t.onMarkerComplete,o=t.onOverlayComplete,s=t.onPolygonComplete,a=t.onPolylineComplete,u=t.onRectangleComplete,c=t.onLoad,h=t.onUnmount,f=_.useContext(Le),d=_.useState(null),m=d[0],C=d[1],L=_.useState(null),x=L[0],E=L[1],T=_.useState(null),k=T[0],b=T[1],N=_.useState(null),A=N[0],S=N[1],p=_.useState(null),v=p[0],y=p[1],P=_.useState(null),R=P[0],I=P[1],V=_.useState(null),z=V[0],O=V[1];return _.useEffect(function(){m!==null&&m.setMap(f)},[f]),_.useEffect(function(){e&&m!==null&&m.setOptions(e)},[m,e]),_.useEffect(function(){m!==null&&m.setDrawingMode(n??null)},[m,n]),_.useEffect(function(){m&&r&&(x!==null&&google.maps.event.removeListener(x),E(google.maps.event.addListener(m,"circlecomplete",r)))},[m,r]),_.useEffect(function(){m&&i&&(k!==null&&google.maps.event.removeListener(k),b(google.maps.event.addListener(m,"markercomplete",i)))},[m,i]),_.useEffect(function(){m&&o&&(A!==null&&google.maps.event.removeListener(A),S(google.maps.event.addListener(m,"overlaycomplete",o)))},[m,o]),_.useEffect(function(){m&&s&&(v!==null&&google.maps.event.removeListener(v),y(google.maps.event.addListener(m,"polygoncomplete",s)))},[m,s]),_.useEffect(function(){m&&a&&(R!==null&&google.maps.event.removeListener(R),I(google.maps.event.addListener(m,"polylinecomplete",a)))},[m,a]),_.useEffect(function(){m&&u&&(z!==null&&google.maps.event.removeListener(z),O(google.maps.event.addListener(m,"rectanglecomplete",u)))},[m,u]),_.useEffect(function(){ft(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing);var M=new google.maps.drawing.DrawingManager(ae(ae({},e||{}),{map:f}));return n&&M.setDrawingMode(n),r&&E(google.maps.event.addListener(M,"circlecomplete",r)),i&&b(google.maps.event.addListener(M,"markercomplete",i)),o&&S(google.maps.event.addListener(M,"overlaycomplete",o)),s&&y(google.maps.event.addListener(M,"polygoncomplete",s)),a&&I(google.maps.event.addListener(M,"polylinecomplete",a)),u&&O(google.maps.event.addListener(M,"rectanglecomplete",u)),C(M),c&&c(M),function(){m!==null&&(x&&google.maps.event.removeListener(x),k&&google.maps.event.removeListener(k),A&&google.maps.event.removeListener(A),v&&google.maps.event.removeListener(v),R&&google.maps.event.removeListener(R),z&&google.maps.event.removeListener(z),h&&h(m),m.setMap(null))}},[]),null}_.memo(MS);(function(t){qe(e,t);function e(n){var r=t.call(this,n)||this;return r.registeredEvents=[],r.state={drawingManager:null},r.setDrawingManagerCallback=function(){r.state.drawingManager!==null&&r.props.onLoad&&r.props.onLoad(r.state.drawingManager)},ft(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing),r}return e.prototype.componentDidMount=function(){var n=new google.maps.drawing.DrawingManager(ae(ae({},this.props.options||{}),{map:this.context}));this.registeredEvents=ke({updaterMap:Ug,eventMap:Vg,prevProps:{},nextProps:this.props,instance:n}),this.setState(function(){return{drawingManager:n}},this.setDrawingManagerCallback)},e.prototype.componentDidUpdate=function(n){this.state.drawingManager!==null&&(Re(this.registeredEvents),this.registeredEvents=ke({updaterMap:Ug,eventMap:Vg,prevProps:n,nextProps:this.props,instance:this.state.drawingManager}))},e.prototype.componentWillUnmount=function(){this.state.drawingManager!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.drawingManager),Re(this.registeredEvents),this.state.drawingManager.setMap(null))},e.prototype.render=function(){return null},e.contextType=Le,e})(_.PureComponent);var Fg={onAnimationChanged:"animation_changed",onClick:"click",onClickableChanged:"clickable_changed",onCursorChanged:"cursor_changed",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDraggableChanged:"draggable_changed",onDragStart:"dragstart",onFlatChanged:"flat_changed",onIconChanged:"icon_changed",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onPositionChanged:"position_changed",onRightClick:"rightclick",onShapeChanged:"shape_changed",onTitleChanged:"title_changed",onVisibleChanged:"visible_changed",onZindexChanged:"zindex_changed"},Bg={animation:function(t,e){t.setAnimation(e)},clickable:function(t,e){t.setClickable(e)},cursor:function(t,e){t.setCursor(e)},draggable:function(t,e){t.setDraggable(e)},icon:function(t,e){t.setIcon(e)},label:function(t,e){t.setLabel(e)},map:function(t,e){t.setMap(e)},opacity:function(t,e){t.setOpacity(e)},options:function(t,e){t.setOptions(e)},position:function(t,e){t.setPosition(e)},shape:function(t,e){t.setShape(e)},title:function(t,e){t.setTitle(e)},visible:function(t,e){t.setVisible(e)},zIndex:function(t,e){t.setZIndex(e)}},Kl={};function bS(t){var e=t.position,n=t.options,r=t.clusterer,i=t.noClustererRedraw,o=t.children,s=t.draggable,a=t.visible,u=t.animation,c=t.clickable,h=t.cursor,f=t.icon,d=t.label,m=t.opacity,C=t.shape,L=t.title,x=t.zIndex,E=t.onClick,T=t.onDblClick,k=t.onDrag,b=t.onDragEnd,N=t.onDragStart,A=t.onMouseOut,S=t.onMouseOver,p=t.onMouseUp,v=t.onMouseDown,y=t.onRightClick,P=t.onClickableChanged,R=t.onCursorChanged,I=t.onAnimationChanged,V=t.onDraggableChanged,z=t.onFlatChanged,O=t.onIconChanged,M=t.onPositionChanged,F=t.onShapeChanged,U=t.onTitleChanged,B=t.onVisibleChanged,K=t.onZindexChanged,G=t.onLoad,Q=t.onUnmount,q=_.useContext(Le),H=_.useState(null),j=H[0],oe=H[1],he=_.useState(null),ee=he[0],le=he[1],ge=_.useState(null),me=ge[0],Me=ge[1],Ae=_.useState(null),fe=Ae[0],Ee=Ae[1],ve=_.useState(null),pe=ve[0],we=ve[1],se=_.useState(null),Te=se[0],ue=se[1],Ie=_.useState(null),ne=Ie[0],$e=Ie[1],Be=_.useState(null),ze=Be[0],He=Be[1],Pe=_.useState(null),et=Pe[0],Ot=Pe[1],ut=_.useState(null),Tt=ut[0],Nt=ut[1],Jt=_.useState(null),_r=Jt[0],ji=Jt[1],Bn=_.useState(null),zn=Bn[0],Rn=Bn[1],jn=_.useState(null),Lt=jn[0],qt=jn[1],It=_.useState(null),ln=It[0],$n=It[1],un=_.useState(null),_t=un[0],Ho=un[1],wt=_.useState(null),oi=wt[0],wr=wt[1],Er=_.useState(null),$i=Er[0],Ea=Er[1],nr=_.useState(null),Hi=nr[0],Ca=nr[1],si=_.useState(null),Wo=si[0],Wi=si[1],ai=_.useState(null),cn=ai[0],Go=ai[1],qo=_.useState(null),Cr=qo[0],Gi=qo[1],Ko=_.useState(null),li=Ko[0],Sa=Ko[1];_.useEffect(function(){j!==null&&j.setMap(q)},[q]),_.useEffect(function(){typeof n<"u"&&j!==null&&j.setOptions(n)},[j,n]),_.useEffect(function(){typeof s<"u"&&j!==null&&j.setDraggable(s)},[j,s]),_.useEffect(function(){e&&j!==null&&j.setPosition(e)},[j,e]),_.useEffect(function(){typeof a<"u"&&j!==null&&j.setVisible(a)},[j,a]),_.useEffect(function(){j==null||j.setAnimation(u)},[j,u]),_.useEffect(function(){j&&c!==void 0&&j.setClickable(c)},[j,c]),_.useEffect(function(){j&&h!==void 0&&j.setCursor(h)},[j,h]),_.useEffect(function(){j&&f!==void 0&&j.setIcon(f)},[j,f]),_.useEffect(function(){j&&d!==void 0&&j.setLabel(d)},[j,d]),_.useEffect(function(){j&&m!==void 0&&j.setOpacity(m)},[j,m]),_.useEffect(function(){j&&C!==void 0&&j.setShape(C)},[j,C]),_.useEffect(function(){j&&L!==void 0&&j.setTitle(L)},[j,L]),_.useEffect(function(){j&&x!==void 0&&j.setZIndex(x)},[j,x]),_.useEffect(function(){j&&T&&(ee!==null&&google.maps.event.removeListener(ee),le(google.maps.event.addListener(j,"dblclick",T)))},[T]),_.useEffect(function(){j&&b&&(me!==null&&google.maps.event.removeListener(me),Me(google.maps.event.addListener(j,"dragend",b)))},[b]),_.useEffect(function(){j&&N&&(fe!==null&&google.maps.event.removeListener(fe),Ee(google.maps.event.addListener(j,"dragstart",N)))},[N]),_.useEffect(function(){j&&v&&(pe!==null&&google.maps.event.removeListener(pe),we(google.maps.event.addListener(j,"mousedown",v)))},[v]),_.useEffect(function(){j&&A&&(Te!==null&&google.maps.event.removeListener(Te),ue(google.maps.event.addListener(j,"mouseout",A)))},[A]),_.useEffect(function(){j&&S&&(ne!==null&&google.maps.event.removeListener(ne),$e(google.maps.event.addListener(j,"mouseover",S)))},[S]),_.useEffect(function(){j&&p&&(ze!==null&&google.maps.event.removeListener(ze),He(google.maps.event.addListener(j,"mouseup",p)))},[p]),_.useEffect(function(){j&&y&&(et!==null&&google.maps.event.removeListener(et),Ot(google.maps.event.addListener(j,"rightclick",y)))},[y]),_.useEffect(function(){j&&E&&(Tt!==null&&google.maps.event.removeListener(Tt),Nt(google.maps.event.addListener(j,"click",E)))},[E]),_.useEffect(function(){j&&k&&(_r!==null&&google.maps.event.removeListener(_r),ji(google.maps.event.addListener(j,"drag",k)))},[k]),_.useEffect(function(){j&&P&&(zn!==null&&google.maps.event.removeListener(zn),Rn(google.maps.event.addListener(j,"clickable_changed",P)))},[P]),_.useEffect(function(){j&&R&&(Lt!==null&&google.maps.event.removeListener(Lt),qt(google.maps.event.addListener(j,"cursor_changed",R)))},[R]),_.useEffect(function(){j&&I&&(ln!==null&&google.maps.event.removeListener(ln),$n(google.maps.event.addListener(j,"animation_changed",I)))},[I]),_.useEffect(function(){j&&V&&(_t!==null&&google.maps.event.removeListener(_t),Ho(google.maps.event.addListener(j,"draggable_changed",V)))},[V]),_.useEffect(function(){j&&z&&(oi!==null&&google.maps.event.removeListener(oi),wr(google.maps.event.addListener(j,"flat_changed",z)))},[z]),_.useEffect(function(){j&&O&&($i!==null&&google.maps.event.removeListener($i),Ea(google.maps.event.addListener(j,"icon_changed",O)))},[O]),_.useEffect(function(){j&&M&&(Hi!==null&&google.maps.event.removeListener(Hi),Ca(google.maps.event.addListener(j,"position_changed",M)))},[M]),_.useEffect(function(){j&&F&&(Wo!==null&&google.maps.event.removeListener(Wo),Wi(google.maps.event.addListener(j,"shape_changed",F)))},[F]),_.useEffect(function(){j&&U&&(cn!==null&&google.maps.event.removeListener(cn),Go(google.maps.event.addListener(j,"title_changed",U)))},[U]),_.useEffect(function(){j&&B&&(Cr!==null&&google.maps.event.removeListener(Cr),Gi(google.maps.event.addListener(j,"visible_changed",B)))},[B]),_.useEffect(function(){j&&K&&(li!==null&&google.maps.event.removeListener(li),Sa(google.maps.event.addListener(j,"zindex_changed",K)))},[K]),_.useEffect(function(){var Sr=ae(ae(ae({},n||Kl),r?Kl:{map:q}),{position:e}),ye=new google.maps.Marker(Sr);return r?r.addMarker(ye,!!i):ye.setMap(q),e&&ye.setPosition(e),typeof a<"u"&&ye.setVisible(a),typeof s<"u"&&ye.setDraggable(s),typeof c<"u"&&ye.setClickable(c),typeof h=="string"&&ye.setCursor(h),f&&ye.setIcon(f),typeof d<"u"&&ye.setLabel(d),typeof m<"u"&&ye.setOpacity(m),C&&ye.setShape(C),typeof L=="string"&&ye.setTitle(L),typeof x=="number"&&ye.setZIndex(x),T&&le(google.maps.event.addListener(ye,"dblclick",T)),b&&Me(google.maps.event.addListener(ye,"dragend",b)),N&&Ee(google.maps.event.addListener(ye,"dragstart",N)),v&&we(google.maps.event.addListener(ye,"mousedown",v)),A&&ue(google.maps.event.addListener(ye,"mouseout",A)),S&&$e(google.maps.event.addListener(ye,"mouseover",S)),p&&He(google.maps.event.addListener(ye,"mouseup",p)),y&&Ot(google.maps.event.addListener(ye,"rightclick",y)),E&&Nt(google.maps.event.addListener(ye,"click",E)),k&&ji(google.maps.event.addListener(ye,"drag",k)),P&&Rn(google.maps.event.addListener(ye,"clickable_changed",P)),R&&qt(google.maps.event.addListener(ye,"cursor_changed",R)),I&&$n(google.maps.event.addListener(ye,"animation_changed",I)),V&&Ho(google.maps.event.addListener(ye,"draggable_changed",V)),z&&wr(google.maps.event.addListener(ye,"flat_changed",z)),O&&Ea(google.maps.event.addListener(ye,"icon_changed",O)),M&&Ca(google.maps.event.addListener(ye,"position_changed",M)),F&&Wi(google.maps.event.addListener(ye,"shape_changed",F)),U&&Go(google.maps.event.addListener(ye,"title_changed",U)),B&&Gi(google.maps.event.addListener(ye,"visible_changed",B)),K&&Sa(google.maps.event.addListener(ye,"zindex_changed",K)),oe(ye),G&&G(ye),function(){ee!==null&&google.maps.event.removeListener(ee),me!==null&&google.maps.event.removeListener(me),fe!==null&&google.maps.event.removeListener(fe),pe!==null&&google.maps.event.removeListener(pe),Te!==null&&google.maps.event.removeListener(Te),ne!==null&&google.maps.event.removeListener(ne),ze!==null&&google.maps.event.removeListener(ze),et!==null&&google.maps.event.removeListener(et),Tt!==null&&google.maps.event.removeListener(Tt),zn!==null&&google.maps.event.removeListener(zn),Lt!==null&&google.maps.event.removeListener(Lt),ln!==null&&google.maps.event.removeListener(ln),_t!==null&&google.maps.event.removeListener(_t),oi!==null&&google.maps.event.removeListener(oi),$i!==null&&google.maps.event.removeListener($i),Hi!==null&&google.maps.event.removeListener(Hi),cn!==null&&google.maps.event.removeListener(cn),Cr!==null&&google.maps.event.removeListener(Cr),li!==null&&google.maps.event.removeListener(li),Q&&Q(ye),r?r.removeMarker(ye,!!i):ye&&ye.setMap(null)}},[]);var qi=_.useMemo(function(){return o?_.Children.map(o,function(Sr){if(!_.isValidElement(Sr))return Sr;var ye=Sr;return _.cloneElement(ye,{anchor:j})}):null},[o,j]);return J.jsx(J.Fragment,{children:qi})||null}_.memo(bS);var DS=function(t){qe(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.registeredEvents=[],n}return e.prototype.componentDidMount=function(){var n=ae(ae(ae({},this.props.options||Kl),this.props.clusterer?Kl:{map:this.context}),{position:this.props.position});this.marker=new google.maps.Marker(n),this.props.clusterer?this.props.clusterer.addMarker(this.marker,!!this.props.noClustererRedraw):this.marker.setMap(this.context),this.registeredEvents=ke({updaterMap:Bg,eventMap:Fg,prevProps:{},nextProps:this.props,instance:this.marker}),this.props.onLoad&&this.props.onLoad(this.marker)},e.prototype.componentDidUpdate=function(n){this.marker&&(Re(this.registeredEvents),this.registeredEvents=ke({updaterMap:Bg,eventMap:Fg,prevProps:n,nextProps:this.props,instance:this.marker}))},e.prototype.componentWillUnmount=function(){this.marker&&(this.props.onUnmount&&this.props.onUnmount(this.marker),Re(this.registeredEvents),this.props.clusterer?this.props.clusterer.removeMarker(this.marker,!!this.props.noClustererRedraw):this.marker&&this.marker.setMap(null))},e.prototype.render=function(){var n=this,r=null;return this.props.children&&(r=_.Children.map(this.props.children,function(i){if(!_.isValidElement(i))return i;var o=i;return _.cloneElement(o,{anchor:n.marker})})),r||null},e.contextType=Le,e}(_.PureComponent),OS=function(){function t(e,n){e.getClusterer().extend(t,google.maps.OverlayView),this.cluster=e,this.clusterClassName=this.cluster.getClusterer().getClusterClass(),this.className=this.clusterClassName,this.styles=n,this.center=void 0,this.div=null,this.sums=null,this.visible=!1,this.boundsChangedListener=null,this.url="",this.height=0,this.width=0,this.anchorText=[0,0],this.anchorIcon=[0,0],this.textColor="black",this.textSize=11,this.textDecoration="none",this.fontWeight="bold",this.fontStyle="normal",this.fontFamily="Arial,sans-serif",this.backgroundPosition="0 0",this.cMouseDownInCluster=null,this.cDraggingMapByCluster=null,this.timeOut=null,this.setMap(e.getMap()),this.onBoundsChanged=this.onBoundsChanged.bind(this),this.onMouseDown=this.onMouseDown.bind(this),this.onClick=this.onClick.bind(this),this.onMouseOver=this.onMouseOver.bind(this),this.onMouseOut=this.onMouseOut.bind(this),this.onAdd=this.onAdd.bind(this),this.onRemove=this.onRemove.bind(this),this.draw=this.draw.bind(this),this.hide=this.hide.bind(this),this.show=this.show.bind(this),this.useStyle=this.useStyle.bind(this),this.setCenter=this.setCenter.bind(this),this.getPosFromLatLng=this.getPosFromLatLng.bind(this)}return t.prototype.onBoundsChanged=function(){this.cDraggingMapByCluster=this.cMouseDownInCluster},t.prototype.onMouseDown=function(){this.cMouseDownInCluster=!0,this.cDraggingMapByCluster=!1},t.prototype.onClick=function(e){if(this.cMouseDownInCluster=!1,!this.cDraggingMapByCluster){var n=this.cluster.getClusterer();if(google.maps.event.trigger(n,"click",this.cluster),google.maps.event.trigger(n,"clusterclick",this.cluster),n.getZoomOnClick()){var r=n.getMaxZoom(),i=this.cluster.getBounds(),o=n.getMap();o!==null&&"fitBounds"in o&&o.fitBounds(i),this.timeOut=window.setTimeout(function(){var s=n.getMap();if(s!==null){"fitBounds"in s&&s.fitBounds(i);var a=s.getZoom()||0;r!==null&&a>r&&s.setZoom(r+1)}},100)}e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation()}},t.prototype.onMouseOver=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseover",this.cluster)},t.prototype.onMouseOut=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseout",this.cluster)},t.prototype.onAdd=function(){var e;this.div=document.createElement("div"),this.div.className=this.className,this.visible&&this.show(),(e=this.getPanes())===null||e===void 0||e.overlayMouseTarget.appendChild(this.div);var n=this.getMap();n!==null&&(this.boundsChangedListener=google.maps.event.addListener(n,"bounds_changed",this.onBoundsChanged),this.div.addEventListener("mousedown",this.onMouseDown),this.div.addEventListener("click",this.onClick),this.div.addEventListener("mouseover",this.onMouseOver),this.div.addEventListener("mouseout",this.onMouseOut))},t.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.hide(),this.boundsChangedListener!==null&&google.maps.event.removeListener(this.boundsChangedListener),this.div.removeEventListener("mousedown",this.onMouseDown),this.div.removeEventListener("click",this.onClick),this.div.removeEventListener("mouseover",this.onMouseOver),this.div.removeEventListener("mouseout",this.onMouseOut),this.div.parentNode.removeChild(this.div),this.timeOut!==null&&(window.clearTimeout(this.timeOut),this.timeOut=null),this.div=null)},t.prototype.draw=function(){if(this.visible&&this.div!==null&&this.center){var e=this.getPosFromLatLng(this.center);this.div.style.top=e!==null?"".concat(e.y,"px"):"0",this.div.style.left=e!==null?"".concat(e.x,"px"):"0"}},t.prototype.hide=function(){this.div&&(this.div.style.display="none"),this.visible=!1},t.prototype.show=function(){var e,n,r,i,o,s;if(this.div&&this.center){var a=this.sums===null||typeof this.sums.title>"u"||this.sums.title===""?this.cluster.getClusterer().getTitle():this.sums.title,u=this.backgroundPosition.split(" "),c=parseInt(((e=u[0])===null||e===void 0?void 0:e.replace(/^\s+|\s+$/g,""))||"0",10),h=parseInt(((n=u[1])===null||n===void 0?void 0:n.replace(/^\s+|\s+$/g,""))||"0",10),f=this.getPosFromLatLng(this.center);this.div.className=this.className,this.div.setAttribute("style","cursor: pointer; position: absolute; top: ".concat(f!==null?"".concat(f.y,"px"):"0","; left: ").concat(f!==null?"".concat(f.x,"px"):"0","; width: ").concat(this.width,"px; height: ").concat(this.height,"px; "));var d=document.createElement("img");d.alt=a,d.src=this.url,d.width=this.width,d.height=this.height,d.setAttribute("style","position: absolute; top: ".concat(h,"px; left: ").concat(c,"px")),this.cluster.getClusterer().enableRetinaIcons||(d.style.clip="rect(-".concat(h,"px, -").concat(c+this.width,"px, -").concat(h+this.height,", -").concat(c,")"));var m=document.createElement("div");m.setAttribute("style","position: absolute; top: ".concat(this.anchorText[0],"px; left: ").concat(this.anchorText[1],"px; color: ").concat(this.textColor,"; font-size: ").concat(this.textSize,"px; font-family: ").concat(this.fontFamily,"; font-weight: ").concat(this.fontWeight,"; fontStyle: ").concat(this.fontStyle,"; text-decoration: ").concat(this.textDecoration,"; text-align: center; width: ").concat(this.width,"px; line-height: ").concat(this.height,"px")),!((r=this.sums)===null||r===void 0)&&r.text&&(m.innerText="".concat((i=this.sums)===null||i===void 0?void 0:i.text)),!((o=this.sums)===null||o===void 0)&&o.html&&(m.innerHTML="".concat((s=this.sums)===null||s===void 0?void 0:s.html)),this.div.innerHTML="",this.div.appendChild(d),this.div.appendChild(m),this.div.title=a,this.div.style.display=""}this.visible=!0},t.prototype.useStyle=function(e){this.sums=e;var n=this.cluster.getClusterer().getStyles(),r=n[Math.min(n.length-1,Math.max(0,e.index-1))];r&&(this.url=r.url,this.height=r.height,this.width=r.width,r.className&&(this.className="".concat(this.clusterClassName," ").concat(r.className)),this.anchorText=r.anchorText||[0,0],this.anchorIcon=r.anchorIcon||[this.height/2,this.width/2],this.textColor=r.textColor||"black",this.textSize=r.textSize||11,this.textDecoration=r.textDecoration||"none",this.fontWeight=r.fontWeight||"bold",this.fontStyle=r.fontStyle||"normal",this.fontFamily=r.fontFamily||"Arial,sans-serif",this.backgroundPosition=r.backgroundPosition||"0 0")},t.prototype.setCenter=function(e){this.center=e},t.prototype.getPosFromLatLng=function(e){var n=this.getProjection().fromLatLngToDivPixel(e);return n!==null&&(n.x-=this.anchorIcon[1],n.y-=this.anchorIcon[0]),n},t}(),NS=function(){function t(e){this.markerClusterer=e,this.map=this.markerClusterer.getMap(),this.gridSize=this.markerClusterer.getGridSize(),this.minClusterSize=this.markerClusterer.getMinimumClusterSize(),this.averageCenter=this.markerClusterer.getAverageCenter(),this.markers=[],this.center=void 0,this.bounds=null,this.clusterIcon=new OS(this,this.markerClusterer.getStyles()),this.getSize=this.getSize.bind(this),this.getMarkers=this.getMarkers.bind(this),this.getCenter=this.getCenter.bind(this),this.getMap=this.getMap.bind(this),this.getClusterer=this.getClusterer.bind(this),this.getBounds=this.getBounds.bind(this),this.remove=this.remove.bind(this),this.addMarker=this.addMarker.bind(this),this.isMarkerInClusterBounds=this.isMarkerInClusterBounds.bind(this),this.calculateBounds=this.calculateBounds.bind(this),this.updateIcon=this.updateIcon.bind(this),this.isMarkerAlreadyAdded=this.isMarkerAlreadyAdded.bind(this)}return t.prototype.getSize=function(){return this.markers.length},t.prototype.getMarkers=function(){return this.markers},t.prototype.getCenter=function(){return this.center},t.prototype.getMap=function(){return this.map},t.prototype.getClusterer=function(){return this.markerClusterer},t.prototype.getBounds=function(){for(var e=new google.maps.LatLngBounds(this.center,this.center),n=this.getMarkers(),r=0,i=n;r<i.length;r++){var o=i[r],s=o.getPosition();s&&e.extend(s)}return e},t.prototype.remove=function(){this.clusterIcon.setMap(null),this.markers=[],delete this.markers},t.prototype.addMarker=function(e){var n;if(this.isMarkerAlreadyAdded(e))return!1;if(this.center){if(this.averageCenter){var r=e.getPosition();if(r){var i=this.markers.length+1;this.center=new google.maps.LatLng((this.center.lat()*(i-1)+r.lat())/i,(this.center.lng()*(i-1)+r.lng())/i),this.calculateBounds()}}}else{var r=e.getPosition();r&&(this.center=r,this.calculateBounds())}e.isAdded=!0,this.markers.push(e);var o=this.markers.length,s=this.markerClusterer.getMaxZoom(),a=(n=this.map)===null||n===void 0?void 0:n.getZoom();if(s!==null&&typeof a<"u"&&a>s)e.getMap()!==this.map&&e.setMap(this.map);else if(o<this.minClusterSize)e.getMap()!==this.map&&e.setMap(this.map);else if(o===this.minClusterSize)for(var u=0,c=this.markers;u<c.length;u++){var h=c[u];h.setMap(null)}else e.setMap(null);return!0},t.prototype.isMarkerInClusterBounds=function(e){if(this.bounds!==null){var n=e.getPosition();if(n)return this.bounds.contains(n)}return!1},t.prototype.calculateBounds=function(){this.bounds=this.markerClusterer.getExtendedBounds(new google.maps.LatLngBounds(this.center,this.center))},t.prototype.updateIcon=function(){var e,n=this.markers.length,r=this.markerClusterer.getMaxZoom(),i=(e=this.map)===null||e===void 0?void 0:e.getZoom();if(r!==null&&typeof i<"u"&&i>r){this.clusterIcon.hide();return}if(n<this.minClusterSize){this.clusterIcon.hide();return}this.center&&this.clusterIcon.setCenter(this.center),this.clusterIcon.useStyle(this.markerClusterer.getCalculator()(this.markers,this.markerClusterer.getStyles().length)),this.clusterIcon.show()},t.prototype.isMarkerAlreadyAdded=function(e){if(this.markers.includes)return this.markers.includes(e);for(var n=0;n<this.markers.length;n++)if(e===this.markers[n])return!0;return!1},t}();function VS(t,e){var n=t.length,r=n.toString().length,i=Math.min(r,e);return{text:n.toString(),index:i,title:""}}var US=2e3,FS=500,BS="https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/m",zS="png",jS=[53,56,66,78,90],$S="cluster",q0=function(){function t(e,n,r){n===void 0&&(n=[]),r===void 0&&(r={}),this.getMinimumClusterSize=this.getMinimumClusterSize.bind(this),this.setMinimumClusterSize=this.setMinimumClusterSize.bind(this),this.getEnableRetinaIcons=this.getEnableRetinaIcons.bind(this),this.setEnableRetinaIcons=this.setEnableRetinaIcons.bind(this),this.addToClosestCluster=this.addToClosestCluster.bind(this),this.getImageExtension=this.getImageExtension.bind(this),this.setImageExtension=this.setImageExtension.bind(this),this.getExtendedBounds=this.getExtendedBounds.bind(this),this.getAverageCenter=this.getAverageCenter.bind(this),this.setAverageCenter=this.setAverageCenter.bind(this),this.getTotalClusters=this.getTotalClusters.bind(this),this.fitMapToMarkers=this.fitMapToMarkers.bind(this),this.getIgnoreHidden=this.getIgnoreHidden.bind(this),this.setIgnoreHidden=this.setIgnoreHidden.bind(this),this.getClusterClass=this.getClusterClass.bind(this),this.setClusterClass=this.setClusterClass.bind(this),this.getTotalMarkers=this.getTotalMarkers.bind(this),this.getZoomOnClick=this.getZoomOnClick.bind(this),this.setZoomOnClick=this.setZoomOnClick.bind(this),this.getBatchSizeIE=this.getBatchSizeIE.bind(this),this.setBatchSizeIE=this.setBatchSizeIE.bind(this),this.createClusters=this.createClusters.bind(this),this.onZoomChanged=this.onZoomChanged.bind(this),this.getImageSizes=this.getImageSizes.bind(this),this.setImageSizes=this.setImageSizes.bind(this),this.getCalculator=this.getCalculator.bind(this),this.setCalculator=this.setCalculator.bind(this),this.removeMarkers=this.removeMarkers.bind(this),this.resetViewport=this.resetViewport.bind(this),this.getImagePath=this.getImagePath.bind(this),this.setImagePath=this.setImagePath.bind(this),this.pushMarkerTo=this.pushMarkerTo.bind(this),this.removeMarker=this.removeMarker.bind(this),this.clearMarkers=this.clearMarkers.bind(this),this.setupStyles=this.setupStyles.bind(this),this.getGridSize=this.getGridSize.bind(this),this.setGridSize=this.setGridSize.bind(this),this.getClusters=this.getClusters.bind(this),this.getMaxZoom=this.getMaxZoom.bind(this),this.setMaxZoom=this.setMaxZoom.bind(this),this.getMarkers=this.getMarkers.bind(this),this.addMarkers=this.addMarkers.bind(this),this.getStyles=this.getStyles.bind(this),this.setStyles=this.setStyles.bind(this),this.addMarker=this.addMarker.bind(this),this.onRemove=this.onRemove.bind(this),this.getTitle=this.getTitle.bind(this),this.setTitle=this.setTitle.bind(this),this.repaint=this.repaint.bind(this),this.onIdle=this.onIdle.bind(this),this.redraw=this.redraw.bind(this),this.onAdd=this.onAdd.bind(this),this.draw=this.draw.bind(this),this.extend=this.extend.bind(this),this.extend(t,google.maps.OverlayView),this.markers=[],this.clusters=[],this.listeners=[],this.activeMap=null,this.ready=!1,this.gridSize=r.gridSize||60,this.minClusterSize=r.minimumClusterSize||2,this.maxZoom=r.maxZoom||null,this.styles=r.styles||[],this.title=r.title||"",this.zoomOnClick=!0,r.zoomOnClick!==void 0&&(this.zoomOnClick=r.zoomOnClick),this.averageCenter=!1,r.averageCenter!==void 0&&(this.averageCenter=r.averageCenter),this.ignoreHidden=!1,r.ignoreHidden!==void 0&&(this.ignoreHidden=r.ignoreHidden),this.enableRetinaIcons=!1,r.enableRetinaIcons!==void 0&&(this.enableRetinaIcons=r.enableRetinaIcons),this.imagePath=r.imagePath||BS,this.imageExtension=r.imageExtension||zS,this.imageSizes=r.imageSizes||jS,this.calculator=r.calculator||VS,this.batchSize=r.batchSize||US,this.batchSizeIE=r.batchSizeIE||FS,this.clusterClass=r.clusterClass||$S,navigator.userAgent.toLowerCase().indexOf("msie")!==-1&&(this.batchSize=this.batchSizeIE),this.timerRefStatic=null,this.setupStyles(),this.addMarkers(n,!0),this.setMap(e)}return t.prototype.onZoomChanged=function(){var e,n;this.resetViewport(!1),(((e=this.getMap())===null||e===void 0?void 0:e.getZoom())===(this.get("minZoom")||0)||((n=this.getMap())===null||n===void 0?void 0:n.getZoom())===this.get("maxZoom"))&&google.maps.event.trigger(this,"idle")},t.prototype.onIdle=function(){this.redraw()},t.prototype.onAdd=function(){var e=this.getMap();this.activeMap=e,this.ready=!0,this.repaint(),e!==null&&(this.listeners=[google.maps.event.addListener(e,"zoom_changed",this.onZoomChanged),google.maps.event.addListener(e,"idle",this.onIdle)])},t.prototype.onRemove=function(){for(var e=0,n=this.markers;e<n.length;e++){var r=n[e];r.getMap()!==this.activeMap&&r.setMap(this.activeMap)}for(var i=0,o=this.clusters;i<o.length;i++){var s=o[i];s.remove()}this.clusters=[];for(var a=0,u=this.listeners;a<u.length;a++){var c=u[a];google.maps.event.removeListener(c)}this.listeners=[],this.activeMap=null,this.ready=!1},t.prototype.draw=function(){},t.prototype.getMap=function(){return null},t.prototype.getPanes=function(){return null},t.prototype.getProjection=function(){return{fromContainerPixelToLatLng:function(){return null},fromDivPixelToLatLng:function(){return null},fromLatLngToContainerPixel:function(){return null},fromLatLngToDivPixel:function(){return null},getVisibleRegion:function(){return null},getWorldWidth:function(){return 0}}},t.prototype.setMap=function(){},t.prototype.addListener=function(){return{remove:function(){}}},t.prototype.bindTo=function(){},t.prototype.get=function(){},t.prototype.notify=function(){},t.prototype.set=function(){},t.prototype.setValues=function(){},t.prototype.unbind=function(){},t.prototype.unbindAll=function(){},t.prototype.setupStyles=function(){if(!(this.styles.length>0))for(var e=0;e<this.imageSizes.length;e++)this.styles.push({url:"".concat(this.imagePath+(e+1),".").concat(this.imageExtension),height:this.imageSizes[e]||0,width:this.imageSizes[e]||0})},t.prototype.fitMapToMarkers=function(){for(var e=this.getMarkers(),n=new google.maps.LatLngBounds,r=0,i=e;r<i.length;r++){var o=i[r],s=o.getPosition();s&&n.extend(s)}var a=this.getMap();a!==null&&"fitBounds"in a&&a.fitBounds(n)},t.prototype.getGridSize=function(){return this.gridSize},t.prototype.setGridSize=function(e){this.gridSize=e},t.prototype.getMinimumClusterSize=function(){return this.minClusterSize},t.prototype.setMinimumClusterSize=function(e){this.minClusterSize=e},t.prototype.getMaxZoom=function(){return this.maxZoom},t.prototype.setMaxZoom=function(e){this.maxZoom=e},t.prototype.getStyles=function(){return this.styles},t.prototype.setStyles=function(e){this.styles=e},t.prototype.getTitle=function(){return this.title},t.prototype.setTitle=function(e){this.title=e},t.prototype.getZoomOnClick=function(){return this.zoomOnClick},t.prototype.setZoomOnClick=function(e){this.zoomOnClick=e},t.prototype.getAverageCenter=function(){return this.averageCenter},t.prototype.setAverageCenter=function(e){this.averageCenter=e},t.prototype.getIgnoreHidden=function(){return this.ignoreHidden},t.prototype.setIgnoreHidden=function(e){this.ignoreHidden=e},t.prototype.getEnableRetinaIcons=function(){return this.enableRetinaIcons},t.prototype.setEnableRetinaIcons=function(e){this.enableRetinaIcons=e},t.prototype.getImageExtension=function(){return this.imageExtension},t.prototype.setImageExtension=function(e){this.imageExtension=e},t.prototype.getImagePath=function(){return this.imagePath},t.prototype.setImagePath=function(e){this.imagePath=e},t.prototype.getImageSizes=function(){return this.imageSizes},t.prototype.setImageSizes=function(e){this.imageSizes=e},t.prototype.getCalculator=function(){return this.calculator},t.prototype.setCalculator=function(e){this.calculator=e},t.prototype.getBatchSizeIE=function(){return this.batchSizeIE},t.prototype.setBatchSizeIE=function(e){this.batchSizeIE=e},t.prototype.getClusterClass=function(){return this.clusterClass},t.prototype.setClusterClass=function(e){this.clusterClass=e},t.prototype.getMarkers=function(){return this.markers},t.prototype.getTotalMarkers=function(){return this.markers.length},t.prototype.getClusters=function(){return this.clusters},t.prototype.getTotalClusters=function(){return this.clusters.length},t.prototype.addMarker=function(e,n){this.pushMarkerTo(e),n||this.redraw()},t.prototype.addMarkers=function(e,n){for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=e[r];i&&this.pushMarkerTo(i)}n||this.redraw()},t.prototype.pushMarkerTo=function(e){var n=this;e.getDraggable()&&google.maps.event.addListener(e,"dragend",function(){n.ready&&(e.isAdded=!1,n.repaint())}),e.isAdded=!1,this.markers.push(e)},t.prototype.removeMarker_=function(e){var n=-1;if(this.markers.indexOf)n=this.markers.indexOf(e);else for(var r=0;r<this.markers.length;r++)if(e===this.markers[r]){n=r;break}return n===-1?!1:(e.setMap(null),this.markers.splice(n,1),!0)},t.prototype.removeMarker=function(e,n){var r=this.removeMarker_(e);return!n&&r&&this.repaint(),r},t.prototype.removeMarkers=function(e,n){for(var r=!1,i=0,o=e;i<o.length;i++){var s=o[i];r=r||this.removeMarker_(s)}return!n&&r&&this.repaint(),r},t.prototype.clearMarkers=function(){this.resetViewport(!0),this.markers=[]},t.prototype.repaint=function(){var e=this.clusters.slice();this.clusters=[],this.resetViewport(!1),this.redraw(),setTimeout(function(){for(var r=0,i=e;r<i.length;r++){var o=i[r];o.remove()}},0)},t.prototype.getExtendedBounds=function(e){var n=this.getProjection(),r=n.fromLatLngToDivPixel(new google.maps.LatLng(e.getNorthEast().lat(),e.getNorthEast().lng()));r!==null&&(r.x+=this.gridSize,r.y-=this.gridSize);var i=n.fromLatLngToDivPixel(new google.maps.LatLng(e.getSouthWest().lat(),e.getSouthWest().lng()));if(i!==null&&(i.x-=this.gridSize,i.y+=this.gridSize),r!==null){var o=n.fromDivPixelToLatLng(r);o!==null&&e.extend(o)}if(i!==null){var s=n.fromDivPixelToLatLng(i);s!==null&&e.extend(s)}return e},t.prototype.redraw=function(){this.createClusters(0)},t.prototype.resetViewport=function(e){for(var n=0,r=this.clusters;n<r.length;n++){var i=r[n];i.remove()}this.clusters=[];for(var o=0,s=this.markers;o<s.length;o++){var a=s[o];a.isAdded=!1,e&&a.setMap(null)}},t.prototype.distanceBetweenPoints=function(e,n){var r=6371,i=(n.lat()-e.lat())*Math.PI/180,o=(n.lng()-e.lng())*Math.PI/180,s=Math.sin(i/2)*Math.sin(i/2)+Math.cos(e.lat()*Math.PI/180)*Math.cos(n.lat()*Math.PI/180)*Math.sin(o/2)*Math.sin(o/2);return r*(2*Math.atan2(Math.sqrt(s),Math.sqrt(1-s)))},t.prototype.isMarkerInBounds=function(e,n){var r=e.getPosition();return r?n.contains(r):!1},t.prototype.addToClosestCluster=function(e){for(var n,r=4e4,i=null,o=0,s=this.clusters;o<s.length;o++){var a=s[o];n=a;var u=n.getCenter(),c=e.getPosition();if(u&&c){var h=this.distanceBetweenPoints(u,c);h<r&&(r=h,i=n)}}i&&i.isMarkerInClusterBounds(e)?i.addMarker(e):(n=new NS(this),n.addMarker(e),this.clusters.push(n))},t.prototype.createClusters=function(e){var n=this;if(this.ready){e===0&&(google.maps.event.trigger(this,"clusteringbegin",this),this.timerRefStatic!==null&&(window.clearTimeout(this.timerRefStatic),delete this.timerRefStatic));for(var r=this.getMap(),i=r!==null&&("getBounds"in r)?r.getBounds():null,o=(r==null?void 0:r.getZoom())||0,s=o>3?new google.maps.LatLngBounds(i==null?void 0:i.getSouthWest(),i==null?void 0:i.getNorthEast()):new google.maps.LatLngBounds(new google.maps.LatLng(85.02070771743472,-178.48388434375),new google.maps.LatLng(-85.08136444384544,178.00048865625)),a=this.getExtendedBounds(s),u=Math.min(e+this.batchSize,this.markers.length),c=e;c<u;c++){var h=this.markers[c];h&&!h.isAdded&&this.isMarkerInBounds(h,a)&&(!this.ignoreHidden||this.ignoreHidden&&h.getVisible())&&this.addToClosestCluster(h)}if(u<this.markers.length)this.timerRefStatic=window.setTimeout(function(){n.createClusters(u)},0);else{this.timerRefStatic=null,google.maps.event.trigger(this,"clusteringend",this);for(var f=0,d=this.clusters;f<d.length;f++){var m=d[f];m.updateIcon()}}}},t.prototype.extend=function(e,n){return(function(i){for(var o in i.prototype){var s=o;this.prototype[s]=i.prototype[s]}return this}).apply(e,[n])},t}(),En={onClick:"click",onClusteringBegin:"clusteringbegin",onClusteringEnd:"clusteringend",onMouseOut:"mouseout",onMouseOver:"mouseover"},Ue={averageCenter:function(t,e){t.setAverageCenter(e)},batchSizeIE:function(t,e){t.setBatchSizeIE(e)},calculator:function(t,e){t.setCalculator(e)},clusterClass:function(t,e){t.setClusterClass(e)},enableRetinaIcons:function(t,e){t.setEnableRetinaIcons(e)},gridSize:function(t,e){t.setGridSize(e)},ignoreHidden:function(t,e){t.setIgnoreHidden(e)},imageExtension:function(t,e){t.setImageExtension(e)},imagePath:function(t,e){t.setImagePath(e)},imageSizes:function(t,e){t.setImageSizes(e)},maxZoom:function(t,e){t.setMaxZoom(e)},minimumClusterSize:function(t,e){t.setMinimumClusterSize(e)},styles:function(t,e){t.setStyles(e)},title:function(t,e){t.setTitle(e)},zoomOnClick:function(t,e){t.setZoomOnClick(e)}},HS={};function WS(t){var e=t.children,n=t.options,r=t.averageCenter,i=t.batchSizeIE,o=t.calculator,s=t.clusterClass,a=t.enableRetinaIcons,u=t.gridSize,c=t.ignoreHidden,h=t.imageExtension,f=t.imagePath,d=t.imageSizes,m=t.maxZoom,C=t.minimumClusterSize,L=t.styles,x=t.title,E=t.zoomOnClick,T=t.onClick,k=t.onClusteringBegin,b=t.onClusteringEnd,N=t.onMouseOver,A=t.onMouseOut,S=t.onLoad,p=t.onUnmount,v=_.useState(null),y=v[0],P=v[1],R=_.useContext(Le),I=_.useState(null),V=I[0],z=I[1],O=_.useState(null),M=O[0],F=O[1],U=_.useState(null),B=U[0],K=U[1],G=_.useState(null),Q=G[0],q=G[1],H=_.useState(null),j=H[0],oe=H[1];return _.useEffect(function(){y&&A&&(Q!==null&&google.maps.event.removeListener(Q),q(google.maps.event.addListener(y,En.onMouseOut,A)))},[A]),_.useEffect(function(){y&&N&&(j!==null&&google.maps.event.removeListener(j),oe(google.maps.event.addListener(y,En.onMouseOver,N)))},[N]),_.useEffect(function(){y&&T&&(V!==null&&google.maps.event.removeListener(V),z(google.maps.event.addListener(y,En.onClick,T)))},[T]),_.useEffect(function(){y&&k&&(M!==null&&google.maps.event.removeListener(M),F(google.maps.event.addListener(y,En.onClusteringBegin,k)))},[k]),_.useEffect(function(){y&&b&&(B!==null&&google.maps.event.removeListener(B),F(google.maps.event.addListener(y,En.onClusteringEnd,b)))},[b]),_.useEffect(function(){typeof r<"u"&&y!==null&&Ue.averageCenter(y,r)},[y,r]),_.useEffect(function(){typeof i<"u"&&y!==null&&Ue.batchSizeIE(y,i)},[y,i]),_.useEffect(function(){typeof o<"u"&&y!==null&&Ue.calculator(y,o)},[y,o]),_.useEffect(function(){typeof s<"u"&&y!==null&&Ue.clusterClass(y,s)},[y,s]),_.useEffect(function(){typeof a<"u"&&y!==null&&Ue.enableRetinaIcons(y,a)},[y,a]),_.useEffect(function(){typeof u<"u"&&y!==null&&Ue.gridSize(y,u)},[y,u]),_.useEffect(function(){typeof c<"u"&&y!==null&&Ue.ignoreHidden(y,c)},[y,c]),_.useEffect(function(){typeof h<"u"&&y!==null&&Ue.imageExtension(y,h)},[y,h]),_.useEffect(function(){typeof f<"u"&&y!==null&&Ue.imagePath(y,f)},[y,f]),_.useEffect(function(){typeof d<"u"&&y!==null&&Ue.imageSizes(y,d)},[y,d]),_.useEffect(function(){typeof m<"u"&&y!==null&&Ue.maxZoom(y,m)},[y,m]),_.useEffect(function(){typeof C<"u"&&y!==null&&Ue.minimumClusterSize(y,C)},[y,C]),_.useEffect(function(){typeof L<"u"&&y!==null&&Ue.styles(y,L)},[y,L]),_.useEffect(function(){typeof x<"u"&&y!==null&&Ue.title(y,x)},[y,x]),_.useEffect(function(){typeof E<"u"&&y!==null&&Ue.zoomOnClick(y,E)},[y,E]),_.useEffect(function(){if(R){var he=ae({},n||HS),ee=new q0(R,[],he);return r&&Ue.averageCenter(ee,r),i&&Ue.batchSizeIE(ee,i),o&&Ue.calculator(ee,o),s&&Ue.clusterClass(ee,s),a&&Ue.enableRetinaIcons(ee,a),u&&Ue.gridSize(ee,u),c&&Ue.ignoreHidden(ee,c),h&&Ue.imageExtension(ee,h),f&&Ue.imagePath(ee,f),d&&Ue.imageSizes(ee,d),m&&Ue.maxZoom(ee,m),C&&Ue.minimumClusterSize(ee,C),L&&Ue.styles(ee,L),x&&Ue.title(ee,x),E&&Ue.zoomOnClick(ee,E),A&&q(google.maps.event.addListener(ee,En.onMouseOut,A)),N&&oe(google.maps.event.addListener(ee,En.onMouseOver,N)),T&&z(google.maps.event.addListener(ee,En.onClick,T)),k&&F(google.maps.event.addListener(ee,En.onClusteringBegin,k)),b&&K(google.maps.event.addListener(ee,En.onClusteringEnd,b)),P(ee),S&&S(ee),function(){Q!==null&&google.maps.event.removeListener(Q),j!==null&&google.maps.event.removeListener(j),V!==null&&google.maps.event.removeListener(V),M!==null&&google.maps.event.removeListener(M),B!==null&&google.maps.event.removeListener(B),p&&p(ee)}}},[]),y!==null&&e(y)||null}_.memo(WS);(function(t){qe(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.registeredEvents=[],n.state={markerClusterer:null},n.setClustererCallback=function(){n.state.markerClusterer!==null&&n.props.onLoad&&n.props.onLoad(n.state.markerClusterer)},n}return e.prototype.componentDidMount=function(){if(this.context){var n=new q0(this.context,[],this.props.options);this.registeredEvents=ke({updaterMap:Ue,eventMap:En,prevProps:{},nextProps:this.props,instance:n}),this.setState(function(){return{markerClusterer:n}},this.setClustererCallback)}},e.prototype.componentDidUpdate=function(n){this.state.markerClusterer&&(Re(this.registeredEvents),this.registeredEvents=ke({updaterMap:Ue,eventMap:En,prevProps:n,nextProps:this.props,instance:this.state.markerClusterer}))},e.prototype.componentWillUnmount=function(){this.state.markerClusterer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.markerClusterer),Re(this.registeredEvents),this.state.markerClusterer.setMap(null))},e.prototype.render=function(){return this.state.markerClusterer!==null?this.props.children(this.state.markerClusterer):null},e.contextType=Le,e})(_.PureComponent);function zg(t){t.cancelBubble=!0,t.stopPropagation&&t.stopPropagation()}var K0=function(){function t(e){e===void 0&&(e={}),this.getCloseClickHandler=this.getCloseClickHandler.bind(this),this.closeClickHandler=this.closeClickHandler.bind(this),this.createInfoBoxDiv=this.createInfoBoxDiv.bind(this),this.addClickHandler=this.addClickHandler.bind(this),this.getCloseBoxImg=this.getCloseBoxImg.bind(this),this.getBoxWidths=this.getBoxWidths.bind(this),this.setBoxStyle=this.setBoxStyle.bind(this),this.setPosition=this.setPosition.bind(this),this.getPosition=this.getPosition.bind(this),this.setOptions=this.setOptions.bind(this),this.setContent=this.setContent.bind(this),this.setVisible=this.setVisible.bind(this),this.getContent=this.getContent.bind(this),this.getVisible=this.getVisible.bind(this),this.setZIndex=this.setZIndex.bind(this),this.getZIndex=this.getZIndex.bind(this),this.onRemove=this.onRemove.bind(this),this.panBox=this.panBox.bind(this),this.extend=this.extend.bind(this),this.close=this.close.bind(this),this.draw=this.draw.bind(this),this.show=this.show.bind(this),this.hide=this.hide.bind(this),this.open=this.open.bind(this),this.extend(t,google.maps.OverlayView),this.content=e.content||"",this.disableAutoPan=e.disableAutoPan||!1,this.maxWidth=e.maxWidth||0,this.pixelOffset=e.pixelOffset||new google.maps.Size(0,0),this.position=e.position||new google.maps.LatLng(0,0),this.zIndex=e.zIndex||null,this.boxClass=e.boxClass||"infoBox",this.boxStyle=e.boxStyle||{},this.closeBoxMargin=e.closeBoxMargin||"2px",this.closeBoxURL=e.closeBoxURL||"http://www.google.com/intl/en_us/mapfiles/close.gif",e.closeBoxURL===""&&(this.closeBoxURL=""),this.infoBoxClearance=e.infoBoxClearance||new google.maps.Size(1,1),typeof e.visible>"u"&&(typeof e.isHidden>"u"?e.visible=!0:e.visible=!e.isHidden),this.isHidden=!e.visible,this.alignBottom=e.alignBottom||!1,this.pane=e.pane||"floatPane",this.enableEventPropagation=e.enableEventPropagation||!1,this.div=null,this.closeListener=null,this.moveListener=null,this.mapListener=null,this.contextListener=null,this.eventListeners=null,this.fixedWidthSet=null}return t.prototype.createInfoBoxDiv=function(){var e=this,n=function(c){c.returnValue=!1,c.preventDefault&&c.preventDefault(),e.enableEventPropagation||zg(c)};if(!this.div){this.div=document.createElement("div"),this.setBoxStyle(),typeof this.content=="string"?this.div.innerHTML=this.getCloseBoxImg()+this.content:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(this.content));var r=this.getPanes();if(r!==null&&r[this.pane].appendChild(this.div),this.addClickHandler(),this.div.style.width)this.fixedWidthSet=!0;else if(this.maxWidth!==0&&this.div.offsetWidth>this.maxWidth)this.div.style.width=this.maxWidth+"px",this.fixedWidthSet=!0;else{var i=this.getBoxWidths();this.div.style.width=this.div.offsetWidth-i.left-i.right+"px",this.fixedWidthSet=!1}if(this.panBox(this.disableAutoPan),!this.enableEventPropagation){this.eventListeners=[];for(var o=["mousedown","mouseover","mouseout","mouseup","click","dblclick","touchstart","touchend","touchmove"],s=0,a=o;s<a.length;s++){var u=a[s];this.eventListeners.push(google.maps.event.addListener(this.div,u,zg))}this.eventListeners.push(google.maps.event.addListener(this.div,"mouseover",function(){e.div&&(e.div.style.cursor="default")}))}this.contextListener=google.maps.event.addListener(this.div,"contextmenu",n),google.maps.event.trigger(this,"domready")}},t.prototype.getCloseBoxImg=function(){var e="";return this.closeBoxURL!==""&&(e='<img alt=""',e+=' aria-hidden="true"',e+=" src='"+this.closeBoxURL+"'",e+=" align=right",e+=" style='",e+=" position: relative;",e+=" cursor: pointer;",e+=" margin: "+this.closeBoxMargin+";",e+="'>"),e},t.prototype.addClickHandler=function(){this.closeListener=this.div&&this.div.firstChild&&this.closeBoxURL!==""?google.maps.event.addListener(this.div.firstChild,"click",this.getCloseClickHandler()):null},t.prototype.closeClickHandler=function(e){e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation(),google.maps.event.trigger(this,"closeclick"),this.close()},t.prototype.getCloseClickHandler=function(){return this.closeClickHandler},t.prototype.panBox=function(e){if(this.div&&!e){var n=this.getMap();if(n instanceof google.maps.Map){var r=0,i=0,o=n.getBounds();o&&!o.contains(this.position)&&n.setCenter(this.position);var s=n.getDiv(),a=s.offsetWidth,u=s.offsetHeight,c=this.pixelOffset.width,h=this.pixelOffset.height,f=this.div.offsetWidth,d=this.div.offsetHeight,m=this.infoBoxClearance.width,C=this.infoBoxClearance.height,L=this.getProjection(),x=L.fromLatLngToContainerPixel(this.position);x!==null&&(x.x<-c+m?r=x.x+c-m:x.x+f+c+m>a&&(r=x.x+f+c+m-a),this.alignBottom?x.y<-h+C+d?i=x.y+h-C-d:x.y+h+C>u&&(i=x.y+h+C-u):x.y<-h+C?i=x.y+h-C:x.y+d+h+C>u&&(i=x.y+d+h+C-u)),r===0&&i===0||n.panBy(r,i)}}},t.prototype.setBoxStyle=function(){if(this.div){this.div.className=this.boxClass,this.div.style.cssText="";var e=this.boxStyle;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(this.div.style[n]=e[n]);if(this.div.style.webkitTransform="translateZ(0)",typeof this.div.style.opacity<"u"&&this.div.style.opacity!==""){var r=parseFloat(this.div.style.opacity||"");this.div.style.msFilter='"progid:DXImageTransform.Microsoft.Alpha(Opacity='+r*100+')"',this.div.style.filter="alpha(opacity="+r*100+")"}this.div.style.position="absolute",this.div.style.visibility="hidden",this.zIndex!==null&&(this.div.style.zIndex=this.zIndex+""),this.div.style.overflow||(this.div.style.overflow="auto")}},t.prototype.getBoxWidths=function(){var e={top:0,bottom:0,left:0,right:0};if(!this.div)return e;if(document.defaultView){var n=this.div.ownerDocument,r=n&&n.defaultView?n.defaultView.getComputedStyle(this.div,""):null;r&&(e.top=parseInt(r.borderTopWidth||"",10)||0,e.bottom=parseInt(r.borderBottomWidth||"",10)||0,e.left=parseInt(r.borderLeftWidth||"",10)||0,e.right=parseInt(r.borderRightWidth||"",10)||0)}else if(document.documentElement.currentStyle){var i=this.div.currentStyle;i&&(e.top=parseInt(i.borderTopWidth||"",10)||0,e.bottom=parseInt(i.borderBottomWidth||"",10)||0,e.left=parseInt(i.borderLeftWidth||"",10)||0,e.right=parseInt(i.borderRightWidth||"",10)||0)}return e},t.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.div.parentNode.removeChild(this.div),this.div=null)},t.prototype.draw=function(){if(this.createInfoBoxDiv(),this.div){var e=this.getProjection(),n=e.fromLatLngToDivPixel(this.position);n!==null&&(this.div.style.left=n.x+this.pixelOffset.width+"px",this.alignBottom?this.div.style.bottom=-(n.y+this.pixelOffset.height)+"px":this.div.style.top=n.y+this.pixelOffset.height+"px"),this.isHidden?this.div.style.visibility="hidden":this.div.style.visibility="visible"}},t.prototype.setOptions=function(e){e===void 0&&(e={}),typeof e.boxClass<"u"&&(this.boxClass=e.boxClass,this.setBoxStyle()),typeof e.boxStyle<"u"&&(this.boxStyle=e.boxStyle,this.setBoxStyle()),typeof e.content<"u"&&this.setContent(e.content),typeof e.disableAutoPan<"u"&&(this.disableAutoPan=e.disableAutoPan),typeof e.maxWidth<"u"&&(this.maxWidth=e.maxWidth),typeof e.pixelOffset<"u"&&(this.pixelOffset=e.pixelOffset),typeof e.alignBottom<"u"&&(this.alignBottom=e.alignBottom),typeof e.position<"u"&&this.setPosition(e.position),typeof e.zIndex<"u"&&this.setZIndex(e.zIndex),typeof e.closeBoxMargin<"u"&&(this.closeBoxMargin=e.closeBoxMargin),typeof e.closeBoxURL<"u"&&(this.closeBoxURL=e.closeBoxURL),typeof e.infoBoxClearance<"u"&&(this.infoBoxClearance=e.infoBoxClearance),typeof e.isHidden<"u"&&(this.isHidden=e.isHidden),typeof e.visible<"u"&&(this.isHidden=!e.visible),typeof e.enableEventPropagation<"u"&&(this.enableEventPropagation=e.enableEventPropagation),this.div&&this.draw()},t.prototype.setContent=function(e){this.content=e,this.div&&(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.fixedWidthSet||(this.div.style.width=""),typeof e=="string"?this.div.innerHTML=this.getCloseBoxImg()+e:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(e)),this.fixedWidthSet||(this.div.style.width=this.div.offsetWidth+"px",typeof e=="string"?this.div.innerHTML=this.getCloseBoxImg()+e:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(e))),this.addClickHandler()),google.maps.event.trigger(this,"content_changed")},t.prototype.setPosition=function(e){this.position=e,this.div&&this.draw(),google.maps.event.trigger(this,"position_changed")},t.prototype.setVisible=function(e){this.isHidden=!e,this.div&&(this.div.style.visibility=this.isHidden?"hidden":"visible")},t.prototype.setZIndex=function(e){this.zIndex=e,this.div&&(this.div.style.zIndex=e+""),google.maps.event.trigger(this,"zindex_changed")},t.prototype.getContent=function(){return this.content},t.prototype.getPosition=function(){return this.position},t.prototype.getZIndex=function(){return this.zIndex},t.prototype.getVisible=function(){var e=this.getMap();return typeof e>"u"||e===null?!1:!this.isHidden},t.prototype.show=function(){this.isHidden=!1,this.div&&(this.div.style.visibility="visible")},t.prototype.hide=function(){this.isHidden=!0,this.div&&(this.div.style.visibility="hidden")},t.prototype.open=function(e,n){var r=this;n&&(this.position=n.getPosition(),this.moveListener=google.maps.event.addListener(n,"position_changed",function(){var i=n.getPosition();r.setPosition(i)}),this.mapListener=google.maps.event.addListener(n,"map_changed",function(){r.setMap(n.map)})),this.setMap(e),this.div&&this.panBox()},t.prototype.close=function(){if(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.eventListeners){for(var e=0,n=this.eventListeners;e<n.length;e++){var r=n[e];google.maps.event.removeListener(r)}this.eventListeners=null}this.moveListener&&(google.maps.event.removeListener(this.moveListener),this.moveListener=null),this.mapListener&&(google.maps.event.removeListener(this.mapListener),this.mapListener=null),this.contextListener&&(google.maps.event.removeListener(this.contextListener),this.contextListener=null),this.setMap(null)},t.prototype.extend=function(e,n){return(function(i){for(var o in i.prototype)Object.prototype.hasOwnProperty.call(this,o)||(this.prototype[o]=i.prototype[o]);return this}).apply(e,[n])},t}(),jg={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},$g={options:function(t,e){t.setOptions(e)},position:function(t,e){e instanceof google.maps.LatLng?t.setPosition(e):t.setPosition(new google.maps.LatLng(e.lat,e.lng))},visible:function(t,e){t.setVisible(e)},zIndex:function(t,e){t.setZIndex(e)}},GS={};function qS(t){var e=t.children,n=t.anchor,r=t.options,i=t.position,o=t.zIndex,s=t.onCloseClick,a=t.onDomReady,u=t.onContentChanged,c=t.onPositionChanged,h=t.onZindexChanged,f=t.onLoad,d=t.onUnmount,m=_.useContext(Le),C=_.useState(null),L=C[0],x=C[1],E=_.useState(null),T=E[0],k=E[1],b=_.useState(null),N=b[0],A=b[1],S=_.useState(null),p=S[0],v=S[1],y=_.useState(null),P=y[0],R=y[1],I=_.useState(null),V=I[0],z=I[1],O=_.useRef(null);return _.useEffect(function(){m&&L!==null&&(L.close(),n?L.open(m,n):L.getPosition()&&L.open(m))},[m,L,n]),_.useEffect(function(){r&&L!==null&&L.setOptions(r)},[L,r]),_.useEffect(function(){if(i&&L!==null){var M=i instanceof google.maps.LatLng?i:new google.maps.LatLng(i.lat,i.lng);L.setPosition(M)}},[i]),_.useEffect(function(){typeof o=="number"&&L!==null&&L.setZIndex(o)},[o]),_.useEffect(function(){L&&s&&(T!==null&&google.maps.event.removeListener(T),k(google.maps.event.addListener(L,"closeclick",s)))},[s]),_.useEffect(function(){L&&a&&(N!==null&&google.maps.event.removeListener(N),A(google.maps.event.addListener(L,"domready",a)))},[a]),_.useEffect(function(){L&&u&&(p!==null&&google.maps.event.removeListener(p),v(google.maps.event.addListener(L,"content_changed",u)))},[u]),_.useEffect(function(){L&&c&&(P!==null&&google.maps.event.removeListener(P),R(google.maps.event.addListener(L,"position_changed",c)))},[c]),_.useEffect(function(){L&&h&&(V!==null&&google.maps.event.removeListener(V),z(google.maps.event.addListener(L,"zindex_changed",h)))},[h]),_.useEffect(function(){if(m){var M=r||GS,F=M.position,U=ed(M,["position"]),B=void 0;F&&!(F instanceof google.maps.LatLng)&&(B=new google.maps.LatLng(F.lat,F.lng));var K=new K0(ae(ae({},U),B?{position:B}:{}));O.current=document.createElement("div"),x(K),s&&k(google.maps.event.addListener(K,"closeclick",s)),a&&A(google.maps.event.addListener(K,"domready",a)),u&&v(google.maps.event.addListener(K,"content_changed",u)),c&&R(google.maps.event.addListener(K,"position_changed",c)),h&&z(google.maps.event.addListener(K,"zindex_changed",h)),K.setContent(O.current),n?K.open(m,n):K.getPosition()?K.open(m):ft(!1,"You must provide either an anchor or a position prop for <InfoBox>."),f&&f(K)}return function(){L!==null&&(T&&google.maps.event.removeListener(T),p&&google.maps.event.removeListener(p),N&&google.maps.event.removeListener(N),P&&google.maps.event.removeListener(P),V&&google.maps.event.removeListener(V),d&&d(L),L.close())}},[]),O.current?Ui.createPortal(_.Children.only(e),O.current):null}_.memo(qS);(function(t){qe(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.registeredEvents=[],n.containerElement=null,n.state={infoBox:null},n.open=function(r,i){i?n.context!==null&&r.open(n.context,i):r.getPosition()?n.context!==null&&r.open(n.context):ft(!1,"You must provide either an anchor or a position prop for <InfoBox>.")},n.setInfoBoxCallback=function(){n.state.infoBox!==null&&n.containerElement!==null&&(n.state.infoBox.setContent(n.containerElement),n.open(n.state.infoBox,n.props.anchor),n.props.onLoad&&n.props.onLoad(n.state.infoBox))},n}return e.prototype.componentDidMount=function(){var n=this.props.options||{},r=n.position,i=ed(n,["position"]),o;r&&!(r instanceof google.maps.LatLng)&&(o=new google.maps.LatLng(r.lat,r.lng));var s=new K0(ae(ae({},i),o?{position:o}:{}));this.containerElement=document.createElement("div"),this.registeredEvents=ke({updaterMap:$g,eventMap:jg,prevProps:{},nextProps:this.props,instance:s}),this.setState({infoBox:s},this.setInfoBoxCallback)},e.prototype.componentDidUpdate=function(n){var r=this.state.infoBox;r!==null&&(Re(this.registeredEvents),this.registeredEvents=ke({updaterMap:$g,eventMap:jg,prevProps:n,nextProps:this.props,instance:r}))},e.prototype.componentWillUnmount=function(){var n=this.props.onUnmount,r=this.state.infoBox;r!==null&&(n&&n(r),Re(this.registeredEvents),r.close())},e.prototype.render=function(){return this.containerElement?Ui.createPortal(_.Children.only(this.props.children),this.containerElement):null},e.contextType=Le,e})(_.PureComponent);var KS=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,i,o;if(Array.isArray(e)){if(r=e.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!t(e[i],n[i]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(o=Object.keys(e),r=o.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,o[i]))return!1;for(i=r;i--!==0;){var s=o[i];if(!t(e[s],n[s]))return!1}return!0}return e!==e&&n!==n},Hg=j0(KS);const Wg=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],Lc=1,ds=8;class td{static from(e){if(!(e instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");const[n,r]=new Uint8Array(e,0,2);if(n!==219)throw new Error("Data does not appear to be in a KDBush format.");const i=r>>4;if(i!==Lc)throw new Error(`Got v${i} data when expected v${Lc}.`);const o=Wg[r&15];if(!o)throw new Error("Unrecognized array type.");const[s]=new Uint16Array(e,2,1),[a]=new Uint32Array(e,4,1);return new td(a,s,o,e)}constructor(e,n=64,r=Float64Array,i){if(isNaN(e)||e<0)throw new Error(`Unpexpected numItems value: ${e}.`);this.numItems=+e,this.nodeSize=Math.min(Math.max(+n,2),65535),this.ArrayType=r,this.IndexArrayType=e<65536?Uint16Array:Uint32Array;const o=Wg.indexOf(this.ArrayType),s=e*2*this.ArrayType.BYTES_PER_ELEMENT,a=e*this.IndexArrayType.BYTES_PER_ELEMENT,u=(8-a%8)%8;if(o<0)throw new Error(`Unexpected typed array class: ${r}.`);i&&i instanceof ArrayBuffer?(this.data=i,this.ids=new this.IndexArrayType(this.data,ds,e),this.coords=new this.ArrayType(this.data,ds+a+u,e*2),this._pos=e*2,this._finished=!0):(this.data=new ArrayBuffer(ds+s+a+u),this.ids=new this.IndexArrayType(this.data,ds,e),this.coords=new this.ArrayType(this.data,ds+a+u,e*2),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,(Lc<<4)+o]),new Uint16Array(this.data,2,1)[0]=n,new Uint32Array(this.data,4,1)[0]=e)}add(e,n){const r=this._pos>>1;return this.ids[r]=r,this.coords[this._pos++]=e,this.coords[this._pos++]=n,r}finish(){const e=this._pos>>1;if(e!==this.numItems)throw new Error(`Added ${e} items when expected ${this.numItems}.`);return Dh(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(e,n,r,i){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:o,coords:s,nodeSize:a}=this,u=[0,o.length-1,0],c=[];for(;u.length;){const h=u.pop()||0,f=u.pop()||0,d=u.pop()||0;if(f-d<=a){for(let x=d;x<=f;x++){const E=s[2*x],T=s[2*x+1];E>=e&&E<=r&&T>=n&&T<=i&&c.push(o[x])}continue}const m=d+f>>1,C=s[2*m],L=s[2*m+1];C>=e&&C<=r&&L>=n&&L<=i&&c.push(o[m]),(h===0?e<=C:n<=L)&&(u.push(d),u.push(m-1),u.push(1-h)),(h===0?r>=C:i>=L)&&(u.push(m+1),u.push(f),u.push(1-h))}return c}within(e,n,r){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:i,coords:o,nodeSize:s}=this,a=[0,i.length-1,0],u=[],c=r*r;for(;a.length;){const h=a.pop()||0,f=a.pop()||0,d=a.pop()||0;if(f-d<=s){for(let x=d;x<=f;x++)Gg(o[2*x],o[2*x+1],e,n)<=c&&u.push(i[x]);continue}const m=d+f>>1,C=o[2*m],L=o[2*m+1];Gg(C,L,e,n)<=c&&u.push(i[m]),(h===0?e-r<=C:n-r<=L)&&(a.push(d),a.push(m-1),a.push(1-h)),(h===0?e+r>=C:n+r>=L)&&(a.push(m+1),a.push(f),a.push(1-h))}return u}}function Dh(t,e,n,r,i,o){if(i-r<=n)return;const s=r+i>>1;Q0(t,e,s,r,i,o),Dh(t,e,n,r,s-1,1-o),Dh(t,e,n,s+1,i,1-o)}function Q0(t,e,n,r,i,o){for(;i>r;){if(i-r>600){const c=i-r+1,h=n-r+1,f=Math.log(c),d=.5*Math.exp(2*f/3),m=.5*Math.sqrt(f*d*(c-d)/c)*(h-c/2<0?-1:1),C=Math.max(r,Math.floor(n-h*d/c+m)),L=Math.min(i,Math.floor(n+(c-h)*d/c+m));Q0(t,e,n,C,L,o)}const s=e[2*n+o];let a=r,u=i;for(ps(t,e,r,n),e[2*i+o]>s&&ps(t,e,r,i);a<u;){for(ps(t,e,a,u),a++,u--;e[2*a+o]<s;)a++;for(;e[2*u+o]>s;)u--}e[2*r+o]===s?ps(t,e,r,u):(u++,ps(t,e,u,i)),u<=n&&(r=u+1),n<=u&&(i=u-1)}}function ps(t,e,n,r){Ic(t,n,r),Ic(e,2*n,2*r),Ic(e,2*n+1,2*r+1)}function Ic(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function Gg(t,e,n,r){const i=t-n,o=e-r;return i*i+o*o}const QS={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:t=>t},qg=Math.fround||(t=>e=>(t[0]=+e,t[0]))(new Float32Array(1)),fi=2,Rr=3,kc=4,kr=5,Z0=6;class ZS{constructor(e){this.options=Object.assign(Object.create(QS),e),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(e){const{log:n,minZoom:r,maxZoom:i}=this.options;n&&console.time("total time");const o=`prepare ${e.length} points`;n&&console.time(o),this.points=e;const s=[];for(let u=0;u<e.length;u++){const c=e[u];if(!c.geometry)continue;const[h,f]=c.geometry.coordinates,d=qg(Xa(h)),m=qg(Ya(f));s.push(d,m,1/0,u,-1,1),this.options.reduce&&s.push(0)}let a=this.trees[i+1]=this._createTree(s);n&&console.timeEnd(o);for(let u=i;u>=r;u--){const c=+Date.now();a=this.trees[u]=this._createTree(this._cluster(a,u)),n&&console.log("z%d: %d clusters in %dms",u,a.numItems,+Date.now()-c)}return n&&console.timeEnd("total time"),this}getClusters(e,n){let r=((e[0]+180)%360+360)%360-180;const i=Math.max(-90,Math.min(90,e[1]));let o=e[2]===180?180:((e[2]+180)%360+360)%360-180;const s=Math.max(-90,Math.min(90,e[3]));if(e[2]-e[0]>=360)r=-180,o=180;else if(r>o){const f=this.getClusters([r,i,180,s],n),d=this.getClusters([-180,i,o,s],n);return f.concat(d)}const a=this.trees[this._limitZoom(n)],u=a.range(Xa(r),Ya(s),Xa(o),Ya(i)),c=a.data,h=[];for(const f of u){const d=this.stride*f;h.push(c[d+kr]>1?Kg(c,d,this.clusterProps):this.points[c[d+Rr]])}return h}getChildren(e){const n=this._getOriginId(e),r=this._getOriginZoom(e),i="No cluster with the specified id.",o=this.trees[r];if(!o)throw new Error(i);const s=o.data;if(n*this.stride>=s.length)throw new Error(i);const a=this.options.radius/(this.options.extent*Math.pow(2,r-1)),u=s[n*this.stride],c=s[n*this.stride+1],h=o.within(u,c,a),f=[];for(const d of h){const m=d*this.stride;s[m+kc]===e&&f.push(s[m+kr]>1?Kg(s,m,this.clusterProps):this.points[s[m+Rr]])}if(f.length===0)throw new Error(i);return f}getLeaves(e,n,r){n=n||10,r=r||0;const i=[];return this._appendLeaves(i,e,n,r,0),i}getTile(e,n,r){const i=this.trees[this._limitZoom(e)],o=Math.pow(2,e),{extent:s,radius:a}=this.options,u=a/s,c=(r-u)/o,h=(r+1+u)/o,f={features:[]};return this._addTileFeatures(i.range((n-u)/o,c,(n+1+u)/o,h),i.data,n,r,o,f),n===0&&this._addTileFeatures(i.range(1-u/o,c,1,h),i.data,o,r,o,f),n===o-1&&this._addTileFeatures(i.range(0,c,u/o,h),i.data,-1,r,o,f),f.features.length?f:null}getClusterExpansionZoom(e){let n=this._getOriginZoom(e)-1;for(;n<=this.options.maxZoom;){const r=this.getChildren(e);if(n++,r.length!==1)break;e=r[0].properties.cluster_id}return n}_appendLeaves(e,n,r,i,o){const s=this.getChildren(n);for(const a of s){const u=a.properties;if(u&&u.cluster?o+u.point_count<=i?o+=u.point_count:o=this._appendLeaves(e,u.cluster_id,r,i,o):o<i?o++:e.push(a),e.length===r)break}return o}_createTree(e){const n=new td(e.length/this.stride|0,this.options.nodeSize,Float32Array);for(let r=0;r<e.length;r+=this.stride)n.add(e[r],e[r+1]);return n.finish(),n.data=e,n}_addTileFeatures(e,n,r,i,o,s){for(const a of e){const u=a*this.stride,c=n[u+kr]>1;let h,f,d;if(c)h=X0(n,u,this.clusterProps),f=n[u],d=n[u+1];else{const L=this.points[n[u+Rr]];h=L.properties;const[x,E]=L.geometry.coordinates;f=Xa(x),d=Ya(E)}const m={type:1,geometry:[[Math.round(this.options.extent*(f*o-r)),Math.round(this.options.extent*(d*o-i))]],tags:h};let C;c||this.options.generateId?C=n[u+Rr]:C=this.points[n[u+Rr]].id,C!==void 0&&(m.id=C),s.features.push(m)}}_limitZoom(e){return Math.max(this.options.minZoom,Math.min(Math.floor(+e),this.options.maxZoom+1))}_cluster(e,n){const{radius:r,extent:i,reduce:o,minPoints:s}=this.options,a=r/(i*Math.pow(2,n)),u=e.data,c=[],h=this.stride;for(let f=0;f<u.length;f+=h){if(u[f+fi]<=n)continue;u[f+fi]=n;const d=u[f],m=u[f+1],C=e.within(u[f],u[f+1],a),L=u[f+kr];let x=L;for(const E of C){const T=E*h;u[T+fi]>n&&(x+=u[T+kr])}if(x>L&&x>=s){let E=d*L,T=m*L,k,b=-1;const N=((f/h|0)<<5)+(n+1)+this.points.length;for(const A of C){const S=A*h;if(u[S+fi]<=n)continue;u[S+fi]=n;const p=u[S+kr];E+=u[S]*p,T+=u[S+1]*p,u[S+kc]=N,o&&(k||(k=this._map(u,f,!0),b=this.clusterProps.length,this.clusterProps.push(k)),o(k,this._map(u,S)))}u[f+kc]=N,c.push(E/x,T/x,1/0,N,-1,x),o&&c.push(b)}else{for(let E=0;E<h;E++)c.push(u[f+E]);if(x>1)for(const E of C){const T=E*h;if(!(u[T+fi]<=n)){u[T+fi]=n;for(let k=0;k<h;k++)c.push(u[T+k])}}}}return c}_getOriginId(e){return e-this.points.length>>5}_getOriginZoom(e){return(e-this.points.length)%32}_map(e,n,r){if(e[n+kr]>1){const s=this.clusterProps[e[n+Z0]];return r?Object.assign({},s):s}const i=this.points[e[n+Rr]].properties,o=this.options.map(i);return r&&o===i?Object.assign({},o):o}}function Kg(t,e,n){return{type:"Feature",id:t[e+Rr],properties:X0(t,e,n),geometry:{type:"Point",coordinates:[XS(t[e]),YS(t[e+1])]}}}function X0(t,e,n){const r=t[e+kr],i=r>=1e4?`${Math.round(r/1e3)}k`:r>=1e3?`${Math.round(r/100)/10}k`:r,o=t[e+Z0],s=o===-1?{}:Object.assign({},n[o]);return Object.assign(s,{cluster:!0,cluster_id:t[e+Rr],point_count:r,point_count_abbreviated:i})}function Xa(t){return t/360+.5}function Ya(t){const e=Math.sin(t*Math.PI/180),n=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return n<0?0:n>1?1:n}function XS(t){return(t-.5)*360}function YS(t){const e=(180-t*360)*Math.PI/180;return 360*Math.atan(Math.exp(e))/Math.PI-90}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function JS(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}class dn{static isAdvancedMarkerAvailable(e){return google.maps.marker&&e.getMapCapabilities().isAdvancedMarkersAvailable===!0}static isAdvancedMarker(e){return google.maps.marker&&e instanceof google.maps.marker.AdvancedMarkerElement}static setMap(e,n){this.isAdvancedMarker(e)?e.map=n:e.setMap(n)}static getPosition(e){if(this.isAdvancedMarker(e)){if(e.position){if(e.position instanceof google.maps.LatLng)return e.position;if(e.position.lat&&e.position.lng)return new google.maps.LatLng(e.position.lat,e.position.lng)}return new google.maps.LatLng(null)}return e.getPosition()}static getVisible(e){return this.isAdvancedMarker(e)?!0:e.getVisible()}}class Oh{constructor({markers:e,position:n}){this.markers=e,n&&(n instanceof google.maps.LatLng?this._position=n:this._position=new google.maps.LatLng(n))}get bounds(){if(this.markers.length===0&&!this._position)return;const e=new google.maps.LatLngBounds(this._position,this._position);for(const n of this.markers)e.extend(dn.getPosition(n));return e}get position(){return this._position||this.bounds.getCenter()}get count(){return this.markers.filter(e=>dn.getVisible(e)).length}push(e){this.markers.push(e)}delete(){this.marker&&(dn.setMap(this.marker,null),this.marker=void 0),this.markers.length=0}}class eT{constructor({maxZoom:e=16}){this.maxZoom=e}noop({markers:e}){return tT(e)}}const tT=t=>t.map(n=>new Oh({position:dn.getPosition(n),markers:[n]}));class nT extends eT{constructor(e){var{maxZoom:n,radius:r=60}=e,i=JS(e,["maxZoom","radius"]);super({maxZoom:n}),this.state={zoom:-1},this.superCluster=new ZS(Object.assign({maxZoom:this.maxZoom,radius:r},i))}calculate(e){let n=!1;const r={zoom:e.map.getZoom()};if(!Hg(e.markers,this.markers)){n=!0,this.markers=[...e.markers];const i=this.markers.map(o=>{const s=dn.getPosition(o);return{type:"Feature",geometry:{type:"Point",coordinates:[s.lng(),s.lat()]},properties:{marker:o}}});this.superCluster.load(i)}return n||(this.state.zoom<=this.maxZoom||r.zoom<=this.maxZoom)&&(n=!Hg(this.state,r)),this.state=r,n&&(this.clusters=this.cluster(e)),{clusters:this.clusters,changed:n}}cluster({map:e}){return this.superCluster.getClusters([-180,-90,180,90],Math.round(e.getZoom())).map(n=>this.transformCluster(n))}transformCluster({geometry:{coordinates:[e,n]},properties:r}){if(r.cluster)return new Oh({markers:this.superCluster.getLeaves(r.cluster_id,1/0).map(o=>o.properties.marker),position:{lat:n,lng:e}});const i=r.marker;return new Oh({markers:[i],position:dn.getPosition(i)})}}class rT{constructor(e,n){this.markers={sum:e.length};const r=n.map(o=>o.count),i=r.reduce((o,s)=>o+s,0);this.clusters={count:n.length,markers:{mean:i/n.length,sum:i,min:Math.min(...r),max:Math.max(...r)}}}}class iT{render({count:e,position:n},r,i){const s=`<svg fill="${e>Math.max(10,r.clusters.markers.mean)?"#ff0000":"#0000ff"}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 240 240" width="50" height="50">
<circle cx="120" cy="120" opacity=".6" r="70" />
<circle cx="120" cy="120" opacity=".3" r="90" />
<circle cx="120" cy="120" opacity=".2" r="110" />
<text x="50%" y="50%" style="fill:#fff" text-anchor="middle" font-size="50" dominant-baseline="middle" font-family="roboto,arial,sans-serif">${e}</text>
</svg>`,a=`Cluster of ${e} markers`,u=Number(google.maps.Marker.MAX_ZINDEX)+e;if(dn.isAdvancedMarkerAvailable(i)){const f=new DOMParser().parseFromString(s,"image/svg+xml").documentElement;f.setAttribute("transform","translate(0 25)");const d={map:i,position:n,zIndex:u,title:a,content:f};return new google.maps.marker.AdvancedMarkerElement(d)}const c={position:n,zIndex:u,title:a,icon:{url:`data:image/svg+xml;base64,${btoa(s)}`,anchor:new google.maps.Point(25,25)}};return new google.maps.Marker(c)}}function oT(t,e){for(let n in e.prototype)t.prototype[n]=e.prototype[n]}class nd{constructor(){oT(nd,google.maps.OverlayView)}}var bs;(function(t){t.CLUSTERING_BEGIN="clusteringbegin",t.CLUSTERING_END="clusteringend",t.CLUSTER_CLICK="click"})(bs||(bs={}));const sT=(t,e,n)=>{n.fitBounds(e.bounds)};class aT extends nd{constructor({map:e,markers:n=[],algorithmOptions:r={},algorithm:i=new nT(r),renderer:o=new iT,onClusterClick:s=sT}){super(),this.markers=[...n],this.clusters=[],this.algorithm=i,this.renderer=o,this.onClusterClick=s,e&&this.setMap(e)}addMarker(e,n){this.markers.includes(e)||(this.markers.push(e),n||this.render())}addMarkers(e,n){e.forEach(r=>{this.addMarker(r,!0)}),n||this.render()}removeMarker(e,n){const r=this.markers.indexOf(e);return r===-1?!1:(dn.setMap(e,null),this.markers.splice(r,1),n||this.render(),!0)}removeMarkers(e,n){let r=!1;return e.forEach(i=>{r=this.removeMarker(i,!0)||r}),r&&!n&&this.render(),r}clearMarkers(e){this.markers.length=0,e||this.render()}render(){const e=this.getMap();if(e instanceof google.maps.Map&&e.getProjection()){google.maps.event.trigger(this,bs.CLUSTERING_BEGIN,this);const{clusters:n,changed:r}=this.algorithm.calculate({markers:this.markers,map:e,mapCanvasProjection:this.getProjection()});if(r||r==null){const i=new Set;for(const s of n)s.markers.length==1&&i.add(s.markers[0]);const o=[];for(const s of this.clusters)s.marker!=null&&(s.markers.length==1?i.has(s.marker)||dn.setMap(s.marker,null):o.push(s.marker));this.clusters=n,this.renderClusters(),requestAnimationFrame(()=>o.forEach(s=>dn.setMap(s,null)))}google.maps.event.trigger(this,bs.CLUSTERING_END,this)}}onAdd(){this.idleListener=this.getMap().addListener("idle",this.render.bind(this)),this.render()}onRemove(){google.maps.event.removeListener(this.idleListener),this.reset()}reset(){this.markers.forEach(e=>dn.setMap(e,null)),this.clusters.forEach(e=>e.delete()),this.clusters=[]}renderClusters(){const e=new rT(this.markers,this.clusters),n=this.getMap();this.clusters.forEach(r=>{r.markers.length===1?r.marker=r.markers[0]:(r.marker=this.renderer.render(r,e,n),r.markers.forEach(i=>dn.setMap(i,null)),this.onClusterClick&&r.marker.addListener("click",i=>{google.maps.event.trigger(this,bs.CLUSTER_CLICK,r),this.onClusterClick(i,r,n)})),dn.setMap(r.marker,n)})}}function lT(t){var e=vS(),n=_.useState(null),r=n[0],i=n[1];return _.useEffect(function(){if(e&&r===null){var o=new aT(ae(ae({},t),{map:e}));i(o)}},[e]),r}function uT(t){var e=t.children,n=t.options,r=lT(n);return r!==null?e(r):null}_.memo(uT);var Qg={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},Zg={options:function(t,e){t.setOptions(e)},position:function(t,e){t.setPosition(e)},zIndex:function(t,e){t.setZIndex(e)}};function cT(t){var e=t.children,n=t.anchor,r=t.options,i=t.position,o=t.zIndex,s=t.onCloseClick,a=t.onDomReady,u=t.onContentChanged,c=t.onPositionChanged,h=t.onZindexChanged,f=t.onLoad,d=t.onUnmount,m=_.useContext(Le),C=_.useState(null),L=C[0],x=C[1],E=_.useState(null),T=E[0],k=E[1],b=_.useState(null),N=b[0],A=b[1],S=_.useState(null),p=S[0],v=S[1],y=_.useState(null),P=y[0],R=y[1],I=_.useState(null),V=I[0],z=I[1],O=_.useRef(null);return _.useEffect(function(){L!==null&&(L.close(),n?L.open(m,n):L.getPosition()&&L.open(m))},[m,L,n]),_.useEffect(function(){r&&L!==null&&L.setOptions(r)},[L,r]),_.useEffect(function(){i&&L!==null&&L.setPosition(i)},[i]),_.useEffect(function(){typeof o=="number"&&L!==null&&L.setZIndex(o)},[o]),_.useEffect(function(){L&&s&&(T!==null&&google.maps.event.removeListener(T),k(google.maps.event.addListener(L,"closeclick",s)))},[s]),_.useEffect(function(){L&&a&&(N!==null&&google.maps.event.removeListener(N),A(google.maps.event.addListener(L,"domready",a)))},[a]),_.useEffect(function(){L&&u&&(p!==null&&google.maps.event.removeListener(p),v(google.maps.event.addListener(L,"content_changed",u)))},[u]),_.useEffect(function(){L&&c&&(P!==null&&google.maps.event.removeListener(P),R(google.maps.event.addListener(L,"position_changed",c)))},[c]),_.useEffect(function(){L&&h&&(V!==null&&google.maps.event.removeListener(V),z(google.maps.event.addListener(L,"zindex_changed",h)))},[h]),_.useEffect(function(){var M=new google.maps.InfoWindow(ae({},r||{}));return x(M),O.current=document.createElement("div"),s&&k(google.maps.event.addListener(M,"closeclick",s)),a&&A(google.maps.event.addListener(M,"domready",a)),u&&v(google.maps.event.addListener(M,"content_changed",u)),c&&R(google.maps.event.addListener(M,"position_changed",c)),h&&z(google.maps.event.addListener(M,"zindex_changed",h)),M.setContent(O.current),i&&M.setPosition(i),o&&M.setZIndex(o),n?M.open(m,n):M.getPosition()?M.open(m):ft(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>."),f&&f(M),function(){T&&google.maps.event.removeListener(T),p&&google.maps.event.removeListener(p),N&&google.maps.event.removeListener(N),P&&google.maps.event.removeListener(P),V&&google.maps.event.removeListener(V),d&&d(M),M.close()}},[]),O.current?Ui.createPortal(_.Children.only(e),O.current):null}_.memo(cT);var hT=function(t){qe(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.registeredEvents=[],n.containerElement=null,n.state={infoWindow:null},n.open=function(r,i){i?r.open(n.context,i):r.getPosition()?r.open(n.context):ft(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>.")},n.setInfoWindowCallback=function(){n.state.infoWindow!==null&&n.containerElement!==null&&(n.state.infoWindow.setContent(n.containerElement),n.open(n.state.infoWindow,n.props.anchor),n.props.onLoad&&n.props.onLoad(n.state.infoWindow))},n}return e.prototype.componentDidMount=function(){var n=new google.maps.InfoWindow(ae({},this.props.options||{}));this.containerElement=document.createElement("div"),this.registeredEvents=ke({updaterMap:Zg,eventMap:Qg,prevProps:{},nextProps:this.props,instance:n}),this.setState(function(){return{infoWindow:n}},this.setInfoWindowCallback)},e.prototype.componentDidUpdate=function(n){this.state.infoWindow!==null&&(Re(this.registeredEvents),this.registeredEvents=ke({updaterMap:Zg,eventMap:Qg,prevProps:n,nextProps:this.props,instance:this.state.infoWindow}))},e.prototype.componentWillUnmount=function(){this.state.infoWindow!==null&&(Re(this.registeredEvents),this.props.onUnmount&&this.props.onUnmount(this.state.infoWindow),this.state.infoWindow.close())},e.prototype.render=function(){return this.containerElement?Ui.createPortal(_.Children.only(this.props.children),this.containerElement):null},e.contextType=Le,e}(_.PureComponent),Xg={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},Yg={draggable:function(t,e){t.setDraggable(e)},editable:function(t,e){t.setEditable(e)},map:function(t,e){t.setMap(e)},options:function(t,e){t.setOptions(e)},path:function(t,e){t.setPath(e)},visible:function(t,e){t.setVisible(e)}},fT={};function dT(t){var e=t.options,n=t.draggable,r=t.editable,i=t.visible,o=t.path,s=t.onDblClick,a=t.onDragEnd,u=t.onDragStart,c=t.onMouseDown,h=t.onMouseMove,f=t.onMouseOut,d=t.onMouseOver,m=t.onMouseUp,C=t.onRightClick,L=t.onClick,x=t.onDrag,E=t.onLoad,T=t.onUnmount,k=_.useContext(Le),b=_.useState(null),N=b[0],A=b[1],S=_.useState(null),p=S[0],v=S[1],y=_.useState(null),P=y[0],R=y[1],I=_.useState(null),V=I[0],z=I[1],O=_.useState(null),M=O[0],F=O[1],U=_.useState(null),B=U[0],K=U[1],G=_.useState(null),Q=G[0],q=G[1],H=_.useState(null),j=H[0],oe=H[1],he=_.useState(null),ee=he[0],le=he[1],ge=_.useState(null),me=ge[0],Me=ge[1],Ae=_.useState(null),fe=Ae[0],Ee=Ae[1],ve=_.useState(null),pe=ve[0],we=ve[1];return _.useEffect(function(){N!==null&&N.setMap(k)},[k]),_.useEffect(function(){typeof e<"u"&&N!==null&&N.setOptions(e)},[N,e]),_.useEffect(function(){typeof n<"u"&&N!==null&&N.setDraggable(n)},[N,n]),_.useEffect(function(){typeof r<"u"&&N!==null&&N.setEditable(r)},[N,r]),_.useEffect(function(){typeof i<"u"&&N!==null&&N.setVisible(i)},[N,i]),_.useEffect(function(){typeof o<"u"&&N!==null&&N.setPath(o)},[N,o]),_.useEffect(function(){N&&s&&(p!==null&&google.maps.event.removeListener(p),v(google.maps.event.addListener(N,"dblclick",s)))},[s]),_.useEffect(function(){N&&a&&(P!==null&&google.maps.event.removeListener(P),R(google.maps.event.addListener(N,"dragend",a)))},[a]),_.useEffect(function(){N&&u&&(V!==null&&google.maps.event.removeListener(V),z(google.maps.event.addListener(N,"dragstart",u)))},[u]),_.useEffect(function(){N&&c&&(M!==null&&google.maps.event.removeListener(M),F(google.maps.event.addListener(N,"mousedown",c)))},[c]),_.useEffect(function(){N&&h&&(B!==null&&google.maps.event.removeListener(B),K(google.maps.event.addListener(N,"mousemove",h)))},[h]),_.useEffect(function(){N&&f&&(Q!==null&&google.maps.event.removeListener(Q),q(google.maps.event.addListener(N,"mouseout",f)))},[f]),_.useEffect(function(){N&&d&&(j!==null&&google.maps.event.removeListener(j),oe(google.maps.event.addListener(N,"mouseover",d)))},[d]),_.useEffect(function(){N&&m&&(ee!==null&&google.maps.event.removeListener(ee),le(google.maps.event.addListener(N,"mouseup",m)))},[m]),_.useEffect(function(){N&&C&&(me!==null&&google.maps.event.removeListener(me),Me(google.maps.event.addListener(N,"rightclick",C)))},[C]),_.useEffect(function(){N&&L&&(fe!==null&&google.maps.event.removeListener(fe),Ee(google.maps.event.addListener(N,"click",L)))},[L]),_.useEffect(function(){N&&x&&(pe!==null&&google.maps.event.removeListener(pe),we(google.maps.event.addListener(N,"drag",x)))},[x]),_.useEffect(function(){var se=new google.maps.Polyline(ae(ae({},e||fT),{map:k}));return o&&se.setPath(o),typeof i<"u"&&se.setVisible(i),typeof r<"u"&&se.setEditable(r),typeof n<"u"&&se.setDraggable(n),s&&v(google.maps.event.addListener(se,"dblclick",s)),a&&R(google.maps.event.addListener(se,"dragend",a)),u&&z(google.maps.event.addListener(se,"dragstart",u)),c&&F(google.maps.event.addListener(se,"mousedown",c)),h&&K(google.maps.event.addListener(se,"mousemove",h)),f&&q(google.maps.event.addListener(se,"mouseout",f)),d&&oe(google.maps.event.addListener(se,"mouseover",d)),m&&le(google.maps.event.addListener(se,"mouseup",m)),C&&Me(google.maps.event.addListener(se,"rightclick",C)),L&&Ee(google.maps.event.addListener(se,"click",L)),x&&we(google.maps.event.addListener(se,"drag",x)),A(se),E&&E(se),function(){p!==null&&google.maps.event.removeListener(p),P!==null&&google.maps.event.removeListener(P),V!==null&&google.maps.event.removeListener(V),M!==null&&google.maps.event.removeListener(M),B!==null&&google.maps.event.removeListener(B),Q!==null&&google.maps.event.removeListener(Q),j!==null&&google.maps.event.removeListener(j),ee!==null&&google.maps.event.removeListener(ee),me!==null&&google.maps.event.removeListener(me),fe!==null&&google.maps.event.removeListener(fe),T&&T(se),se.setMap(null)}},[]),null}_.memo(dT);(function(t){qe(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.registeredEvents=[],n.state={polyline:null},n.setPolylineCallback=function(){n.state.polyline!==null&&n.props.onLoad&&n.props.onLoad(n.state.polyline)},n}return e.prototype.componentDidMount=function(){var n=new google.maps.Polyline(ae(ae({},this.props.options||{}),{map:this.context}));this.registeredEvents=ke({updaterMap:Yg,eventMap:Xg,prevProps:{},nextProps:this.props,instance:n}),this.setState(function(){return{polyline:n}},this.setPolylineCallback)},e.prototype.componentDidUpdate=function(n){this.state.polyline!==null&&(Re(this.registeredEvents),this.registeredEvents=ke({updaterMap:Yg,eventMap:Xg,prevProps:n,nextProps:this.props,instance:this.state.polyline}))},e.prototype.componentWillUnmount=function(){this.state.polyline!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.polyline),Re(this.registeredEvents),this.state.polyline.setMap(null))},e.prototype.render=function(){return null},e.contextType=Le,e})(_.PureComponent);var Jg={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},em={draggable:function(t,e){t.setDraggable(e)},editable:function(t,e){t.setEditable(e)},map:function(t,e){t.setMap(e)},options:function(t,e){t.setOptions(e)},path:function(t,e){t.setPath(e)},paths:function(t,e){t.setPaths(e)},visible:function(t,e){t.setVisible(e)}};function pT(t){var e=t.options,n=t.draggable,r=t.editable,i=t.visible,o=t.path,s=t.paths,a=t.onDblClick,u=t.onDragEnd,c=t.onDragStart,h=t.onMouseDown,f=t.onMouseMove,d=t.onMouseOut,m=t.onMouseOver,C=t.onMouseUp,L=t.onRightClick,x=t.onClick,E=t.onDrag,T=t.onLoad,k=t.onUnmount,b=t.onEdit,N=_.useContext(Le),A=_.useState(null),S=A[0],p=A[1],v=_.useState(null),y=v[0],P=v[1],R=_.useState(null),I=R[0],V=R[1],z=_.useState(null),O=z[0],M=z[1],F=_.useState(null),U=F[0],B=F[1],K=_.useState(null),G=K[0],Q=K[1],q=_.useState(null),H=q[0],j=q[1],oe=_.useState(null),he=oe[0],ee=oe[1],le=_.useState(null),ge=le[0],me=le[1],Me=_.useState(null),Ae=Me[0],fe=Me[1],Ee=_.useState(null),ve=Ee[0],pe=Ee[1],we=_.useState(null),se=we[0],Te=we[1];return _.useEffect(function(){S!==null&&S.setMap(N)},[N]),_.useEffect(function(){typeof e<"u"&&S!==null&&S.setOptions(e)},[S,e]),_.useEffect(function(){typeof n<"u"&&S!==null&&S.setDraggable(n)},[S,n]),_.useEffect(function(){typeof r<"u"&&S!==null&&S.setEditable(r)},[S,r]),_.useEffect(function(){typeof i<"u"&&S!==null&&S.setVisible(i)},[S,i]),_.useEffect(function(){typeof o<"u"&&S!==null&&S.setPath(o)},[S,o]),_.useEffect(function(){typeof s<"u"&&S!==null&&S.setPaths(s)},[S,s]),_.useEffect(function(){S&&a&&(y!==null&&google.maps.event.removeListener(y),P(google.maps.event.addListener(S,"dblclick",a)))},[a]),_.useEffect(function(){S&&(google.maps.event.addListener(S.getPath(),"insert_at",function(){b==null||b(S)}),google.maps.event.addListener(S.getPath(),"set_at",function(){b==null||b(S)}))},[S,b]),_.useEffect(function(){S&&u&&(I!==null&&google.maps.event.removeListener(I),V(google.maps.event.addListener(S,"dragend",u)))},[u]),_.useEffect(function(){S&&c&&(O!==null&&google.maps.event.removeListener(O),M(google.maps.event.addListener(S,"dragstart",c)))},[c]),_.useEffect(function(){S&&h&&(U!==null&&google.maps.event.removeListener(U),B(google.maps.event.addListener(S,"mousedown",h)))},[h]),_.useEffect(function(){S&&f&&(G!==null&&google.maps.event.removeListener(G),Q(google.maps.event.addListener(S,"mousemove",f)))},[f]),_.useEffect(function(){S&&d&&(H!==null&&google.maps.event.removeListener(H),j(google.maps.event.addListener(S,"mouseout",d)))},[d]),_.useEffect(function(){S&&m&&(he!==null&&google.maps.event.removeListener(he),ee(google.maps.event.addListener(S,"mouseover",m)))},[m]),_.useEffect(function(){S&&C&&(ge!==null&&google.maps.event.removeListener(ge),me(google.maps.event.addListener(S,"mouseup",C)))},[C]),_.useEffect(function(){S&&L&&(Ae!==null&&google.maps.event.removeListener(Ae),fe(google.maps.event.addListener(S,"rightclick",L)))},[L]),_.useEffect(function(){S&&x&&(ve!==null&&google.maps.event.removeListener(ve),pe(google.maps.event.addListener(S,"click",x)))},[x]),_.useEffect(function(){S&&E&&(se!==null&&google.maps.event.removeListener(se),Te(google.maps.event.addListener(S,"drag",E)))},[E]),_.useEffect(function(){var ue=new google.maps.Polygon(ae(ae({},e||{}),{map:N}));return o&&ue.setPath(o),s&&ue.setPaths(s),typeof i<"u"&&ue.setVisible(i),typeof r<"u"&&ue.setEditable(r),typeof n<"u"&&ue.setDraggable(n),a&&P(google.maps.event.addListener(ue,"dblclick",a)),u&&V(google.maps.event.addListener(ue,"dragend",u)),c&&M(google.maps.event.addListener(ue,"dragstart",c)),h&&B(google.maps.event.addListener(ue,"mousedown",h)),f&&Q(google.maps.event.addListener(ue,"mousemove",f)),d&&j(google.maps.event.addListener(ue,"mouseout",d)),m&&ee(google.maps.event.addListener(ue,"mouseover",m)),C&&me(google.maps.event.addListener(ue,"mouseup",C)),L&&fe(google.maps.event.addListener(ue,"rightclick",L)),x&&pe(google.maps.event.addListener(ue,"click",x)),E&&Te(google.maps.event.addListener(ue,"drag",E)),p(ue),T&&T(ue),function(){y!==null&&google.maps.event.removeListener(y),I!==null&&google.maps.event.removeListener(I),O!==null&&google.maps.event.removeListener(O),U!==null&&google.maps.event.removeListener(U),G!==null&&google.maps.event.removeListener(G),H!==null&&google.maps.event.removeListener(H),he!==null&&google.maps.event.removeListener(he),ge!==null&&google.maps.event.removeListener(ge),Ae!==null&&google.maps.event.removeListener(Ae),ve!==null&&google.maps.event.removeListener(ve),k&&k(ue),ue.setMap(null)}},[]),null}_.memo(pT);(function(t){qe(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.registeredEvents=[],n.state={polygon:null},n.setPolygonCallback=function(){n.state.polygon!==null&&n.props.onLoad&&n.props.onLoad(n.state.polygon)},n}return e.prototype.componentDidMount=function(){var n=new google.maps.Polygon(ae(ae({},this.props.options||{}),{map:this.context}));this.registeredEvents=ke({updaterMap:em,eventMap:Jg,prevProps:{},nextProps:this.props,instance:n}),this.setState(function(){return{polygon:n}},this.setPolygonCallback)},e.prototype.componentDidUpdate=function(n){this.state.polygon!==null&&(Re(this.registeredEvents),this.registeredEvents=ke({updaterMap:em,eventMap:Jg,prevProps:n,nextProps:this.props,instance:this.state.polygon}))},e.prototype.componentWillUnmount=function(){this.state.polygon!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.polygon),Re(this.registeredEvents),this.state.polygon&&this.state.polygon.setMap(null))},e.prototype.render=function(){return null},e.contextType=Le,e})(_.PureComponent);var tm={onBoundsChanged:"bounds_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},nm={bounds:function(t,e){t.setBounds(e)},draggable:function(t,e){t.setDraggable(e)},editable:function(t,e){t.setEditable(e)},map:function(t,e){t.setMap(e)},options:function(t,e){t.setOptions(e)},visible:function(t,e){t.setVisible(e)}};function gT(t){var e=t.options,n=t.bounds,r=t.draggable,i=t.editable,o=t.visible,s=t.onDblClick,a=t.onDragEnd,u=t.onDragStart,c=t.onMouseDown,h=t.onMouseMove,f=t.onMouseOut,d=t.onMouseOver,m=t.onMouseUp,C=t.onRightClick,L=t.onClick,x=t.onDrag,E=t.onBoundsChanged,T=t.onLoad,k=t.onUnmount,b=_.useContext(Le),N=_.useState(null),A=N[0],S=N[1],p=_.useState(null),v=p[0],y=p[1],P=_.useState(null),R=P[0],I=P[1],V=_.useState(null),z=V[0],O=V[1],M=_.useState(null),F=M[0],U=M[1],B=_.useState(null),K=B[0],G=B[1],Q=_.useState(null),q=Q[0],H=Q[1],j=_.useState(null),oe=j[0],he=j[1],ee=_.useState(null),le=ee[0],ge=ee[1],me=_.useState(null),Me=me[0],Ae=me[1],fe=_.useState(null),Ee=fe[0],ve=fe[1],pe=_.useState(null),we=pe[0],se=pe[1],Te=_.useState(null),ue=Te[0],Ie=Te[1];return _.useEffect(function(){A!==null&&A.setMap(b)},[b]),_.useEffect(function(){typeof e<"u"&&A!==null&&A.setOptions(e)},[A,e]),_.useEffect(function(){typeof r<"u"&&A!==null&&A.setDraggable(r)},[A,r]),_.useEffect(function(){typeof i<"u"&&A!==null&&A.setEditable(i)},[A,i]),_.useEffect(function(){typeof o<"u"&&A!==null&&A.setVisible(o)},[A,o]),_.useEffect(function(){typeof n<"u"&&A!==null&&A.setBounds(n)},[A,n]),_.useEffect(function(){A&&s&&(v!==null&&google.maps.event.removeListener(v),y(google.maps.event.addListener(A,"dblclick",s)))},[s]),_.useEffect(function(){A&&a&&(R!==null&&google.maps.event.removeListener(R),I(google.maps.event.addListener(A,"dragend",a)))},[a]),_.useEffect(function(){A&&u&&(z!==null&&google.maps.event.removeListener(z),O(google.maps.event.addListener(A,"dragstart",u)))},[u]),_.useEffect(function(){A&&c&&(F!==null&&google.maps.event.removeListener(F),U(google.maps.event.addListener(A,"mousedown",c)))},[c]),_.useEffect(function(){A&&h&&(K!==null&&google.maps.event.removeListener(K),G(google.maps.event.addListener(A,"mousemove",h)))},[h]),_.useEffect(function(){A&&f&&(q!==null&&google.maps.event.removeListener(q),H(google.maps.event.addListener(A,"mouseout",f)))},[f]),_.useEffect(function(){A&&d&&(oe!==null&&google.maps.event.removeListener(oe),he(google.maps.event.addListener(A,"mouseover",d)))},[d]),_.useEffect(function(){A&&m&&(le!==null&&google.maps.event.removeListener(le),ge(google.maps.event.addListener(A,"mouseup",m)))},[m]),_.useEffect(function(){A&&C&&(Me!==null&&google.maps.event.removeListener(Me),Ae(google.maps.event.addListener(A,"rightclick",C)))},[C]),_.useEffect(function(){A&&L&&(Ee!==null&&google.maps.event.removeListener(Ee),ve(google.maps.event.addListener(A,"click",L)))},[L]),_.useEffect(function(){A&&x&&(we!==null&&google.maps.event.removeListener(we),se(google.maps.event.addListener(A,"drag",x)))},[x]),_.useEffect(function(){A&&E&&(ue!==null&&google.maps.event.removeListener(ue),Ie(google.maps.event.addListener(A,"bounds_changed",E)))},[E]),_.useEffect(function(){var ne=new google.maps.Rectangle(ae(ae({},e||{}),{map:b}));return typeof o<"u"&&ne.setVisible(o),typeof i<"u"&&ne.setEditable(i),typeof r<"u"&&ne.setDraggable(r),typeof n<"u"&&ne.setBounds(n),s&&y(google.maps.event.addListener(ne,"dblclick",s)),a&&I(google.maps.event.addListener(ne,"dragend",a)),u&&O(google.maps.event.addListener(ne,"dragstart",u)),c&&U(google.maps.event.addListener(ne,"mousedown",c)),h&&G(google.maps.event.addListener(ne,"mousemove",h)),f&&H(google.maps.event.addListener(ne,"mouseout",f)),d&&he(google.maps.event.addListener(ne,"mouseover",d)),m&&ge(google.maps.event.addListener(ne,"mouseup",m)),C&&Ae(google.maps.event.addListener(ne,"rightclick",C)),L&&ve(google.maps.event.addListener(ne,"click",L)),x&&se(google.maps.event.addListener(ne,"drag",x)),E&&Ie(google.maps.event.addListener(ne,"bounds_changed",E)),S(ne),T&&T(ne),function(){v!==null&&google.maps.event.removeListener(v),R!==null&&google.maps.event.removeListener(R),z!==null&&google.maps.event.removeListener(z),F!==null&&google.maps.event.removeListener(F),K!==null&&google.maps.event.removeListener(K),q!==null&&google.maps.event.removeListener(q),oe!==null&&google.maps.event.removeListener(oe),le!==null&&google.maps.event.removeListener(le),Me!==null&&google.maps.event.removeListener(Me),Ee!==null&&google.maps.event.removeListener(Ee),we!==null&&google.maps.event.removeListener(we),ue!==null&&google.maps.event.removeListener(ue),k&&k(ne),ne.setMap(null)}},[]),null}_.memo(gT);(function(t){qe(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.registeredEvents=[],n.state={rectangle:null},n.setRectangleCallback=function(){n.state.rectangle!==null&&n.props.onLoad&&n.props.onLoad(n.state.rectangle)},n}return e.prototype.componentDidMount=function(){var n=new google.maps.Rectangle(ae(ae({},this.props.options||{}),{map:this.context}));this.registeredEvents=ke({updaterMap:nm,eventMap:tm,prevProps:{},nextProps:this.props,instance:n}),this.setState(function(){return{rectangle:n}},this.setRectangleCallback)},e.prototype.componentDidUpdate=function(n){this.state.rectangle!==null&&(Re(this.registeredEvents),this.registeredEvents=ke({updaterMap:nm,eventMap:tm,prevProps:n,nextProps:this.props,instance:this.state.rectangle}))},e.prototype.componentWillUnmount=function(){this.state.rectangle!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.rectangle),Re(this.registeredEvents),this.state.rectangle.setMap(null))},e.prototype.render=function(){return null},e.contextType=Le,e})(_.PureComponent);var rm={onCenterChanged:"center_changed",onRadiusChanged:"radius_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},im={center:function(t,e){t.setCenter(e)},draggable:function(t,e){t.setDraggable(e)},editable:function(t,e){t.setEditable(e)},map:function(t,e){t.setMap(e)},options:function(t,e){t.setOptions(e)},radius:function(t,e){t.setRadius(e)},visible:function(t,e){t.setVisible(e)}},mT={};function vT(t){var e=t.options,n=t.center,r=t.radius,i=t.draggable,o=t.editable,s=t.visible,a=t.onDblClick,u=t.onDragEnd,c=t.onDragStart,h=t.onMouseDown,f=t.onMouseMove,d=t.onMouseOut,m=t.onMouseOver,C=t.onMouseUp,L=t.onRightClick,x=t.onClick,E=t.onDrag,T=t.onCenterChanged,k=t.onRadiusChanged,b=t.onLoad,N=t.onUnmount,A=_.useContext(Le),S=_.useState(null),p=S[0],v=S[1],y=_.useState(null),P=y[0],R=y[1],I=_.useState(null),V=I[0],z=I[1],O=_.useState(null),M=O[0],F=O[1],U=_.useState(null),B=U[0],K=U[1],G=_.useState(null),Q=G[0],q=G[1],H=_.useState(null),j=H[0],oe=H[1],he=_.useState(null),ee=he[0],le=he[1],ge=_.useState(null),me=ge[0],Me=ge[1],Ae=_.useState(null),fe=Ae[0],Ee=Ae[1],ve=_.useState(null),pe=ve[0],we=ve[1],se=_.useState(null),Te=se[0],ue=se[1],Ie=_.useState(null),ne=Ie[0],$e=Ie[1],Be=_.useState(null),ze=Be[0],He=Be[1];return _.useEffect(function(){p!==null&&p.setMap(A)},[A]),_.useEffect(function(){typeof e<"u"&&p!==null&&p.setOptions(e)},[p,e]),_.useEffect(function(){typeof i<"u"&&p!==null&&p.setDraggable(i)},[p,i]),_.useEffect(function(){typeof o<"u"&&p!==null&&p.setEditable(o)},[p,o]),_.useEffect(function(){typeof s<"u"&&p!==null&&p.setVisible(s)},[p,s]),_.useEffect(function(){typeof r=="number"&&p!==null&&p.setRadius(r)},[p,r]),_.useEffect(function(){typeof n<"u"&&p!==null&&p.setCenter(n)},[p,n]),_.useEffect(function(){p&&a&&(P!==null&&google.maps.event.removeListener(P),R(google.maps.event.addListener(p,"dblclick",a)))},[a]),_.useEffect(function(){p&&u&&(V!==null&&google.maps.event.removeListener(V),z(google.maps.event.addListener(p,"dragend",u)))},[u]),_.useEffect(function(){p&&c&&(M!==null&&google.maps.event.removeListener(M),F(google.maps.event.addListener(p,"dragstart",c)))},[c]),_.useEffect(function(){p&&h&&(B!==null&&google.maps.event.removeListener(B),K(google.maps.event.addListener(p,"mousedown",h)))},[h]),_.useEffect(function(){p&&f&&(Q!==null&&google.maps.event.removeListener(Q),q(google.maps.event.addListener(p,"mousemove",f)))},[f]),_.useEffect(function(){p&&d&&(j!==null&&google.maps.event.removeListener(j),oe(google.maps.event.addListener(p,"mouseout",d)))},[d]),_.useEffect(function(){p&&m&&(ee!==null&&google.maps.event.removeListener(ee),le(google.maps.event.addListener(p,"mouseover",m)))},[m]),_.useEffect(function(){p&&C&&(me!==null&&google.maps.event.removeListener(me),Me(google.maps.event.addListener(p,"mouseup",C)))},[C]),_.useEffect(function(){p&&L&&(fe!==null&&google.maps.event.removeListener(fe),Ee(google.maps.event.addListener(p,"rightclick",L)))},[L]),_.useEffect(function(){p&&x&&(pe!==null&&google.maps.event.removeListener(pe),we(google.maps.event.addListener(p,"click",x)))},[x]),_.useEffect(function(){p&&E&&(Te!==null&&google.maps.event.removeListener(Te),ue(google.maps.event.addListener(p,"drag",E)))},[E]),_.useEffect(function(){p&&T&&(ne!==null&&google.maps.event.removeListener(ne),$e(google.maps.event.addListener(p,"center_changed",T)))},[x]),_.useEffect(function(){p&&k&&(ze!==null&&google.maps.event.removeListener(ze),He(google.maps.event.addListener(p,"radius_changed",k)))},[k]),_.useEffect(function(){var Pe=new google.maps.Circle(ae(ae({},e||mT),{map:A}));return typeof r=="number"&&Pe.setRadius(r),typeof n<"u"&&Pe.setCenter(n),typeof r=="number"&&Pe.setRadius(r),typeof s<"u"&&Pe.setVisible(s),typeof o<"u"&&Pe.setEditable(o),typeof i<"u"&&Pe.setDraggable(i),a&&R(google.maps.event.addListener(Pe,"dblclick",a)),u&&z(google.maps.event.addListener(Pe,"dragend",u)),c&&F(google.maps.event.addListener(Pe,"dragstart",c)),h&&K(google.maps.event.addListener(Pe,"mousedown",h)),f&&q(google.maps.event.addListener(Pe,"mousemove",f)),d&&oe(google.maps.event.addListener(Pe,"mouseout",d)),m&&le(google.maps.event.addListener(Pe,"mouseover",m)),C&&Me(google.maps.event.addListener(Pe,"mouseup",C)),L&&Ee(google.maps.event.addListener(Pe,"rightclick",L)),x&&we(google.maps.event.addListener(Pe,"click",x)),E&&ue(google.maps.event.addListener(Pe,"drag",E)),T&&$e(google.maps.event.addListener(Pe,"center_changed",T)),k&&He(google.maps.event.addListener(Pe,"radius_changed",k)),v(Pe),b&&b(Pe),function(){P!==null&&google.maps.event.removeListener(P),V!==null&&google.maps.event.removeListener(V),M!==null&&google.maps.event.removeListener(M),B!==null&&google.maps.event.removeListener(B),Q!==null&&google.maps.event.removeListener(Q),j!==null&&google.maps.event.removeListener(j),ee!==null&&google.maps.event.removeListener(ee),me!==null&&google.maps.event.removeListener(me),fe!==null&&google.maps.event.removeListener(fe),pe!==null&&google.maps.event.removeListener(pe),ne!==null&&google.maps.event.removeListener(ne),ze!==null&&google.maps.event.removeListener(ze),N&&N(Pe),Pe.setMap(null)}},[]),null}_.memo(vT);(function(t){qe(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.registeredEvents=[],n.state={circle:null},n.setCircleCallback=function(){n.state.circle!==null&&n.props.onLoad&&n.props.onLoad(n.state.circle)},n}return e.prototype.componentDidMount=function(){var n=new google.maps.Circle(ae(ae({},this.props.options||{}),{map:this.context}));this.registeredEvents=ke({updaterMap:im,eventMap:rm,prevProps:{},nextProps:this.props,instance:n}),this.setState(function(){return{circle:n}},this.setCircleCallback)},e.prototype.componentDidUpdate=function(n){this.state.circle!==null&&(Re(this.registeredEvents),this.registeredEvents=ke({updaterMap:im,eventMap:rm,prevProps:n,nextProps:this.props,instance:this.state.circle}))},e.prototype.componentWillUnmount=function(){var n;this.state.circle!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.circle),Re(this.registeredEvents),(n=this.state.circle)===null||n===void 0||n.setMap(null))},e.prototype.render=function(){return null},e.contextType=Le,e})(_.PureComponent);var om={onClick:"click",onDblClick:"dblclick",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick",onAddFeature:"addfeature",onRemoveFeature:"removefeature",onRemoveProperty:"removeproperty",onSetGeometry:"setgeometry",onSetProperty:"setproperty"},sm={add:function(t,e){t.add(e)},addgeojson:function(t,e,n){t.addGeoJson(e,n)},contains:function(t,e){t.contains(e)},foreach:function(t,e){t.forEach(e)},loadgeojson:function(t,e,n,r){t.loadGeoJson(e,n,r)},overridestyle:function(t,e,n){t.overrideStyle(e,n)},remove:function(t,e){t.remove(e)},revertstyle:function(t,e){t.revertStyle(e)},controlposition:function(t,e){t.setControlPosition(e)},controls:function(t,e){t.setControls(e)},drawingmode:function(t,e){t.setDrawingMode(e)},map:function(t,e){t.setMap(e)},style:function(t,e){t.setStyle(e)},togeojson:function(t,e){t.toGeoJson(e)}};function yT(t){var e=t.options,n=t.onClick,r=t.onDblClick,i=t.onMouseDown,o=t.onMouseMove,s=t.onMouseOut,a=t.onMouseOver,u=t.onMouseUp,c=t.onRightClick,h=t.onAddFeature,f=t.onRemoveFeature,d=t.onRemoveProperty,m=t.onSetGeometry,C=t.onSetProperty,L=t.onLoad,x=t.onUnmount,E=_.useContext(Le),T=_.useState(null),k=T[0],b=T[1],N=_.useState(null),A=N[0],S=N[1],p=_.useState(null),v=p[0],y=p[1],P=_.useState(null),R=P[0],I=P[1],V=_.useState(null),z=V[0],O=V[1],M=_.useState(null),F=M[0],U=M[1],B=_.useState(null),K=B[0],G=B[1],Q=_.useState(null),q=Q[0],H=Q[1],j=_.useState(null),oe=j[0],he=j[1],ee=_.useState(null),le=ee[0],ge=ee[1],me=_.useState(null),Me=me[0],Ae=me[1],fe=_.useState(null),Ee=fe[0],ve=fe[1],pe=_.useState(null),we=pe[0],se=pe[1],Te=_.useState(null),ue=Te[0],Ie=Te[1];return _.useEffect(function(){k!==null&&k.setMap(E)},[E]),_.useEffect(function(){k&&r&&(A!==null&&google.maps.event.removeListener(A),S(google.maps.event.addListener(k,"dblclick",r)))},[r]),_.useEffect(function(){k&&i&&(v!==null&&google.maps.event.removeListener(v),y(google.maps.event.addListener(k,"mousedown",i)))},[i]),_.useEffect(function(){k&&o&&(R!==null&&google.maps.event.removeListener(R),I(google.maps.event.addListener(k,"mousemove",o)))},[o]),_.useEffect(function(){k&&s&&(z!==null&&google.maps.event.removeListener(z),O(google.maps.event.addListener(k,"mouseout",s)))},[s]),_.useEffect(function(){k&&a&&(F!==null&&google.maps.event.removeListener(F),U(google.maps.event.addListener(k,"mouseover",a)))},[a]),_.useEffect(function(){k&&u&&(K!==null&&google.maps.event.removeListener(K),G(google.maps.event.addListener(k,"mouseup",u)))},[u]),_.useEffect(function(){k&&c&&(q!==null&&google.maps.event.removeListener(q),H(google.maps.event.addListener(k,"rightclick",c)))},[c]),_.useEffect(function(){k&&n&&(oe!==null&&google.maps.event.removeListener(oe),he(google.maps.event.addListener(k,"click",n)))},[n]),_.useEffect(function(){k&&h&&(le!==null&&google.maps.event.removeListener(le),ge(google.maps.event.addListener(k,"addfeature",h)))},[h]),_.useEffect(function(){k&&f&&(Me!==null&&google.maps.event.removeListener(Me),Ae(google.maps.event.addListener(k,"removefeature",f)))},[f]),_.useEffect(function(){k&&d&&(Ee!==null&&google.maps.event.removeListener(Ee),ve(google.maps.event.addListener(k,"removeproperty",d)))},[d]),_.useEffect(function(){k&&m&&(we!==null&&google.maps.event.removeListener(we),se(google.maps.event.addListener(k,"setgeometry",m)))},[m]),_.useEffect(function(){k&&C&&(ue!==null&&google.maps.event.removeListener(ue),Ie(google.maps.event.addListener(k,"setproperty",C)))},[C]),_.useEffect(function(){if(E!==null){var ne=new google.maps.Data(ae(ae({},e||{}),{map:E}));r&&S(google.maps.event.addListener(ne,"dblclick",r)),i&&y(google.maps.event.addListener(ne,"mousedown",i)),o&&I(google.maps.event.addListener(ne,"mousemove",o)),s&&O(google.maps.event.addListener(ne,"mouseout",s)),a&&U(google.maps.event.addListener(ne,"mouseover",a)),u&&G(google.maps.event.addListener(ne,"mouseup",u)),c&&H(google.maps.event.addListener(ne,"rightclick",c)),n&&he(google.maps.event.addListener(ne,"click",n)),h&&ge(google.maps.event.addListener(ne,"addfeature",h)),f&&Ae(google.maps.event.addListener(ne,"removefeature",f)),d&&ve(google.maps.event.addListener(ne,"removeproperty",d)),m&&se(google.maps.event.addListener(ne,"setgeometry",m)),C&&Ie(google.maps.event.addListener(ne,"setproperty",C)),b(ne),L&&L(ne)}return function(){k&&(A!==null&&google.maps.event.removeListener(A),v!==null&&google.maps.event.removeListener(v),R!==null&&google.maps.event.removeListener(R),z!==null&&google.maps.event.removeListener(z),F!==null&&google.maps.event.removeListener(F),K!==null&&google.maps.event.removeListener(K),q!==null&&google.maps.event.removeListener(q),oe!==null&&google.maps.event.removeListener(oe),le!==null&&google.maps.event.removeListener(le),Me!==null&&google.maps.event.removeListener(Me),Ee!==null&&google.maps.event.removeListener(Ee),we!==null&&google.maps.event.removeListener(we),ue!==null&&google.maps.event.removeListener(ue),x&&x(k),k.setMap(null))}},[]),null}_.memo(yT);(function(t){qe(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.registeredEvents=[],n.state={data:null},n.setDataCallback=function(){n.state.data!==null&&n.props.onLoad&&n.props.onLoad(n.state.data)},n}return e.prototype.componentDidMount=function(){if(this.context!==null){var n=new google.maps.Data(ae(ae({},this.props.options||{}),{map:this.context}));this.registeredEvents=ke({updaterMap:sm,eventMap:om,prevProps:{},nextProps:this.props,instance:n}),this.setState(function(){return{data:n}},this.setDataCallback)}},e.prototype.componentDidUpdate=function(n){this.state.data!==null&&(Re(this.registeredEvents),this.registeredEvents=ke({updaterMap:sm,eventMap:om,prevProps:n,nextProps:this.props,instance:this.state.data}))},e.prototype.componentWillUnmount=function(){this.state.data!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.data),Re(this.registeredEvents),this.state.data&&this.state.data.setMap(null))},e.prototype.render=function(){return null},e.contextType=Le,e})(_.PureComponent);var am={onClick:"click",onDefaultViewportChanged:"defaultviewport_changed",onStatusChanged:"status_changed"},lm={options:function(t,e){t.setOptions(e)},url:function(t,e){t.setUrl(e)},zIndex:function(t,e){t.setZIndex(e)}};(function(t){qe(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.registeredEvents=[],n.state={kmlLayer:null},n.setKmlLayerCallback=function(){n.state.kmlLayer!==null&&n.props.onLoad&&n.props.onLoad(n.state.kmlLayer)},n}return e.prototype.componentDidMount=function(){var n=new google.maps.KmlLayer(ae(ae({},this.props.options),{map:this.context}));this.registeredEvents=ke({updaterMap:lm,eventMap:am,prevProps:{},nextProps:this.props,instance:n}),this.setState(function(){return{kmlLayer:n}},this.setKmlLayerCallback)},e.prototype.componentDidUpdate=function(n){this.state.kmlLayer!==null&&(Re(this.registeredEvents),this.registeredEvents=ke({updaterMap:lm,eventMap:am,prevProps:n,nextProps:this.props,instance:this.state.kmlLayer}))},e.prototype.componentWillUnmount=function(){this.state.kmlLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.kmlLayer),Re(this.registeredEvents),this.state.kmlLayer.setMap(null))},e.prototype.render=function(){return null},e.contextType=Le,e})(_.PureComponent);function Y0(t,e){return typeof e=="function"?e(t.offsetWidth,t.offsetHeight):{x:0,y:0}}function _T(t,e){return new e(t.lat,t.lng)}function wT(t,e){return new e(new google.maps.LatLng(t.ne.lat,t.ne.lng),new google.maps.LatLng(t.sw.lat,t.sw.lng))}function ET(t,e,n){return t instanceof e?t:n(t,e)}function CT(t,e,n){return t instanceof e?t:n(t,e)}function ST(t,e,n){var r=t&&t.fromLatLngToDivPixel(n.getNorthEast()),i=t&&t.fromLatLngToDivPixel(n.getSouthWest());return r&&i?{left:"".concat(i.x+e.x,"px"),top:"".concat(r.y+e.y,"px"),width:"".concat(r.x-i.x-e.x,"px"),height:"".concat(i.y-r.y-e.y,"px")}:{left:"-9999px",top:"-9999px"}}function TT(t,e,n){var r=t&&t.fromLatLngToDivPixel(n);if(r){var i=r.x,o=r.y;return{left:"".concat(i+e.x,"px"),top:"".concat(o+e.y,"px")}}return{left:"-9999px",top:"-9999px"}}function J0(t,e,n,r){return n!==void 0?ST(t,e,CT(n,google.maps.LatLngBounds,wT)):TT(t,e,ET(r,google.maps.LatLng,_T))}function LT(t,e){return t.left===e.left&&t.top===e.top&&t.width===e.height&&t.height===e.height}function IT(t,e,n,r,i){var o=function(s){qe(a,s);function a(u,c,h,f){var d=s.call(this)||this;return d.container=u,d.pane=c,d.position=h,d.bounds=f,d}return a.prototype.onAdd=function(){var u,c=(u=this.getPanes())===null||u===void 0?void 0:u[this.pane];c==null||c.appendChild(this.container)},a.prototype.draw=function(){for(var u=this.getProjection(),c=ae({},this.container?Y0(this.container,i):{x:0,y:0}),h=J0(u,c,this.bounds,this.position),f=0,d=Object.entries(h);f<d.length;f++){var m=d[f],C=m[0],L=m[1];this.container.style[C]=L}},a.prototype.onRemove=function(){this.container.parentNode!==null&&this.container.parentNode.removeChild(this.container)},a}(google.maps.OverlayView);return new o(t,e,n,r)}function um(t){if(!t)return"";var e=t instanceof google.maps.LatLng?t:new google.maps.LatLng(t.lat,t.lng);return e+""}function cm(t){if(!t)return"";var e=t instanceof google.maps.LatLngBounds?t:new google.maps.LatLngBounds(new google.maps.LatLng(t.south,t.east),new google.maps.LatLng(t.north,t.west));return e+""}function kT(t){var e=t.position,n=t.bounds,r=t.mapPaneName,i=t.zIndex,o=t.onLoad,s=t.onUnmount,a=t.getPixelPositionOffset,u=t.children,c=_.useContext(Le),h=_.useMemo(function(){var d=document.createElement("div");return d.style.position="absolute",d},[]),f=_.useMemo(function(){return IT(h,r,e,n,a)},[h,r,e,n]);return _.useEffect(function(){return o==null||o(f),f==null||f.setMap(c),function(){s==null||s(f),f==null||f.setMap(null)}},[c,f]),_.useEffect(function(){h.style.zIndex="".concat(i)},[i,h]),Ui.createPortal(u,h)}_.memo(kT);(function(t){qe(e,t);function e(n){var r=t.call(this,n)||this;r.state={paneEl:null,containerStyle:{position:"absolute"}},r.updatePane=function(){var o=r.props.mapPaneName,s=r.overlayView.getPanes();ft(!!o,"OverlayView requires props.mapPaneName but got %s",o),s?r.setState({paneEl:s[o]}):r.setState({paneEl:null})},r.onAdd=function(){var o,s;r.updatePane(),(s=(o=r.props).onLoad)===null||s===void 0||s.call(o,r.overlayView)},r.onPositionElement=function(){var o=r.overlayView.getProjection(),s=ae({x:0,y:0},r.containerRef.current?Y0(r.containerRef.current,r.props.getPixelPositionOffset):{}),a=J0(o,s,r.props.bounds,r.props.position),u=r.state.containerStyle,c=u.left,h=u.top,f=u.width,d=u.height;LT(a,{left:c,top:h,width:f,height:d})||r.setState({containerStyle:{top:a.top||0,left:a.left||0,width:a.width||0,height:a.height||0,position:"absolute"}})},r.draw=function(){r.onPositionElement()},r.onRemove=function(){var o,s;r.setState(function(){return{paneEl:null}}),(s=(o=r.props).onUnmount)===null||s===void 0||s.call(o,r.overlayView)},r.containerRef=_.createRef();var i=new google.maps.OverlayView;return i.onAdd=r.onAdd,i.draw=r.draw,i.onRemove=r.onRemove,r.overlayView=i,r}return e.prototype.componentDidMount=function(){this.overlayView.setMap(this.context)},e.prototype.componentDidUpdate=function(n){var r=um(n.position),i=um(this.props.position),o=cm(n.bounds),s=cm(this.props.bounds);(r!==i||o!==s)&&this.overlayView.draw(),n.mapPaneName!==this.props.mapPaneName&&this.updatePane()},e.prototype.componentWillUnmount=function(){this.overlayView.setMap(null)},e.prototype.render=function(){var n=this.state.paneEl;return n?Ui.createPortal(J.jsx("div",{ref:this.containerRef,style:this.state.containerStyle,children:_.Children.only(this.props.children)}),n):null},e.FLOAT_PANE="floatPane",e.MAP_PANE="mapPane",e.MARKER_LAYER="markerLayer",e.OVERLAY_LAYER="overlayLayer",e.OVERLAY_MOUSE_TARGET="overlayMouseTarget",e.contextType=Le,e})(_.PureComponent);function AT(){}var hm={onDblClick:"dblclick",onClick:"click"},fm={opacity:function(t,e){t.setOpacity(e)}};function PT(t){var e=t.url,n=t.bounds,r=t.options,i=t.visible,o=_.useContext(Le),s=new google.maps.LatLngBounds(new google.maps.LatLng(n.south,n.west),new google.maps.LatLng(n.north,n.east)),a=_.useMemo(function(){var u=new google.maps.GroundOverlay(e,s,ae({},r));return u},[]);return _.useEffect(function(){a!==null&&a.setMap(o)},[o]),_.useEffect(function(){typeof e<"u"&&a!==null&&(a.set("url",e),a.setMap(o))},[a,e]),_.useEffect(function(){typeof i<"u"&&a!==null&&a.setOpacity(i?1:0)},[a,i]),_.useEffect(function(){var u=new google.maps.LatLngBounds(new google.maps.LatLng(n.south,n.west),new google.maps.LatLng(n.north,n.east));typeof n<"u"&&a!==null&&(a.set("bounds",u),a.setMap(o))},[a,n]),null}_.memo(PT);(function(t){qe(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.registeredEvents=[],n.state={groundOverlay:null},n.setGroundOverlayCallback=function(){n.state.groundOverlay!==null&&n.props.onLoad&&n.props.onLoad(n.state.groundOverlay)},n}return e.prototype.componentDidMount=function(){ft(!!this.props.url||!!this.props.bounds,"For GroundOverlay, url and bounds are passed in to constructor and are immutable after instantiated. This is the behavior of Google Maps JavaScript API v3 ( See https://developers.google.com/maps/documentation/javascript/reference#GroundOverlay) Hence, use the corresponding two props provided by `react-google-maps-api`, url and bounds. In some cases, you'll need the GroundOverlay component to reflect the changes of url and bounds. You can leverage the React's key property to remount the component. Typically, just `key={url}` would serve your need. See https://github.com/tomchentw/react-google-maps/issues/655");var n=new google.maps.GroundOverlay(this.props.url,this.props.bounds,ae(ae({},this.props.options),{map:this.context}));this.registeredEvents=ke({updaterMap:fm,eventMap:hm,prevProps:{},nextProps:this.props,instance:n}),this.setState(function(){return{groundOverlay:n}},this.setGroundOverlayCallback)},e.prototype.componentDidUpdate=function(n){this.state.groundOverlay!==null&&(Re(this.registeredEvents),this.registeredEvents=ke({updaterMap:fm,eventMap:hm,prevProps:n,nextProps:this.props,instance:this.state.groundOverlay}))},e.prototype.componentWillUnmount=function(){this.state.groundOverlay&&(this.props.onUnmount&&this.props.onUnmount(this.state.groundOverlay),this.state.groundOverlay.setMap(null))},e.prototype.render=function(){return null},e.defaultProps={onLoad:AT},e.contextType=Le,e})(_.PureComponent);var dm={},pm={data:function(t,e){t.setData(e)},map:function(t,e){t.setMap(e)},options:function(t,e){t.setOptions(e)}};function RT(t){var e=t.data,n=t.onLoad,r=t.onUnmount,i=t.options,o=_.useContext(Le),s=_.useState(null),a=s[0],u=s[1];return _.useEffect(function(){google.maps.visualization||ft(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} in useJsApiScript? %s',google.maps.visualization)},[]),_.useEffect(function(){ft(!!e,"data property is required in HeatmapLayer %s",e)},[e]),_.useEffect(function(){a!==null&&a.setMap(o)},[o]),_.useEffect(function(){i&&a!==null&&a.setOptions(i)},[a,i]),_.useEffect(function(){var c=new google.maps.visualization.HeatmapLayer(ae(ae({},i||{}),{data:e,map:o}));return u(c),n&&n(c),function(){a!==null&&(r&&r(a),a.setMap(null))}},[]),null}_.memo(RT);(function(t){qe(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.registeredEvents=[],n.state={heatmapLayer:null},n.setHeatmapLayerCallback=function(){n.state.heatmapLayer!==null&&n.props.onLoad&&n.props.onLoad(n.state.heatmapLayer)},n}return e.prototype.componentDidMount=function(){ft(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} to <LoadScript />? %s',google.maps.visualization),ft(!!this.props.data,"data property is required in HeatmapLayer %s",this.props.data);var n=new google.maps.visualization.HeatmapLayer(ae(ae({},this.props.options||{}),{data:this.props.data,map:this.context}));this.registeredEvents=ke({updaterMap:pm,eventMap:dm,prevProps:{},nextProps:this.props,instance:n}),this.setState(function(){return{heatmapLayer:n}},this.setHeatmapLayerCallback)},e.prototype.componentDidUpdate=function(n){Re(this.registeredEvents),this.registeredEvents=ke({updaterMap:pm,eventMap:dm,prevProps:n,nextProps:this.props,instance:this.state.heatmapLayer})},e.prototype.componentWillUnmount=function(){this.state.heatmapLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.heatmapLayer),Re(this.registeredEvents),this.state.heatmapLayer.setMap(null))},e.prototype.render=function(){return null},e.contextType=Le,e})(_.PureComponent);var gm={onCloseClick:"closeclick",onPanoChanged:"pano_changed",onPositionChanged:"position_changed",onPovChanged:"pov_changed",onResize:"resize",onStatusChanged:"status_changed",onVisibleChanged:"visible_changed",onZoomChanged:"zoom_changed"},mm={register:function(t,e,n){t.registerPanoProvider(e,n)},links:function(t,e){t.setLinks(e)},motionTracking:function(t,e){t.setMotionTracking(e)},options:function(t,e){t.setOptions(e)},pano:function(t,e){t.setPano(e)},position:function(t,e){t.setPosition(e)},pov:function(t,e){t.setPov(e)},visible:function(t,e){t.setVisible(e)},zoom:function(t,e){t.setZoom(e)}};(function(t){qe(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.registeredEvents=[],n.state={streetViewPanorama:null},n.setStreetViewPanoramaCallback=function(){n.state.streetViewPanorama!==null&&n.props.onLoad&&n.props.onLoad(n.state.streetViewPanorama)},n}return e.prototype.componentDidMount=function(){var n,r,i=(r=(n=this.context)===null||n===void 0?void 0:n.getStreetView())!==null&&r!==void 0?r:null;this.registeredEvents=ke({updaterMap:mm,eventMap:gm,prevProps:{},nextProps:this.props,instance:i}),this.setState(function(){return{streetViewPanorama:i}},this.setStreetViewPanoramaCallback)},e.prototype.componentDidUpdate=function(n){this.state.streetViewPanorama!==null&&(Re(this.registeredEvents),this.registeredEvents=ke({updaterMap:mm,eventMap:gm,prevProps:n,nextProps:this.props,instance:this.state.streetViewPanorama}))},e.prototype.componentWillUnmount=function(){this.state.streetViewPanorama!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.streetViewPanorama),Re(this.registeredEvents),this.state.streetViewPanorama.setVisible(!1))},e.prototype.render=function(){return null},e.contextType=Le,e})(_.PureComponent);(function(t){qe(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={streetViewService:null},n.setStreetViewServiceCallback=function(){n.state.streetViewService!==null&&n.props.onLoad&&n.props.onLoad(n.state.streetViewService)},n}return e.prototype.componentDidMount=function(){var n=new google.maps.StreetViewService;this.setState(function(){return{streetViewService:n}},this.setStreetViewServiceCallback)},e.prototype.componentWillUnmount=function(){this.state.streetViewService!==null&&this.props.onUnmount&&this.props.onUnmount(this.state.streetViewService)},e.prototype.render=function(){return null},e.contextType=Le,e})(_.PureComponent);(function(t){qe(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={directionsService:null},n.setDirectionsServiceCallback=function(){n.state.directionsService!==null&&n.props.onLoad&&n.props.onLoad(n.state.directionsService)},n}return e.prototype.componentDidMount=function(){ft(!!this.props.options,"DirectionsService expected options object as parameter, but got %s",this.props.options);var n=new google.maps.DirectionsService;this.setState(function(){return{directionsService:n}},this.setDirectionsServiceCallback)},e.prototype.componentDidUpdate=function(){this.state.directionsService!==null&&this.state.directionsService.route(this.props.options,this.props.callback)},e.prototype.componentWillUnmount=function(){this.state.directionsService!==null&&this.props.onUnmount&&this.props.onUnmount(this.state.directionsService)},e.prototype.render=function(){return null},e})(_.PureComponent);var vm={onDirectionsChanged:"directions_changed"},ym={directions:function(t,e){t.setDirections(e)},map:function(t,e){t.setMap(e)},options:function(t,e){t.setOptions(e)},panel:function(t,e){t.setPanel(e)},routeIndex:function(t,e){t.setRouteIndex(e)}};(function(t){qe(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.registeredEvents=[],n.state={directionsRenderer:null},n.setDirectionsRendererCallback=function(){n.state.directionsRenderer!==null&&(n.state.directionsRenderer.setMap(n.context),n.props.onLoad&&n.props.onLoad(n.state.directionsRenderer))},n}return e.prototype.componentDidMount=function(){var n=new google.maps.DirectionsRenderer(this.props.options);this.registeredEvents=ke({updaterMap:ym,eventMap:vm,prevProps:{},nextProps:this.props,instance:n}),this.setState(function(){return{directionsRenderer:n}},this.setDirectionsRendererCallback)},e.prototype.componentDidUpdate=function(n){this.state.directionsRenderer!==null&&(Re(this.registeredEvents),this.registeredEvents=ke({updaterMap:ym,eventMap:vm,prevProps:n,nextProps:this.props,instance:this.state.directionsRenderer}))},e.prototype.componentWillUnmount=function(){this.state.directionsRenderer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.directionsRenderer),Re(this.registeredEvents),this.state.directionsRenderer&&this.state.directionsRenderer.setMap(null))},e.prototype.render=function(){return J.jsx(J.Fragment,{})},e.contextType=Le,e})(_.PureComponent);(function(t){qe(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={distanceMatrixService:null},n.setDistanceMatrixServiceCallback=function(){n.state.distanceMatrixService!==null&&n.props.onLoad&&n.props.onLoad(n.state.distanceMatrixService)},n}return e.prototype.componentDidMount=function(){ft(!!this.props.options,"DistanceMatrixService expected options object as parameter, but go %s",this.props.options);var n=new google.maps.DistanceMatrixService;this.setState(function(){return{distanceMatrixService:n}},this.setDistanceMatrixServiceCallback)},e.prototype.componentDidUpdate=function(){this.state.distanceMatrixService!==null&&this.state.distanceMatrixService.getDistanceMatrix(this.props.options,this.props.callback)},e.prototype.componentWillUnmount=function(){this.state.distanceMatrixService!==null&&this.props.onUnmount&&this.props.onUnmount(this.state.distanceMatrixService)},e.prototype.render=function(){return null},e})(_.PureComponent);var _m={onPlacesChanged:"places_changed"},wm={bounds:function(t,e){t.setBounds(e)}};(function(t){qe(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.registeredEvents=[],n.containerElement=_.createRef(),n.state={searchBox:null},n.setSearchBoxCallback=function(){n.state.searchBox!==null&&n.props.onLoad&&n.props.onLoad(n.state.searchBox)},n}return e.prototype.componentDidMount=function(){if(ft(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places),this.containerElement!==null&&this.containerElement.current!==null){var n=this.containerElement.current.querySelector("input");if(n!==null){var r=new google.maps.places.SearchBox(n,this.props.options);this.registeredEvents=ke({updaterMap:wm,eventMap:_m,prevProps:{},nextProps:this.props,instance:r}),this.setState(function(){return{searchBox:r}},this.setSearchBoxCallback)}}},e.prototype.componentDidUpdate=function(n){this.state.searchBox!==null&&(Re(this.registeredEvents),this.registeredEvents=ke({updaterMap:wm,eventMap:_m,prevProps:n,nextProps:this.props,instance:this.state.searchBox}))},e.prototype.componentWillUnmount=function(){this.state.searchBox!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.searchBox),Re(this.registeredEvents))},e.prototype.render=function(){return J.jsx("div",{ref:this.containerElement,children:_.Children.only(this.props.children)})},e.contextType=Le,e})(_.PureComponent);var Em={onPlaceChanged:"place_changed"},Cm={bounds:function(t,e){t.setBounds(e)},restrictions:function(t,e){t.setComponentRestrictions(e)},fields:function(t,e){t.setFields(e)},options:function(t,e){t.setOptions(e)},types:function(t,e){t.setTypes(e)}};(function(t){qe(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.registeredEvents=[],n.containerElement=_.createRef(),n.state={autocomplete:null},n.setAutocompleteCallback=function(){n.state.autocomplete!==null&&n.props.onLoad&&n.props.onLoad(n.state.autocomplete)},n}return e.prototype.componentDidMount=function(){var n;ft(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places);var r=(n=this.containerElement.current)===null||n===void 0?void 0:n.querySelector("input");if(r){var i=new google.maps.places.Autocomplete(r,this.props.options);this.registeredEvents=ke({updaterMap:Cm,eventMap:Em,prevProps:{},nextProps:this.props,instance:i}),this.setState(function(){return{autocomplete:i}},this.setAutocompleteCallback)}},e.prototype.componentDidUpdate=function(n){Re(this.registeredEvents),this.registeredEvents=ke({updaterMap:Cm,eventMap:Em,prevProps:n,nextProps:this.props,instance:this.state.autocomplete})},e.prototype.componentWillUnmount=function(){this.state.autocomplete!==null&&Re(this.registeredEvents)},e.prototype.render=function(){return J.jsx("div",{ref:this.containerElement,className:this.props.className,children:_.Children.only(this.props.children)})},e.defaultProps={className:""},e.contextType=Le,e})(_.PureComponent);var Sm={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e1=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},xT=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],a=t[n++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},t1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,h=o>>2,f=(o&3)<<4|a>>4;let d=(a&15)<<2|c>>6,m=c&63;u||(m=64,s||(d=64)),r.push(n[h],n[f],n[d],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(e1(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):xT(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||c==null||f==null)throw new MT;const d=o<<2|a>>4;if(r.push(d),c!==64){const m=a<<4&240|c>>2;if(r.push(m),f!==64){const C=c<<6&192|f;r.push(C)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class MT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const bT=function(t){const e=e1(t);return t1.encodeByteArray(e,!0)},Ql=function(t){return bT(t).replace(/\./g,"")},DT=function(t){try{return t1.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NT=()=>OT().__FIREBASE_DEFAULTS__,VT=()=>{if(typeof process>"u"||typeof Sm>"u")return;const t=Sm.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},UT=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&DT(t[1]);return e&&JSON.parse(e)},rd=()=>{try{return NT()||VT()||UT()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},FT=t=>{var e,n;return(n=(e=rd())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},n1=t=>{const e=FT(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},r1=()=>{var t;return(t=rd())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i1(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Ql(JSON.stringify(n)),Ql(JSON.stringify(s)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zT(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function jT(){var t;const e=(t=rd())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function $T(){return!jT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function HT(){try{return typeof indexedDB=="object"}catch{return!1}}function WT(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GT="FirebaseError";class Fi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=GT,Object.setPrototypeOf(this,Fi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,o1.prototype.create)}}class o1{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?qT(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Fi(i,a,r)}}function qT(t,e){return t.replace(KT,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const KT=/\{\$([^}]+)}/g;function Nh(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(Tm(o)&&Tm(s)){if(!Nh(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Tm(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pn(t){return t&&t._delegate?t._delegate:t}class Po{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QT{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new BT;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(XT(e))try{this.getOrInitializeService({instanceIdentifier:gi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=gi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=gi){return this.instances.has(e)}getOptions(e=gi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:ZT(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=gi){return this.component?this.component.multipleInstances?e:gi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ZT(t){return t===gi?void 0:t}function XT(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YT{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new QT(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Oe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Oe||(Oe={}));const JT={debug:Oe.DEBUG,verbose:Oe.VERBOSE,info:Oe.INFO,warn:Oe.WARN,error:Oe.ERROR,silent:Oe.SILENT},e2=Oe.INFO,t2={[Oe.DEBUG]:"log",[Oe.VERBOSE]:"log",[Oe.INFO]:"info",[Oe.WARN]:"warn",[Oe.ERROR]:"error"},n2=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=t2[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class s1{constructor(e){this.name=e,this._logLevel=e2,this._logHandler=n2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Oe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?JT[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Oe.DEBUG,...e),this._logHandler(this,Oe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Oe.VERBOSE,...e),this._logHandler(this,Oe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Oe.INFO,...e),this._logHandler(this,Oe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Oe.WARN,...e),this._logHandler(this,Oe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Oe.ERROR,...e),this._logHandler(this,Oe.ERROR,...e)}}const r2=(t,e)=>e.some(n=>t instanceof n);let Lm,Im;function i2(){return Lm||(Lm=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function o2(){return Im||(Im=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const a1=new WeakMap,Vh=new WeakMap,l1=new WeakMap,Ac=new WeakMap,id=new WeakMap;function s2(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Wr(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&a1.set(n,t)}).catch(()=>{}),id.set(e,t),e}function a2(t){if(Vh.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});Vh.set(t,e)}let Uh={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Vh.get(t);if(e==="objectStoreNames")return t.objectStoreNames||l1.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Wr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function l2(t){Uh=t(Uh)}function u2(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Pc(this),e,...n);return l1.set(r,e.sort?e.sort():[e]),Wr(r)}:o2().includes(t)?function(...e){return t.apply(Pc(this),e),Wr(a1.get(this))}:function(...e){return Wr(t.apply(Pc(this),e))}}function c2(t){return typeof t=="function"?u2(t):(t instanceof IDBTransaction&&a2(t),r2(t,i2())?new Proxy(t,Uh):t)}function Wr(t){if(t instanceof IDBRequest)return s2(t);if(Ac.has(t))return Ac.get(t);const e=c2(t);return e!==t&&(Ac.set(t,e),id.set(e,t)),e}const Pc=t=>id.get(t);function h2(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=Wr(s);return r&&s.addEventListener("upgradeneeded",u=>{r(Wr(s.result),u.oldVersion,u.newVersion,Wr(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const f2=["get","getKey","getAll","getAllKeys","count"],d2=["put","add","delete","clear"],Rc=new Map;function km(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Rc.get(e))return Rc.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=d2.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||f2.includes(n)))return;const o=async function(s,...a){const u=this.transaction(s,i?"readwrite":"readonly");let c=u.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&u.done]))[0]};return Rc.set(e,o),o}l2(t=>({...t,get:(e,n,r)=>km(e,n)||t.get(e,n,r),has:(e,n)=>!!km(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(g2(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function g2(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Fh="@firebase/app",Am="0.10.9";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gr=new s1("@firebase/app"),m2="@firebase/app-compat",v2="@firebase/analytics-compat",y2="@firebase/analytics",_2="@firebase/app-check-compat",w2="@firebase/app-check",E2="@firebase/auth",C2="@firebase/auth-compat",S2="@firebase/database",T2="@firebase/database-compat",L2="@firebase/functions",I2="@firebase/functions-compat",k2="@firebase/installations",A2="@firebase/installations-compat",P2="@firebase/messaging",R2="@firebase/messaging-compat",x2="@firebase/performance",M2="@firebase/performance-compat",b2="@firebase/remote-config",D2="@firebase/remote-config-compat",O2="@firebase/storage",N2="@firebase/storage-compat",V2="@firebase/firestore",U2="@firebase/vertexai-preview",F2="@firebase/firestore-compat",B2="firebase",z2="10.13.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bh="[DEFAULT]",j2={[Fh]:"fire-core",[m2]:"fire-core-compat",[y2]:"fire-analytics",[v2]:"fire-analytics-compat",[w2]:"fire-app-check",[_2]:"fire-app-check-compat",[E2]:"fire-auth",[C2]:"fire-auth-compat",[S2]:"fire-rtdb",[T2]:"fire-rtdb-compat",[L2]:"fire-fn",[I2]:"fire-fn-compat",[k2]:"fire-iid",[A2]:"fire-iid-compat",[P2]:"fire-fcm",[R2]:"fire-fcm-compat",[x2]:"fire-perf",[M2]:"fire-perf-compat",[b2]:"fire-rc",[D2]:"fire-rc-compat",[O2]:"fire-gcs",[N2]:"fire-gcs-compat",[V2]:"fire-fst",[F2]:"fire-fst-compat",[U2]:"fire-vertex","fire-js":"fire-js",[B2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zl=new Map,$2=new Map,zh=new Map;function Pm(t,e){try{t.container.addComponent(e)}catch(n){gr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function na(t){const e=t.name;if(zh.has(e))return gr.debug(`There were multiple attempts to register component ${e}.`),!1;zh.set(e,t);for(const n of Zl.values())Pm(n,t);for(const n of $2.values())Pm(n,t);return!0}function u1(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Gr=new o1("app","Firebase",H2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W2{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Po("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Gr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c1=z2;function h1(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Bh,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Gr.create("bad-app-name",{appName:String(i)});if(n||(n=r1()),!n)throw Gr.create("no-options");const o=Zl.get(i);if(o){if(Nh(n,o.options)&&Nh(r,o.config))return o;throw Gr.create("duplicate-app",{appName:i})}const s=new YT(i);for(const u of zh.values())s.addComponent(u);const a=new W2(n,r,s);return Zl.set(i,a),a}function f1(t=Bh){const e=Zl.get(t);if(!e&&t===Bh&&r1())return h1();if(!e)throw Gr.create("no-app",{appName:t});return e}function qr(t,e,n){var r;let i=(r=j2[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),gr.warn(a.join(" "));return}na(new Po(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G2="firebase-heartbeat-database",q2=1,ra="firebase-heartbeat-store";let xc=null;function d1(){return xc||(xc=h2(G2,q2,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ra)}catch(n){console.warn(n)}}}}).catch(t=>{throw Gr.create("idb-open",{originalErrorMessage:t.message})})),xc}async function K2(t){try{const n=(await d1()).transaction(ra),r=await n.objectStore(ra).get(p1(t));return await n.done,r}catch(e){if(e instanceof Fi)gr.warn(e.message);else{const n=Gr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});gr.warn(n.message)}}}async function Rm(t,e){try{const r=(await d1()).transaction(ra,"readwrite");await r.objectStore(ra).put(e,p1(t)),await r.done}catch(n){if(n instanceof Fi)gr.warn(n.message);else{const r=Gr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});gr.warn(r.message)}}}function p1(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q2=1024,Z2=30*24*60*60*1e3;class X2{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new J2(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n,r;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=xm();return console.log("heartbeats",(e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats),((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{const u=new Date(a.date).valueOf();return Date.now()-u<=Z2}),this._storage.overwrite(this._heartbeatsCache))}catch(i){gr.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=xm(),{heartbeatsToSend:r,unsentEntries:i}=Y2(this._heartbeatsCache.heartbeats),o=Ql(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return gr.warn(n),""}}}function xm(){return new Date().toISOString().substring(0,10)}function Y2(t,e=Q2){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),Mm(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Mm(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class J2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return HT()?WT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await K2(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Rm(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Rm(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Mm(t){return Ql(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eL(t){na(new Po("platform-logger",e=>new p2(e),"PRIVATE")),na(new Po("heartbeat",e=>new X2(e),"PRIVATE")),qr(Fh,Am,t),qr(Fh,Am,"esm2017"),qr("fire-js","")}eL("");var bm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Li,g1;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,p){function v(){}v.prototype=p.prototype,S.D=p.prototype,S.prototype=new v,S.prototype.constructor=S,S.C=function(y,P,R){for(var I=Array(arguments.length-2),V=2;V<arguments.length;V++)I[V-2]=arguments[V];return p.prototype[P].apply(y,I)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(S,p,v){v||(v=0);var y=Array(16);if(typeof p=="string")for(var P=0;16>P;++P)y[P]=p.charCodeAt(v++)|p.charCodeAt(v++)<<8|p.charCodeAt(v++)<<16|p.charCodeAt(v++)<<24;else for(P=0;16>P;++P)y[P]=p[v++]|p[v++]<<8|p[v++]<<16|p[v++]<<24;p=S.g[0],v=S.g[1],P=S.g[2];var R=S.g[3],I=p+(R^v&(P^R))+y[0]+3614090360&4294967295;p=v+(I<<7&4294967295|I>>>25),I=R+(P^p&(v^P))+y[1]+3905402710&4294967295,R=p+(I<<12&4294967295|I>>>20),I=P+(v^R&(p^v))+y[2]+606105819&4294967295,P=R+(I<<17&4294967295|I>>>15),I=v+(p^P&(R^p))+y[3]+3250441966&4294967295,v=P+(I<<22&4294967295|I>>>10),I=p+(R^v&(P^R))+y[4]+4118548399&4294967295,p=v+(I<<7&4294967295|I>>>25),I=R+(P^p&(v^P))+y[5]+1200080426&4294967295,R=p+(I<<12&4294967295|I>>>20),I=P+(v^R&(p^v))+y[6]+2821735955&4294967295,P=R+(I<<17&4294967295|I>>>15),I=v+(p^P&(R^p))+y[7]+4249261313&4294967295,v=P+(I<<22&4294967295|I>>>10),I=p+(R^v&(P^R))+y[8]+1770035416&4294967295,p=v+(I<<7&4294967295|I>>>25),I=R+(P^p&(v^P))+y[9]+2336552879&4294967295,R=p+(I<<12&4294967295|I>>>20),I=P+(v^R&(p^v))+y[10]+4294925233&4294967295,P=R+(I<<17&4294967295|I>>>15),I=v+(p^P&(R^p))+y[11]+2304563134&4294967295,v=P+(I<<22&4294967295|I>>>10),I=p+(R^v&(P^R))+y[12]+1804603682&4294967295,p=v+(I<<7&4294967295|I>>>25),I=R+(P^p&(v^P))+y[13]+4254626195&4294967295,R=p+(I<<12&4294967295|I>>>20),I=P+(v^R&(p^v))+y[14]+2792965006&4294967295,P=R+(I<<17&4294967295|I>>>15),I=v+(p^P&(R^p))+y[15]+1236535329&4294967295,v=P+(I<<22&4294967295|I>>>10),I=p+(P^R&(v^P))+y[1]+4129170786&4294967295,p=v+(I<<5&4294967295|I>>>27),I=R+(v^P&(p^v))+y[6]+3225465664&4294967295,R=p+(I<<9&4294967295|I>>>23),I=P+(p^v&(R^p))+y[11]+643717713&4294967295,P=R+(I<<14&4294967295|I>>>18),I=v+(R^p&(P^R))+y[0]+3921069994&4294967295,v=P+(I<<20&4294967295|I>>>12),I=p+(P^R&(v^P))+y[5]+3593408605&4294967295,p=v+(I<<5&4294967295|I>>>27),I=R+(v^P&(p^v))+y[10]+38016083&4294967295,R=p+(I<<9&4294967295|I>>>23),I=P+(p^v&(R^p))+y[15]+3634488961&4294967295,P=R+(I<<14&4294967295|I>>>18),I=v+(R^p&(P^R))+y[4]+3889429448&4294967295,v=P+(I<<20&4294967295|I>>>12),I=p+(P^R&(v^P))+y[9]+568446438&4294967295,p=v+(I<<5&4294967295|I>>>27),I=R+(v^P&(p^v))+y[14]+3275163606&4294967295,R=p+(I<<9&4294967295|I>>>23),I=P+(p^v&(R^p))+y[3]+4107603335&4294967295,P=R+(I<<14&4294967295|I>>>18),I=v+(R^p&(P^R))+y[8]+1163531501&4294967295,v=P+(I<<20&4294967295|I>>>12),I=p+(P^R&(v^P))+y[13]+2850285829&4294967295,p=v+(I<<5&4294967295|I>>>27),I=R+(v^P&(p^v))+y[2]+4243563512&4294967295,R=p+(I<<9&4294967295|I>>>23),I=P+(p^v&(R^p))+y[7]+1735328473&4294967295,P=R+(I<<14&4294967295|I>>>18),I=v+(R^p&(P^R))+y[12]+2368359562&4294967295,v=P+(I<<20&4294967295|I>>>12),I=p+(v^P^R)+y[5]+4294588738&4294967295,p=v+(I<<4&4294967295|I>>>28),I=R+(p^v^P)+y[8]+2272392833&4294967295,R=p+(I<<11&4294967295|I>>>21),I=P+(R^p^v)+y[11]+1839030562&4294967295,P=R+(I<<16&4294967295|I>>>16),I=v+(P^R^p)+y[14]+4259657740&4294967295,v=P+(I<<23&4294967295|I>>>9),I=p+(v^P^R)+y[1]+2763975236&4294967295,p=v+(I<<4&4294967295|I>>>28),I=R+(p^v^P)+y[4]+1272893353&4294967295,R=p+(I<<11&4294967295|I>>>21),I=P+(R^p^v)+y[7]+4139469664&4294967295,P=R+(I<<16&4294967295|I>>>16),I=v+(P^R^p)+y[10]+3200236656&4294967295,v=P+(I<<23&4294967295|I>>>9),I=p+(v^P^R)+y[13]+681279174&4294967295,p=v+(I<<4&4294967295|I>>>28),I=R+(p^v^P)+y[0]+3936430074&4294967295,R=p+(I<<11&4294967295|I>>>21),I=P+(R^p^v)+y[3]+3572445317&4294967295,P=R+(I<<16&4294967295|I>>>16),I=v+(P^R^p)+y[6]+76029189&4294967295,v=P+(I<<23&4294967295|I>>>9),I=p+(v^P^R)+y[9]+3654602809&4294967295,p=v+(I<<4&4294967295|I>>>28),I=R+(p^v^P)+y[12]+3873151461&4294967295,R=p+(I<<11&4294967295|I>>>21),I=P+(R^p^v)+y[15]+530742520&4294967295,P=R+(I<<16&4294967295|I>>>16),I=v+(P^R^p)+y[2]+3299628645&4294967295,v=P+(I<<23&4294967295|I>>>9),I=p+(P^(v|~R))+y[0]+4096336452&4294967295,p=v+(I<<6&4294967295|I>>>26),I=R+(v^(p|~P))+y[7]+1126891415&4294967295,R=p+(I<<10&4294967295|I>>>22),I=P+(p^(R|~v))+y[14]+2878612391&4294967295,P=R+(I<<15&4294967295|I>>>17),I=v+(R^(P|~p))+y[5]+4237533241&4294967295,v=P+(I<<21&4294967295|I>>>11),I=p+(P^(v|~R))+y[12]+1700485571&4294967295,p=v+(I<<6&4294967295|I>>>26),I=R+(v^(p|~P))+y[3]+2399980690&4294967295,R=p+(I<<10&4294967295|I>>>22),I=P+(p^(R|~v))+y[10]+4293915773&4294967295,P=R+(I<<15&4294967295|I>>>17),I=v+(R^(P|~p))+y[1]+2240044497&4294967295,v=P+(I<<21&4294967295|I>>>11),I=p+(P^(v|~R))+y[8]+1873313359&4294967295,p=v+(I<<6&4294967295|I>>>26),I=R+(v^(p|~P))+y[15]+4264355552&4294967295,R=p+(I<<10&4294967295|I>>>22),I=P+(p^(R|~v))+y[6]+2734768916&4294967295,P=R+(I<<15&4294967295|I>>>17),I=v+(R^(P|~p))+y[13]+1309151649&4294967295,v=P+(I<<21&4294967295|I>>>11),I=p+(P^(v|~R))+y[4]+4149444226&4294967295,p=v+(I<<6&4294967295|I>>>26),I=R+(v^(p|~P))+y[11]+3174756917&4294967295,R=p+(I<<10&4294967295|I>>>22),I=P+(p^(R|~v))+y[2]+718787259&4294967295,P=R+(I<<15&4294967295|I>>>17),I=v+(R^(P|~p))+y[9]+3951481745&4294967295,S.g[0]=S.g[0]+p&4294967295,S.g[1]=S.g[1]+(P+(I<<21&4294967295|I>>>11))&4294967295,S.g[2]=S.g[2]+P&4294967295,S.g[3]=S.g[3]+R&4294967295}r.prototype.u=function(S,p){p===void 0&&(p=S.length);for(var v=p-this.blockSize,y=this.B,P=this.h,R=0;R<p;){if(P==0)for(;R<=v;)i(this,S,R),R+=this.blockSize;if(typeof S=="string"){for(;R<p;)if(y[P++]=S.charCodeAt(R++),P==this.blockSize){i(this,y),P=0;break}}else for(;R<p;)if(y[P++]=S[R++],P==this.blockSize){i(this,y),P=0;break}}this.h=P,this.o+=p},r.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var p=1;p<S.length-8;++p)S[p]=0;var v=8*this.o;for(p=S.length-8;p<S.length;++p)S[p]=v&255,v/=256;for(this.u(S),S=Array(16),p=v=0;4>p;++p)for(var y=0;32>y;y+=8)S[v++]=this.g[p]>>>y&255;return S};function o(S,p){var v=a;return Object.prototype.hasOwnProperty.call(v,S)?v[S]:v[S]=p(S)}function s(S,p){this.h=p;for(var v=[],y=!0,P=S.length-1;0<=P;P--){var R=S[P]|0;y&&R==p||(v[P]=R,y=!1)}this.g=v}var a={};function u(S){return-128<=S&&128>S?o(S,function(p){return new s([p|0],0>p?-1:0)}):new s([S|0],0>S?-1:0)}function c(S){if(isNaN(S)||!isFinite(S))return f;if(0>S)return x(c(-S));for(var p=[],v=1,y=0;S>=v;y++)p[y]=S/v|0,v*=4294967296;return new s(p,0)}function h(S,p){if(S.length==0)throw Error("number format error: empty string");if(p=p||10,2>p||36<p)throw Error("radix out of range: "+p);if(S.charAt(0)=="-")return x(h(S.substring(1),p));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var v=c(Math.pow(p,8)),y=f,P=0;P<S.length;P+=8){var R=Math.min(8,S.length-P),I=parseInt(S.substring(P,P+R),p);8>R?(R=c(Math.pow(p,R)),y=y.j(R).add(c(I))):(y=y.j(v),y=y.add(c(I)))}return y}var f=u(0),d=u(1),m=u(16777216);t=s.prototype,t.m=function(){if(L(this))return-x(this).m();for(var S=0,p=1,v=0;v<this.g.length;v++){var y=this.i(v);S+=(0<=y?y:4294967296+y)*p,p*=4294967296}return S},t.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(C(this))return"0";if(L(this))return"-"+x(this).toString(S);for(var p=c(Math.pow(S,6)),v=this,y="";;){var P=b(v,p).g;v=E(v,P.j(p));var R=((0<v.g.length?v.g[0]:v.h)>>>0).toString(S);if(v=P,C(v))return R+y;for(;6>R.length;)R="0"+R;y=R+y}},t.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function C(S){if(S.h!=0)return!1;for(var p=0;p<S.g.length;p++)if(S.g[p]!=0)return!1;return!0}function L(S){return S.h==-1}t.l=function(S){return S=E(this,S),L(S)?-1:C(S)?0:1};function x(S){for(var p=S.g.length,v=[],y=0;y<p;y++)v[y]=~S.g[y];return new s(v,~S.h).add(d)}t.abs=function(){return L(this)?x(this):this},t.add=function(S){for(var p=Math.max(this.g.length,S.g.length),v=[],y=0,P=0;P<=p;P++){var R=y+(this.i(P)&65535)+(S.i(P)&65535),I=(R>>>16)+(this.i(P)>>>16)+(S.i(P)>>>16);y=I>>>16,R&=65535,I&=65535,v[P]=I<<16|R}return new s(v,v[v.length-1]&-2147483648?-1:0)};function E(S,p){return S.add(x(p))}t.j=function(S){if(C(this)||C(S))return f;if(L(this))return L(S)?x(this).j(x(S)):x(x(this).j(S));if(L(S))return x(this.j(x(S)));if(0>this.l(m)&&0>S.l(m))return c(this.m()*S.m());for(var p=this.g.length+S.g.length,v=[],y=0;y<2*p;y++)v[y]=0;for(y=0;y<this.g.length;y++)for(var P=0;P<S.g.length;P++){var R=this.i(y)>>>16,I=this.i(y)&65535,V=S.i(P)>>>16,z=S.i(P)&65535;v[2*y+2*P]+=I*z,T(v,2*y+2*P),v[2*y+2*P+1]+=R*z,T(v,2*y+2*P+1),v[2*y+2*P+1]+=I*V,T(v,2*y+2*P+1),v[2*y+2*P+2]+=R*V,T(v,2*y+2*P+2)}for(y=0;y<p;y++)v[y]=v[2*y+1]<<16|v[2*y];for(y=p;y<2*p;y++)v[y]=0;return new s(v,0)};function T(S,p){for(;(S[p]&65535)!=S[p];)S[p+1]+=S[p]>>>16,S[p]&=65535,p++}function k(S,p){this.g=S,this.h=p}function b(S,p){if(C(p))throw Error("division by zero");if(C(S))return new k(f,f);if(L(S))return p=b(x(S),p),new k(x(p.g),x(p.h));if(L(p))return p=b(S,x(p)),new k(x(p.g),p.h);if(30<S.g.length){if(L(S)||L(p))throw Error("slowDivide_ only works with positive integers.");for(var v=d,y=p;0>=y.l(S);)v=N(v),y=N(y);var P=A(v,1),R=A(y,1);for(y=A(y,2),v=A(v,2);!C(y);){var I=R.add(y);0>=I.l(S)&&(P=P.add(v),R=I),y=A(y,1),v=A(v,1)}return p=E(S,P.j(p)),new k(P,p)}for(P=f;0<=S.l(p);){for(v=Math.max(1,Math.floor(S.m()/p.m())),y=Math.ceil(Math.log(v)/Math.LN2),y=48>=y?1:Math.pow(2,y-48),R=c(v),I=R.j(p);L(I)||0<I.l(S);)v-=y,R=c(v),I=R.j(p);C(R)&&(R=d),P=P.add(R),S=E(S,I)}return new k(P,S)}t.A=function(S){return b(this,S).h},t.and=function(S){for(var p=Math.max(this.g.length,S.g.length),v=[],y=0;y<p;y++)v[y]=this.i(y)&S.i(y);return new s(v,this.h&S.h)},t.or=function(S){for(var p=Math.max(this.g.length,S.g.length),v=[],y=0;y<p;y++)v[y]=this.i(y)|S.i(y);return new s(v,this.h|S.h)},t.xor=function(S){for(var p=Math.max(this.g.length,S.g.length),v=[],y=0;y<p;y++)v[y]=this.i(y)^S.i(y);return new s(v,this.h^S.h)};function N(S){for(var p=S.g.length+1,v=[],y=0;y<p;y++)v[y]=S.i(y)<<1|S.i(y-1)>>>31;return new s(v,S.h)}function A(S,p){var v=p>>5;p%=32;for(var y=S.g.length-v,P=[],R=0;R<y;R++)P[R]=0<p?S.i(R+v)>>>p|S.i(R+v+1)<<32-p:S.i(R+v);return new s(P,S.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,g1=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=c,s.fromString=h,Li=s}).apply(typeof bm<"u"?bm:typeof self<"u"?self:typeof window<"u"?window:{});var Ja=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var m1,v1,Es,y1,yl,jh,_1,w1,E1;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,g,w){return l==Array.prototype||l==Object.prototype||(l[g]=w.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ja=="object"&&Ja];for(var g=0;g<l.length;++g){var w=l[g];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var r=n(this);function i(l,g){if(g)e:{var w=r;l=l.split(".");for(var D=0;D<l.length-1;D++){var $=l[D];if(!($ in w))break e;w=w[$]}l=l[l.length-1],D=w[l],g=g(D),g!=D&&g!=null&&e(w,l,{configurable:!0,writable:!0,value:g})}}function o(l,g){l instanceof String&&(l+="");var w=0,D=!1,$={next:function(){if(!D&&w<l.length){var W=w++;return{value:g(W,l[W]),done:!1}}return D=!0,{done:!0,value:void 0}}};return $[Symbol.iterator]=function(){return $},$}i("Array.prototype.values",function(l){return l||function(){return o(this,function(g,w){return w})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},a=this||self;function u(l){var g=typeof l;return g=g!="object"?g:l?Array.isArray(l)?"array":g:"null",g=="array"||g=="object"&&typeof l.length=="number"}function c(l){var g=typeof l;return g=="object"&&l!=null||g=="function"}function h(l,g,w){return l.call.apply(l.bind,arguments)}function f(l,g,w){if(!l)throw Error();if(2<arguments.length){var D=Array.prototype.slice.call(arguments,2);return function(){var $=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply($,D),l.apply(g,$)}}return function(){return l.apply(g,arguments)}}function d(l,g,w){return d=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:f,d.apply(null,arguments)}function m(l,g){var w=Array.prototype.slice.call(arguments,1);return function(){var D=w.slice();return D.push.apply(D,arguments),l.apply(this,D)}}function C(l,g){function w(){}w.prototype=g.prototype,l.aa=g.prototype,l.prototype=new w,l.prototype.constructor=l,l.Qb=function(D,$,W){for(var te=Array(arguments.length-2),We=2;We<arguments.length;We++)te[We-2]=arguments[We];return g.prototype[$].apply(D,te)}}function L(l){const g=l.length;if(0<g){const w=Array(g);for(let D=0;D<g;D++)w[D]=l[D];return w}return[]}function x(l,g){for(let w=1;w<arguments.length;w++){const D=arguments[w];if(u(D)){const $=l.length||0,W=D.length||0;l.length=$+W;for(let te=0;te<W;te++)l[$+te]=D[te]}else l.push(D)}}class E{constructor(g,w){this.i=g,this.j=w,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function T(l){return/^[\s\xa0]*$/.test(l)}function k(){var l=a.navigator;return l&&(l=l.userAgent)?l:""}function b(l){return b[" "](l),l}b[" "]=function(){};var N=k().indexOf("Gecko")!=-1&&!(k().toLowerCase().indexOf("webkit")!=-1&&k().indexOf("Edge")==-1)&&!(k().indexOf("Trident")!=-1||k().indexOf("MSIE")!=-1)&&k().indexOf("Edge")==-1;function A(l,g,w){for(const D in l)g.call(w,l[D],D,l)}function S(l,g){for(const w in l)g.call(void 0,l[w],w,l)}function p(l){const g={};for(const w in l)g[w]=l[w];return g}const v="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function y(l,g){let w,D;for(let $=1;$<arguments.length;$++){D=arguments[$];for(w in D)l[w]=D[w];for(let W=0;W<v.length;W++)w=v[W],Object.prototype.hasOwnProperty.call(D,w)&&(l[w]=D[w])}}function P(l){var g=1;l=l.split(":");const w=[];for(;0<g&&l.length;)w.push(l.shift()),g--;return l.length&&w.push(l.join(":")),w}function R(l){a.setTimeout(()=>{throw l},0)}function I(){var l=U;let g=null;return l.g&&(g=l.g,l.g=l.g.next,l.g||(l.h=null),g.next=null),g}class V{constructor(){this.h=this.g=null}add(g,w){const D=z.get();D.set(g,w),this.h?this.h.next=D:this.g=D,this.h=D}}var z=new E(()=>new O,l=>l.reset());class O{constructor(){this.next=this.g=this.h=null}set(g,w){this.h=g,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let M,F=!1,U=new V,B=()=>{const l=a.Promise.resolve(void 0);M=()=>{l.then(K)}};var K=()=>{for(var l;l=I();){try{l.h.call(l.g)}catch(w){R(w)}var g=z;g.j(l),100>g.h&&(g.h++,l.next=g.g,g.g=l)}F=!1};function G(){this.s=this.s,this.C=this.C}G.prototype.s=!1,G.prototype.ma=function(){this.s||(this.s=!0,this.N())},G.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Q(l,g){this.type=l,this.g=this.target=g,this.defaultPrevented=!1}Q.prototype.h=function(){this.defaultPrevented=!0};var q=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var l=!1,g=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const w=()=>{};a.addEventListener("test",w,g),a.removeEventListener("test",w,g)}catch{}return l}();function H(l,g){if(Q.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var w=this.type=l.type,D=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=g,g=l.relatedTarget){if(N){e:{try{b(g.nodeName);var $=!0;break e}catch{}$=!1}$||(g=null)}}else w=="mouseover"?g=l.fromElement:w=="mouseout"&&(g=l.toElement);this.relatedTarget=g,D?(this.clientX=D.clientX!==void 0?D.clientX:D.pageX,this.clientY=D.clientY!==void 0?D.clientY:D.pageY,this.screenX=D.screenX||0,this.screenY=D.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:j[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&H.aa.h.call(this)}}C(H,Q);var j={2:"touch",3:"pen",4:"mouse"};H.prototype.h=function(){H.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var oe="closure_listenable_"+(1e6*Math.random()|0),he=0;function ee(l,g,w,D,$){this.listener=l,this.proxy=null,this.src=g,this.type=w,this.capture=!!D,this.ha=$,this.key=++he,this.da=this.fa=!1}function le(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function ge(l){this.src=l,this.g={},this.h=0}ge.prototype.add=function(l,g,w,D,$){var W=l.toString();l=this.g[W],l||(l=this.g[W]=[],this.h++);var te=Me(l,g,D,$);return-1<te?(g=l[te],w||(g.fa=!1)):(g=new ee(g,this.src,W,!!D,$),g.fa=w,l.push(g)),g};function me(l,g){var w=g.type;if(w in l.g){var D=l.g[w],$=Array.prototype.indexOf.call(D,g,void 0),W;(W=0<=$)&&Array.prototype.splice.call(D,$,1),W&&(le(g),l.g[w].length==0&&(delete l.g[w],l.h--))}}function Me(l,g,w,D){for(var $=0;$<l.length;++$){var W=l[$];if(!W.da&&W.listener==g&&W.capture==!!w&&W.ha==D)return $}return-1}var Ae="closure_lm_"+(1e6*Math.random()|0),fe={};function Ee(l,g,w,D,$){if(Array.isArray(g)){for(var W=0;W<g.length;W++)Ee(l,g[W],w,D,$);return null}return w=$e(w),l&&l[oe]?l.K(g,w,c(D)?!!D.capture:!!D,$):ve(l,g,w,!1,D,$)}function ve(l,g,w,D,$,W){if(!g)throw Error("Invalid event type");var te=c($)?!!$.capture:!!$,We=Ie(l);if(We||(l[Ae]=We=new ge(l)),w=We.add(g,w,D,te,W),w.proxy)return w;if(D=pe(),w.proxy=D,D.src=l,D.listener=w,l.addEventListener)q||($=te),$===void 0&&($=!1),l.addEventListener(g.toString(),D,$);else if(l.attachEvent)l.attachEvent(Te(g.toString()),D);else if(l.addListener&&l.removeListener)l.addListener(D);else throw Error("addEventListener and attachEvent are unavailable.");return w}function pe(){function l(w){return g.call(l.src,l.listener,w)}const g=ue;return l}function we(l,g,w,D,$){if(Array.isArray(g))for(var W=0;W<g.length;W++)we(l,g[W],w,D,$);else D=c(D)?!!D.capture:!!D,w=$e(w),l&&l[oe]?(l=l.i,g=String(g).toString(),g in l.g&&(W=l.g[g],w=Me(W,w,D,$),-1<w&&(le(W[w]),Array.prototype.splice.call(W,w,1),W.length==0&&(delete l.g[g],l.h--)))):l&&(l=Ie(l))&&(g=l.g[g.toString()],l=-1,g&&(l=Me(g,w,D,$)),(w=-1<l?g[l]:null)&&se(w))}function se(l){if(typeof l!="number"&&l&&!l.da){var g=l.src;if(g&&g[oe])me(g.i,l);else{var w=l.type,D=l.proxy;g.removeEventListener?g.removeEventListener(w,D,l.capture):g.detachEvent?g.detachEvent(Te(w),D):g.addListener&&g.removeListener&&g.removeListener(D),(w=Ie(g))?(me(w,l),w.h==0&&(w.src=null,g[Ae]=null)):le(l)}}}function Te(l){return l in fe?fe[l]:fe[l]="on"+l}function ue(l,g){if(l.da)l=!0;else{g=new H(g,this);var w=l.listener,D=l.ha||l.src;l.fa&&se(l),l=w.call(D,g)}return l}function Ie(l){return l=l[Ae],l instanceof ge?l:null}var ne="__closure_events_fn_"+(1e9*Math.random()>>>0);function $e(l){return typeof l=="function"?l:(l[ne]||(l[ne]=function(g){return l.handleEvent(g)}),l[ne])}function Be(){G.call(this),this.i=new ge(this),this.M=this,this.F=null}C(Be,G),Be.prototype[oe]=!0,Be.prototype.removeEventListener=function(l,g,w,D){we(this,l,g,w,D)};function ze(l,g){var w,D=l.F;if(D)for(w=[];D;D=D.F)w.push(D);if(l=l.M,D=g.type||g,typeof g=="string")g=new Q(g,l);else if(g instanceof Q)g.target=g.target||l;else{var $=g;g=new Q(D,l),y(g,$)}if($=!0,w)for(var W=w.length-1;0<=W;W--){var te=g.g=w[W];$=He(te,D,!0,g)&&$}if(te=g.g=l,$=He(te,D,!0,g)&&$,$=He(te,D,!1,g)&&$,w)for(W=0;W<w.length;W++)te=g.g=w[W],$=He(te,D,!1,g)&&$}Be.prototype.N=function(){if(Be.aa.N.call(this),this.i){var l=this.i,g;for(g in l.g){for(var w=l.g[g],D=0;D<w.length;D++)le(w[D]);delete l.g[g],l.h--}}this.F=null},Be.prototype.K=function(l,g,w,D){return this.i.add(String(l),g,!1,w,D)},Be.prototype.L=function(l,g,w,D){return this.i.add(String(l),g,!0,w,D)};function He(l,g,w,D){if(g=l.i.g[String(g)],!g)return!0;g=g.concat();for(var $=!0,W=0;W<g.length;++W){var te=g[W];if(te&&!te.da&&te.capture==w){var We=te.listener,kt=te.ha||te.src;te.fa&&me(l.i,te),$=We.call(kt,D)!==!1&&$}}return $&&!D.defaultPrevented}function Pe(l,g,w){if(typeof l=="function")w&&(l=d(l,w));else if(l&&typeof l.handleEvent=="function")l=d(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:a.setTimeout(l,g||0)}function et(l){l.g=Pe(()=>{l.g=null,l.i&&(l.i=!1,et(l))},l.l);const g=l.h;l.h=null,l.m.apply(null,g)}class Ot extends G{constructor(g,w){super(),this.m=g,this.l=w,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:et(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ut(l){G.call(this),this.h=l,this.g={}}C(ut,G);var Tt=[];function Nt(l){A(l.g,function(g,w){this.g.hasOwnProperty(w)&&se(g)},l),l.g={}}ut.prototype.N=function(){ut.aa.N.call(this),Nt(this)},ut.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Jt=a.JSON.stringify,_r=a.JSON.parse,ji=class{stringify(l){return a.JSON.stringify(l,void 0)}parse(l){return a.JSON.parse(l,void 0)}};function Bn(){}Bn.prototype.h=null;function zn(l){return l.h||(l.h=l.i())}function Rn(){}var jn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Lt(){Q.call(this,"d")}C(Lt,Q);function qt(){Q.call(this,"c")}C(qt,Q);var It={},ln=null;function $n(){return ln=ln||new Be}It.La="serverreachability";function un(l){Q.call(this,It.La,l)}C(un,Q);function _t(l){const g=$n();ze(g,new un(g))}It.STAT_EVENT="statevent";function Ho(l,g){Q.call(this,It.STAT_EVENT,l),this.stat=g}C(Ho,Q);function wt(l){const g=$n();ze(g,new Ho(g,l))}It.Ma="timingevent";function oi(l,g){Q.call(this,It.Ma,l),this.size=g}C(oi,Q);function wr(l,g){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){l()},g)}function Er(){this.g=!0}Er.prototype.xa=function(){this.g=!1};function $i(l,g,w,D,$,W){l.info(function(){if(l.g)if(W)for(var te="",We=W.split("&"),kt=0;kt<We.length;kt++){var Ve=We[kt].split("=");if(1<Ve.length){var Vt=Ve[0];Ve=Ve[1];var Ut=Vt.split("_");te=2<=Ut.length&&Ut[1]=="type"?te+(Vt+"="+Ve+"&"):te+(Vt+"=redacted&")}}else te=null;else te=W;return"XMLHTTP REQ ("+D+") [attempt "+$+"]: "+g+`
`+w+`
`+te})}function Ea(l,g,w,D,$,W,te){l.info(function(){return"XMLHTTP RESP ("+D+") [ attempt "+$+"]: "+g+`
`+w+`
`+W+" "+te})}function nr(l,g,w,D){l.info(function(){return"XMLHTTP TEXT ("+g+"): "+Ca(l,w)+(D?" "+D:"")})}function Hi(l,g){l.info(function(){return"TIMEOUT: "+g})}Er.prototype.info=function(){};function Ca(l,g){if(!l.g)return g;if(!g)return null;try{var w=JSON.parse(g);if(w){for(l=0;l<w.length;l++)if(Array.isArray(w[l])){var D=w[l];if(!(2>D.length)){var $=D[1];if(Array.isArray($)&&!(1>$.length)){var W=$[0];if(W!="noop"&&W!="stop"&&W!="close")for(var te=1;te<$.length;te++)$[te]=""}}}}return Jt(w)}catch{return g}}var si={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Wo={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Wi;function ai(){}C(ai,Bn),ai.prototype.g=function(){return new XMLHttpRequest},ai.prototype.i=function(){return{}},Wi=new ai;function cn(l,g,w,D){this.j=l,this.i=g,this.l=w,this.R=D||1,this.U=new ut(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Go}function Go(){this.i=null,this.g="",this.h=!1}var qo={},Cr={};function Gi(l,g,w){l.L=1,l.v=Ia(rr(g)),l.m=w,l.P=!0,Ko(l,null)}function Ko(l,g){l.F=Date.now(),qi(l),l.A=rr(l.v);var w=l.A,D=l.R;Array.isArray(D)||(D=[String(D)]),Jd(w.i,"t",D),l.C=0,w=l.j.J,l.h=new Go,l.g=vp(l.j,w?g:null,!l.m),0<l.O&&(l.M=new Ot(d(l.Y,l,l.g),l.O)),g=l.U,w=l.g,D=l.ca;var $="readystatechange";Array.isArray($)||($&&(Tt[0]=$.toString()),$=Tt);for(var W=0;W<$.length;W++){var te=Ee(w,$[W],D||g.handleEvent,!1,g.h||g);if(!te)break;g.g[te.key]=te}g=l.H?p(l.H):{},l.m?(l.u||(l.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,g)):(l.u="GET",l.g.ea(l.A,l.u,null,g)),_t(),$i(l.i,l.u,l.A,l.l,l.R,l.m)}cn.prototype.ca=function(l){l=l.target;const g=this.M;g&&ir(l)==3?g.j():this.Y(l)},cn.prototype.Y=function(l){try{if(l==this.g)e:{const Ut=ir(this.g);var g=this.g.Ba();const Zi=this.g.Z();if(!(3>Ut)&&(Ut!=3||this.g&&(this.h.h||this.g.oa()||sp(this.g)))){this.J||Ut!=4||g==7||(g==8||0>=Zi?_t(3):_t(2)),ye(this);var w=this.g.Z();this.X=w;t:if(li(this)){var D=sp(this.g);l="";var $=D.length,W=ir(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ui(this),Qo(this);var te="";break t}this.h.i=new a.TextDecoder}for(g=0;g<$;g++)this.h.h=!0,l+=this.h.i.decode(D[g],{stream:!(W&&g==$-1)});D.length=0,this.h.g+=l,this.C=0,te=this.h.g}else te=this.g.oa();if(this.o=w==200,Ea(this.i,this.u,this.A,this.l,this.R,Ut,w),this.o){if(this.T&&!this.K){t:{if(this.g){var We,kt=this.g;if((We=kt.g?kt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!T(We)){var Ve=We;break t}}Ve=null}if(w=Ve)nr(this.i,this.l,w,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Wu(this,w);else{this.o=!1,this.s=3,wt(12),ui(this),Qo(this);break e}}if(this.P){w=!0;let xn;for(;!this.J&&this.C<te.length;)if(xn=Sa(this,te),xn==Cr){Ut==4&&(this.s=4,wt(14),w=!1),nr(this.i,this.l,null,"[Incomplete Response]");break}else if(xn==qo){this.s=4,wt(15),nr(this.i,this.l,te,"[Invalid Chunk]"),w=!1;break}else nr(this.i,this.l,xn,null),Wu(this,xn);if(li(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ut!=4||te.length!=0||this.h.h||(this.s=1,wt(16),w=!1),this.o=this.o&&w,!w)nr(this.i,this.l,te,"[Invalid Chunked Response]"),ui(this),Qo(this);else if(0<te.length&&!this.W){this.W=!0;var Vt=this.j;Vt.g==this&&Vt.ba&&!Vt.M&&(Vt.j.info("Great, no buffering proxy detected. Bytes received: "+te.length),Xu(Vt),Vt.M=!0,wt(11))}}else nr(this.i,this.l,te,null),Wu(this,te);Ut==4&&ui(this),this.o&&!this.J&&(Ut==4?dp(this.j,this):(this.o=!1,qi(this)))}else Vw(this.g),w==400&&0<te.indexOf("Unknown SID")?(this.s=3,wt(12)):(this.s=0,wt(13)),ui(this),Qo(this)}}}catch{}finally{}};function li(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function Sa(l,g){var w=l.C,D=g.indexOf(`
`,w);return D==-1?Cr:(w=Number(g.substring(w,D)),isNaN(w)?qo:(D+=1,D+w>g.length?Cr:(g=g.slice(D,D+w),l.C=D+w,g)))}cn.prototype.cancel=function(){this.J=!0,ui(this)};function qi(l){l.S=Date.now()+l.I,Sr(l,l.I)}function Sr(l,g){if(l.B!=null)throw Error("WatchDog timer not null");l.B=wr(d(l.ba,l),g)}function ye(l){l.B&&(a.clearTimeout(l.B),l.B=null)}cn.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(Hi(this.i,this.A),this.L!=2&&(_t(),wt(17)),ui(this),this.s=2,Qo(this)):Sr(this,this.S-l)};function Qo(l){l.j.G==0||l.J||dp(l.j,l)}function ui(l){ye(l);var g=l.M;g&&typeof g.ma=="function"&&g.ma(),l.M=null,Nt(l.U),l.g&&(g=l.g,l.g=null,g.abort(),g.ma())}function Wu(l,g){try{var w=l.j;if(w.G!=0&&(w.g==l||Gu(w.h,l))){if(!l.K&&Gu(w.h,l)&&w.G==3){try{var D=w.Da.g.parse(g)}catch{D=null}if(Array.isArray(D)&&D.length==3){var $=D;if($[0]==0){e:if(!w.u){if(w.g)if(w.g.F+3e3<l.F)xa(w),Pa(w);else break e;Zu(w),wt(18)}}else w.za=$[1],0<w.za-w.T&&37500>$[2]&&w.F&&w.v==0&&!w.C&&(w.C=wr(d(w.Za,w),6e3));if(1>=Hd(w.h)&&w.ca){try{w.ca()}catch{}w.ca=void 0}}else hi(w,11)}else if((l.K||w.g==l)&&xa(w),!T(g))for($=w.Da.g.parse(g),g=0;g<$.length;g++){let Ve=$[g];if(w.T=Ve[0],Ve=Ve[1],w.G==2)if(Ve[0]=="c"){w.K=Ve[1],w.ia=Ve[2];const Vt=Ve[3];Vt!=null&&(w.la=Vt,w.j.info("VER="+w.la));const Ut=Ve[4];Ut!=null&&(w.Aa=Ut,w.j.info("SVER="+w.Aa));const Zi=Ve[5];Zi!=null&&typeof Zi=="number"&&0<Zi&&(D=1.5*Zi,w.L=D,w.j.info("backChannelRequestTimeoutMs_="+D)),D=w;const xn=l.g;if(xn){const ba=xn.g?xn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ba){var W=D.h;W.g||ba.indexOf("spdy")==-1&&ba.indexOf("quic")==-1&&ba.indexOf("h2")==-1||(W.j=W.l,W.g=new Set,W.h&&(qu(W,W.h),W.h=null))}if(D.D){const Yu=xn.g?xn.g.getResponseHeader("X-HTTP-Session-Id"):null;Yu&&(D.ya=Yu,Qe(D.I,D.D,Yu))}}w.G=3,w.l&&w.l.ua(),w.ba&&(w.R=Date.now()-l.F,w.j.info("Handshake RTT: "+w.R+"ms")),D=w;var te=l;if(D.qa=mp(D,D.J?D.ia:null,D.W),te.K){Wd(D.h,te);var We=te,kt=D.L;kt&&(We.I=kt),We.B&&(ye(We),qi(We)),D.g=te}else hp(D);0<w.i.length&&Ra(w)}else Ve[0]!="stop"&&Ve[0]!="close"||hi(w,7);else w.G==3&&(Ve[0]=="stop"||Ve[0]=="close"?Ve[0]=="stop"?hi(w,7):Qu(w):Ve[0]!="noop"&&w.l&&w.l.ta(Ve),w.v=0)}}_t(4)}catch{}}var Ew=class{constructor(l,g){this.g=l,this.map=g}};function jd(l){this.l=l||10,a.PerformanceNavigationTiming?(l=a.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function $d(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function Hd(l){return l.h?1:l.g?l.g.size:0}function Gu(l,g){return l.h?l.h==g:l.g?l.g.has(g):!1}function qu(l,g){l.g?l.g.add(g):l.h=g}function Wd(l,g){l.h&&l.h==g?l.h=null:l.g&&l.g.has(g)&&l.g.delete(g)}jd.prototype.cancel=function(){if(this.i=Gd(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function Gd(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let g=l.i;for(const w of l.g.values())g=g.concat(w.D);return g}return L(l.i)}function Cw(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(u(l)){for(var g=[],w=l.length,D=0;D<w;D++)g.push(l[D]);return g}g=[],w=0;for(D in l)g[w++]=l[D];return g}function Sw(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(u(l)||typeof l=="string"){var g=[];l=l.length;for(var w=0;w<l;w++)g.push(w);return g}g=[],w=0;for(const D in l)g[w++]=D;return g}}}function qd(l,g){if(l.forEach&&typeof l.forEach=="function")l.forEach(g,void 0);else if(u(l)||typeof l=="string")Array.prototype.forEach.call(l,g,void 0);else for(var w=Sw(l),D=Cw(l),$=D.length,W=0;W<$;W++)g.call(void 0,D[W],w&&w[W],l)}var Kd=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Tw(l,g){if(l){l=l.split("&");for(var w=0;w<l.length;w++){var D=l[w].indexOf("="),$=null;if(0<=D){var W=l[w].substring(0,D);$=l[w].substring(D+1)}else W=l[w];g(W,$?decodeURIComponent($.replace(/\+/g," ")):"")}}}function ci(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof ci){this.h=l.h,Ta(this,l.j),this.o=l.o,this.g=l.g,La(this,l.s),this.l=l.l;var g=l.i,w=new Yo;w.i=g.i,g.g&&(w.g=new Map(g.g),w.h=g.h),Qd(this,w),this.m=l.m}else l&&(g=String(l).match(Kd))?(this.h=!1,Ta(this,g[1]||"",!0),this.o=Zo(g[2]||""),this.g=Zo(g[3]||"",!0),La(this,g[4]),this.l=Zo(g[5]||"",!0),Qd(this,g[6]||"",!0),this.m=Zo(g[7]||"")):(this.h=!1,this.i=new Yo(null,this.h))}ci.prototype.toString=function(){var l=[],g=this.j;g&&l.push(Xo(g,Zd,!0),":");var w=this.g;return(w||g=="file")&&(l.push("//"),(g=this.o)&&l.push(Xo(g,Zd,!0),"@"),l.push(encodeURIComponent(String(w)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.s,w!=null&&l.push(":",String(w))),(w=this.l)&&(this.g&&w.charAt(0)!="/"&&l.push("/"),l.push(Xo(w,w.charAt(0)=="/"?kw:Iw,!0))),(w=this.i.toString())&&l.push("?",w),(w=this.m)&&l.push("#",Xo(w,Pw)),l.join("")};function rr(l){return new ci(l)}function Ta(l,g,w){l.j=w?Zo(g,!0):g,l.j&&(l.j=l.j.replace(/:$/,""))}function La(l,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);l.s=g}else l.s=null}function Qd(l,g,w){g instanceof Yo?(l.i=g,Rw(l.i,l.h)):(w||(g=Xo(g,Aw)),l.i=new Yo(g,l.h))}function Qe(l,g,w){l.i.set(g,w)}function Ia(l){return Qe(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function Zo(l,g){return l?g?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Xo(l,g,w){return typeof l=="string"?(l=encodeURI(l).replace(g,Lw),w&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function Lw(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var Zd=/[#\/\?@]/g,Iw=/[#\?:]/g,kw=/[#\?]/g,Aw=/[#\?@]/g,Pw=/#/g;function Yo(l,g){this.h=this.g=null,this.i=l||null,this.j=!!g}function Tr(l){l.g||(l.g=new Map,l.h=0,l.i&&Tw(l.i,function(g,w){l.add(decodeURIComponent(g.replace(/\+/g," ")),w)}))}t=Yo.prototype,t.add=function(l,g){Tr(this),this.i=null,l=Ki(this,l);var w=this.g.get(l);return w||this.g.set(l,w=[]),w.push(g),this.h+=1,this};function Xd(l,g){Tr(l),g=Ki(l,g),l.g.has(g)&&(l.i=null,l.h-=l.g.get(g).length,l.g.delete(g))}function Yd(l,g){return Tr(l),g=Ki(l,g),l.g.has(g)}t.forEach=function(l,g){Tr(this),this.g.forEach(function(w,D){w.forEach(function($){l.call(g,$,D,this)},this)},this)},t.na=function(){Tr(this);const l=Array.from(this.g.values()),g=Array.from(this.g.keys()),w=[];for(let D=0;D<g.length;D++){const $=l[D];for(let W=0;W<$.length;W++)w.push(g[D])}return w},t.V=function(l){Tr(this);let g=[];if(typeof l=="string")Yd(this,l)&&(g=g.concat(this.g.get(Ki(this,l))));else{l=Array.from(this.g.values());for(let w=0;w<l.length;w++)g=g.concat(l[w])}return g},t.set=function(l,g){return Tr(this),this.i=null,l=Ki(this,l),Yd(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[g]),this.h+=1,this},t.get=function(l,g){return l?(l=this.V(l),0<l.length?String(l[0]):g):g};function Jd(l,g,w){Xd(l,g),0<w.length&&(l.i=null,l.g.set(Ki(l,g),L(w)),l.h+=w.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],g=Array.from(this.g.keys());for(var w=0;w<g.length;w++){var D=g[w];const W=encodeURIComponent(String(D)),te=this.V(D);for(D=0;D<te.length;D++){var $=W;te[D]!==""&&($+="="+encodeURIComponent(String(te[D]))),l.push($)}}return this.i=l.join("&")};function Ki(l,g){return g=String(g),l.j&&(g=g.toLowerCase()),g}function Rw(l,g){g&&!l.j&&(Tr(l),l.i=null,l.g.forEach(function(w,D){var $=D.toLowerCase();D!=$&&(Xd(this,D),Jd(this,$,w))},l)),l.j=g}function xw(l,g){const w=new Er;if(a.Image){const D=new Image;D.onload=m(Lr,w,"TestLoadImage: loaded",!0,g,D),D.onerror=m(Lr,w,"TestLoadImage: error",!1,g,D),D.onabort=m(Lr,w,"TestLoadImage: abort",!1,g,D),D.ontimeout=m(Lr,w,"TestLoadImage: timeout",!1,g,D),a.setTimeout(function(){D.ontimeout&&D.ontimeout()},1e4),D.src=l}else g(!1)}function Mw(l,g){const w=new Er,D=new AbortController,$=setTimeout(()=>{D.abort(),Lr(w,"TestPingServer: timeout",!1,g)},1e4);fetch(l,{signal:D.signal}).then(W=>{clearTimeout($),W.ok?Lr(w,"TestPingServer: ok",!0,g):Lr(w,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout($),Lr(w,"TestPingServer: error",!1,g)})}function Lr(l,g,w,D,$){try{$&&($.onload=null,$.onerror=null,$.onabort=null,$.ontimeout=null),D(w)}catch{}}function bw(){this.g=new ji}function Dw(l,g,w){const D=w||"";try{qd(l,function($,W){let te=$;c($)&&(te=Jt($)),g.push(D+W+"="+encodeURIComponent(te))})}catch($){throw g.push(D+"type="+encodeURIComponent("_badmap")),$}}function Jo(l){this.l=l.Ub||null,this.j=l.eb||!1}C(Jo,Bn),Jo.prototype.g=function(){return new ka(this.l,this.j)},Jo.prototype.i=function(l){return function(){return l}}({});function ka(l,g){Be.call(this),this.D=l,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(ka,Be),t=ka.prototype,t.open=function(l,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=g,this.readyState=1,ts(this)},t.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(g.body=l),(this.D||a).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,es(this)),this.readyState=0},t.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,ts(this)),this.g&&(this.readyState=3,ts(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ep(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function ep(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}t.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var g=l.value?l.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!l.done}))&&(this.response=this.responseText+=g)}l.done?es(this):ts(this),this.readyState==3&&ep(this)}},t.Ra=function(l){this.g&&(this.response=this.responseText=l,es(this))},t.Qa=function(l){this.g&&(this.response=l,es(this))},t.ga=function(){this.g&&es(this)};function es(l){l.readyState=4,l.l=null,l.j=null,l.v=null,ts(l)}t.setRequestHeader=function(l,g){this.u.append(l,g)},t.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],g=this.h.entries();for(var w=g.next();!w.done;)w=w.value,l.push(w[0]+": "+w[1]),w=g.next();return l.join(`\r
`)};function ts(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(ka.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function tp(l){let g="";return A(l,function(w,D){g+=D,g+=":",g+=w,g+=`\r
`}),g}function Ku(l,g,w){e:{for(D in w){var D=!1;break e}D=!0}D||(w=tp(w),typeof l=="string"?w!=null&&encodeURIComponent(String(w)):Qe(l,g,w))}function ot(l){Be.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(ot,Be);var Ow=/^https?$/i,Nw=["POST","PUT"];t=ot.prototype,t.Ha=function(l){this.J=l},t.ea=function(l,g,w,D){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);g=g?g.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Wi.g(),this.v=this.o?zn(this.o):zn(Wi),this.g.onreadystatechange=d(this.Ea,this);try{this.B=!0,this.g.open(g,String(l),!0),this.B=!1}catch(W){np(this,W);return}if(l=w||"",w=new Map(this.headers),D)if(Object.getPrototypeOf(D)===Object.prototype)for(var $ in D)w.set($,D[$]);else if(typeof D.keys=="function"&&typeof D.get=="function")for(const W of D.keys())w.set(W,D.get(W));else throw Error("Unknown input type for opt_headers: "+String(D));D=Array.from(w.keys()).find(W=>W.toLowerCase()=="content-type"),$=a.FormData&&l instanceof a.FormData,!(0<=Array.prototype.indexOf.call(Nw,g,void 0))||D||$||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[W,te]of w)this.g.setRequestHeader(W,te);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{op(this),this.u=!0,this.g.send(l),this.u=!1}catch(W){np(this,W)}};function np(l,g){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=g,l.m=5,rp(l),Aa(l)}function rp(l){l.A||(l.A=!0,ze(l,"complete"),ze(l,"error"))}t.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,ze(this,"complete"),ze(this,"abort"),Aa(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Aa(this,!0)),ot.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?ip(this):this.bb())},t.bb=function(){ip(this)};function ip(l){if(l.h&&typeof s<"u"&&(!l.v[1]||ir(l)!=4||l.Z()!=2)){if(l.u&&ir(l)==4)Pe(l.Ea,0,l);else if(ze(l,"readystatechange"),ir(l)==4){l.h=!1;try{const te=l.Z();e:switch(te){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var w;if(!(w=g)){var D;if(D=te===0){var $=String(l.D).match(Kd)[1]||null;!$&&a.self&&a.self.location&&($=a.self.location.protocol.slice(0,-1)),D=!Ow.test($?$.toLowerCase():"")}w=D}if(w)ze(l,"complete"),ze(l,"success");else{l.m=6;try{var W=2<ir(l)?l.g.statusText:""}catch{W=""}l.l=W+" ["+l.Z()+"]",rp(l)}}finally{Aa(l)}}}}function Aa(l,g){if(l.g){op(l);const w=l.g,D=l.v[0]?()=>{}:null;l.g=null,l.v=null,g||ze(l,"ready");try{w.onreadystatechange=D}catch{}}}function op(l){l.I&&(a.clearTimeout(l.I),l.I=null)}t.isActive=function(){return!!this.g};function ir(l){return l.g?l.g.readyState:0}t.Z=function(){try{return 2<ir(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(l){if(this.g){var g=this.g.responseText;return l&&g.indexOf(l)==0&&(g=g.substring(l.length)),_r(g)}};function sp(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function Vw(l){const g={};l=(l.g&&2<=ir(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let D=0;D<l.length;D++){if(T(l[D]))continue;var w=P(l[D]);const $=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const W=g[$]||[];g[$]=W,W.push(w)}S(g,function(D){return D.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ns(l,g,w){return w&&w.internalChannelParams&&w.internalChannelParams[l]||g}function ap(l){this.Aa=0,this.i=[],this.j=new Er,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ns("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ns("baseRetryDelayMs",5e3,l),this.cb=ns("retryDelaySeedMs",1e4,l),this.Wa=ns("forwardChannelMaxRetries",2,l),this.wa=ns("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new jd(l&&l.concurrentRequestLimit),this.Da=new bw,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=ap.prototype,t.la=8,t.G=1,t.connect=function(l,g,w,D){wt(0),this.W=l,this.H=g||{},w&&D!==void 0&&(this.H.OSID=w,this.H.OAID=D),this.F=this.X,this.I=mp(this,null,this.W),Ra(this)};function Qu(l){if(lp(l),l.G==3){var g=l.U++,w=rr(l.I);if(Qe(w,"SID",l.K),Qe(w,"RID",g),Qe(w,"TYPE","terminate"),rs(l,w),g=new cn(l,l.j,g),g.L=2,g.v=Ia(rr(w)),w=!1,a.navigator&&a.navigator.sendBeacon)try{w=a.navigator.sendBeacon(g.v.toString(),"")}catch{}!w&&a.Image&&(new Image().src=g.v,w=!0),w||(g.g=vp(g.j,null),g.g.ea(g.v)),g.F=Date.now(),qi(g)}gp(l)}function Pa(l){l.g&&(Xu(l),l.g.cancel(),l.g=null)}function lp(l){Pa(l),l.u&&(a.clearTimeout(l.u),l.u=null),xa(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&a.clearTimeout(l.s),l.s=null)}function Ra(l){if(!$d(l.h)&&!l.s){l.s=!0;var g=l.Ga;M||B(),F||(M(),F=!0),U.add(g,l),l.B=0}}function Uw(l,g){return Hd(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=g.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=wr(d(l.Ga,l,g),pp(l,l.B)),l.B++,!0)}t.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const $=new cn(this,this.j,l);let W=this.o;if(this.S&&(W?(W=p(W),y(W,this.S)):W=this.S),this.m!==null||this.O||($.H=W,W=null),this.P)e:{for(var g=0,w=0;w<this.i.length;w++){t:{var D=this.i[w];if("__data__"in D.map&&(D=D.map.__data__,typeof D=="string")){D=D.length;break t}D=void 0}if(D===void 0)break;if(g+=D,4096<g){g=w;break e}if(g===4096||w===this.i.length-1){g=w+1;break e}}g=1e3}else g=1e3;g=cp(this,$,g),w=rr(this.I),Qe(w,"RID",l),Qe(w,"CVER",22),this.D&&Qe(w,"X-HTTP-Session-Id",this.D),rs(this,w),W&&(this.O?g="headers="+encodeURIComponent(String(tp(W)))+"&"+g:this.m&&Ku(w,this.m,W)),qu(this.h,$),this.Ua&&Qe(w,"TYPE","init"),this.P?(Qe(w,"$req",g),Qe(w,"SID","null"),$.T=!0,Gi($,w,null)):Gi($,w,g),this.G=2}}else this.G==3&&(l?up(this,l):this.i.length==0||$d(this.h)||up(this))};function up(l,g){var w;g?w=g.l:w=l.U++;const D=rr(l.I);Qe(D,"SID",l.K),Qe(D,"RID",w),Qe(D,"AID",l.T),rs(l,D),l.m&&l.o&&Ku(D,l.m,l.o),w=new cn(l,l.j,w,l.B+1),l.m===null&&(w.H=l.o),g&&(l.i=g.D.concat(l.i)),g=cp(l,w,1e3),w.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),qu(l.h,w),Gi(w,D,g)}function rs(l,g){l.H&&A(l.H,function(w,D){Qe(g,D,w)}),l.l&&qd({},function(w,D){Qe(g,D,w)})}function cp(l,g,w){w=Math.min(l.i.length,w);var D=l.l?d(l.l.Na,l.l,l):null;e:{var $=l.i;let W=-1;for(;;){const te=["count="+w];W==-1?0<w?(W=$[0].g,te.push("ofs="+W)):W=0:te.push("ofs="+W);let We=!0;for(let kt=0;kt<w;kt++){let Ve=$[kt].g;const Vt=$[kt].map;if(Ve-=W,0>Ve)W=Math.max(0,$[kt].g-100),We=!1;else try{Dw(Vt,te,"req"+Ve+"_")}catch{D&&D(Vt)}}if(We){D=te.join("&");break e}}}return l=l.i.splice(0,w),g.D=l,D}function hp(l){if(!l.g&&!l.u){l.Y=1;var g=l.Fa;M||B(),F||(M(),F=!0),U.add(g,l),l.v=0}}function Zu(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=wr(d(l.Fa,l),pp(l,l.v)),l.v++,!0)}t.Fa=function(){if(this.u=null,fp(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=wr(d(this.ab,this),l)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,wt(10),Pa(this),fp(this))};function Xu(l){l.A!=null&&(a.clearTimeout(l.A),l.A=null)}function fp(l){l.g=new cn(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var g=rr(l.qa);Qe(g,"RID","rpc"),Qe(g,"SID",l.K),Qe(g,"AID",l.T),Qe(g,"CI",l.F?"0":"1"),!l.F&&l.ja&&Qe(g,"TO",l.ja),Qe(g,"TYPE","xmlhttp"),rs(l,g),l.m&&l.o&&Ku(g,l.m,l.o),l.L&&(l.g.I=l.L);var w=l.g;l=l.ia,w.L=1,w.v=Ia(rr(g)),w.m=null,w.P=!0,Ko(w,l)}t.Za=function(){this.C!=null&&(this.C=null,Pa(this),Zu(this),wt(19))};function xa(l){l.C!=null&&(a.clearTimeout(l.C),l.C=null)}function dp(l,g){var w=null;if(l.g==g){xa(l),Xu(l),l.g=null;var D=2}else if(Gu(l.h,g))w=g.D,Wd(l.h,g),D=1;else return;if(l.G!=0){if(g.o)if(D==1){w=g.m?g.m.length:0,g=Date.now()-g.F;var $=l.B;D=$n(),ze(D,new oi(D,w)),Ra(l)}else hp(l);else if($=g.s,$==3||$==0&&0<g.X||!(D==1&&Uw(l,g)||D==2&&Zu(l)))switch(w&&0<w.length&&(g=l.h,g.i=g.i.concat(w)),$){case 1:hi(l,5);break;case 4:hi(l,10);break;case 3:hi(l,6);break;default:hi(l,2)}}}function pp(l,g){let w=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(w*=2),w*g}function hi(l,g){if(l.j.info("Error code "+g),g==2){var w=d(l.fb,l),D=l.Xa;const $=!D;D=new ci(D||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Ta(D,"https"),Ia(D),$?xw(D.toString(),w):Mw(D.toString(),w)}else wt(2);l.G=0,l.l&&l.l.sa(g),gp(l),lp(l)}t.fb=function(l){l?(this.j.info("Successfully pinged google.com"),wt(2)):(this.j.info("Failed to ping google.com"),wt(1))};function gp(l){if(l.G=0,l.ka=[],l.l){const g=Gd(l.h);(g.length!=0||l.i.length!=0)&&(x(l.ka,g),x(l.ka,l.i),l.h.i.length=0,L(l.i),l.i.length=0),l.l.ra()}}function mp(l,g,w){var D=w instanceof ci?rr(w):new ci(w);if(D.g!="")g&&(D.g=g+"."+D.g),La(D,D.s);else{var $=a.location;D=$.protocol,g=g?g+"."+$.hostname:$.hostname,$=+$.port;var W=new ci(null);D&&Ta(W,D),g&&(W.g=g),$&&La(W,$),w&&(W.l=w),D=W}return w=l.D,g=l.ya,w&&g&&Qe(D,w,g),Qe(D,"VER",l.la),rs(l,D),D}function vp(l,g,w){if(g&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=l.Ca&&!l.pa?new ot(new Jo({eb:w})):new ot(l.pa),g.Ha(l.J),g}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function yp(){}t=yp.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Ma(){}Ma.prototype.g=function(l,g){return new hn(l,g)};function hn(l,g){Be.call(this),this.g=new ap(g),this.l=l,this.h=g&&g.messageUrlParams||null,l=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(l?l["X-WebChannel-Content-Type"]=g.messageContentType:l={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(l?l["X-WebChannel-Client-Profile"]=g.va:l={"X-WebChannel-Client-Profile":g.va}),this.g.S=l,(l=g&&g.Sb)&&!T(l)&&(this.g.m=l),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!T(g)&&(this.g.D=g,l=this.h,l!==null&&g in l&&(l=this.h,g in l&&delete l[g])),this.j=new Qi(this)}C(hn,Be),hn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},hn.prototype.close=function(){Qu(this.g)},hn.prototype.o=function(l){var g=this.g;if(typeof l=="string"){var w={};w.__data__=l,l=w}else this.u&&(w={},w.__data__=Jt(l),l=w);g.i.push(new Ew(g.Ya++,l)),g.G==3&&Ra(g)},hn.prototype.N=function(){this.g.l=null,delete this.j,Qu(this.g),delete this.g,hn.aa.N.call(this)};function _p(l){Lt.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var g=l.__sm__;if(g){e:{for(const w in g){l=w;break e}l=void 0}(this.i=l)&&(l=this.i,g=g!==null&&l in g?g[l]:void 0),this.data=g}else this.data=l}C(_p,Lt);function wp(){qt.call(this),this.status=1}C(wp,qt);function Qi(l){this.g=l}C(Qi,yp),Qi.prototype.ua=function(){ze(this.g,"a")},Qi.prototype.ta=function(l){ze(this.g,new _p(l))},Qi.prototype.sa=function(l){ze(this.g,new wp)},Qi.prototype.ra=function(){ze(this.g,"b")},Ma.prototype.createWebChannel=Ma.prototype.g,hn.prototype.send=hn.prototype.o,hn.prototype.open=hn.prototype.m,hn.prototype.close=hn.prototype.close,E1=function(){return new Ma},w1=function(){return $n()},_1=It,jh={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},si.NO_ERROR=0,si.TIMEOUT=8,si.HTTP_ERROR=6,yl=si,Wo.COMPLETE="complete",y1=Wo,Rn.EventType=jn,jn.OPEN="a",jn.CLOSE="b",jn.ERROR="c",jn.MESSAGE="d",Be.prototype.listen=Be.prototype.K,Es=Rn,v1=Jo,ot.prototype.listenOnce=ot.prototype.L,ot.prototype.getLastError=ot.prototype.Ka,ot.prototype.getLastErrorCode=ot.prototype.Ba,ot.prototype.getStatus=ot.prototype.Z,ot.prototype.getResponseJson=ot.prototype.Oa,ot.prototype.getResponseText=ot.prototype.oa,ot.prototype.send=ot.prototype.ea,ot.prototype.setWithCredentials=ot.prototype.Ha,m1=ot}).apply(typeof Ja<"u"?Ja:typeof self<"u"?self:typeof window<"u"?window:{});const Dm="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}$t.UNAUTHENTICATED=new $t(null),$t.GOOGLE_CREDENTIALS=new $t("google-credentials-uid"),$t.FIRST_PARTY=new $t("first-party-uid"),$t.MOCK_USER=new $t("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zo="10.13.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mi=new s1("@firebase/firestore");function gs(){return Mi.logLevel}function ie(t,...e){if(Mi.logLevel<=Oe.DEBUG){const n=e.map(od);Mi.debug(`Firestore (${zo}): ${t}`,...n)}}function mr(t,...e){if(Mi.logLevel<=Oe.ERROR){const n=e.map(od);Mi.error(`Firestore (${zo}): ${t}`,...n)}}function Ro(t,...e){if(Mi.logLevel<=Oe.WARN){const n=e.map(od);Mi.warn(`Firestore (${zo}): ${t}`,...n)}}function od(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _e(t="Unexpected state"){const e=`FIRESTORE (${zo}) INTERNAL ASSERTION FAILED: `+t;throw mr(e),new Error(e)}function Ge(t,e){t||_e()}function Se(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ce extends Fi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class tL{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n($t.UNAUTHENTICATED))}shutdown(){}}class nL{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class rL{constructor(e){this.t=e,this.currentUser=$t.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let o=new Kr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Kr,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const u=o;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},a=u=>{ie("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?a(u):(ie("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Kr)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ie("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ge(typeof r.accessToken=="string"),new C1(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ge(e===null||typeof e=="string"),new $t(e)}}class iL{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=$t.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class oL{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new iL(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n($t.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class sL{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class aL{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=o=>{o.error!=null&&ie("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,ie("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{ie("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):ie("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ge(typeof n.token=="string"),this.R=n.token,new sL(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lL(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=lL(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}}function Fe(t,e){return t<e?-1:t>e?1:0}function xo(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ce(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ce(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ce(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ce(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return yt.fromMillis(Date.now())}static fromDate(e){return yt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new yt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Fe(this.nanoseconds,e.nanoseconds):Fe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ce(e)}static min(){return new Ce(new yt(0,0))}static max(){return new Ce(new yt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{constructor(e,n,r){n===void 0?n=0:n>e.length&&_e(),r===void 0?r=e.length-n:r>e.length-n&&_e(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ia.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ia?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Je extends ia{construct(e,n,r){return new Je(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ce(X.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Je(n)}static emptyPath(){return new Je([])}}const uL=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Rt extends ia{construct(e,n,r){return new Rt(e,n,r)}static isValidIdentifier(e){return uL.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Rt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Rt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new ce(X.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new ce(X.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new ce(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new ce(X.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Rt(n)}static emptyPath(){return new Rt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{constructor(e){this.path=e}static fromPath(e){return new de(Je.fromString(e))}static fromName(e){return new de(Je.fromString(e).popFirst(5))}static empty(){return new de(Je.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Je.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Je.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new de(new Je(e.slice()))}}function cL(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Ce.fromTimestamp(r===1e9?new yt(n+1,0):new yt(n,r));return new Yr(i,de.empty(),e)}function hL(t){return new Yr(t.readTime,t.key,-1)}class Yr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Yr(Ce.min(),de.empty(),-1)}static max(){return new Yr(Ce.max(),de.empty(),-1)}}function fL(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=de.comparator(t.documentKey,e.documentKey),n!==0?n:Fe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class pL{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ga(t){if(t.code!==X.FAILED_PRECONDITION||t.message!==dL)throw t;ie("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&_e(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Z((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Z?n:Z.resolve(n)}catch(n){return Z.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Z.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Z.reject(n)}static resolve(e){return new Z((n,r)=>{n(e)})}static reject(e){return new Z((n,r)=>{r(e)})}static waitFor(e){return new Z((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},u=>r(u))}),s=!0,o===i&&n()})}static or(e){let n=Z.resolve(!1);for(const r of e)n=n.next(i=>i?Z.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new Z((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let u=0;u<o;u++){const c=u;n(e[c]).next(h=>{s[c]=h,++a,a===o&&r(s)},h=>i(h))}})}static doWhile(e,n){return new Z((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function gL(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ma(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}sd.oe=-1;function Au(t){return t==null}function Xl(t){return t===0&&1/t==-1/0}function mL(t){return typeof t=="number"&&Number.isInteger(t)&&!Xl(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Om(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Bi(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function T1(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{constructor(e,n){this.comparator=e,this.root=n||Pt.EMPTY}insert(e,n){return new it(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Pt.BLACK,null,null))}remove(e){return new it(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Pt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new el(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new el(this.root,e,this.comparator,!1)}getReverseIterator(){return new el(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new el(this.root,e,this.comparator,!0)}}class el{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Pt{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??Pt.RED,this.left=i??Pt.EMPTY,this.right=o??Pt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new Pt(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Pt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Pt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Pt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Pt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw _e();const e=this.left.check();if(e!==this.right.check())throw _e();return e+(this.isRed()?0:1)}}Pt.EMPTY=null,Pt.RED=!0,Pt.BLACK=!1;Pt.EMPTY=new class{constructor(){this.size=0}get key(){throw _e()}get value(){throw _e()}get color(){throw _e()}get left(){throw _e()}get right(){throw _e()}copy(e,n,r,i,o){return this}insert(e,n,r){return new Pt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e){this.comparator=e,this.data=new it(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Nm(this.data.getIterator())}getIteratorFrom(e){return new Nm(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Mt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Mt(this.comparator);return n.data=e,n}}class Nm{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e){this.fields=e,e.sort(Rt.comparator)}static empty(){return new gn([])}unionWith(e){let n=new Mt(Rt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new gn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return xo(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new L1("Invalid base64 string: "+o):o}}(e);return new Dt(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new Dt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Fe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Dt.EMPTY_BYTE_STRING=new Dt("");const vL=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Jr(t){if(Ge(!!t),typeof t=="string"){let e=0;const n=vL.exec(t);if(Ge(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ct(t.seconds),nanos:ct(t.nanos)}}function ct(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function bi(t){return typeof t=="string"?Dt.fromBase64String(t):Dt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ad(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function ld(t){const e=t.mapValue.fields.__previous_value__;return ad(e)?ld(e):e}function oa(t){const e=Jr(t.mapValue.fields.__local_write_time__.timestampValue);return new yt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yL{constructor(e,n,r,i,o,s,a,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c}}class sa{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new sa("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof sa&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Di(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ad(t)?4:wL(t)?9007199254740991:_L(t)?10:11:_e()}function er(t,e){if(t===e)return!0;const n=Di(t);if(n!==Di(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return oa(t).isEqual(oa(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=Jr(i.timestampValue),a=Jr(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return bi(i.bytesValue).isEqual(bi(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return ct(i.geoPointValue.latitude)===ct(o.geoPointValue.latitude)&&ct(i.geoPointValue.longitude)===ct(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return ct(i.integerValue)===ct(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=ct(i.doubleValue),a=ct(o.doubleValue);return s===a?Xl(s)===Xl(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return xo(t.arrayValue.values||[],e.arrayValue.values||[],er);case 10:case 11:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(Om(s)!==Om(a))return!1;for(const u in s)if(s.hasOwnProperty(u)&&(a[u]===void 0||!er(s[u],a[u])))return!1;return!0}(t,e);default:return _e()}}function aa(t,e){return(t.values||[]).find(n=>er(n,e))!==void 0}function Mo(t,e){if(t===e)return 0;const n=Di(t),r=Di(e);if(n!==r)return Fe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Fe(t.booleanValue,e.booleanValue);case 2:return function(o,s){const a=ct(o.integerValue||o.doubleValue),u=ct(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return Vm(t.timestampValue,e.timestampValue);case 4:return Vm(oa(t),oa(e));case 5:return Fe(t.stringValue,e.stringValue);case 6:return function(o,s){const a=bi(o),u=bi(s);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),u=s.split("/");for(let c=0;c<a.length&&c<u.length;c++){const h=Fe(a[c],u[c]);if(h!==0)return h}return Fe(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const a=Fe(ct(o.latitude),ct(s.latitude));return a!==0?a:Fe(ct(o.longitude),ct(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Um(t.arrayValue,e.arrayValue);case 10:return function(o,s){var a,u,c,h;const f=o.fields||{},d=s.fields||{},m=(a=f.value)===null||a===void 0?void 0:a.arrayValue,C=(u=d.value)===null||u===void 0?void 0:u.arrayValue,L=Fe(((c=m==null?void 0:m.values)===null||c===void 0?void 0:c.length)||0,((h=C==null?void 0:C.values)===null||h===void 0?void 0:h.length)||0);return L!==0?L:Um(m,C)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===tl.mapValue&&s===tl.mapValue)return 0;if(o===tl.mapValue)return 1;if(s===tl.mapValue)return-1;const a=o.fields||{},u=Object.keys(a),c=s.fields||{},h=Object.keys(c);u.sort(),h.sort();for(let f=0;f<u.length&&f<h.length;++f){const d=Fe(u[f],h[f]);if(d!==0)return d;const m=Mo(a[u[f]],c[h[f]]);if(m!==0)return m}return Fe(u.length,h.length)}(t.mapValue,e.mapValue);default:throw _e()}}function Vm(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Fe(t,e);const n=Jr(t),r=Jr(e),i=Fe(n.seconds,r.seconds);return i!==0?i:Fe(n.nanos,r.nanos)}function Um(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=Mo(n[i],r[i]);if(o)return o}return Fe(n.length,r.length)}function bo(t){return $h(t)}function $h(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Jr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return bi(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return de.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=$h(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${$h(n.fields[s])}`;return i+"}"}(t.mapValue):_e()}function Hh(t){return!!t&&"integerValue"in t}function ud(t){return!!t&&"arrayValue"in t}function Fm(t){return!!t&&"nullValue"in t}function Bm(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function _l(t){return!!t&&"mapValue"in t}function _L(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Ds(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Bi(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ds(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ds(t.arrayValue.values[n]);return e}return Object.assign({},t)}function wL(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.value=e}static empty(){return new nn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!_l(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ds(n)}setAll(e){let n=Rt.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=Ds(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());_l(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return er(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];_l(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Bi(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new nn(Ds(this.value))}}function I1(t){const e=[];return Bi(t.fields,(n,r)=>{const i=new Rt([n]);if(_l(r)){const o=I1(r.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new gn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new Wt(e,0,Ce.min(),Ce.min(),Ce.min(),nn.empty(),0)}static newFoundDocument(e,n,r,i){return new Wt(e,1,n,Ce.min(),r,i,0)}static newNoDocument(e,n){return new Wt(e,2,n,Ce.min(),Ce.min(),nn.empty(),0)}static newUnknownDocument(e,n){return new Wt(e,3,n,Ce.min(),Ce.min(),nn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=nn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=nn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Wt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Wt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl{constructor(e,n){this.position=e,this.inclusive=n}}function zm(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?r=de.comparator(de.fromName(s.referenceValue),n.key):r=Mo(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function jm(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!er(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl{constructor(e,n="asc"){this.field=e,this.dir=n}}function EL(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k1{}class mt extends k1{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new SL(e,n,r):n==="array-contains"?new IL(e,r):n==="in"?new kL(e,r):n==="not-in"?new AL(e,r):n==="array-contains-any"?new PL(e,r):new mt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new TL(e,r):new LL(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Mo(n,this.value)):n!==null&&Di(this.value)===Di(n)&&this.matchesComparison(Mo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return _e()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class tr extends k1{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new tr(e,n)}matches(e){return A1(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function A1(t){return t.op==="and"}function P1(t){return CL(t)&&A1(t)}function CL(t){for(const e of t.filters)if(e instanceof tr)return!1;return!0}function Wh(t){if(t instanceof mt)return t.field.canonicalString()+t.op.toString()+bo(t.value);if(P1(t))return t.filters.map(e=>Wh(e)).join(",");{const e=t.filters.map(n=>Wh(n)).join(",");return`${t.op}(${e})`}}function R1(t,e){return t instanceof mt?function(r,i){return i instanceof mt&&r.op===i.op&&r.field.isEqual(i.field)&&er(r.value,i.value)}(t,e):t instanceof tr?function(r,i){return i instanceof tr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&R1(s,i.filters[a]),!0):!1}(t,e):void _e()}function x1(t){return t instanceof mt?function(n){return`${n.field.canonicalString()} ${n.op} ${bo(n.value)}`}(t):t instanceof tr?function(n){return n.op.toString()+" {"+n.getFilters().map(x1).join(" ,")+"}"}(t):"Filter"}class SL extends mt{constructor(e,n,r){super(e,n,r),this.key=de.fromName(r.referenceValue)}matches(e){const n=de.comparator(e.key,this.key);return this.matchesComparison(n)}}class TL extends mt{constructor(e,n){super(e,"in",n),this.keys=M1("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class LL extends mt{constructor(e,n){super(e,"not-in",n),this.keys=M1("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function M1(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>de.fromName(r.referenceValue))}class IL extends mt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return ud(n)&&aa(n.arrayValue,this.value)}}class kL extends mt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&aa(this.value.arrayValue,n)}}class AL extends mt{constructor(e,n){super(e,"not-in",n)}matches(e){if(aa(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!aa(this.value.arrayValue,n)}}class PL extends mt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!ud(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>aa(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RL{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}}function $m(t,e=null,n=[],r=[],i=null,o=null,s=null){return new RL(t,e,n,r,i,o,s)}function cd(t){const e=Se(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Wh(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Au(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>bo(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>bo(r)).join(",")),e.ue=n}return e.ue}function hd(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!EL(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!R1(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!jm(t.startAt,e.startAt)&&jm(t.endAt,e.endAt)}function Gh(t){return de.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function xL(t,e,n,r,i,o,s,a){return new Pu(t,e,n,r,i,o,s,a)}function b1(t){return new Pu(t)}function Hm(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function ML(t){return t.collectionGroup!==null}function Os(t){const e=Se(t);if(e.ce===null){e.ce=[];const n=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Mt(Rt.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new Jl(o,r))}),n.has(Rt.keyField().canonicalString())||e.ce.push(new Jl(Rt.keyField(),r))}return e.ce}function Xn(t){const e=Se(t);return e.le||(e.le=bL(e,Os(t))),e.le}function bL(t,e){if(t.limitType==="F")return $m(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new Jl(i.field,o)});const n=t.endAt?new Yl(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Yl(t.startAt.position,t.startAt.inclusive):null;return $m(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function qh(t,e,n){return new Pu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ru(t,e){return hd(Xn(t),Xn(e))&&t.limitType===e.limitType}function D1(t){return`${cd(Xn(t))}|lt:${t.limitType}`}function Yi(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>x1(i)).join(", ")}]`),Au(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>bo(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>bo(i)).join(",")),`Target(${r})`}(Xn(t))}; limitType=${t.limitType})`}function xu(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):de.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of Os(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,u){const c=zm(s,a,u);return s.inclusive?c<=0:c<0}(r.startAt,Os(r),i)||r.endAt&&!function(s,a,u){const c=zm(s,a,u);return s.inclusive?c>=0:c>0}(r.endAt,Os(r),i))}(t,e)}function DL(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function O1(t){return(e,n)=>{let r=!1;for(const i of Os(t)){const o=OL(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function OL(t,e,n){const r=t.field.isKeyField()?de.comparator(e.key,n.key):function(o,s,a){const u=s.data.field(o),c=a.data.field(o);return u!==null&&c!==null?Mo(u,c):_e()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return _e()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Bi(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return T1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NL=new it(de.comparator);function vr(){return NL}const N1=new it(de.comparator);function Cs(...t){let e=N1;for(const n of t)e=e.insert(n.key,n);return e}function V1(t){let e=N1;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function wi(){return Ns()}function U1(){return Ns()}function Ns(){return new jo(t=>t.toString(),(t,e)=>t.isEqual(e))}const VL=new it(de.comparator),UL=new Mt(de.comparator);function be(...t){let e=UL;for(const n of t)e=e.add(n);return e}const FL=new Mt(Fe);function BL(){return FL}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fd(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Xl(e)?"-0":e}}function F1(t){return{integerValue:""+t}}function zL(t,e){return mL(e)?F1(e):fd(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu{constructor(){this._=void 0}}function jL(t,e,n){return t instanceof eu?function(i,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&ad(o)&&(o=ld(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof la?z1(t,e):t instanceof ua?j1(t,e):function(i,o){const s=B1(i,o),a=Wm(s)+Wm(i.Pe);return Hh(s)&&Hh(i.Pe)?F1(a):fd(i.serializer,a)}(t,e)}function $L(t,e,n){return t instanceof la?z1(t,e):t instanceof ua?j1(t,e):n}function B1(t,e){return t instanceof tu?function(r){return Hh(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class eu extends Mu{}class la extends Mu{constructor(e){super(),this.elements=e}}function z1(t,e){const n=$1(e);for(const r of t.elements)n.some(i=>er(i,r))||n.push(r);return{arrayValue:{values:n}}}class ua extends Mu{constructor(e){super(),this.elements=e}}function j1(t,e){let n=$1(e);for(const r of t.elements)n=n.filter(i=>!er(i,r));return{arrayValue:{values:n}}}class tu extends Mu{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function Wm(t){return ct(t.integerValue||t.doubleValue)}function $1(t){return ud(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function HL(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof la&&i instanceof la||r instanceof ua&&i instanceof ua?xo(r.elements,i.elements,er):r instanceof tu&&i instanceof tu?er(r.Pe,i.Pe):r instanceof eu&&i instanceof eu}(t.transform,e.transform)}class WL{constructor(e,n){this.version=e,this.transformResults=n}}class Yn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Yn}static exists(e){return new Yn(void 0,e)}static updateTime(e){return new Yn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function wl(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class bu{}function H1(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new G1(t.key,Yn.none()):new va(t.key,t.data,Yn.none());{const n=t.data,r=nn.empty();let i=new Mt(Rt.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new ii(t.key,r,new gn(i.toArray()),Yn.none())}}function GL(t,e,n){t instanceof va?function(i,o,s){const a=i.value.clone(),u=qm(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof ii?function(i,o,s){if(!wl(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=qm(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(W1(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Vs(t,e,n,r){return t instanceof va?function(o,s,a,u){if(!wl(o.precondition,s))return a;const c=o.value.clone(),h=Km(o.fieldTransforms,u,s);return c.setAll(h),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof ii?function(o,s,a,u){if(!wl(o.precondition,s))return a;const c=Km(o.fieldTransforms,u,s),h=s.data;return h.setAll(W1(o)),h.setAll(c),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(o,s,a){return wl(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function qL(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=B1(r.transform,i||null);o!=null&&(n===null&&(n=nn.empty()),n.set(r.field,o))}return n||null}function Gm(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&xo(r,i,(o,s)=>HL(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class va extends bu{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ii extends bu{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function W1(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function qm(t,e,n){const r=new Map;Ge(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,$L(s,a,n[i]))}return r}function Km(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,jL(o,s,e))}return r}class G1 extends bu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class KL extends bu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QL{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&GL(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Vs(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Vs(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=U1();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const u=H1(s,a);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(Ce.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),be())}isEqual(e){return this.batchId===e.batchId&&xo(this.mutations,e.mutations,(n,r)=>Gm(n,r))&&xo(this.baseMutations,e.baseMutations,(n,r)=>Gm(n,r))}}class dd{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ge(e.mutations.length===r.length);let i=function(){return VL}();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new dd(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZL{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XL{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dt,De;function YL(t){switch(t){default:return _e();case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0}}function q1(t){if(t===void 0)return mr("GRPC error has no .code"),X.UNKNOWN;switch(t){case dt.OK:return X.OK;case dt.CANCELLED:return X.CANCELLED;case dt.UNKNOWN:return X.UNKNOWN;case dt.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case dt.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case dt.INTERNAL:return X.INTERNAL;case dt.UNAVAILABLE:return X.UNAVAILABLE;case dt.UNAUTHENTICATED:return X.UNAUTHENTICATED;case dt.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case dt.NOT_FOUND:return X.NOT_FOUND;case dt.ALREADY_EXISTS:return X.ALREADY_EXISTS;case dt.PERMISSION_DENIED:return X.PERMISSION_DENIED;case dt.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case dt.ABORTED:return X.ABORTED;case dt.OUT_OF_RANGE:return X.OUT_OF_RANGE;case dt.UNIMPLEMENTED:return X.UNIMPLEMENTED;case dt.DATA_LOSS:return X.DATA_LOSS;default:return _e()}}(De=dt||(dt={}))[De.OK=0]="OK",De[De.CANCELLED=1]="CANCELLED",De[De.UNKNOWN=2]="UNKNOWN",De[De.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",De[De.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",De[De.NOT_FOUND=5]="NOT_FOUND",De[De.ALREADY_EXISTS=6]="ALREADY_EXISTS",De[De.PERMISSION_DENIED=7]="PERMISSION_DENIED",De[De.UNAUTHENTICATED=16]="UNAUTHENTICATED",De[De.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",De[De.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",De[De.ABORTED=10]="ABORTED",De[De.OUT_OF_RANGE=11]="OUT_OF_RANGE",De[De.UNIMPLEMENTED=12]="UNIMPLEMENTED",De[De.INTERNAL=13]="INTERNAL",De[De.UNAVAILABLE=14]="UNAVAILABLE",De[De.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JL(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eI=new Li([4294967295,4294967295],0);function Qm(t){const e=JL().encode(t),n=new g1;return n.update(e),new Uint8Array(n.digest())}function Zm(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Li([n,r],0),new Li([i,o],0)]}class pd{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ss(`Invalid padding: ${n}`);if(r<0)throw new Ss(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ss(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ss(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Li.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Li.fromNumber(r)));return i.compare(eI)===1&&(i=new Li([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=Qm(e),[r,i]=Zm(n);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new pd(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Ie===0)return;const n=Qm(e),[r,i]=Zm(n);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ss extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Du{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,ya.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Du(Ce.min(),i,new it(Fe),vr(),be())}}class ya{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new ya(r,n,be(),be(),be())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class K1{constructor(e,n){this.targetId=e,this.me=n}}class Q1{constructor(e,n,r=Dt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Xm{constructor(){this.fe=0,this.ge=Jm(),this.pe=Dt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=be(),n=be(),r=be();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:_e()}}),new ya(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=Jm()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ge(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class tI{constructor(e){this.Le=e,this.Be=new Map,this.ke=vr(),this.qe=Ym(),this.Qe=new it(Fe)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:_e()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const o=i.target;if(Gh(o))if(r===0){const s=new de(o.path);this.Ue(n,s,Wt.newNoDocument(s,Ce.min()))}else Ge(r===1);else{const s=this.Ye(n);if(s!==r){const a=this.Ze(e),u=a?this.Xe(a,e,s):1;if(u!==0){this.je(n);const c=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,c)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,a;try{s=bi(r).toUint8Array()}catch(u){if(u instanceof L1)return Ro("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new pd(s,i,o)}catch(u){return Ro(u instanceof Ss?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,o,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((o,s)=>{const a=this.Je(s);if(a){if(o.current&&Gh(a.target)){const u=new de(a.target.path);this.ke.get(u)!==null||this.it(s,u)||this.Ue(s,u,Wt.newNoDocument(u,e))}o.be&&(n.set(s,o.ve()),o.Ce())}});let r=be();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{const c=this.Je(u);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));const i=new Du(e,n,this.Qe,this.ke,r);return this.ke=vr(),this.qe=Ym(),this.Qe=new it(Fe),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new Xm,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Mt(Fe),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||ie("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Xm),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function Ym(){return new it(de.comparator)}function Jm(){return new it(de.comparator)}const nI={asc:"ASCENDING",desc:"DESCENDING"},rI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},iI={and:"AND",or:"OR"};class oI{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Kh(t,e){return t.useProto3Json||Au(e)?e:{value:e}}function nu(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Z1(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function sI(t,e){return nu(t,e.toTimestamp())}function Jn(t){return Ge(!!t),Ce.fromTimestamp(function(n){const r=Jr(n);return new yt(r.seconds,r.nanos)}(t))}function gd(t,e){return Qh(t,e).canonicalString()}function Qh(t,e){const n=function(i){return new Je(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function X1(t){const e=Je.fromString(t);return Ge(n_(e)),e}function Zh(t,e){return gd(t.databaseId,e.path)}function Mc(t,e){const n=X1(e);if(n.get(1)!==t.databaseId.projectId)throw new ce(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ce(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new de(J1(n))}function Y1(t,e){return gd(t.databaseId,e)}function aI(t){const e=X1(t);return e.length===4?Je.emptyPath():J1(e)}function Xh(t){return new Je(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function J1(t){return Ge(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function ev(t,e,n){return{name:Zh(t,e),fields:n.value.mapValue.fields}}function lI(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:_e()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(c,h){return c.useProto3Json?(Ge(h===void 0||typeof h=="string"),Dt.fromBase64String(h||"")):(Ge(h===void 0||h instanceof Buffer||h instanceof Uint8Array),Dt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(c){const h=c.code===void 0?X.UNKNOWN:q1(c.code);return new ce(h,c.message||"")}(s);n=new Q1(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Mc(t,r.document.name),o=Jn(r.document.updateTime),s=r.document.createTime?Jn(r.document.createTime):Ce.min(),a=new nn({mapValue:{fields:r.document.fields}}),u=Wt.newFoundDocument(i,o,s,a),c=r.targetIds||[],h=r.removedTargetIds||[];n=new El(c,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Mc(t,r.document),o=r.readTime?Jn(r.readTime):Ce.min(),s=Wt.newNoDocument(i,o),a=r.removedTargetIds||[];n=new El([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Mc(t,r.document),o=r.removedTargetIds||[];n=new El([],o,i,null)}else{if(!("filter"in e))return _e();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new XL(i,o),a=r.targetId;n=new K1(a,s)}}return n}function uI(t,e){let n;if(e instanceof va)n={update:ev(t,e.key,e.value)};else if(e instanceof G1)n={delete:Zh(t,e.key)};else if(e instanceof ii)n={update:ev(t,e.key,e.data),updateMask:yI(e.fieldMask)};else{if(!(e instanceof KL))return _e();n={verify:Zh(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof eu)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof la)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof ua)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof tu)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw _e()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:sI(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:_e()}(t,e.precondition)),n}function cI(t,e){return t&&t.length>0?(Ge(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?Jn(i.updateTime):Jn(o);return s.isEqual(Ce.min())&&(s=Jn(o)),new WL(s,i.transformResults||[])}(n,e))):[]}function hI(t,e){return{documents:[Y1(t,e.path)]}}function fI(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Y1(t,i);const o=function(c){if(c.length!==0)return t_(tr.create(c,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const s=function(c){if(c.length!==0)return c.map(h=>function(d){return{field:Ji(d.field),direction:gI(d.dir)}}(h))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const a=Kh(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:n,parent:i}}function dI(t){let e=aI(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ge(r===1);const h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];n.where&&(o=function(f){const d=e_(f);return d instanceof tr&&P1(d)?d.getFilters():[d]}(n.where));let s=[];n.orderBy&&(s=function(f){return f.map(d=>function(C){return new Jl(eo(C.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(d))}(n.orderBy));let a=null;n.limit&&(a=function(f){let d;return d=typeof f=="object"?f.value:f,Au(d)?null:d}(n.limit));let u=null;n.startAt&&(u=function(f){const d=!!f.before,m=f.values||[];return new Yl(m,d)}(n.startAt));let c=null;return n.endAt&&(c=function(f){const d=!f.before,m=f.values||[];return new Yl(m,d)}(n.endAt)),xL(e,i,s,o,a,"F",u,c)}function pI(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _e()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function e_(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=eo(n.unaryFilter.field);return mt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=eo(n.unaryFilter.field);return mt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=eo(n.unaryFilter.field);return mt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=eo(n.unaryFilter.field);return mt.create(s,"!=",{nullValue:"NULL_VALUE"});default:return _e()}}(t):t.fieldFilter!==void 0?function(n){return mt.create(eo(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return _e()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return tr.create(n.compositeFilter.filters.map(r=>e_(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return _e()}}(n.compositeFilter.op))}(t):_e()}function gI(t){return nI[t]}function mI(t){return rI[t]}function vI(t){return iI[t]}function Ji(t){return{fieldPath:t.canonicalString()}}function eo(t){return Rt.fromServerFormat(t.fieldPath)}function t_(t){return t instanceof mt?function(n){if(n.op==="=="){if(Bm(n.value))return{unaryFilter:{field:Ji(n.field),op:"IS_NAN"}};if(Fm(n.value))return{unaryFilter:{field:Ji(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Bm(n.value))return{unaryFilter:{field:Ji(n.field),op:"IS_NOT_NAN"}};if(Fm(n.value))return{unaryFilter:{field:Ji(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ji(n.field),op:mI(n.op),value:n.value}}}(t):t instanceof tr?function(n){const r=n.getFilters().map(i=>t_(i));return r.length===1?r[0]:{compositeFilter:{op:vI(n.op),filters:r}}}(t):_e()}function yI(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function n_(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr{constructor(e,n,r,i,o=Ce.min(),s=Ce.min(),a=Dt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new Nr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Nr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Nr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Nr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _I{constructor(e){this.ct=e}}function wI(t){const e=dI({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?qh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EI{constructor(){this.un=new CI}addToCollectionParentIndex(e,n){return this.un.add(n),Z.resolve()}getCollectionParents(e,n){return Z.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return Z.resolve()}deleteFieldIndex(e,n){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,n){return Z.resolve()}getDocumentsMatchingTarget(e,n){return Z.resolve(null)}getIndexType(e,n){return Z.resolve(0)}getFieldIndexes(e,n){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,n){return Z.resolve(Yr.min())}getMinOffsetFromCollectionGroup(e,n){return Z.resolve(Yr.min())}updateCollectionGroup(e,n,r){return Z.resolve()}updateIndexEntries(e,n){return Z.resolve()}}class CI{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Mt(Je.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Mt(Je.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Do(0)}static kn(){return new Do(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SI{constructor(){this.changes=new jo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Wt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Z.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LI{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Vs(r.mutation,i,gn.empty(),yt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,be()).next(()=>r))}getLocalViewOfDocuments(e,n,r=be()){const i=wi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=Cs();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=wi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,be()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=vr();const s=Ns(),a=function(){return Ns()}();return n.forEach((u,c)=>{const h=r.get(c.key);i.has(c.key)&&(h===void 0||h.mutation instanceof ii)?o=o.insert(c.key,c):h!==void 0?(s.set(c.key,h.mutation.getFieldMask()),Vs(h.mutation,c,h.mutation.getFieldMask(),yt.now())):s.set(c.key,gn.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((c,h)=>s.set(c,h)),n.forEach((c,h)=>{var f;return a.set(c,new TI(h,(f=s.get(c))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Ns();let i=new it((s,a)=>s-a),o=be();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(u=>{const c=n.get(u);if(c===null)return;let h=r.get(u)||gn.empty();h=a.applyToLocalView(c,h),r.set(u,h);const f=(i.get(a.batchId)||be()).add(u);i=i.insert(a.batchId,f)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,h=u.value,f=U1();h.forEach(d=>{if(!o.has(d)){const m=H1(n.get(d),r.get(d));m!==null&&f.set(d,m),o=o.add(d)}}),s.push(this.documentOverlayCache.saveOverlays(e,c,f))}return Z.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return de.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):ML(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):Z.resolve(wi());let a=-1,u=o;return s.next(c=>Z.forEach(c,(h,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),o.get(h)?Z.resolve():this.remoteDocumentCache.getEntry(e,h).next(d=>{u=u.insert(h,d)}))).next(()=>this.populateOverlays(e,c,o)).next(()=>this.computeViews(e,u,c,be())).next(h=>({batchId:a,changes:V1(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new de(n)).next(r=>{let i=Cs();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=Cs();return this.indexManager.getCollectionParents(e,o).next(a=>Z.forEach(a,u=>{const c=function(f,d){return new Pu(d,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(h=>{h.forEach((f,d)=>{s=s.insert(f,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((u,c)=>{const h=c.getKey();s.get(h)===null&&(s=s.insert(h,Wt.newInvalidDocument(h)))});let a=Cs();return s.forEach((u,c)=>{const h=o.get(u);h!==void 0&&Vs(h.mutation,c,gn.empty(),yt.now()),xu(n,c)&&(a=a.insert(u,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class II{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return Z.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Jn(i.createTime)}}(n)),Z.resolve()}getNamedQuery(e,n){return Z.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:wI(i.bundledQuery),readTime:Jn(i.readTime)}}(n)),Z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kI{constructor(){this.overlays=new it(de.comparator),this.Ir=new Map}getOverlay(e,n){return Z.resolve(this.overlays.get(n))}getOverlays(e,n){const r=wi();return Z.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),Z.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),Z.resolve()}getOverlaysForCollection(e,n,r){const i=wi(),o=n.length+1,s=new de(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return Z.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new it((c,h)=>c-h);const s=this.overlays.getIterator();for(;s.hasNext();){const c=s.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let h=o.get(c.largestBatchId);h===null&&(h=wi(),o=o.insert(c.largestBatchId,h)),h.set(c.getKey(),c)}}const a=wi(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,h)=>a.set(c,h)),!(a.size()>=i)););return Z.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new ZL(n,r));let o=this.Ir.get(n);o===void 0&&(o=be(),this.Ir.set(n,o)),this.Ir.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI{constructor(){this.sessionToken=Dt.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md{constructor(){this.Tr=new Mt(Et.Er),this.dr=new Mt(Et.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new Et(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Et(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new de(new Je([])),r=new Et(n,e),i=new Et(n,e+1),o=[];return this.dr.forEachInRange([r,i],s=>{this.Vr(s),o.push(s.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new de(new Je([])),r=new Et(n,e),i=new Et(n,e+1);let o=be();return this.dr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new Et(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Et{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return de.comparator(e.key,n.key)||Fe(e.wr,n.wr)}static Ar(e,n){return Fe(e.wr,n.wr)||de.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PI{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Mt(Et.Er)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new QL(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.br=this.br.add(new Et(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Z.resolve(s)}lookupMutationBatch(e,n){return Z.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),o=i<0?0:i;return Z.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Et(n,0),i=new Et(n,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],s=>{const a=this.Dr(s.wr);o.push(a)}),Z.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Mt(Fe);return n.forEach(i=>{const o=new Et(i,0),s=new Et(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,s],a=>{r=r.add(a.wr)})}),Z.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;de.isDocumentKey(o)||(o=o.child(""));const s=new Et(new de(o),0);let a=new Mt(Fe);return this.br.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u.wr)),!0)},s),Z.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ge(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return Z.forEach(n.mutations,i=>{const o=new Et(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new Et(n,0),i=this.br.firstAfterOrEqual(r);return Z.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RI{constructor(e){this.Mr=e,this.docs=function(){return new it(de.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Z.resolve(r?r.document.mutableCopy():Wt.newInvalidDocument(n))}getEntries(e,n){let r=vr();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Wt.newInvalidDocument(i))}),Z.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=vr();const s=n.path,a=new de(s.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:c,value:{document:h}}=u.getNext();if(!s.isPrefixOf(c.path))break;c.path.length>s.length+1||fL(hL(h),r)<=0||(i.has(h.key)||xu(n,h))&&(o=o.insert(h.key,h.mutableCopy()))}return Z.resolve(o)}getAllFromCollectionGroup(e,n,r,i){_e()}Or(e,n){return Z.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new xI(this)}getSize(e){return Z.resolve(this.size)}}class xI extends SI{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),Z.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MI{constructor(e){this.persistence=e,this.Nr=new jo(n=>cd(n),hd),this.lastRemoteSnapshotVersion=Ce.min(),this.highestTargetId=0,this.Lr=0,this.Br=new md,this.targetCount=0,this.kr=Do.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),Z.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Do(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,Z.resolve()}updateTargetData(e,n){return this.Kn(n),Z.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Nr.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),Z.waitFor(o).next(()=>i)}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return Z.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),Z.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),Z.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),Z.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return Z.resolve(r)}containsKey(e,n){return Z.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bI{constructor(e,n){this.qr={},this.overlays={},this.Qr=new sd(0),this.Kr=!1,this.Kr=!0,this.$r=new AI,this.referenceDelegate=e(this),this.Ur=new MI(this),this.indexManager=new EI,this.remoteDocumentCache=function(i){return new RI(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new _I(n),this.Gr=new II(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new kI,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new PI(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){ie("MemoryPersistence","Starting transaction:",e);const i=new DI(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,n){return Z.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class DI extends pL{constructor(e){super(),this.currentSequenceNumber=e}}class vd{constructor(e){this.persistence=e,this.Jr=new md,this.Yr=null}static Zr(e){return new vd(e)}get Xr(){if(this.Yr)return this.Yr;throw _e()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),Z.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),Z.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),Z.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.Xr,r=>{const i=de.fromPath(r);return this.ei(e,i).next(o=>{o||n.removeEntry(i,Ce.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return Z.or([()=>Z.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=be(),i=be();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new yd(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NI{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return $T()?8:gL(zT())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.Yi(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Zi(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new OI;return this.Xi(e,n,s).next(a=>{if(o.result=a,this.zi)return this.es(e,n,s,a.size)})}).next(()=>o.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(gs()<=Oe.DEBUG&&ie("QueryEngine","SDK will not create cache indexes for query:",Yi(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),Z.resolve()):(gs()<=Oe.DEBUG&&ie("QueryEngine","Query:",Yi(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(gs()<=Oe.DEBUG&&ie("QueryEngine","The SDK decides to create cache indexes for query:",Yi(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Xn(n))):Z.resolve())}Yi(e,n){if(Hm(n))return Z.resolve(null);let r=Xn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=qh(n,null,"F"),r=Xn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=be(...o);return this.Ji.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.ts(n,a);return this.ns(n,c,s,u.readTime)?this.Yi(e,qh(n,null,"F")):this.rs(e,c,n,u)}))})))}Zi(e,n,r,i){return Hm(n)||i.isEqual(Ce.min())?Z.resolve(null):this.Ji.getDocuments(e,r).next(o=>{const s=this.ts(n,o);return this.ns(n,s,r,i)?Z.resolve(null):(gs()<=Oe.DEBUG&&ie("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Yi(n)),this.rs(e,s,n,cL(i,-1)).next(a=>a))})}ts(e,n){let r=new Mt(O1(e));return n.forEach((i,o)=>{xu(e,o)&&(r=r.add(o))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,n,r){return gs()<=Oe.DEBUG&&ie("QueryEngine","Using full collection scan to execute query:",Yi(n)),this.Ji.getDocumentsMatchingQuery(e,n,Yr.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VI{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new it(Fe),this._s=new jo(o=>cd(o),hd),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new LI(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function UI(t,e,n,r){return new VI(t,e,n,r)}async function r_(t,e){const n=Se(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let u=be();for(const c of i){s.push(c.batchId);for(const h of c.mutations)u=u.add(h.key)}for(const c of o){a.push(c.batchId);for(const h of c.mutations)u=u.add(h.key)}return n.localDocuments.getDocuments(r,u).next(c=>({hs:c,removedBatchIds:s,addedBatchIds:a}))})})}function FI(t,e){const n=Se(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,u,c,h){const f=c.batch,d=f.keys();let m=Z.resolve();return d.forEach(C=>{m=m.next(()=>h.getEntry(u,C)).next(L=>{const x=c.docVersions.get(C);Ge(x!==null),L.version.compareTo(x)<0&&(f.applyToRemoteDocument(L,c),L.isValidDocument()&&(L.setReadTime(c.commitVersion),h.addEntry(L)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(u,f))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=be();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(u=u.add(a.batch.mutations[c].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function i_(t){const e=Se(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function BI(t,e){const n=Se(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const a=[];e.targetChanges.forEach((h,f)=>{const d=i.get(f);if(!d)return;a.push(n.Ur.removeMatchingKeys(o,h.removedDocuments,f).next(()=>n.Ur.addMatchingKeys(o,h.addedDocuments,f)));let m=d.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(f)!==null?m=m.withResumeToken(Dt.EMPTY_BYTE_STRING,Ce.min()).withLastLimboFreeSnapshotVersion(Ce.min()):h.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(h.resumeToken,r)),i=i.insert(f,m),function(L,x,E){return L.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-L.snapshotVersion.toMicroseconds()>=3e8?!0:E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0}(d,m,h)&&a.push(n.Ur.updateTargetData(o,m))});let u=vr(),c=be();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(zI(o,s,e.documentUpdates).next(h=>{u=h.Ps,c=h.Is})),!r.isEqual(Ce.min())){const h=n.Ur.getLastRemoteSnapshotVersion(o).next(f=>n.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(h)}return Z.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,u,c)).next(()=>u)}).then(o=>(n.os=i,o))}function zI(t,e,n){let r=be(),i=be();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=vr();return n.forEach((a,u)=>{const c=o.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(Ce.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||u.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):ie("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{Ps:s,Is:i}})}function jI(t,e){const n=Se(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function $I(t,e){const n=Se(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(o=>o?(i=o,Z.resolve(i)):n.Ur.allocateTargetId(r).next(s=>(i=new Nr(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function Yh(t,e,n){const r=Se(t),i=r.os.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!ma(s))throw s;ie("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function tv(t,e,n){const r=Se(t);let i=Ce.min(),o=be();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,c,h){const f=Se(u),d=f._s.get(h);return d!==void 0?Z.resolve(f.os.get(d)):f.Ur.getTargetData(c,h)}(r,s,Xn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.ss.getDocumentsMatchingQuery(s,e,n?i:Ce.min(),n?o:be())).next(a=>(HI(r,DL(e),a),{documents:a,Ts:o})))}function HI(t,e,n){let r=t.us.get(e)||Ce.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.us.set(e,r)}class nv{constructor(){this.activeTargetIds=BL()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class WI{constructor(){this.so=new nv,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new nv,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GI{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rv{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){ie("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){ie("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nl=null;function bc(){return nl===null?nl=function(){return 268435456+Math.round(2147483648*Math.random())}():nl++,"0x"+nl.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KI{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zt="WebChannelConnection";class QI extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(n,r,i,o,s){const a=bc(),u=this.xo(n,r.toUriEncodedString());ie("RestConnection",`Sending RPC '${n}' ${a}:`,u,i);const c={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(c,o,s),this.No(n,u,c,i).then(h=>(ie("RestConnection",`Received RPC '${n}' ${a}: `,h),h),h=>{throw Ro("RestConnection",`RPC '${n}' ${a} failed with error: `,h,"url: ",u,"request:",i),h})}Lo(n,r,i,o,s,a){return this.Mo(n,r,i,o,s)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+zo}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}xo(n,r){const i=qI[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const o=bc();return new Promise((s,a)=>{const u=new m1;u.setWithCredentials(!0),u.listenOnce(y1.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case yl.NO_ERROR:const h=u.getResponseJson();ie(zt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),s(h);break;case yl.TIMEOUT:ie(zt,`RPC '${e}' ${o} timed out`),a(new ce(X.DEADLINE_EXCEEDED,"Request time out"));break;case yl.HTTP_ERROR:const f=u.getStatus();if(ie(zt,`RPC '${e}' ${o} failed with status:`,f,"response text:",u.getResponseText()),f>0){let d=u.getResponseJson();Array.isArray(d)&&(d=d[0]);const m=d==null?void 0:d.error;if(m&&m.status&&m.message){const C=function(x){const E=x.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(E)>=0?E:X.UNKNOWN}(m.status);a(new ce(C,m.message))}else a(new ce(X.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new ce(X.UNAVAILABLE,"Connection failed."));break;default:_e()}}finally{ie(zt,`RPC '${e}' ${o} completed.`)}});const c=JSON.stringify(i);ie(zt,`RPC '${e}' ${o} sending request:`,i),u.send(n,"POST",c,r,15)})}Bo(e,n,r){const i=bc(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=E1(),a=w1(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.xmlHttpFactory=new v1({})),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const h=o.join("");ie(zt,`Creating RPC '${e}' stream ${i}: ${h}`,u);const f=s.createWebChannel(h,u);let d=!1,m=!1;const C=new KI({Io:x=>{m?ie(zt,`Not sending because RPC '${e}' stream ${i} is closed:`,x):(d||(ie(zt,`Opening RPC '${e}' stream ${i} transport.`),f.open(),d=!0),ie(zt,`RPC '${e}' stream ${i} sending:`,x),f.send(x))},To:()=>f.close()}),L=(x,E,T)=>{x.listen(E,k=>{try{T(k)}catch(b){setTimeout(()=>{throw b},0)}})};return L(f,Es.EventType.OPEN,()=>{m||(ie(zt,`RPC '${e}' stream ${i} transport opened.`),C.yo())}),L(f,Es.EventType.CLOSE,()=>{m||(m=!0,ie(zt,`RPC '${e}' stream ${i} transport closed`),C.So())}),L(f,Es.EventType.ERROR,x=>{m||(m=!0,Ro(zt,`RPC '${e}' stream ${i} transport errored:`,x),C.So(new ce(X.UNAVAILABLE,"The operation could not be completed")))}),L(f,Es.EventType.MESSAGE,x=>{var E;if(!m){const T=x.data[0];Ge(!!T);const k=T,b=k.error||((E=k[0])===null||E===void 0?void 0:E.error);if(b){ie(zt,`RPC '${e}' stream ${i} received error:`,b);const N=b.status;let A=function(v){const y=dt[v];if(y!==void 0)return q1(y)}(N),S=b.message;A===void 0&&(A=X.INTERNAL,S="Unknown error status: "+N+" with message "+b.message),m=!0,C.So(new ce(A,S)),f.close()}else ie(zt,`RPC '${e}' stream ${i} received:`,T),C.bo(T)}}),L(a,_1.STAT_EVENT,x=>{x.stat===jh.PROXY?ie(zt,`RPC '${e}' stream ${i} detected buffering proxy`):x.stat===jh.NOPROXY&&ie(zt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{C.wo()},0),C}}function Dc(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ou(t){return new oI(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o_{constructor(e,n,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&ie("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s_{constructor(e,n,r,i,o,s,a,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new o_(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===X.RESOURCE_EXHAUSTED?(mr(n.toString()),mr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new ce(X.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return ie("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(ie("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class ZI extends s_{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=lI(this.serializer,e),r=function(o){if(!("targetChange"in o))return Ce.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?Ce.min():s.readTime?Jn(s.readTime):Ce.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=Xh(this.serializer),n.addTarget=function(o,s){let a;const u=s.target;if(a=Gh(u)?{documents:hI(o,u)}:{query:fI(o,u)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=Z1(o,s.resumeToken);const c=Kh(o,s.expectedCount);c!==null&&(a.expectedCount=c)}else if(s.snapshotVersion.compareTo(Ce.min())>0){a.readTime=nu(o,s.snapshotVersion.toTimestamp());const c=Kh(o,s.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=pI(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=Xh(this.serializer),n.removeTarget=e,this.a_(n)}}class XI extends s_{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Ge(!!e.streamToken),this.lastStreamToken=e.streamToken,Ge(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Ge(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=cI(e.writeResults,e.commitTime),r=Jn(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=Xh(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>uI(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YI extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new ce(X.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Mo(e,Qh(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ce(X.UNKNOWN,o.toString())})}Lo(e,n,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Lo(e,Qh(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ce(X.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class JI{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(mr(n),this.D_=!1):ie("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ek{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(s=>{r.enqueueAndForget(async()=>{zi(this)&&(ie("RemoteStore","Restarting streams for network reachability change."),await async function(u){const c=Se(u);c.L_.add(4),await _a(c),c.q_.set("Unknown"),c.L_.delete(4),await Nu(c)}(this))})}),this.q_=new JI(r,i)}}async function Nu(t){if(zi(t))for(const e of t.B_)await e(!0)}async function _a(t){for(const e of t.B_)await e(!1)}function a_(t,e){const n=Se(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),Cd(n)?Ed(n):$o(n).r_()&&wd(n,e))}function _d(t,e){const n=Se(t),r=$o(n);n.N_.delete(e),r.r_()&&l_(n,e),n.N_.size===0&&(r.r_()?r.o_():zi(n)&&n.q_.set("Unknown"))}function wd(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ce.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}$o(t).A_(e)}function l_(t,e){t.Q_.xe(e),$o(t).R_(e)}function Ed(t){t.Q_=new tI({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),$o(t).start(),t.q_.v_()}function Cd(t){return zi(t)&&!$o(t).n_()&&t.N_.size>0}function zi(t){return Se(t).L_.size===0}function u_(t){t.Q_=void 0}async function tk(t){t.q_.set("Online")}async function nk(t){t.N_.forEach((e,n)=>{wd(t,e)})}async function rk(t,e){u_(t),Cd(t)?(t.q_.M_(e),Ed(t)):t.q_.set("Unknown")}async function ik(t,e,n){if(t.q_.set("Online"),e instanceof Q1&&e.state===2&&e.cause)try{await async function(i,o){const s=o.cause;for(const a of o.targetIds)i.N_.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.N_.delete(a),i.Q_.removeTarget(a))}(t,e)}catch(r){ie("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await ru(t,r)}else if(e instanceof El?t.Q_.Ke(e):e instanceof K1?t.Q_.He(e):t.Q_.We(e),!n.isEqual(Ce.min()))try{const r=await i_(t.localStore);n.compareTo(r)>=0&&await function(o,s){const a=o.Q_.rt(s);return a.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const h=o.N_.get(c);h&&o.N_.set(c,h.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,c)=>{const h=o.N_.get(u);if(!h)return;o.N_.set(u,h.withResumeToken(Dt.EMPTY_BYTE_STRING,h.snapshotVersion)),l_(o,u);const f=new Nr(h.target,u,c,h.sequenceNumber);wd(o,f)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){ie("RemoteStore","Failed to raise snapshot:",r),await ru(t,r)}}async function ru(t,e,n){if(!ma(e))throw e;t.L_.add(1),await _a(t),t.q_.set("Offline"),n||(n=()=>i_(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ie("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await Nu(t)})}function c_(t,e){return e().catch(n=>ru(t,n,e))}async function Vu(t){const e=Se(t),n=ei(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;ok(e);)try{const i=await jI(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,sk(e,i)}catch(i){await ru(e,i)}h_(e)&&f_(e)}function ok(t){return zi(t)&&t.O_.length<10}function sk(t,e){t.O_.push(e);const n=ei(t);n.r_()&&n.V_&&n.m_(e.mutations)}function h_(t){return zi(t)&&!ei(t).n_()&&t.O_.length>0}function f_(t){ei(t).start()}async function ak(t){ei(t).p_()}async function lk(t){const e=ei(t);for(const n of t.O_)e.m_(n.mutations)}async function uk(t,e,n){const r=t.O_.shift(),i=dd.from(r,e,n);await c_(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Vu(t)}async function ck(t,e){e&&ei(t).V_&&await async function(r,i){if(function(s){return YL(s)&&s!==X.ABORTED}(i.code)){const o=r.O_.shift();ei(r).s_(),await c_(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await Vu(r)}}(t,e),h_(t)&&f_(t)}async function iv(t,e){const n=Se(t);n.asyncQueue.verifyOperationInProgress(),ie("RemoteStore","RemoteStore received new credentials");const r=zi(n);n.L_.add(3),await _a(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Nu(n)}async function hk(t,e){const n=Se(t);e?(n.L_.delete(2),await Nu(n)):e||(n.L_.add(2),await _a(n),n.q_.set("Unknown"))}function $o(t){return t.K_||(t.K_=function(n,r,i){const o=Se(n);return o.w_(),new ZI(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:tk.bind(null,t),Ro:nk.bind(null,t),mo:rk.bind(null,t),d_:ik.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),Cd(t)?Ed(t):t.q_.set("Unknown")):(await t.K_.stop(),u_(t))})),t.K_}function ei(t){return t.U_||(t.U_=function(n,r,i){const o=Se(n);return o.w_(),new XI(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:ak.bind(null,t),mo:ck.bind(null,t),f_:lk.bind(null,t),g_:uk.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Vu(t)):(await t.U_.stop(),t.O_.length>0&&(ie("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Kr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new Sd(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ce(X.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Td(t,e){if(mr("AsyncQueue",`${e}: ${t}`),ma(t))return new ce(X.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(e){this.comparator=e?(n,r)=>e(n,r)||de.comparator(n.key,r.key):(n,r)=>de.comparator(n.key,r.key),this.keyedMap=Cs(),this.sortedSet=new it(this.comparator)}static emptySet(e){return new Eo(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Eo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Eo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ov{constructor(){this.W_=new it(de.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):_e():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Oo{constructor(e,n,r,i,o,s,a,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new Oo(e,n,Eo.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ru(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fk{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class dk{constructor(){this.queries=sv(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=Se(n),o=i.queries;i.queries=sv(),o.forEach((s,a)=>{for(const u of a.j_)u.onError(r)})})(this,new ce(X.ABORTED,"Firestore shutting down"))}}function sv(){return new jo(t=>D1(t),Ru)}async function pk(t,e){const n=Se(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.H_()&&e.J_()&&(r=2):(o=new fk,r=e.J_()?0:1);try{switch(r){case 0:o.z_=await n.onListen(i,!0);break;case 1:o.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const a=Td(s,`Initialization of query '${Yi(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.j_.push(e),e.Z_(n.onlineState),o.z_&&e.X_(o.z_)&&Ld(n)}async function gk(t,e){const n=Se(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const s=o.j_.indexOf(e);s>=0&&(o.j_.splice(s,1),o.j_.length===0?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function mk(t,e){const n=Se(t);let r=!1;for(const i of e){const o=i.query,s=n.queries.get(o);if(s){for(const a of s.j_)a.X_(i)&&(r=!0);s.z_=i}}r&&Ld(n)}function vk(t,e,n){const r=Se(t),i=r.queries.get(e);if(i)for(const o of i.j_)o.onError(n);r.queries.delete(e)}function Ld(t){t.Y_.forEach(e=>{e.next()})}var Jh,av;(av=Jh||(Jh={})).ea="default",av.Cache="cache";class yk{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Oo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Oo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Jh.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d_{constructor(e){this.key=e}}class p_{constructor(e){this.key=e}}class _k{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=be(),this.mutatedKeys=be(),this.Aa=O1(e),this.Ra=new Eo(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new ov,i=n?n.Ra:this.Ra;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,f)=>{const d=i.get(h),m=xu(this.query,f)?f:null,C=!!d&&this.mutatedKeys.has(d.key),L=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let x=!1;d&&m?d.data.isEqual(m.data)?C!==L&&(r.track({type:3,doc:m}),x=!0):this.ga(d,m)||(r.track({type:2,doc:m}),x=!0,(u&&this.Aa(m,u)>0||c&&this.Aa(m,c)<0)&&(a=!0)):!d&&m?(r.track({type:0,doc:m}),x=!0):d&&!m&&(r.track({type:1,doc:d}),x=!0,(u||c)&&(a=!0)),x&&(m?(s=s.add(m),o=L?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{Ra:s,fa:r,ns:a,mutatedKeys:o}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const s=e.fa.G_();s.sort((h,f)=>function(m,C){const L=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _e()}};return L(m)-L(C)}(h.type,f.type)||this.Aa(h.doc,f.doc)),this.pa(r),i=i!=null&&i;const a=n&&!i?this.ya():[],u=this.da.size===0&&this.current&&!i?1:0,c=u!==this.Ea;return this.Ea=u,s.length!==0||c?{snapshot:new Oo(this.query,e.Ra,o,s,e.mutatedKeys,u===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new ov,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=be(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new p_(r))}),this.da.forEach(r=>{e.has(r)||n.push(new d_(r))}),n}ba(e){this.Ta=e.Ts,this.da=be();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Oo.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class wk{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Ek{constructor(e){this.key=e,this.va=!1}}class Ck{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new jo(a=>D1(a),Ru),this.Ma=new Map,this.xa=new Set,this.Oa=new it(de.comparator),this.Na=new Map,this.La=new md,this.Ba={},this.ka=new Map,this.qa=Do.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function Sk(t,e,n=!0){const r=w_(t);let i;const o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=await g_(r,e,n,!0),i}async function Tk(t,e){const n=w_(t);await g_(n,e,!0,!1)}async function g_(t,e,n,r){const i=await $I(t.localStore,Xn(e)),o=i.targetId,s=n?t.sharedClientState.addLocalQueryTarget(o):"not-current";let a;return r&&(a=await Lk(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&a_(t.remoteStore,i),a}async function Lk(t,e,n,r,i){t.Ka=(f,d,m)=>async function(L,x,E,T){let k=x.view.ma(E);k.ns&&(k=await tv(L.localStore,x.query,!1).then(({documents:S})=>x.view.ma(S,k)));const b=T&&T.targetChanges.get(x.targetId),N=T&&T.targetMismatches.get(x.targetId)!=null,A=x.view.applyChanges(k,L.isPrimaryClient,b,N);return uv(L,x.targetId,A.wa),A.snapshot}(t,f,d,m);const o=await tv(t.localStore,e,!0),s=new _k(e,o.Ts),a=s.ma(o.documents),u=ya.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=s.applyChanges(a,t.isPrimaryClient,u);uv(t,n,c.wa);const h=new wk(e,n,s);return t.Fa.set(e,h),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),c.snapshot}async function Ik(t,e,n){const r=Se(t),i=r.Fa.get(e),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter(s=>!Ru(s,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Yh(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&_d(r.remoteStore,i.targetId),ef(r,i.targetId)}).catch(ga)):(ef(r,i.targetId),await Yh(r.localStore,i.targetId,!0))}async function kk(t,e){const n=Se(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),_d(n.remoteStore,r.targetId))}async function Ak(t,e,n){const r=Ok(t);try{const i=await function(s,a){const u=Se(s),c=yt.now(),h=a.reduce((m,C)=>m.add(C.key),be());let f,d;return u.persistence.runTransaction("Locally write mutations","readwrite",m=>{let C=vr(),L=be();return u.cs.getEntries(m,h).next(x=>{C=x,C.forEach((E,T)=>{T.isValidDocument()||(L=L.add(E))})}).next(()=>u.localDocuments.getOverlayedDocuments(m,C)).next(x=>{f=x;const E=[];for(const T of a){const k=qL(T,f.get(T.key).overlayedDocument);k!=null&&E.push(new ii(T.key,k,I1(k.value.mapValue),Yn.exists(!0)))}return u.mutationQueue.addMutationBatch(m,c,E,a)}).next(x=>{d=x;const E=x.applyToLocalDocumentSet(f,L);return u.documentOverlayCache.saveOverlays(m,x.batchId,E)})}).then(()=>({batchId:d.batchId,changes:V1(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,u){let c=s.Ba[s.currentUser.toKey()];c||(c=new it(Fe)),c=c.insert(a,u),s.Ba[s.currentUser.toKey()]=c}(r,i.batchId,n),await wa(r,i.changes),await Vu(r.remoteStore)}catch(i){const o=Td(i,"Failed to persist write");n.reject(o)}}async function m_(t,e){const n=Se(t);try{const r=await BI(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.Na.get(o);s&&(Ge(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.va=!0:i.modifiedDocuments.size>0?Ge(s.va):i.removedDocuments.size>0&&(Ge(s.va),s.va=!1))}),await wa(n,r,e)}catch(r){await ga(r)}}function lv(t,e,n){const r=Se(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((o,s)=>{const a=s.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const u=Se(s);u.onlineState=a;let c=!1;u.queries.forEach((h,f)=>{for(const d of f.j_)d.Z_(a)&&(c=!0)}),c&&Ld(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Pk(t,e,n){const r=Se(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),o=i&&i.key;if(o){let s=new it(de.comparator);s=s.insert(o,Wt.newNoDocument(o,Ce.min()));const a=be().add(o),u=new Du(Ce.min(),new Map,new it(Fe),s,a);await m_(r,u),r.Oa=r.Oa.remove(o),r.Na.delete(e),Id(r)}else await Yh(r.localStore,e,!1).then(()=>ef(r,e,n)).catch(ga)}async function Rk(t,e){const n=Se(t),r=e.batch.batchId;try{const i=await FI(n.localStore,e);y_(n,r,null),v_(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await wa(n,i)}catch(i){await ga(i)}}async function xk(t,e,n){const r=Se(t);try{const i=await function(s,a){const u=Se(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let h;return u.mutationQueue.lookupMutationBatch(c,a).next(f=>(Ge(f!==null),h=f.keys(),u.mutationQueue.removeMutationBatch(c,f))).next(()=>u.mutationQueue.performConsistencyCheck(c)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(c,h,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,h)).next(()=>u.localDocuments.getDocuments(c,h))})}(r.localStore,e);y_(r,e,n),v_(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await wa(r,i)}catch(i){await ga(i)}}function v_(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function y_(t,e,n){const r=Se(t);let i=r.Ba[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function ef(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||__(t,r)})}function __(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(_d(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),Id(t))}function uv(t,e,n){for(const r of n)r instanceof d_?(t.La.addReference(r.key,e),Mk(t,r)):r instanceof p_?(ie("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||__(t,r.key)):_e()}function Mk(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(ie("SyncEngine","New document in limbo: "+n),t.xa.add(r),Id(t))}function Id(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new de(Je.fromString(e)),r=t.qa.next();t.Na.set(r,new Ek(n)),t.Oa=t.Oa.insert(n,r),a_(t.remoteStore,new Nr(Xn(b1(n.path)),r,"TargetPurposeLimboResolution",sd.oe))}}async function wa(t,e,n){const r=Se(t),i=[],o=[],s=[];r.Fa.isEmpty()||(r.Fa.forEach((a,u)=>{s.push(r.Ka(u,e,n).then(c=>{var h;if((c||n)&&r.isPrimaryClient){const f=c?!c.fromCache:(h=n==null?void 0:n.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,f?"current":"not-current")}if(c){i.push(c);const f=yd.Wi(u.targetId,c);o.push(f)}}))}),await Promise.all(s),r.Ca.d_(i),await async function(u,c){const h=Se(u);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>Z.forEach(c,d=>Z.forEach(d.$i,m=>h.persistence.referenceDelegate.addReference(f,d.targetId,m)).next(()=>Z.forEach(d.Ui,m=>h.persistence.referenceDelegate.removeReference(f,d.targetId,m)))))}catch(f){if(!ma(f))throw f;ie("LocalStore","Failed to update sequence numbers: "+f)}for(const f of c){const d=f.targetId;if(!f.fromCache){const m=h.os.get(d),C=m.snapshotVersion,L=m.withLastLimboFreeSnapshotVersion(C);h.os=h.os.insert(d,L)}}}(r.localStore,o))}async function bk(t,e){const n=Se(t);if(!n.currentUser.isEqual(e)){ie("SyncEngine","User change. New user:",e.toKey());const r=await r_(n.localStore,e);n.currentUser=e,function(o,s){o.ka.forEach(a=>{a.forEach(u=>{u.reject(new ce(X.CANCELLED,s))})}),o.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await wa(n,r.hs)}}function Dk(t,e){const n=Se(t),r=n.Na.get(e);if(r&&r.va)return be().add(r.key);{let i=be();const o=n.Ma.get(e);if(!o)return i;for(const s of o){const a=n.Fa.get(s);i=i.unionWith(a.view.Va)}return i}}function w_(t){const e=Se(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=m_.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Dk.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Pk.bind(null,e),e.Ca.d_=mk.bind(null,e.eventManager),e.Ca.$a=vk.bind(null,e.eventManager),e}function Ok(t){const e=Se(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Rk.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=xk.bind(null,e),e}class cv{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Ou(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return UI(this.persistence,new NI,e.initialUser,this.serializer)}createPersistence(e){return new bI(vd.Zr,this.serializer)}createSharedClientState(e){return new WI}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class Nk{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>lv(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=bk.bind(null,this.syncEngine),await hk(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new dk}()}createDatastore(e){const n=Ou(e.databaseInfo.databaseId),r=function(o){return new QI(o)}(e.databaseInfo);return function(o,s,a,u){return new YI(o,s,a,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,a){return new ek(r,i,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,n=>lv(this.syncEngine,n,0),function(){return rv.D()?new rv:new GI}())}createSyncEngine(e,n){return function(i,o,s,a,u,c,h){const f=new Ck(i,o,s,a,u,c);return h&&(f.Qa=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const o=Se(i);ie("RemoteStore","RemoteStore shutting down."),o.L_.add(5),await _a(o),o.k_.shutdown(),o.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vk{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ga(this.observer.next,e)}error(e){this.observer.error?this.Ga(this.observer.error,e):mr("Uncaught Error in snapshot listener:",e.toString())}za(){this.muted=!0}Ga(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uk{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=$t.UNAUTHENTICATED,this.clientId=S1.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async o=>{ie("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(ie("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ce(X.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Kr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Td(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Oc(t,e){t.asyncQueue.verifyOperationInProgress(),ie("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await r_(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function hv(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Bk(t);ie("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>iv(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>iv(e.remoteStore,i)),t._onlineComponents=e}function Fk(t){return t.name==="FirebaseError"?t.code===X.FAILED_PRECONDITION||t.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function Bk(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ie("FirestoreClient","Using user provided OfflineComponentProvider");try{await Oc(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!Fk(n))throw n;Ro("Error using user provided cache. Falling back to memory cache: "+n),await Oc(t,new cv)}}else ie("FirestoreClient","Using default OfflineComponentProvider"),await Oc(t,new cv);return t._offlineComponents}async function E_(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ie("FirestoreClient","Using user provided OnlineComponentProvider"),await hv(t,t._uninitializedComponentsProvider._online)):(ie("FirestoreClient","Using default OnlineComponentProvider"),await hv(t,new Nk))),t._onlineComponents}function zk(t){return E_(t).then(e=>e.syncEngine)}async function jk(t){const e=await E_(t),n=e.eventManager;return n.onListen=Sk.bind(null,e.syncEngine),n.onUnlisten=Ik.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Tk.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=kk.bind(null,e.syncEngine),n}function $k(t,e,n={}){const r=new Kr;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,a,u,c){const h=new Vk({next:d=>{s.enqueueAndForget(()=>gk(o,f)),d.fromCache&&u.source==="server"?c.reject(new ce(X.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(d)},error:d=>c.reject(d)}),f=new yk(a,h,{includeMetadataChanges:!0,_a:!0});return pk(o,f)}(await jk(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C_(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fv=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S_(t,e,n){if(!n)throw new ce(X.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Hk(t,e,n,r){if(e===!0&&r===!0)throw new ce(X.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function dv(t){if(!de.isDocumentKey(t))throw new ce(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function pv(t){if(de.isDocumentKey(t))throw new ce(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function kd(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":_e()}function No(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ce(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=kd(t);throw new ce(X.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gv{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ce(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ce(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Hk("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=C_((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new ce(X.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new ce(X.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new ce(X.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Uu{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new gv({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ce(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new ce(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new gv(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new tL;switch(r.type){case"firstParty":return new oL(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ce(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=fv.get(n);r&&(ie("ComponentProvider","Removing Datastore"),fv.delete(n),r.terminate())}(this),Promise.resolve()}}function Wk(t,e,n,r={}){var i;const o=(t=No(t,Uu))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&Ro("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=$t.MOCK_USER;else{a=i1(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new ce(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new $t(c)}t._authCredentials=new nL(new C1(a,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fu{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Fu(this.firestore,e,this._query)}}class In{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Qr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new In(this.firestore,e,this._key)}}class Qr extends Fu{constructor(e,n,r){super(e,n,b1(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new In(this.firestore,null,new de(e))}withConverter(e){return new Qr(this.firestore,e,this._path)}}function T_(t,e,...n){if(t=Pn(t),S_("collection","path",e),t instanceof Uu){const r=Je.fromString(e,...n);return pv(r),new Qr(t,null,r)}{if(!(t instanceof In||t instanceof Qr))throw new ce(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Je.fromString(e,...n));return pv(r),new Qr(t.firestore,null,r)}}function L_(t,e,...n){if(t=Pn(t),arguments.length===1&&(e=S1.newId()),S_("doc","path",e),t instanceof Uu){const r=Je.fromString(e,...n);return dv(r),new In(t,null,new de(r))}{if(!(t instanceof In||t instanceof Qr))throw new ce(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Je.fromString(e,...n));return dv(r),new In(t.firestore,t instanceof Qr?t.converter:null,new de(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gk{constructor(){this.au=Promise.resolve(),this.uu=[],this.cu=!1,this.lu=[],this.hu=null,this.Pu=!1,this.Iu=!1,this.Tu=[],this.t_=new o_(this,"async_queue_retry"),this.Eu=()=>{const n=Dc();n&&ie("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()};const e=Dc();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Eu)}get isShuttingDown(){return this.cu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.du(),this.Au(e)}enterRestrictedMode(e){if(!this.cu){this.cu=!0,this.Iu=e||!1;const n=Dc();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Eu)}}enqueue(e){if(this.du(),this.cu)return new Promise(()=>{});const n=new Kr;return this.Au(()=>this.cu&&this.Iu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.uu.push(e),this.Ru()))}async Ru(){if(this.uu.length!==0){try{await this.uu[0](),this.uu.shift(),this.t_.reset()}catch(e){if(!ma(e))throw e;ie("AsyncQueue","Operation failed with retryable error: "+e)}this.uu.length>0&&this.t_.Go(()=>this.Ru())}}Au(e){const n=this.au.then(()=>(this.Pu=!0,e().catch(r=>{this.hu=r,this.Pu=!1;const i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw mr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Pu=!1,r))));return this.au=n,n}enqueueAfterDelay(e,n,r){this.du(),this.Tu.indexOf(e)>-1&&(n=0);const i=Sd.createAndSchedule(this,e,n,r,o=>this.Vu(o));return this.lu.push(i),i}du(){this.hu&&_e()}verifyOperationInProgress(){}async mu(){let e;do e=this.au,await e;while(e!==this.au)}fu(e){for(const n of this.lu)if(n.timerId===e)return!0;return!1}gu(e){return this.mu().then(()=>{this.lu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.lu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.mu()})}pu(e){this.Tu.push(e)}Vu(e){const n=this.lu.indexOf(e);this.lu.splice(n,1)}}class Bu extends Uu{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new Gk}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||k_(this),this._firestoreClient.terminate()}}function qk(t,e){const n=typeof t=="object"?t:f1(),r=typeof t=="string"?t:"(default)",i=u1(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=n1("firestore");o&&Wk(i,...o)}return i}function I_(t){return t._firestoreClient||k_(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function k_(t){var e,n,r;const i=t._freezeSettings(),o=function(a,u,c,h){return new yL(a,u,c,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,C_(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new Uk(t._authCredentials,t._appCheckCredentials,t._queue,o),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Vo(Dt.fromBase64String(e))}catch(n){throw new ce(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Vo(Dt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ce(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Rt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pd{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ce(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ce(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Fe(this._lat,e._lat)||Fe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rd{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kk=/^__.*__$/;class Qk{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ii(e,this.data,this.fieldMask,n,this.fieldTransforms):new va(e,this.data,n,this.fieldTransforms)}}class A_{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ii(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function P_(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _e()}}class xd{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.yu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get wu(){return this.settings.wu}Su(e){return new xd(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}bu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.vu(e),i}Cu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.yu(),i}Fu(e){return this.Su({path:void 0,Du:!0})}Mu(e){return iu(e,this.settings.methodName,this.settings.xu||!1,this.path,this.settings.Ou)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}yu(){if(this.path)for(let e=0;e<this.path.length;e++)this.vu(this.path.get(e))}vu(e){if(e.length===0)throw this.Mu("Document fields must not be empty");if(P_(this.wu)&&Kk.test(e))throw this.Mu('Document fields cannot begin and end with "__"')}}class Zk{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Ou(e)}Nu(e,n,r,i=!1){return new xd({wu:e,methodName:n,Ou:r,path:Rt.emptyPath(),Du:!1,xu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function R_(t){const e=t._freezeSettings(),n=Ou(t._databaseId);return new Zk(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Xk(t,e,n,r,i,o={}){const s=t.Nu(o.merge||o.mergeFields?2:0,e,n,i);Md("Data must be an object, but it was:",s,r);const a=x_(r,s);let u,c;if(o.merge)u=new gn(s.fieldMask),c=s.fieldTransforms;else if(o.mergeFields){const h=[];for(const f of o.mergeFields){const d=tf(e,f,n);if(!s.contains(d))throw new ce(X.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);b_(h,d)||h.push(d)}u=new gn(h),c=s.fieldTransforms.filter(f=>u.covers(f.field))}else u=null,c=s.fieldTransforms;return new Qk(new nn(a),u,c)}class ju extends Ad{_toFieldTransform(e){if(e.wu!==2)throw e.wu===1?e.Mu(`${this._methodName}() can only appear at the top level of your update data`):e.Mu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ju}}function Yk(t,e,n,r){const i=t.Nu(1,e,n);Md("Data must be an object, but it was:",i,r);const o=[],s=nn.empty();Bi(r,(u,c)=>{const h=bd(e,u,n);c=Pn(c);const f=i.Cu(h);if(c instanceof ju)o.push(h);else{const d=$u(c,f);d!=null&&(o.push(h),s.set(h,d))}});const a=new gn(o);return new A_(s,a,i.fieldTransforms)}function Jk(t,e,n,r,i,o){const s=t.Nu(1,e,n),a=[tf(e,r,n)],u=[i];if(o.length%2!=0)throw new ce(X.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<o.length;d+=2)a.push(tf(e,o[d])),u.push(o[d+1]);const c=[],h=nn.empty();for(let d=a.length-1;d>=0;--d)if(!b_(c,a[d])){const m=a[d];let C=u[d];C=Pn(C);const L=s.Cu(m);if(C instanceof ju)c.push(m);else{const x=$u(C,L);x!=null&&(c.push(m),h.set(m,x))}}const f=new gn(c);return new A_(h,f,s.fieldTransforms)}function $u(t,e){if(M_(t=Pn(t)))return Md("Unsupported field value:",e,t),x_(t,e);if(t instanceof Ad)return function(r,i){if(!P_(i.wu))throw i.Mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Mu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Du&&e.wu!==4)throw e.Mu("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let u=$u(a,i.Fu(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=Pn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return zL(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=yt.fromDate(r);return{timestampValue:nu(i.serializer,o)}}if(r instanceof yt){const o=new yt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:nu(i.serializer,o)}}if(r instanceof Pd)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Vo)return{bytesValue:Z1(i.serializer,r._byteString)};if(r instanceof In){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Mu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:gd(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Rd)return function(s,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(u=>{if(typeof u!="number")throw a.Mu("VectorValues must only contain numeric values.");return fd(a.serializer,u)})}}}}}}(r,i);throw i.Mu(`Unsupported field value: ${kd(r)}`)}(t,e)}function x_(t,e){const n={};return T1(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Bi(t,(r,i)=>{const o=$u(i,e.bu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function M_(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof yt||t instanceof Pd||t instanceof Vo||t instanceof In||t instanceof Ad||t instanceof Rd)}function Md(t,e,n){if(!M_(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=kd(n);throw r==="an object"?e.Mu(t+" a custom object"):e.Mu(t+" "+r)}}function tf(t,e,n){if((e=Pn(e))instanceof zu)return e._internalPath;if(typeof e=="string")return bd(t,e);throw iu("Field path arguments must be of type string or ",t,!1,void 0,n)}const eA=new RegExp("[~\\*/\\[\\]]");function bd(t,e,n){if(e.search(eA)>=0)throw iu(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new zu(...e.split("."))._internalPath}catch{throw iu(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function iu(t,e,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new ce(X.INVALID_ARGUMENT,a+t+u)}function b_(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D_{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new In(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new tA(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(O_("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class tA extends D_{data(){return super.data()}}function O_(t,e){return typeof e=="string"?bd(t,e):e instanceof zu?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nA(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ce(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class rA{convertValue(e,n="none"){switch(Di(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ct(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(bi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw _e()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Bi(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;const o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>ct(s.doubleValue));return new Rd(o)}convertGeoPoint(e){return new Pd(ct(e.latitude),ct(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=ld(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(oa(e));default:return null}}convertTimestamp(e){const n=Jr(e);return new yt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Je.fromString(e);Ge(n_(r));const i=new sa(r.get(1),r.get(3)),o=new de(r.popFirst(5));return i.isEqual(n)||mr(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iA(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class oA extends D_{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Cl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(O_("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Cl extends oA{data(e={}){return super.data(e)}}class sA{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new rl(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Cl(this._firestore,this._userDataWriter,r.key,r,new rl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ce(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{const u=new Cl(i._firestore,i._userDataWriter,a.doc.key,a.doc,new rl(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{const u=new Cl(i._firestore,i._userDataWriter,a.doc.key,a.doc,new rl(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,h=-1;return a.type!==0&&(c=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:aA(a.type),doc:u,oldIndex:c,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function aA(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _e()}}class lA extends rA{constructor(e){super(),this.firestore=e}convertBytes(e){return new Vo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new In(this.firestore,null,n)}}function uA(t){t=No(t,Fu);const e=No(t.firestore,Bu),n=I_(e),r=new lA(e);return nA(t._query),$k(n,t._query).then(i=>new sA(e,r,t,i))}function cA(t,e,n,...r){t=No(t,In);const i=No(t.firestore,Bu),o=R_(i);let s;return s=typeof(e=Pn(e))=="string"||e instanceof zu?Jk(o,"updateDoc",t._key,e,n,r):Yk(o,"updateDoc",t._key,e),N_(i,[s.toMutation(t._key,Yn.exists(!0))])}function hA(t,e){const n=No(t.firestore,Bu),r=L_(t),i=iA(t.converter,e);return N_(n,[Xk(R_(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Yn.exists(!1))]).then(()=>r)}function N_(t,e){return function(r,i){const o=new Kr;return r.asyncQueue.enqueueAndForget(async()=>Ak(await zk(r),i,o)),o.promise}(I_(t),e)}(function(e,n=!0){(function(i){zo=i})(c1),na(new Po("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new Bu(new rL(r.getProvider("auth-internal")),new aL(r.getProvider("app-check-internal")),function(c,h){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new ce(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new sa(c.options.projectId,h)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),qr(Dm,"4.7.0",e),qr(Dm,"4.7.0","esm2017")})();var fA="firebase",dA="10.13.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */qr(fA,dA,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V_="firebasestorage.googleapis.com",U_="storageBucket",pA=2*60*1e3,gA=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt extends Fi{constructor(e,n,r=0){super(Nc(e),`Firebase Storage: ${n} (${Nc(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,lt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Nc(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var at;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(at||(at={}));function Nc(t){return"storage/"+t}function Dd(){const t="An unknown error occurred, please check the error payload for server response.";return new lt(at.UNKNOWN,t)}function mA(t){return new lt(at.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function vA(t){return new lt(at.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function yA(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new lt(at.UNAUTHENTICATED,t)}function _A(){return new lt(at.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function wA(t){return new lt(at.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function EA(){return new lt(at.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function CA(){return new lt(at.CANCELED,"User canceled the upload/download.")}function SA(t){return new lt(at.INVALID_URL,"Invalid URL '"+t+"'.")}function TA(t){return new lt(at.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function LA(){return new lt(at.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+U_+"' property when initializing the app?")}function IA(){return new lt(at.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function kA(){return new lt(at.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function AA(t){return new lt(at.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function nf(t){return new lt(at.INVALID_ARGUMENT,t)}function F_(){return new lt(at.APP_DELETED,"The Firebase app was deleted.")}function PA(t){return new lt(at.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Us(t,e){return new lt(at.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function ms(t){throw new lt(at.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=mn.makeFromUrl(e,n)}catch{return new mn(e,"")}if(r.path==="")return r;throw TA(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function o(b){b.path.charAt(b.path.length-1)==="/"&&(b.path_=b.path_.slice(0,-1))}const s="(/(.*))?$",a=new RegExp("^gs://"+i+s,"i"),u={bucket:1,path:3};function c(b){b.path_=decodeURIComponent(b.path)}const h="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),d="(/([^?#]*).*)?$",m=new RegExp(`^https?://${f}/${h}/b/${i}/o${d}`,"i"),C={bucket:1,path:3},L=n===V_?"(?:storage.googleapis.com|storage.cloud.google.com)":n,x="([^?#]*)",E=new RegExp(`^https?://${L}/${i}/${x}`,"i"),k=[{regex:a,indices:u,postModify:o},{regex:m,indices:C,postModify:c},{regex:E,indices:{bucket:1,path:2},postModify:c}];for(let b=0;b<k.length;b++){const N=k[b],A=N.regex.exec(e);if(A){const S=A[N.indices.bucket];let p=A[N.indices.path];p||(p=""),r=new mn(S,p),N.postModify(r);break}}if(r==null)throw SA(e);return r}}class RA{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xA(t,e,n){let r=1,i=null,o=null,s=!1,a=0;function u(){return a===2}let c=!1;function h(...x){c||(c=!0,e.apply(null,x))}function f(x){i=setTimeout(()=>{i=null,t(m,u())},x)}function d(){o&&clearTimeout(o)}function m(x,...E){if(c){d();return}if(x){d(),h.call(null,x,...E);return}if(u()||s){d(),h.call(null,x,...E);return}r<64&&(r*=2);let k;a===1?(a=2,k=0):k=(r+Math.random())*1e3,f(k)}let C=!1;function L(x){C||(C=!0,d(),!c&&(i!==null?(x||(a=2),clearTimeout(i),f(0)):x||(a=1)))}return f(0),o=setTimeout(()=>{s=!0,L(!0)},n),L}function MA(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bA(t){return t!==void 0}function DA(t){return typeof t=="object"&&!Array.isArray(t)}function Od(t){return typeof t=="string"||t instanceof String}function mv(t){return Nd()&&t instanceof Blob}function Nd(){return typeof Blob<"u"}function vv(t,e,n,r){if(r<e)throw nf(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw nf(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vd(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function B_(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var Ii;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Ii||(Ii={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OA(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||i||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NA{constructor(e,n,r,i,o,s,a,u,c,h,f,d=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=u,this.timeout_=c,this.progressCallback_=h,this.connectionFactory_=f,this.retry=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((m,C)=>{this.resolve_=m,this.reject_=C,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new il(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const s=a=>{const u=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,c)};this.progressCallback_!==null&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(s),this.pendingConnection_=null;const a=o.getErrorCode()===Ii.NO_ERROR,u=o.getStatus();if(!a||OA(u,this.additionalRetryCodes_)&&this.retry){const h=o.getErrorCode()===Ii.ABORT;r(!1,new il(!1,null,h));return}const c=this.successCodes_.indexOf(u)!==-1;r(!0,new il(c,o))})},n=(r,i)=>{const o=this.resolve_,s=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const u=this.callback_(a,a.getResponse());bA(u)?o(u):o()}catch(u){s(u)}else if(a!==null){const u=Dd();u.serverResponse=a.getErrorText(),this.errorCallback_?s(this.errorCallback_(a,u)):s(u)}else if(i.canceled){const u=this.appDelete_?F_():CA();s(u)}else{const u=EA();s(u)}};this.canceled_?n(!1,new il(!1,null,!0)):this.backoffId_=xA(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&MA(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class il{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function VA(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function UA(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function FA(t,e){e&&(t["X-Firebase-GMPID"]=e)}function BA(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function zA(t,e,n,r,i,o,s=!0){const a=B_(t.urlParams),u=t.url+a,c=Object.assign({},t.headers);return FA(c,e),VA(c,n),UA(c,o),BA(c,r),new NA(u,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jA(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function $A(...t){const e=jA();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(Nd())return new Blob(t);throw new lt(at.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function HA(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WA(t){if(typeof atob>"u")throw AA("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Vc{constructor(e,n){this.data=e,this.contentType=n||null}}function GA(t,e){switch(t){case Kn.RAW:return new Vc(z_(e));case Kn.BASE64:case Kn.BASE64URL:return new Vc(j_(t,e));case Kn.DATA_URL:return new Vc(KA(e),QA(e))}throw Dd()}function z_(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const o=r,s=t.charCodeAt(++n);r=65536|(o&1023)<<10|s&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function qA(t){let e;try{e=decodeURIComponent(t)}catch{throw Us(Kn.DATA_URL,"Malformed data URL.")}return z_(e)}function j_(t,e){switch(t){case Kn.BASE64:{const i=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(i||o)throw Us(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Kn.BASE64URL:{const i=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(i||o)throw Us(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=WA(e)}catch(i){throw i.message.includes("polyfill")?i:Us(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class $_{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Us(Kn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=ZA(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function KA(t){const e=new $_(t);return e.base64?j_(Kn.BASE64,e.rest):qA(e.rest)}function QA(t){return new $_(t).contentType}function ZA(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br{constructor(e,n){let r=0,i="";mv(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(mv(this.data_)){const r=this.data_,i=HA(r,e,n);return i===null?null:new br(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new br(r,!0)}}static getBlob(...e){if(Nd()){const n=e.map(r=>r instanceof br?r.data_:r);return new br($A.apply(null,n))}else{const n=e.map(s=>Od(s)?GA(Kn.RAW,s).data:s.data_);let r=0;n.forEach(s=>{r+=s.byteLength});const i=new Uint8Array(r);let o=0;return n.forEach(s=>{for(let a=0;a<s.length;a++)i[o++]=s[a]}),new br(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H_(t){let e;try{e=JSON.parse(t)}catch{return null}return DA(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XA(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function YA(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function W_(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JA(t,e){return e}class Kt{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||JA}}let ol=null;function eP(t){return!Od(t)||t.length<2?t:W_(t)}function G_(){if(ol)return ol;const t=[];t.push(new Kt("bucket")),t.push(new Kt("generation")),t.push(new Kt("metageneration")),t.push(new Kt("name","fullPath",!0));function e(o,s){return eP(s)}const n=new Kt("name");n.xform=e,t.push(n);function r(o,s){return s!==void 0?Number(s):s}const i=new Kt("size");return i.xform=r,t.push(i),t.push(new Kt("timeCreated")),t.push(new Kt("updated")),t.push(new Kt("md5Hash",null,!0)),t.push(new Kt("cacheControl",null,!0)),t.push(new Kt("contentDisposition",null,!0)),t.push(new Kt("contentEncoding",null,!0)),t.push(new Kt("contentLanguage",null,!0)),t.push(new Kt("contentType",null,!0)),t.push(new Kt("metadata","customMetadata",!0)),ol=t,ol}function tP(t,e){function n(){const r=t.bucket,i=t.fullPath,o=new mn(r,i);return e._makeStorageReference(o)}Object.defineProperty(t,"ref",{get:n})}function nP(t,e,n){const r={};r.type="file";const i=n.length;for(let o=0;o<i;o++){const s=n[o];r[s.local]=s.xform(r,e[s.server])}return tP(r,t),r}function q_(t,e,n){const r=H_(e);return r===null?null:nP(t,r,n)}function rP(t,e,n,r){const i=H_(e);if(i===null||!Od(i.downloadTokens))return null;const o=i.downloadTokens;if(o.length===0)return null;const s=encodeURIComponent;return o.split(",").map(c=>{const h=t.bucket,f=t.fullPath,d="/b/"+s(h)+"/o/"+s(f),m=Vd(d,n,r),C=B_({alt:"media",token:c});return m+C})[0]}function iP(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}class K_{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q_(t){if(!t)throw Dd()}function oP(t,e){function n(r,i){const o=q_(t,i,e);return Q_(o!==null),o}return n}function sP(t,e){function n(r,i){const o=q_(t,i,e);return Q_(o!==null),rP(o,i,t.host,t._protocol)}return n}function Z_(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=_A():i=yA():n.getStatus()===402?i=vA(t.bucket):n.getStatus()===403?i=wA(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function aP(t){const e=Z_(t);function n(r,i){let o=e(r,i);return r.getStatus()===404&&(o=mA(t.path)),o.serverResponse=i.serverResponse,o}return n}function lP(t,e,n){const r=e.fullServerUrl(),i=Vd(r,t.host,t._protocol),o="GET",s=t.maxOperationRetryTime,a=new K_(i,o,sP(t,n),s);return a.errorHandler=aP(e),a}function uP(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function cP(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=uP(null,e)),r}function hP(t,e,n,r,i){const o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};function a(){let k="";for(let b=0;b<2;b++)k=k+Math.random().toString().slice(2);return k}const u=a();s["Content-Type"]="multipart/related; boundary="+u;const c=cP(e,r,i),h=iP(c,n),f="--"+u+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+h+`\r
--`+u+`\r
Content-Type: `+c.contentType+`\r
\r
`,d=`\r
--`+u+"--",m=br.getBlob(f,r,d);if(m===null)throw IA();const C={name:c.fullPath},L=Vd(o,t.host,t._protocol),x="POST",E=t.maxUploadRetryTime,T=new K_(L,x,oP(t,n),E);return T.urlParams=C,T.headers=s,T.body=m.uploadData(),T.errorHandler=Z_(e),T}class fP{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ii.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ii.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ii.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw ms("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const o in i)i.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,i[o].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw ms("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw ms("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw ms("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw ms("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class dP extends fP{initXhr(){this.xhr_.responseType="text"}}function X_(){return new dP}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi{constructor(e,n){this._service=e,n instanceof mn?this._location=n:this._location=mn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Oi(e,n)}get root(){const e=new mn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return W_(this._location.path)}get storage(){return this._service}get parent(){const e=XA(this._location.path);if(e===null)return null;const n=new mn(this._location.bucket,e);return new Oi(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw PA(e)}}function pP(t,e,n){t._throwIfRoot("uploadBytes");const r=hP(t.storage,t._location,G_(),new br(e,!0),n);return t.storage.makeRequestWithTokens(r,X_).then(i=>({metadata:i,ref:t}))}function gP(t){t._throwIfRoot("getDownloadURL");const e=lP(t.storage,t._location,G_());return t.storage.makeRequestWithTokens(e,X_).then(n=>{if(n===null)throw kA();return n})}function mP(t,e){const n=YA(t._location.path,e),r=new mn(t._location.bucket,n);return new Oi(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vP(t){return/^[A-Za-z]+:\/\//.test(t)}function yP(t,e){return new Oi(t,e)}function Y_(t,e){if(t instanceof Ud){const n=t;if(n._bucket==null)throw LA();const r=new Oi(n,n._bucket);return e!=null?Y_(r,e):r}else return e!==void 0?mP(t,e):t}function _P(t,e){if(e&&vP(e)){if(t instanceof Ud)return yP(t,e);throw nf("To use ref(service, url), the first argument must be a Storage instance.")}else return Y_(t,e)}function yv(t,e){const n=e==null?void 0:e[U_];return n==null?null:mn.makeFromBucketSpec(n,t)}function wP(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:i1(i,t.app.options.projectId))}class Ud{constructor(e,n,r,i,o){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=V_,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=pA,this._maxUploadRetryTime=gA,this._requests=new Set,i!=null?this._bucket=mn.makeFromBucketSpec(i,this._host):this._bucket=yv(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=mn.makeFromBucketSpec(this._url,e):this._bucket=yv(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){vv("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){vv("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Oi(this,e)}_makeRequest(e,n,r,i,o=!0){if(this._deleted)return new RA(F_());{const s=zA(e,this._appId,r,i,n,this._firebaseVersion,o);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const _v="@firebase/storage",wv="0.13.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J_="storage";function EP(t,e,n){return t=Pn(t),pP(t,e,n)}function CP(t){return t=Pn(t),gP(t)}function SP(t,e){return t=Pn(t),_P(t,e)}function TP(t=f1(),e){t=Pn(t);const r=u1(t,J_).getImmediate({identifier:e}),i=n1("storage");return i&&LP(r,...i),r}function LP(t,e,n,r={}){wP(t,e,n,r)}function IP(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new Ud(n,r,i,e,c1)}function kP(){na(new Po(J_,IP,"PUBLIC").setMultipleInstances(!0)),qr(_v,wv,""),qr(_v,wv,"esm2017")}kP();const AP={apiKey:"AIzaSyBj4voLaMllaLyTz0a5RZn7S_Y5AYCUszo",authDomain:"tokyood-hackathon-45ed0.firebaseapp.com",projectId:"tokyood-hackathon-45ed0",storageBucket:"tokyood-hackathon-45ed0.appspot.com",messagingSenderId:"596279055158",appId:"1:596279055158:web:ce50eb0c408b07865c5997",measurementId:"G-1KC0KHE486"},ew=h1(AP),Fd=qk(ew),PP=TP(ew),RP=async()=>{const t=T_(Fd,"reports");return(await uA(t)).docs.map(r=>{const i=r.data();return{id:r.id,title:i.title||"",description:i.description||"",imageUrl:i.imageUrl||"",position:{lat:i.position.lat,lng:i.position.lng},comments:i.comments||[]}})},xP="/ODHack/assets/markerDanger-DlYkauEI.png";var tw={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Ev=ur.createContext&&ur.createContext(tw),MP=["attr","size","title"];function bP(t,e){if(t==null)return{};var n=DP(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function DP(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function ou(){return ou=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ou.apply(this,arguments)}function Cv(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function su(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Cv(Object(n),!0).forEach(function(r){OP(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Cv(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function OP(t,e,n){return e=NP(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function NP(t){var e=VP(t,"string");return typeof e=="symbol"?e:e+""}function VP(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nw(t){return t&&t.map((e,n)=>ur.createElement(e.tag,su({key:n},e.attr),nw(e.child)))}function rw(t){return e=>ur.createElement(UP,ou({attr:su({},t.attr)},e),nw(t.child))}function UP(t){var e=n=>{var{attr:r,size:i,title:o}=t,s=bP(t,MP),a=i||n.size||"1em",u;return n.className&&(u=n.className),t.className&&(u=(u?u+" ":"")+t.className),ur.createElement("svg",ou({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,s,{className:u,style:su(su({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),o&&ur.createElement("title",null,o),t.children)};return Ev!==void 0?ur.createElement(Ev.Consumer,null,n=>e(n)):e(tw)}function iw(t){return rw({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M304 48c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-48 368c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm208-208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zM96 256c0-26.51-21.49-48-48-48S0 229.49 0 256s21.49 48 48 48 48-21.49 48-48zm12.922 99.078c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.491-48-48-48zm294.156 0c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.49-48-48-48zM108.922 60.922c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.491-48-48-48z"},child:[]}]})(t)}function FP(t){return rw({tag:"svg",attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(t)}const BP=({selectedMarker:t,handleDirectionsClick:e,handleCloseInfoWindow:n,handleMenuToggle:r,loading:i})=>J.jsx(hT,{position:t.position,onCloseClick:n,children:J.jsxs("div",{className:"info-window-content",style:{maxWidth:"300px"},children:[J.jsxs("div",{className:"text-gray-900",children:[J.jsx("h2",{className:"text-xl font-bold mb-2",children:t.title}),J.jsx("p",{className:"mb-4",children:t.description})]}),t.imageUrl&&J.jsx("img",{src:t.imageUrl,alt:"Report",style:{maxWidth:"100%",height:"auto"}}),J.jsx("button",{onClick:e,className:`${i?"bg-orange-500":"bg-green-500"} text-white px-4 py-2 rounded w-full mt-2 flex items-center justify-center`,children:i?J.jsxs(J.Fragment,{children:[J.jsx(iw,{className:"animate-spin mr-2"}),""]}):""}),J.jsx("button",{onClick:r,className:"bg-blue-500 text-white px-4 py-2 rounded w-full mt-2",children:""})]})}),zP={width:"100%",height:"100%"},jP={lat:35.682839,lng:139.759455},$P=({selectedMarker:t,updateSelectedMarker:e,handleMenuToggle:n})=>{const[r,i]=_.useState(""),o=a=>{i(a.target.value)},s=async()=>{if(r.trim()==="")return;const a={id:Date.now().toString(),text:r,timestamp:new Date};try{const u=L_(Fd,"reports",t.id);await cA(u,{comments:[...t.comments,a]}),e({...t,comments:[...t.comments,a]}),i("")}catch(u){console.error("Error updating marker comments: ",u)}};return J.jsx("div",{className:"menu",style:{position:"absolute",right:0,top:0,width:"300px",height:"100%",backgroundColor:"white"},children:J.jsxs("div",{className:"text-gray-700 p-4",style:{display:"flex",flexDirection:"column",height:"100%"},children:[J.jsx("h3",{className:"text-lg font-bold mb-2",children:""}),J.jsx("div",{className:"comments-list mb-4",style:{flex:1,overflowY:"auto",maxHeight:"calc(100% - 150px)"},children:t.comments.length>0?t.comments.map(a=>J.jsxs("div",{className:"comment-item border-b border-gray-300 py-2",children:[J.jsx("p",{className:"text-gray-600 text-sm",children:new Date(a.timestamp).toLocaleString()}),J.jsx("p",{children:a.text})]},a.id)):J.jsx("p",{children:""})}),J.jsx("textarea",{value:r,onChange:o,placeholder:"...",className:"w-full h-32 p-2 border rounded mb-2 bg-white text-gray-700"}),J.jsx("button",{onClick:s,className:"bg-blue-500 text-white px-4 py-2 rounded w-full",children:""})]})})};function HP(){const[t,e]=_.useState([]),[n,r]=_.useState(null),i=_.useRef(null),o=_.useRef(null),[s,a]=_.useState(!1),[u,c]=_.useState(!1),[h,f]=_.useState({id:"1",title:"Marker Title",description:"Marker Description",position:{lat:0,lng:0},comments:[]}),d=T=>{f(T)},m=()=>{a(!s)};_.useEffect(()=>{(async()=>{const k=await RP();e(k)})()},[]);const C=T=>{r(T),i.current=new window.google.maps.DirectionsService,o.current=new window.google.maps.DirectionsRenderer,o.current.setMap(T)},L=T=>{f(T)},x=()=>{f(null)},E=()=>{i.current&&o.current&&h&&n&&(c(!0),navigator.geolocation.getCurrentPosition(T=>{const{latitude:k,longitude:b}=T.coords,N=new window.google.maps.LatLng(k,b),A=new window.google.maps.LatLng(h.position.lat,h.position.lng),S={origin:N,destination:A,travelMode:google.maps.TravelMode.DRIVING};i.current.route(S,(p,v)=>{c(!1),v===google.maps.DirectionsStatus.OK?o.current.setDirections(p):console.error("Directions request failed due to "+v)})},T=>{c(!1),console.error("Error getting current location:",T)}))};return J.jsx("div",{className:"w-9/12 h-full",children:J.jsx(LS,{googleMapsApiKey:"AIzaSyBBzbmTJ9fEjkRWcKyIq6wdl5g51E_KU5o",libraries:["places","directions"],children:J.jsx(TS,{mapContainerStyle:zP,center:jP,zoom:16,onLoad:C,children:t.map(T=>J.jsxs(DS,{position:T.position,onClick:()=>L(T),icon:{url:xP,scaledSize:new window.google.maps.Size(50,50)},children:[h&&h.id===T.id&&J.jsx(BP,{selectedMarker:h,handleDirectionsClick:E,handleCloseInfoWindow:x,handleMenuToggle:m,loading:u}),s&&h&&h.id===T.id&&J.jsx($P,{selectedMarker:h,handleMenuToggle:m,updateSelectedMarker:d})]},T.id))})})})}const WP=({onClose:t,title:e})=>J.jsxs("div",{children:[J.jsx("button",{onClick:t,className:"absolute top-2 right-2 text-gray-600 hover:text-gray-800 focus:outline-none",style:{backgroundColor:"transparent",border:"none",padding:0},children:J.jsx(FP,{size:24})}),J.jsx("h2",{className:"text-xl font-bold mb-2 text-gray-700",children:e})]}),GP=({onFileChange:t,imageUrl:e})=>J.jsxs("div",{className:"mb-4",children:[J.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),J.jsx("input",{type:"file",accept:"image/*",onChange:t,className:"border border-gray-300 rounded p-2 w-full"}),e&&J.jsx("div",{className:"mt-4",children:J.jsx("img",{src:e,alt:"Selected preview",className:"w-full max-h-[400px] object-contain"})})]}),qP=({title:t,description:e,onTitleChange:n,onDescriptionChange:r})=>J.jsxs(J.Fragment,{children:[J.jsxs("div",{className:"mb-4",children:[J.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),J.jsx("input",{type:"text",value:t,onChange:n,className:"border border-gray-300 rounded p-2 w-full bg-white text-gray-700"})]}),J.jsxs("div",{className:"mb-4",children:[J.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),J.jsx("textarea",{value:e,onChange:r,className:"border border-gray-300 rounded p-2 w-full bg-white text-gray-700",rows:4})]})]}),KP=({loading:t,onClick:e})=>J.jsx("div",{className:"flex justify-center items-center",children:J.jsx("button",{onClick:e,className:`px-4 py-2 rounded w-full flex justify-center items-center 
                  ${t?"bg-orange-500":"bg-blue-500"} 
                  text-white`,disabled:t,children:t?J.jsxs(J.Fragment,{children:[J.jsx(iw,{className:"animate-spin mr-2"}),"..."]}):""})}),QP=async t=>{const e=SP(PP,`images/${t.name}`);return await EP(e,t),await CP(e)},ZP=async(t,e,n,r)=>hA(T_(Fd,"reports"),{title:t,description:e,position:n,imageUrl:r,timestamp:new Date,comments:[]});function XP(t,e){return e.forEach(function(n){n&&typeof n!="string"&&!Array.isArray(n)&&Object.keys(n).forEach(function(r){if(r!=="default"&&!(r in t)){var i=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:function(){return n[r]}})}})}),Object.freeze(t)}function ow(t,e){return new Promise(function(n,r){let i;return YP(t).then(function(o){try{return i=o,n(new Blob([e.slice(0,2),i,e.slice(2)],{type:"image/jpeg"}))}catch(s){return r(s)}},r)})}const YP=t=>new Promise((e,n)=>{const r=new FileReader;r.addEventListener("load",({target:{result:i}})=>{const o=new DataView(i);let s=0;if(o.getUint16(s)!==65496)return n("not a valid JPEG");for(s+=2;;){const a=o.getUint16(s);if(a===65498)break;const u=o.getUint16(s+2);if(a===65505&&o.getUint32(s+4)===1165519206){const c=s+10;let h;switch(o.getUint16(c)){case 18761:h=!0;break;case 19789:h=!1;break;default:return n("TIFF header contains invalid endian")}if(o.getUint16(c+2,h)!==42)return n("TIFF header contains invalid version");const f=o.getUint32(c+4,h),d=c+f+2+12*o.getUint16(c+f,h);for(let m=c+f+2;m<d;m+=12)if(o.getUint16(m,h)==274){if(o.getUint16(m+2,h)!==3)return n("Orientation data type is invalid");if(o.getUint32(m+4,h)!==1)return n("Orientation data count is invalid");o.setUint16(m+8,1,h);break}return e(i.slice(s,s+2+u))}s+=2+u}return e(new Blob)}),r.readAsArrayBuffer(t)});var au={},JP={get exports(){return au},set exports(t){au=t}};(function(t){var e,n,r={};JP.exports=r,r.parse=function(i,o){for(var s=r.bin.readUshort,a=r.bin.readUint,u=0,c={},h=new Uint8Array(i),f=h.length-4;a(h,f)!=101010256;)f--;u=f,u+=4;var d=s(h,u+=4);s(h,u+=2);var m=a(h,u+=2),C=a(h,u+=4);u+=4,u=C;for(var L=0;L<d;L++){a(h,u),u+=4,u+=4,u+=4,a(h,u+=4),m=a(h,u+=4);var x=a(h,u+=4),E=s(h,u+=4),T=s(h,u+2),k=s(h,u+4);u+=6;var b=a(h,u+=8);u+=4,u+=E+T+k,r._readLocal(h,b,c,m,x,o)}return c},r._readLocal=function(i,o,s,a,u,c){var h=r.bin.readUshort,f=r.bin.readUint;f(i,o),h(i,o+=4),h(i,o+=2);var d=h(i,o+=2);f(i,o+=2),f(i,o+=4),o+=4;var m=h(i,o+=8),C=h(i,o+=2);o+=2;var L=r.bin.readUTF8(i,o,m);if(o+=m,o+=C,c)s[L]={size:u,csize:a};else{var x=new Uint8Array(i.buffer,o);if(d==0)s[L]=new Uint8Array(x.buffer.slice(o,o+a));else{if(d!=8)throw"unknown compression method: "+d;var E=new Uint8Array(u);r.inflateRaw(x,E),s[L]=E}}},r.inflateRaw=function(i,o){return r.F.inflate(i,o)},r.inflate=function(i,o){return i[0],i[1],r.inflateRaw(new Uint8Array(i.buffer,i.byteOffset+2,i.length-6),o)},r.deflate=function(i,o){o==null&&(o={level:6});var s=0,a=new Uint8Array(50+Math.floor(1.1*i.length));a[s]=120,a[s+1]=156,s+=2,s=r.F.deflateRaw(i,a,s,o.level);var u=r.adler(i,0,i.length);return a[s+0]=u>>>24&255,a[s+1]=u>>>16&255,a[s+2]=u>>>8&255,a[s+3]=u>>>0&255,new Uint8Array(a.buffer,0,s+4)},r.deflateRaw=function(i,o){o==null&&(o={level:6});var s=new Uint8Array(50+Math.floor(1.1*i.length)),a=r.F.deflateRaw(i,s,a,o.level);return new Uint8Array(s.buffer,0,a)},r.encode=function(i,o){o==null&&(o=!1);var s=0,a=r.bin.writeUint,u=r.bin.writeUshort,c={};for(var h in i){var f=!r._noNeed(h)&&!o,d=i[h],m=r.crc.crc(d,0,d.length);c[h]={cpr:f,usize:d.length,crc:m,file:f?r.deflateRaw(d):d}}for(var h in c)s+=c[h].file.length+30+46+2*r.bin.sizeUTF8(h);s+=22;var C=new Uint8Array(s),L=0,x=[];for(var h in c){var E=c[h];x.push(L),L=r._writeHeader(C,L,h,E,0)}var T=0,k=L;for(var h in c)E=c[h],x.push(L),L=r._writeHeader(C,L,h,E,1,x[T++]);var b=L-k;return a(C,L,101010256),L+=4,u(C,L+=4,T),u(C,L+=2,T),a(C,L+=2,b),a(C,L+=4,k),L+=4,L+=2,C.buffer},r._noNeed=function(i){var o=i.split(".").pop().toLowerCase();return"png,jpg,jpeg,zip".indexOf(o)!=-1},r._writeHeader=function(i,o,s,a,u,c){var h=r.bin.writeUint,f=r.bin.writeUshort,d=a.file;return h(i,o,u==0?67324752:33639248),o+=4,u==1&&(o+=2),f(i,o,20),f(i,o+=2,0),f(i,o+=2,a.cpr?8:0),h(i,o+=2,0),h(i,o+=4,a.crc),h(i,o+=4,d.length),h(i,o+=4,a.usize),f(i,o+=4,r.bin.sizeUTF8(s)),f(i,o+=2,0),o+=2,u==1&&(o+=2,o+=2,h(i,o+=6,c),o+=4),o+=r.bin.writeUTF8(i,o,s),u==0&&(i.set(d,o),o+=d.length),o},r.crc={table:function(){for(var i=new Uint32Array(256),o=0;o<256;o++){for(var s=o,a=0;a<8;a++)1&s?s=3988292384^s>>>1:s>>>=1;i[o]=s}return i}(),update:function(i,o,s,a){for(var u=0;u<a;u++)i=r.crc.table[255&(i^o[s+u])]^i>>>8;return i},crc:function(i,o,s){return 4294967295^r.crc.update(4294967295,i,o,s)}},r.adler=function(i,o,s){for(var a=1,u=0,c=o,h=o+s;c<h;){for(var f=Math.min(c+5552,h);c<f;)u+=a+=i[c++];a%=65521,u%=65521}return u<<16|a},r.bin={readUshort:function(i,o){return i[o]|i[o+1]<<8},writeUshort:function(i,o,s){i[o]=255&s,i[o+1]=s>>8&255},readUint:function(i,o){return 16777216*i[o+3]+(i[o+2]<<16|i[o+1]<<8|i[o])},writeUint:function(i,o,s){i[o]=255&s,i[o+1]=s>>8&255,i[o+2]=s>>16&255,i[o+3]=s>>24&255},readASCII:function(i,o,s){for(var a="",u=0;u<s;u++)a+=String.fromCharCode(i[o+u]);return a},writeASCII:function(i,o,s){for(var a=0;a<s.length;a++)i[o+a]=s.charCodeAt(a)},pad:function(i){return i.length<2?"0"+i:i},readUTF8:function(i,o,s){for(var a,u="",c=0;c<s;c++)u+="%"+r.bin.pad(i[o+c].toString(16));try{a=decodeURIComponent(u)}catch{return r.bin.readASCII(i,o,s)}return a},writeUTF8:function(i,o,s){for(var a=s.length,u=0,c=0;c<a;c++){var h=s.charCodeAt(c);if(!(4294967168&h))i[o+u]=h,u++;else if(!(4294965248&h))i[o+u]=192|h>>6,i[o+u+1]=128|h>>0&63,u+=2;else if(!(4294901760&h))i[o+u]=224|h>>12,i[o+u+1]=128|h>>6&63,i[o+u+2]=128|h>>0&63,u+=3;else{if(4292870144&h)throw"e";i[o+u]=240|h>>18,i[o+u+1]=128|h>>12&63,i[o+u+2]=128|h>>6&63,i[o+u+3]=128|h>>0&63,u+=4}}return u},sizeUTF8:function(i){for(var o=i.length,s=0,a=0;a<o;a++){var u=i.charCodeAt(a);if(!(4294967168&u))s++;else if(!(4294965248&u))s+=2;else if(!(4294901760&u))s+=3;else{if(4292870144&u)throw"e";s+=4}}return s}},r.F={},r.F.deflateRaw=function(i,o,s,a){var u=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][a],c=r.F.U,h=r.F._goodIndex;r.F._hash;var f=r.F._putsE,d=0,m=s<<3,C=0,L=i.length;if(a==0){for(;d<L;)f(o,m,d+(P=Math.min(65535,L-d))==L?1:0),m=r.F._copyExact(i,d,P,o,m+8),d+=P;return m>>>3}var x=c.lits,E=c.strt,T=c.prev,k=0,b=0,N=0,A=0,S=0,p=0;for(L>2&&(E[p=r.F._hash(i,0)]=0),d=0;d<L;d++){if(S=p,d+1<L-2){p=r.F._hash(i,d+1);var v=d+1&32767;T[v]=E[p],E[p]=v}if(C<=d){(k>14e3||b>26697)&&L-d>100&&(C<d&&(x[k]=d-C,k+=2,C=d),m=r.F._writeBlock(d==L-1||C==L?1:0,x,k,A,i,N,d-N,o,m),k=b=A=0,N=d);var y=0;d<L-2&&(y=r.F._bestMatch(i,d,T,S,Math.min(u[2],L-d),u[3]));var P=y>>>16,R=65535&y;if(y!=0){R=65535&y;var I=h(P=y>>>16,c.of0);c.lhst[257+I]++;var V=h(R,c.df0);c.dhst[V]++,A+=c.exb[I]+c.dxb[V],x[k]=P<<23|d-C,x[k+1]=R<<16|I<<8|V,k+=2,C=d+P}else c.lhst[i[d]]++;b++}}for(N==d&&i.length!=0||(C<d&&(x[k]=d-C,k+=2,C=d),m=r.F._writeBlock(1,x,k,A,i,N,d-N,o,m),k=0,b=0,k=b=A=0,N=d);7&m;)m++;return m>>>3},r.F._bestMatch=function(i,o,s,a,u,c){var h=32767&o,f=s[h],d=h-f+32768&32767;if(f==h||a!=r.F._hash(i,o-d))return 0;for(var m=0,C=0,L=Math.min(32767,o);d<=L&&--c!=0&&f!=h;){if(m==0||i[o+m]==i[o+m-d]){var x=r.F._howLong(i,o,d);if(x>m){if(C=d,(m=x)>=u)break;d+2<x&&(x=d+2);for(var E=0,T=0;T<x-2;T++){var k=o-d+T+32768&32767,b=k-s[k]+32768&32767;b>E&&(E=b,f=k)}}}d+=(h=f)-(f=s[h])+32768&32767}return m<<16|C},r.F._howLong=function(i,o,s){if(i[o]!=i[o-s]||i[o+1]!=i[o+1-s]||i[o+2]!=i[o+2-s])return 0;var a=o,u=Math.min(i.length,o+258);for(o+=3;o<u&&i[o]==i[o-s];)o++;return o-a},r.F._hash=function(i,o){return(i[o]<<8|i[o+1])+(i[o+2]<<4)&65535},r.saved=0,r.F._writeBlock=function(i,o,s,a,u,c,h,f,d){var m,C,L,x,E,T,k,b,N,A=r.F.U,S=r.F._putsF,p=r.F._putsE;A.lhst[256]++,C=(m=r.F.getTrees())[0],L=m[1],x=m[2],E=m[3],T=m[4],k=m[5],b=m[6],N=m[7];var v=32+(d+3&7?8-(d+3&7):0)+(h<<3),y=a+r.F.contSize(A.fltree,A.lhst)+r.F.contSize(A.fdtree,A.dhst),P=a+r.F.contSize(A.ltree,A.lhst)+r.F.contSize(A.dtree,A.dhst);P+=14+3*k+r.F.contSize(A.itree,A.ihst)+(2*A.ihst[16]+3*A.ihst[17]+7*A.ihst[18]);for(var R=0;R<286;R++)A.lhst[R]=0;for(R=0;R<30;R++)A.dhst[R]=0;for(R=0;R<19;R++)A.ihst[R]=0;var I=v<y&&v<P?0:y<P?1:2;if(S(f,d,i),S(f,d+1,I),d+=3,I==0){for(;7&d;)d++;d=r.F._copyExact(u,c,h,f,d)}else{var V,z;if(I==1&&(V=A.fltree,z=A.fdtree),I==2){r.F.makeCodes(A.ltree,C),r.F.revCodes(A.ltree,C),r.F.makeCodes(A.dtree,L),r.F.revCodes(A.dtree,L),r.F.makeCodes(A.itree,x),r.F.revCodes(A.itree,x),V=A.ltree,z=A.dtree,p(f,d,E-257),p(f,d+=5,T-1),p(f,d+=5,k-4),d+=4;for(var O=0;O<k;O++)p(f,d+3*O,A.itree[1+(A.ordr[O]<<1)]);d+=3*k,d=r.F._codeTiny(b,A.itree,f,d),d=r.F._codeTiny(N,A.itree,f,d)}for(var M=c,F=0;F<s;F+=2){for(var U=o[F],B=U>>>23,K=M+(8388607&U);M<K;)d=r.F._writeLit(u[M++],V,f,d);if(B!=0){var G=o[F+1],Q=G>>16,q=G>>8&255,H=255&G;p(f,d=r.F._writeLit(257+q,V,f,d),B-A.of0[q]),d+=A.exb[q],S(f,d=r.F._writeLit(H,z,f,d),Q-A.df0[H]),d+=A.dxb[H],M+=B}}d=r.F._writeLit(256,V,f,d)}return d},r.F._copyExact=function(i,o,s,a,u){var c=u>>>3;return a[c]=s,a[c+1]=s>>>8,a[c+2]=255-a[c],a[c+3]=255-a[c+1],c+=4,a.set(new Uint8Array(i.buffer,o,s),c),u+(s+4<<3)},r.F.getTrees=function(){for(var i=r.F.U,o=r.F._hufTree(i.lhst,i.ltree,15),s=r.F._hufTree(i.dhst,i.dtree,15),a=[],u=r.F._lenCodes(i.ltree,a),c=[],h=r.F._lenCodes(i.dtree,c),f=0;f<a.length;f+=2)i.ihst[a[f]]++;for(f=0;f<c.length;f+=2)i.ihst[c[f]]++;for(var d=r.F._hufTree(i.ihst,i.itree,7),m=19;m>4&&i.itree[1+(i.ordr[m-1]<<1)]==0;)m--;return[o,s,d,u,h,m,a,c]},r.F.getSecond=function(i){for(var o=[],s=0;s<i.length;s+=2)o.push(i[s+1]);return o},r.F.nonZero=function(i){for(var o="",s=0;s<i.length;s+=2)i[s+1]!=0&&(o+=(s>>1)+",");return o},r.F.contSize=function(i,o){for(var s=0,a=0;a<o.length;a++)s+=o[a]*i[1+(a<<1)];return s},r.F._codeTiny=function(i,o,s,a){for(var u=0;u<i.length;u+=2){var c=i[u],h=i[u+1];a=r.F._writeLit(c,o,s,a);var f=c==16?2:c==17?3:7;c>15&&(r.F._putsE(s,a,h,f),a+=f)}return a},r.F._lenCodes=function(i,o){for(var s=i.length;s!=2&&i[s-1]==0;)s-=2;for(var a=0;a<s;a+=2){var u=i[a+1],c=a+3<s?i[a+3]:-1,h=a+5<s?i[a+5]:-1,f=a==0?-1:i[a-1];if(u==0&&c==u&&h==u){for(var d=a+5;d+2<s&&i[d+2]==u;)d+=2;(m=Math.min(d+1-a>>>1,138))<11?o.push(17,m-3):o.push(18,m-11),a+=2*m-2}else if(u==f&&c==u&&h==u){for(d=a+5;d+2<s&&i[d+2]==u;)d+=2;var m=Math.min(d+1-a>>>1,6);o.push(16,m-3),a+=2*m-2}else o.push(u,0)}return s>>>1},r.F._hufTree=function(i,o,s){var a=[],u=i.length,c=o.length,h=0;for(h=0;h<c;h+=2)o[h]=0,o[h+1]=0;for(h=0;h<u;h++)i[h]!=0&&a.push({lit:h,f:i[h]});var f=a.length,d=a.slice(0);if(f==0)return 0;if(f==1){var m=a[0].lit;return d=m==0?1:0,o[1+(m<<1)]=1,o[1+(d<<1)]=1,1}a.sort(function(b,N){return b.f-N.f});var C=a[0],L=a[1],x=0,E=1,T=2;for(a[0]={lit:-1,f:C.f+L.f,l:C,r:L,d:0};E!=f-1;)C=x!=E&&(T==f||a[x].f<a[T].f)?a[x++]:a[T++],L=x!=E&&(T==f||a[x].f<a[T].f)?a[x++]:a[T++],a[E++]={lit:-1,f:C.f+L.f,l:C,r:L};var k=r.F.setDepth(a[E-1],0);for(k>s&&(r.F.restrictDepth(d,s,k),k=s),h=0;h<f;h++)o[1+(d[h].lit<<1)]=d[h].d;return k},r.F.setDepth=function(i,o){return i.lit!=-1?(i.d=o,o):Math.max(r.F.setDepth(i.l,o+1),r.F.setDepth(i.r,o+1))},r.F.restrictDepth=function(i,o,s){var a=0,u=1<<s-o,c=0;for(i.sort(function(f,d){return d.d==f.d?f.f-d.f:d.d-f.d}),a=0;a<i.length&&i[a].d>o;a++){var h=i[a].d;i[a].d=o,c+=u-(1<<s-h)}for(c>>>=s-o;c>0;)(h=i[a].d)<o?(i[a].d++,c-=1<<o-h-1):a++;for(;a>=0;a--)i[a].d==o&&c<0&&(i[a].d--,c++);c!=0&&console.log("debt left")},r.F._goodIndex=function(i,o){var s=0;return o[16|s]<=i&&(s|=16),o[8|s]<=i&&(s|=8),o[4|s]<=i&&(s|=4),o[2|s]<=i&&(s|=2),o[1|s]<=i&&(s|=1),s},r.F._writeLit=function(i,o,s,a){return r.F._putsF(s,a,o[i<<1]),a+o[1+(i<<1)]},r.F.inflate=function(i,o){var s=Uint8Array;if(i[0]==3&&i[1]==0)return o||new s(0);var a=r.F,u=a._bitsF,c=a._bitsE,h=a._decodeTiny,f=a.makeCodes,d=a.codes2map,m=a._get17,C=a.U,L=o==null;L&&(o=new s(i.length>>>2<<3));for(var x,E,T=0,k=0,b=0,N=0,A=0,S=0,p=0,v=0,y=0;T==0;)if(T=u(i,y,1),k=u(i,y+1,2),y+=3,k!=0){if(L&&(o=r.F._check(o,v+(1<<17))),k==1&&(x=C.flmap,E=C.fdmap,S=511,p=31),k==2){b=c(i,y,5)+257,N=c(i,y+5,5)+1,A=c(i,y+10,4)+4,y+=14;for(var P=0;P<38;P+=2)C.itree[P]=0,C.itree[P+1]=0;var R=1;for(P=0;P<A;P++){var I=c(i,y+3*P,3);C.itree[1+(C.ordr[P]<<1)]=I,I>R&&(R=I)}y+=3*A,f(C.itree,R),d(C.itree,R,C.imap),x=C.lmap,E=C.dmap,y=h(C.imap,(1<<R)-1,b+N,i,y,C.ttree);var V=a._copyOut(C.ttree,0,b,C.ltree);S=(1<<V)-1;var z=a._copyOut(C.ttree,b,N,C.dtree);p=(1<<z)-1,f(C.ltree,V),d(C.ltree,V,x),f(C.dtree,z),d(C.dtree,z,E)}for(;;){var O=x[m(i,y)&S];y+=15&O;var M=O>>>4;if(!(M>>>8))o[v++]=M;else{if(M==256)break;var F=v+M-254;if(M>264){var U=C.ldef[M-257];F=v+(U>>>3)+c(i,y,7&U),y+=7&U}var B=E[m(i,y)&p];y+=15&B;var K=B>>>4,G=C.ddef[K],Q=(G>>>4)+u(i,y,15&G);for(y+=15&G,L&&(o=r.F._check(o,v+(1<<17)));v<F;)o[v]=o[v++-Q],o[v]=o[v++-Q],o[v]=o[v++-Q],o[v]=o[v++-Q];v=F}}}else{7&y&&(y+=8-(7&y));var q=4+(y>>>3),H=i[q-4]|i[q-3]<<8;L&&(o=r.F._check(o,v+H)),o.set(new s(i.buffer,i.byteOffset+q,H),v),y=q+H<<3,v+=H}return o.length==v?o:o.slice(0,v)},r.F._check=function(i,o){var s=i.length;if(o<=s)return i;var a=new Uint8Array(Math.max(s<<1,o));return a.set(i,0),a},r.F._decodeTiny=function(i,o,s,a,u,c){for(var h=r.F._bitsE,f=r.F._get17,d=0;d<s;){var m=i[f(a,u)&o];u+=15&m;var C=m>>>4;if(C<=15)c[d]=C,d++;else{var L=0,x=0;C==16?(x=3+h(a,u,2),u+=2,L=c[d-1]):C==17?(x=3+h(a,u,3),u+=3):C==18&&(x=11+h(a,u,7),u+=7);for(var E=d+x;d<E;)c[d]=L,d++}}return u},r.F._copyOut=function(i,o,s,a){for(var u=0,c=0,h=a.length>>>1;c<s;){var f=i[c+o];a[c<<1]=0,a[1+(c<<1)]=f,f>u&&(u=f),c++}for(;c<h;)a[c<<1]=0,a[1+(c<<1)]=0,c++;return u},r.F.makeCodes=function(i,o){for(var s,a,u,c,h=r.F.U,f=i.length,d=h.bl_count,m=0;m<=o;m++)d[m]=0;for(m=1;m<f;m+=2)d[i[m]]++;var C=h.next_code;for(s=0,d[0]=0,a=1;a<=o;a++)s=s+d[a-1]<<1,C[a]=s;for(u=0;u<f;u+=2)(c=i[u+1])!=0&&(i[u]=C[c],C[c]++)},r.F.codes2map=function(i,o,s){for(var a=i.length,u=r.F.U.rev15,c=0;c<a;c+=2)if(i[c+1]!=0)for(var h=c>>1,f=i[c+1],d=h<<4|f,m=o-f,C=i[c]<<m,L=C+(1<<m);C!=L;)s[u[C]>>>15-o]=d,C++},r.F.revCodes=function(i,o){for(var s=r.F.U.rev15,a=15-o,u=0;u<i.length;u+=2){var c=i[u]<<o-i[u+1];i[u]=s[c]>>>a}},r.F._putsE=function(i,o,s){s<<=7&o;var a=o>>>3;i[a]|=s,i[a+1]|=s>>>8},r.F._putsF=function(i,o,s){s<<=7&o;var a=o>>>3;i[a]|=s,i[a+1]|=s>>>8,i[a+2]|=s>>>16},r.F._bitsE=function(i,o,s){return(i[o>>>3]|i[1+(o>>>3)]<<8)>>>(7&o)&(1<<s)-1},r.F._bitsF=function(i,o,s){return(i[o>>>3]|i[1+(o>>>3)]<<8|i[2+(o>>>3)]<<16)>>>(7&o)&(1<<s)-1},r.F._get17=function(i,o){return(i[o>>>3]|i[1+(o>>>3)]<<8|i[2+(o>>>3)]<<16)>>>(7&o)},r.F._get25=function(i,o){return(i[o>>>3]|i[1+(o>>>3)]<<8|i[2+(o>>>3)]<<16|i[3+(o>>>3)]<<24)>>>(7&o)},r.F.U=(e=Uint16Array,n=Uint32Array,{next_code:new e(16),bl_count:new e(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new e(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new n(32),flmap:new e(512),fltree:[],fdmap:new e(32),fdtree:[],lmap:new e(32768),ltree:[],ttree:[],dmap:new e(32768),dtree:[],imap:new e(512),itree:[],rev15:new e(32768),lhst:new n(286),dhst:new n(30),ihst:new n(19),lits:new n(15e3),strt:new e(65536),prev:new e(32768)}),function(){for(var i=r.F.U,o=0;o<32768;o++){var s=o;s=(4278255360&(s=(4042322160&(s=(3435973836&(s=(2863311530&s)>>>1|(1431655765&s)<<1))>>>2|(858993459&s)<<2))>>>4|(252645135&s)<<4))>>>8|(16711935&s)<<8,i.rev15[o]=(s>>>16|s<<16)>>>17}function a(u,c,h){for(;c--!=0;)u.push(0,h)}for(o=0;o<32;o++)i.ldef[o]=i.of0[o]<<3|i.exb[o],i.ddef[o]=i.df0[o]<<4|i.dxb[o];a(i.fltree,144,8),a(i.fltree,112,9),a(i.fltree,24,7),a(i.fltree,8,8),r.F.makeCodes(i.fltree,9),r.F.codes2map(i.fltree,9,i.flmap),r.F.revCodes(i.fltree,9),a(i.fdtree,32,5),r.F.makeCodes(i.fdtree,5),r.F.codes2map(i.fdtree,5,i.fdmap),r.F.revCodes(i.fdtree,5),a(i.itree,19,0),a(i.ltree,286,0),a(i.dtree,30,0),a(i.ttree,320,0)}()})();var eR=XP({__proto__:null,default:au},[au]);const bn=function(){var t={nextZero(h,f){for(;h[f]!=0;)f++;return f},readUshort:(h,f)=>h[f]<<8|h[f+1],writeUshort(h,f,d){h[f]=d>>8&255,h[f+1]=255&d},readUint:(h,f)=>16777216*h[f]+(h[f+1]<<16|h[f+2]<<8|h[f+3]),writeUint(h,f,d){h[f]=d>>24&255,h[f+1]=d>>16&255,h[f+2]=d>>8&255,h[f+3]=255&d},readASCII(h,f,d){let m="";for(let C=0;C<d;C++)m+=String.fromCharCode(h[f+C]);return m},writeASCII(h,f,d){for(let m=0;m<d.length;m++)h[f+m]=d.charCodeAt(m)},readBytes(h,f,d){const m=[];for(let C=0;C<d;C++)m.push(h[f+C]);return m},pad:h=>h.length<2?`0${h}`:h,readUTF8(h,f,d){let m,C="";for(let L=0;L<d;L++)C+=`%${t.pad(h[f+L].toString(16))}`;try{m=decodeURIComponent(C)}catch{return t.readASCII(h,f,d)}return m}};function e(h,f,d,m){const C=f*d,L=o(m),x=Math.ceil(f*L/8),E=new Uint8Array(4*C),T=new Uint32Array(E.buffer),{ctype:k}=m,{depth:b}=m,N=t.readUshort;if(k==6){const U=C<<2;if(b==8)for(var A=0;A<U;A+=4)E[A]=h[A],E[A+1]=h[A+1],E[A+2]=h[A+2],E[A+3]=h[A+3];if(b==16)for(A=0;A<U;A++)E[A]=h[A<<1]}else if(k==2){const U=m.tabs.tRNS;if(U==null){if(b==8)for(A=0;A<C;A++){var S=3*A;T[A]=255<<24|h[S+2]<<16|h[S+1]<<8|h[S]}if(b==16)for(A=0;A<C;A++)S=6*A,T[A]=255<<24|h[S+4]<<16|h[S+2]<<8|h[S]}else{var p=U[0];const B=U[1],K=U[2];if(b==8)for(A=0;A<C;A++){var v=A<<2;S=3*A,T[A]=255<<24|h[S+2]<<16|h[S+1]<<8|h[S],h[S]==p&&h[S+1]==B&&h[S+2]==K&&(E[v+3]=0)}if(b==16)for(A=0;A<C;A++)v=A<<2,S=6*A,T[A]=255<<24|h[S+4]<<16|h[S+2]<<8|h[S],N(h,S)==p&&N(h,S+2)==B&&N(h,S+4)==K&&(E[v+3]=0)}}else if(k==3){const U=m.tabs.PLTE,B=m.tabs.tRNS,K=B?B.length:0;if(b==1)for(var y=0;y<d;y++){var P=y*x,R=y*f;for(A=0;A<f;A++){v=R+A<<2;var I=3*(V=h[P+(A>>3)]>>7-((7&A)<<0)&1);E[v]=U[I],E[v+1]=U[I+1],E[v+2]=U[I+2],E[v+3]=V<K?B[V]:255}}if(b==2)for(y=0;y<d;y++)for(P=y*x,R=y*f,A=0;A<f;A++)v=R+A<<2,I=3*(V=h[P+(A>>2)]>>6-((3&A)<<1)&3),E[v]=U[I],E[v+1]=U[I+1],E[v+2]=U[I+2],E[v+3]=V<K?B[V]:255;if(b==4)for(y=0;y<d;y++)for(P=y*x,R=y*f,A=0;A<f;A++)v=R+A<<2,I=3*(V=h[P+(A>>1)]>>4-((1&A)<<2)&15),E[v]=U[I],E[v+1]=U[I+1],E[v+2]=U[I+2],E[v+3]=V<K?B[V]:255;if(b==8)for(A=0;A<C;A++){var V;v=A<<2,I=3*(V=h[A]),E[v]=U[I],E[v+1]=U[I+1],E[v+2]=U[I+2],E[v+3]=V<K?B[V]:255}}else if(k==4){if(b==8)for(A=0;A<C;A++){v=A<<2;var z=h[O=A<<1];E[v]=z,E[v+1]=z,E[v+2]=z,E[v+3]=h[O+1]}if(b==16)for(A=0;A<C;A++){var O;v=A<<2,z=h[O=A<<2],E[v]=z,E[v+1]=z,E[v+2]=z,E[v+3]=h[O+2]}}else if(k==0)for(p=m.tabs.tRNS?m.tabs.tRNS:-1,y=0;y<d;y++){const U=y*x,B=y*f;if(b==1)for(var M=0;M<f;M++){var F=(z=255*(h[U+(M>>>3)]>>>7-(7&M)&1))==255*p?0:255;T[B+M]=F<<24|z<<16|z<<8|z}else if(b==2)for(M=0;M<f;M++)F=(z=85*(h[U+(M>>>2)]>>>6-((3&M)<<1)&3))==85*p?0:255,T[B+M]=F<<24|z<<16|z<<8|z;else if(b==4)for(M=0;M<f;M++)F=(z=17*(h[U+(M>>>1)]>>>4-((1&M)<<2)&15))==17*p?0:255,T[B+M]=F<<24|z<<16|z<<8|z;else if(b==8)for(M=0;M<f;M++)F=(z=h[U+M])==p?0:255,T[B+M]=F<<24|z<<16|z<<8|z;else if(b==16)for(M=0;M<f;M++)z=h[U+(M<<1)],F=N(h,U+(M<<1))==p?0:255,T[B+M]=F<<24|z<<16|z<<8|z}return E}function n(h,f,d,m){const C=o(h),L=Math.ceil(d*C/8),x=new Uint8Array((L+1+h.interlace)*m);return f=h.tabs.CgBI?i(f,x):r(f,x),h.interlace==0?f=s(f,h,0,d,m):h.interlace==1&&(f=function(T,k){const b=k.width,N=k.height,A=o(k),S=A>>3,p=Math.ceil(b*A/8),v=new Uint8Array(N*p);let y=0;const P=[0,0,4,0,2,0,1],R=[0,4,0,2,0,1,0],I=[8,8,8,4,4,2,2],V=[8,8,4,4,2,2,1];let z=0;for(;z<7;){const M=I[z],F=V[z];let U=0,B=0,K=P[z];for(;K<N;)K+=M,B++;let G=R[z];for(;G<b;)G+=F,U++;const Q=Math.ceil(U*A/8);s(T,k,y,U,B);let q=0,H=P[z];for(;H<N;){let j=R[z],oe=y+q*Q<<3;for(;j<b;){var O;if(A==1&&(O=(O=T[oe>>3])>>7-(7&oe)&1,v[H*p+(j>>3)]|=O<<7-((7&j)<<0)),A==2&&(O=(O=T[oe>>3])>>6-(7&oe)&3,v[H*p+(j>>2)]|=O<<6-((3&j)<<1)),A==4&&(O=(O=T[oe>>3])>>4-(7&oe)&15,v[H*p+(j>>1)]|=O<<4-((1&j)<<2)),A>=8){const he=H*p+j*S;for(let ee=0;ee<S;ee++)v[he+ee]=T[(oe>>3)+ee]}oe+=A,j+=F}q++,H+=M}U*B!=0&&(y+=B*(1+Q)),z+=1}return v}(f,h)),f}function r(h,f){return i(new Uint8Array(h.buffer,2,h.length-6),f)}var i=function(){const h={H:{}};return h.H.N=function(f,d){const m=Uint8Array;let C,L,x=0,E=0,T=0,k=0,b=0,N=0,A=0,S=0,p=0;if(f[0]==3&&f[1]==0)return d||new m(0);const v=h.H,y=v.b,P=v.e,R=v.R,I=v.n,V=v.A,z=v.Z,O=v.m,M=d==null;for(M&&(d=new m(f.length>>>2<<5));x==0;)if(x=y(f,p,1),E=y(f,p+1,2),p+=3,E!=0){if(M&&(d=h.H.W(d,S+(1<<17))),E==1&&(C=O.J,L=O.h,N=511,A=31),E==2){T=P(f,p,5)+257,k=P(f,p+5,5)+1,b=P(f,p+10,4)+4,p+=14;let U=1;for(var F=0;F<38;F+=2)O.Q[F]=0,O.Q[F+1]=0;for(F=0;F<b;F++){const G=P(f,p+3*F,3);O.Q[1+(O.X[F]<<1)]=G,G>U&&(U=G)}p+=3*b,I(O.Q,U),V(O.Q,U,O.u),C=O.w,L=O.d,p=R(O.u,(1<<U)-1,T+k,f,p,O.v);const B=v.V(O.v,0,T,O.C);N=(1<<B)-1;const K=v.V(O.v,T,k,O.D);A=(1<<K)-1,I(O.C,B),V(O.C,B,C),I(O.D,K),V(O.D,K,L)}for(;;){const U=C[z(f,p)&N];p+=15&U;const B=U>>>4;if(!(B>>>8))d[S++]=B;else{if(B==256)break;{let K=S+B-254;if(B>264){const j=O.q[B-257];K=S+(j>>>3)+P(f,p,7&j),p+=7&j}const G=L[z(f,p)&A];p+=15&G;const Q=G>>>4,q=O.c[Q],H=(q>>>4)+y(f,p,15&q);for(p+=15&q;S<K;)d[S]=d[S++-H],d[S]=d[S++-H],d[S]=d[S++-H],d[S]=d[S++-H];S=K}}}}else{7&p&&(p+=8-(7&p));const U=4+(p>>>3),B=f[U-4]|f[U-3]<<8;M&&(d=h.H.W(d,S+B)),d.set(new m(f.buffer,f.byteOffset+U,B),S),p=U+B<<3,S+=B}return d.length==S?d:d.slice(0,S)},h.H.W=function(f,d){const m=f.length;if(d<=m)return f;const C=new Uint8Array(m<<1);return C.set(f,0),C},h.H.R=function(f,d,m,C,L,x){const E=h.H.e,T=h.H.Z;let k=0;for(;k<m;){const b=f[T(C,L)&d];L+=15&b;const N=b>>>4;if(N<=15)x[k]=N,k++;else{let A=0,S=0;N==16?(S=3+E(C,L,2),L+=2,A=x[k-1]):N==17?(S=3+E(C,L,3),L+=3):N==18&&(S=11+E(C,L,7),L+=7);const p=k+S;for(;k<p;)x[k]=A,k++}}return L},h.H.V=function(f,d,m,C){let L=0,x=0;const E=C.length>>>1;for(;x<m;){const T=f[x+d];C[x<<1]=0,C[1+(x<<1)]=T,T>L&&(L=T),x++}for(;x<E;)C[x<<1]=0,C[1+(x<<1)]=0,x++;return L},h.H.n=function(f,d){const m=h.H.m,C=f.length;let L,x,E,T;const k=m.j;for(var b=0;b<=d;b++)k[b]=0;for(b=1;b<C;b+=2)k[f[b]]++;const N=m.K;for(L=0,k[0]=0,x=1;x<=d;x++)L=L+k[x-1]<<1,N[x]=L;for(E=0;E<C;E+=2)T=f[E+1],T!=0&&(f[E]=N[T],N[T]++)},h.H.A=function(f,d,m){const C=f.length,L=h.H.m.r;for(let x=0;x<C;x+=2)if(f[x+1]!=0){const E=x>>1,T=f[x+1],k=E<<4|T,b=d-T;let N=f[x]<<b;const A=N+(1<<b);for(;N!=A;)m[L[N]>>>15-d]=k,N++}},h.H.l=function(f,d){const m=h.H.m.r,C=15-d;for(let L=0;L<f.length;L+=2){const x=f[L]<<d-f[L+1];f[L]=m[x]>>>C}},h.H.M=function(f,d,m){m<<=7&d;const C=d>>>3;f[C]|=m,f[C+1]|=m>>>8},h.H.I=function(f,d,m){m<<=7&d;const C=d>>>3;f[C]|=m,f[C+1]|=m>>>8,f[C+2]|=m>>>16},h.H.e=function(f,d,m){return(f[d>>>3]|f[1+(d>>>3)]<<8)>>>(7&d)&(1<<m)-1},h.H.b=function(f,d,m){return(f[d>>>3]|f[1+(d>>>3)]<<8|f[2+(d>>>3)]<<16)>>>(7&d)&(1<<m)-1},h.H.Z=function(f,d){return(f[d>>>3]|f[1+(d>>>3)]<<8|f[2+(d>>>3)]<<16)>>>(7&d)},h.H.i=function(f,d){return(f[d>>>3]|f[1+(d>>>3)]<<8|f[2+(d>>>3)]<<16|f[3+(d>>>3)]<<24)>>>(7&d)},h.H.m=function(){const f=Uint16Array,d=Uint32Array;return{K:new f(16),j:new f(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new f(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new d(32),J:new f(512),_:[],h:new f(32),$:[],w:new f(32768),C:[],v:[],d:new f(32768),D:[],u:new f(512),Q:[],r:new f(32768),s:new d(286),Y:new d(30),a:new d(19),t:new d(15e3),k:new f(65536),g:new f(32768)}}(),function(){const f=h.H.m;for(var d=0;d<32768;d++){let C=d;C=(2863311530&C)>>>1|(1431655765&C)<<1,C=(3435973836&C)>>>2|(858993459&C)<<2,C=(4042322160&C)>>>4|(252645135&C)<<4,C=(4278255360&C)>>>8|(16711935&C)<<8,f.r[d]=(C>>>16|C<<16)>>>17}function m(C,L,x){for(;L--!=0;)C.push(0,x)}for(d=0;d<32;d++)f.q[d]=f.S[d]<<3|f.T[d],f.c[d]=f.p[d]<<4|f.z[d];m(f._,144,8),m(f._,112,9),m(f._,24,7),m(f._,8,8),h.H.n(f._,9),h.H.A(f._,9,f.J),h.H.l(f._,9),m(f.$,32,5),h.H.n(f.$,5),h.H.A(f.$,5,f.h),h.H.l(f.$,5),m(f.Q,19,0),m(f.C,286,0),m(f.D,30,0),m(f.v,320,0)}(),h.H.N}();function o(h){return[1,null,3,1,2,null,4][h.ctype]*h.depth}function s(h,f,d,m,C){let L=o(f);const x=Math.ceil(m*L/8);let E,T;L=Math.ceil(L/8);let k=h[d],b=0;if(k>1&&(h[d]=[0,0,1][k-2]),k==3)for(b=L;b<x;b++)h[b+1]=h[b+1]+(h[b+1-L]>>>1)&255;for(let N=0;N<C;N++)if(E=d+N*x,T=E+N+1,k=h[T-1],b=0,k==0)for(;b<x;b++)h[E+b]=h[T+b];else if(k==1){for(;b<L;b++)h[E+b]=h[T+b];for(;b<x;b++)h[E+b]=h[T+b]+h[E+b-L]}else if(k==2)for(;b<x;b++)h[E+b]=h[T+b]+h[E+b-x];else if(k==3){for(;b<L;b++)h[E+b]=h[T+b]+(h[E+b-x]>>>1);for(;b<x;b++)h[E+b]=h[T+b]+(h[E+b-x]+h[E+b-L]>>>1)}else{for(;b<L;b++)h[E+b]=h[T+b]+a(0,h[E+b-x],0);for(;b<x;b++)h[E+b]=h[T+b]+a(h[E+b-L],h[E+b-x],h[E+b-L-x])}return h}function a(h,f,d){const m=h+f-d,C=m-h,L=m-f,x=m-d;return C*C<=L*L&&C*C<=x*x?h:L*L<=x*x?f:d}function u(h,f,d){d.width=t.readUint(h,f),f+=4,d.height=t.readUint(h,f),f+=4,d.depth=h[f],f++,d.ctype=h[f],f++,d.compress=h[f],f++,d.filter=h[f],f++,d.interlace=h[f],f++}function c(h,f,d,m,C,L,x,E,T){const k=Math.min(f,C),b=Math.min(d,L);let N=0,A=0;for(let z=0;z<b;z++)for(let O=0;O<k;O++)if(x>=0&&E>=0?(N=z*f+O<<2,A=(E+z)*C+x+O<<2):(N=(-E+z)*f-x+O<<2,A=z*C+O<<2),T==0)m[A]=h[N],m[A+1]=h[N+1],m[A+2]=h[N+2],m[A+3]=h[N+3];else if(T==1){var S=h[N+3]*.00392156862745098,p=h[N]*S,v=h[N+1]*S,y=h[N+2]*S,P=m[A+3]*(1/255),R=m[A]*P,I=m[A+1]*P,V=m[A+2]*P;const M=1-S,F=S+P*M,U=F==0?0:1/F;m[A+3]=255*F,m[A+0]=(p+R*M)*U,m[A+1]=(v+I*M)*U,m[A+2]=(y+V*M)*U}else if(T==2)S=h[N+3],p=h[N],v=h[N+1],y=h[N+2],P=m[A+3],R=m[A],I=m[A+1],V=m[A+2],S==P&&p==R&&v==I&&y==V?(m[A]=0,m[A+1]=0,m[A+2]=0,m[A+3]=0):(m[A]=p,m[A+1]=v,m[A+2]=y,m[A+3]=S);else if(T==3){if(S=h[N+3],p=h[N],v=h[N+1],y=h[N+2],P=m[A+3],R=m[A],I=m[A+1],V=m[A+2],S==P&&p==R&&v==I&&y==V)continue;if(S<220&&P>20)return!1}return!0}return{decode:function(f){const d=new Uint8Array(f);let m=8;const C=t,L=C.readUshort,x=C.readUint,E={tabs:{},frames:[]},T=new Uint8Array(d.length);let k,b=0,N=0;const A=[137,80,78,71,13,10,26,10];for(var S=0;S<8;S++)if(d[S]!=A[S])throw"The input is not a PNG file!";for(;m<d.length;){const z=C.readUint(d,m);m+=4;const O=C.readASCII(d,m,4);if(m+=4,O=="IHDR")u(d,m,E);else if(O=="iCCP"){for(var p=m;d[p]!=0;)p++;C.readASCII(d,m,p-m),d[p+1];const M=d.slice(p+2,m+z);let F=null;try{F=r(M)}catch{F=i(M)}E.tabs[O]=F}else if(O=="CgBI")E.tabs[O]=d.slice(m,m+4);else if(O=="IDAT"){for(S=0;S<z;S++)T[b+S]=d[m+S];b+=z}else if(O=="acTL")E.tabs[O]={num_frames:x(d,m),num_plays:x(d,m+4)},k=new Uint8Array(d.length);else if(O=="fcTL"){N!=0&&((V=E.frames[E.frames.length-1]).data=n(E,k.slice(0,N),V.rect.width,V.rect.height),N=0);const M={x:x(d,m+12),y:x(d,m+16),width:x(d,m+4),height:x(d,m+8)};let F=L(d,m+22);F=L(d,m+20)/(F==0?100:F);const U={rect:M,delay:Math.round(1e3*F),dispose:d[m+24],blend:d[m+25]};E.frames.push(U)}else if(O=="fdAT"){for(S=0;S<z-4;S++)k[N+S]=d[m+S+4];N+=z-4}else if(O=="pHYs")E.tabs[O]=[C.readUint(d,m),C.readUint(d,m+4),d[m+8]];else if(O=="cHRM")for(E.tabs[O]=[],S=0;S<8;S++)E.tabs[O].push(C.readUint(d,m+4*S));else if(O=="tEXt"||O=="zTXt"){E.tabs[O]==null&&(E.tabs[O]={});var v=C.nextZero(d,m),y=C.readASCII(d,m,v-m),P=m+z-v-1;if(O=="tEXt")I=C.readASCII(d,v+1,P);else{var R=r(d.slice(v+2,v+2+P));I=C.readUTF8(R,0,R.length)}E.tabs[O][y]=I}else if(O=="iTXt"){E.tabs[O]==null&&(E.tabs[O]={}),v=0,p=m,v=C.nextZero(d,p),y=C.readASCII(d,p,v-p);const M=d[p=v+1];var I;d[p+1],p+=2,v=C.nextZero(d,p),C.readASCII(d,p,v-p),p=v+1,v=C.nextZero(d,p),C.readUTF8(d,p,v-p),P=z-((p=v+1)-m),M==0?I=C.readUTF8(d,p,P):(R=r(d.slice(p,p+P)),I=C.readUTF8(R,0,R.length)),E.tabs[O][y]=I}else if(O=="PLTE")E.tabs[O]=C.readBytes(d,m,z);else if(O=="hIST"){const M=E.tabs.PLTE.length/3;for(E.tabs[O]=[],S=0;S<M;S++)E.tabs[O].push(L(d,m+2*S))}else if(O=="tRNS")E.ctype==3?E.tabs[O]=C.readBytes(d,m,z):E.ctype==0?E.tabs[O]=L(d,m):E.ctype==2&&(E.tabs[O]=[L(d,m),L(d,m+2),L(d,m+4)]);else if(O=="gAMA")E.tabs[O]=C.readUint(d,m)/1e5;else if(O=="sRGB")E.tabs[O]=d[m];else if(O=="bKGD")E.ctype==0||E.ctype==4?E.tabs[O]=[L(d,m)]:E.ctype==2||E.ctype==6?E.tabs[O]=[L(d,m),L(d,m+2),L(d,m+4)]:E.ctype==3&&(E.tabs[O]=d[m]);else if(O=="IEND")break;m+=z,C.readUint(d,m),m+=4}var V;return N!=0&&((V=E.frames[E.frames.length-1]).data=n(E,k.slice(0,N),V.rect.width,V.rect.height)),E.data=n(E,T,E.width,E.height),delete E.compress,delete E.interlace,delete E.filter,E},toRGBA8:function(f){const d=f.width,m=f.height;if(f.tabs.acTL==null)return[e(f.data,d,m,f).buffer];const C=[];f.frames[0].data==null&&(f.frames[0].data=f.data);const L=d*m*4,x=new Uint8Array(L),E=new Uint8Array(L),T=new Uint8Array(L);for(let b=0;b<f.frames.length;b++){const N=f.frames[b],A=N.rect.x,S=N.rect.y,p=N.rect.width,v=N.rect.height,y=e(N.data,p,v,f);if(b!=0)for(var k=0;k<L;k++)T[k]=x[k];if(N.blend==0?c(y,p,v,x,d,m,A,S,0):N.blend==1&&c(y,p,v,x,d,m,A,S,1),C.push(x.buffer.slice(0)),N.dispose!=0){if(N.dispose==1)c(E,p,v,x,d,m,A,S,0);else if(N.dispose==2)for(k=0;k<L;k++)x[k]=T[k]}}return C},_paeth:a,_copyTile:c,_bin:t}}();(function(){const{_copyTile:t}=bn,{_bin:e}=bn,n=bn._paeth;var r={table:function(){const p=new Uint32Array(256);for(let v=0;v<256;v++){let y=v;for(let P=0;P<8;P++)1&y?y=3988292384^y>>>1:y>>>=1;p[v]=y}return p}(),update(p,v,y,P){for(let R=0;R<P;R++)p=r.table[255&(p^v[y+R])]^p>>>8;return p},crc:(p,v,y)=>4294967295^r.update(4294967295,p,v,y)};function i(p,v,y,P){v[y]+=p[0]*P>>4,v[y+1]+=p[1]*P>>4,v[y+2]+=p[2]*P>>4,v[y+3]+=p[3]*P>>4}function o(p){return Math.max(0,Math.min(255,p))}function s(p,v){const y=p[0]-v[0],P=p[1]-v[1],R=p[2]-v[2],I=p[3]-v[3];return y*y+P*P+R*R+I*I}function a(p,v,y,P,R,I,V){V==null&&(V=1);const z=P.length,O=[];for(var M=0;M<z;M++){const H=P[M];O.push([H>>>0&255,H>>>8&255,H>>>16&255,H>>>24&255])}for(M=0;M<z;M++){let H=4294967295;for(var F=0,U=0;U<z;U++){var B=s(O[M],O[U]);U!=M&&B<H&&(H=B,F=U)}}const K=new Uint32Array(R.buffer),G=new Int16Array(v*y*4),Q=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(M=0;M<Q.length;M++)Q[M]=255*((Q[M]+.5)/16-.5);for(let H=0;H<y;H++)for(let j=0;j<v;j++){var q;M=4*(H*v+j),V!=2?q=[o(p[M]+G[M]),o(p[M+1]+G[M+1]),o(p[M+2]+G[M+2]),o(p[M+3]+G[M+3])]:(B=Q[4*(3&H)+(3&j)],q=[o(p[M]+B),o(p[M+1]+B),o(p[M+2]+B),o(p[M+3]+B)]),F=0;let oe=16777215;for(U=0;U<z;U++){const le=s(q,O[U]);le<oe&&(oe=le,F=U)}const he=O[F],ee=[q[0]-he[0],q[1]-he[1],q[2]-he[2],q[3]-he[3]];V==1&&(j!=v-1&&i(ee,G,M+4,7),H!=y-1&&(j!=0&&i(ee,G,M+4*v-4,3),i(ee,G,M+4*v,5),j!=v-1&&i(ee,G,M+4*v+4,1))),I[M>>2]=F,K[M>>2]=P[F]}}function u(p,v,y,P,R){R==null&&(R={});const{crc:I}=r,V=e.writeUint,z=e.writeUshort,O=e.writeASCII;let M=8;const F=p.frames.length>1;let U,B=!1,K=33+(F?20:0);if(R.sRGB!=null&&(K+=13),R.pHYs!=null&&(K+=21),R.iCCP!=null&&(U=pako.deflate(R.iCCP),K+=21+U.length+4),p.ctype==3){for(var G=p.plte.length,Q=0;Q<G;Q++)p.plte[Q]>>>24!=255&&(B=!0);K+=8+3*G+4+(B?8+1*G+4:0)}for(var q=0;q<p.frames.length;q++)F&&(K+=38),K+=(he=p.frames[q]).cimg.length+12,q!=0&&(K+=4);K+=12;const H=new Uint8Array(K),j=[137,80,78,71,13,10,26,10];for(Q=0;Q<8;Q++)H[Q]=j[Q];if(V(H,M,13),M+=4,O(H,M,"IHDR"),M+=4,V(H,M,v),M+=4,V(H,M,y),M+=4,H[M]=p.depth,M++,H[M]=p.ctype,M++,H[M]=0,M++,H[M]=0,M++,H[M]=0,M++,V(H,M,I(H,M-17,17)),M+=4,R.sRGB!=null&&(V(H,M,1),M+=4,O(H,M,"sRGB"),M+=4,H[M]=R.sRGB,M++,V(H,M,I(H,M-5,5)),M+=4),R.iCCP!=null){const ee=13+U.length;V(H,M,ee),M+=4,O(H,M,"iCCP"),M+=4,O(H,M,"ICC profile"),M+=11,M+=2,H.set(U,M),M+=U.length,V(H,M,I(H,M-(ee+4),ee+4)),M+=4}if(R.pHYs!=null&&(V(H,M,9),M+=4,O(H,M,"pHYs"),M+=4,V(H,M,R.pHYs[0]),M+=4,V(H,M,R.pHYs[1]),M+=4,H[M]=R.pHYs[2],M++,V(H,M,I(H,M-13,13)),M+=4),F&&(V(H,M,8),M+=4,O(H,M,"acTL"),M+=4,V(H,M,p.frames.length),M+=4,V(H,M,R.loop!=null?R.loop:0),M+=4,V(H,M,I(H,M-12,12)),M+=4),p.ctype==3){for(V(H,M,3*(G=p.plte.length)),M+=4,O(H,M,"PLTE"),M+=4,Q=0;Q<G;Q++){const ee=3*Q,le=p.plte[Q],ge=255&le,me=le>>>8&255,Me=le>>>16&255;H[M+ee+0]=ge,H[M+ee+1]=me,H[M+ee+2]=Me}if(M+=3*G,V(H,M,I(H,M-3*G-4,3*G+4)),M+=4,B){for(V(H,M,G),M+=4,O(H,M,"tRNS"),M+=4,Q=0;Q<G;Q++)H[M+Q]=p.plte[Q]>>>24&255;M+=G,V(H,M,I(H,M-G-4,G+4)),M+=4}}let oe=0;for(q=0;q<p.frames.length;q++){var he=p.frames[q];F&&(V(H,M,26),M+=4,O(H,M,"fcTL"),M+=4,V(H,M,oe++),M+=4,V(H,M,he.rect.width),M+=4,V(H,M,he.rect.height),M+=4,V(H,M,he.rect.x),M+=4,V(H,M,he.rect.y),M+=4,z(H,M,P[q]),M+=2,z(H,M,1e3),M+=2,H[M]=he.dispose,M++,H[M]=he.blend,M++,V(H,M,I(H,M-30,30)),M+=4);const ee=he.cimg;V(H,M,(G=ee.length)+(q==0?0:4)),M+=4;const le=M;O(H,M,q==0?"IDAT":"fdAT"),M+=4,q!=0&&(V(H,M,oe++),M+=4),H.set(ee,M),M+=G,V(H,M,I(H,le,M-le)),M+=4}return V(H,M,0),M+=4,O(H,M,"IEND"),M+=4,V(H,M,I(H,M-4,4)),M+=4,H.buffer}function c(p,v,y){for(let P=0;P<p.frames.length;P++){const R=p.frames[P];R.rect.width;const I=R.rect.height,V=new Uint8Array(I*R.bpl+I);R.cimg=m(R.img,I,R.bpp,R.bpl,V,v,y)}}function h(p,v,y,P,R){const I=R[0],V=R[1],z=R[2],O=R[3],M=R[4],F=R[5];let U=6,B=8,K=255;for(var G=0;G<p.length;G++){const Ee=new Uint8Array(p[G]);for(var Q=Ee.length,q=0;q<Q;q+=4)K&=Ee[q+3]}const H=K!=255,j=function(ve,pe,we,se,Te,ue){const Ie=[];for(var ne=0;ne<ve.length;ne++){const et=new Uint8Array(ve[ne]),Ot=new Uint32Array(et.buffer);var $e;let ut=0,Tt=0,Nt=pe,Jt=we,_r=se?1:0;if(ne!=0){const ji=ue||se||ne==1||Ie[ne-2].dispose!=0?1:2;let Bn=0,zn=1e9;for(let Rn=0;Rn<ji;Rn++){var Be=new Uint8Array(ve[ne-1-Rn]);const jn=new Uint32Array(ve[ne-1-Rn]);let Lt=pe,qt=we,It=-1,ln=-1;for(let un=0;un<we;un++)for(let _t=0;_t<pe;_t++)Ot[He=un*pe+_t]!=jn[He]&&(_t<Lt&&(Lt=_t),_t>It&&(It=_t),un<qt&&(qt=un),un>ln&&(ln=un));It==-1&&(Lt=qt=It=ln=0),Te&&((1&Lt)==1&&Lt--,(1&qt)==1&&qt--);const $n=(It-Lt+1)*(ln-qt+1);$n<zn&&(zn=$n,Bn=Rn,ut=Lt,Tt=qt,Nt=It-Lt+1,Jt=ln-qt+1)}Be=new Uint8Array(ve[ne-1-Bn]),Bn==1&&(Ie[ne-1].dispose=2),$e=new Uint8Array(Nt*Jt*4),t(Be,pe,we,$e,Nt,Jt,-ut,-Tt,0),_r=t(et,pe,we,$e,Nt,Jt,-ut,-Tt,3)?1:0,_r==1?d(et,pe,we,$e,{x:ut,y:Tt,width:Nt,height:Jt}):t(et,pe,we,$e,Nt,Jt,-ut,-Tt,0)}else $e=et.slice(0);Ie.push({rect:{x:ut,y:Tt,width:Nt,height:Jt},img:$e,blend:_r,dispose:0})}if(se)for(ne=0;ne<Ie.length;ne++){if((Pe=Ie[ne]).blend==1)continue;const et=Pe.rect,Ot=Ie[ne-1].rect,ut=Math.min(et.x,Ot.x),Tt=Math.min(et.y,Ot.y),Nt={x:ut,y:Tt,width:Math.max(et.x+et.width,Ot.x+Ot.width)-ut,height:Math.max(et.y+et.height,Ot.y+Ot.height)-Tt};Ie[ne-1].dispose=1,ne-1!=0&&f(ve,pe,we,Ie,ne-1,Nt,Te),f(ve,pe,we,Ie,ne,Nt,Te)}let ze=0;if(ve.length!=1)for(var He=0;He<Ie.length;He++){var Pe;ze+=(Pe=Ie[He]).rect.width*Pe.rect.height}return Ie}(p,v,y,I,V,z),oe={},he=[],ee=[];if(P!=0){const Ee=[];for(q=0;q<j.length;q++)Ee.push(j[q].img.buffer);const ve=function(Te){let ue=0;for(var Ie=0;Ie<Te.length;Ie++)ue+=Te[Ie].byteLength;const ne=new Uint8Array(ue);let $e=0;for(Ie=0;Ie<Te.length;Ie++){const Be=new Uint8Array(Te[Ie]),ze=Be.length;for(let He=0;He<ze;He+=4){let Pe=Be[He],et=Be[He+1],Ot=Be[He+2];const ut=Be[He+3];ut==0&&(Pe=et=Ot=0),ne[$e+He]=Pe,ne[$e+He+1]=et,ne[$e+He+2]=Ot,ne[$e+He+3]=ut}$e+=ze}return ne.buffer}(Ee),pe=L(ve,P);for(q=0;q<pe.plte.length;q++)he.push(pe.plte[q].est.rgba);let we=0;for(q=0;q<j.length;q++){const se=(ge=j[q]).img.length;var le=new Uint8Array(pe.inds.buffer,we>>2,se>>2);ee.push(le);const Te=new Uint8Array(pe.abuf,we,se);F&&a(ge.img,ge.rect.width,ge.rect.height,he,Te,le),ge.img.set(Te),we+=se}}else for(G=0;G<j.length;G++){var ge=j[G];const Ee=new Uint32Array(ge.img.buffer);var me=ge.rect.width;for(Q=Ee.length,le=new Uint8Array(Q),ee.push(le),q=0;q<Q;q++){const ve=Ee[q];if(q!=0&&ve==Ee[q-1])le[q]=le[q-1];else if(q>me&&ve==Ee[q-me])le[q]=le[q-me];else{let pe=oe[ve];if(pe==null&&(oe[ve]=pe=he.length,he.push(ve),he.length>=300))break;le[q]=pe}}}const Me=he.length;for(Me<=256&&M==0&&(B=Me<=2?1:Me<=4?2:Me<=16?4:8,B=Math.max(B,O)),G=0;G<j.length;G++){(ge=j[G]).rect.x,ge.rect.y,me=ge.rect.width;const Ee=ge.rect.height;let ve=ge.img;new Uint32Array(ve.buffer);let pe=4*me,we=4;if(Me<=256&&M==0){pe=Math.ceil(B*me/8);var Ae=new Uint8Array(pe*Ee);const se=ee[G];for(let Te=0;Te<Ee;Te++){q=Te*pe;const ue=Te*me;if(B==8)for(var fe=0;fe<me;fe++)Ae[q+fe]=se[ue+fe];else if(B==4)for(fe=0;fe<me;fe++)Ae[q+(fe>>1)]|=se[ue+fe]<<4-4*(1&fe);else if(B==2)for(fe=0;fe<me;fe++)Ae[q+(fe>>2)]|=se[ue+fe]<<6-2*(3&fe);else if(B==1)for(fe=0;fe<me;fe++)Ae[q+(fe>>3)]|=se[ue+fe]<<7-1*(7&fe)}ve=Ae,U=3,we=1}else if(H==0&&j.length==1){Ae=new Uint8Array(me*Ee*3);const se=me*Ee;for(q=0;q<se;q++){const Te=3*q,ue=4*q;Ae[Te]=ve[ue],Ae[Te+1]=ve[ue+1],Ae[Te+2]=ve[ue+2]}ve=Ae,U=2,we=3,pe=3*me}ge.img=ve,ge.bpl=pe,ge.bpp=we}return{ctype:U,depth:B,plte:he,frames:j}}function f(p,v,y,P,R,I,V){const z=Uint8Array,O=Uint32Array,M=new z(p[R-1]),F=new O(p[R-1]),U=R+1<p.length?new z(p[R+1]):null,B=new z(p[R]),K=new O(B.buffer);let G=v,Q=y,q=-1,H=-1;for(let oe=0;oe<I.height;oe++)for(let he=0;he<I.width;he++){const ee=I.x+he,le=I.y+oe,ge=le*v+ee,me=K[ge];me==0||P[R-1].dispose==0&&F[ge]==me&&(U==null||U[4*ge+3]!=0)||(ee<G&&(G=ee),ee>q&&(q=ee),le<Q&&(Q=le),le>H&&(H=le))}q==-1&&(G=Q=q=H=0),V&&((1&G)==1&&G--,(1&Q)==1&&Q--),I={x:G,y:Q,width:q-G+1,height:H-Q+1};const j=P[R];j.rect=I,j.blend=1,j.img=new Uint8Array(I.width*I.height*4),P[R-1].dispose==0?(t(M,v,y,j.img,I.width,I.height,-I.x,-I.y,0),d(B,v,y,j.img,I)):t(B,v,y,j.img,I.width,I.height,-I.x,-I.y,0)}function d(p,v,y,P,R){t(p,v,y,P,R.width,R.height,-R.x,-R.y,2)}function m(p,v,y,P,R,I,V){const z=[];let O,M=[0,1,2,3,4];I!=-1?M=[I]:(v*P>5e5||y==1)&&(M=[0]),V&&(O={level:0});const F=eR;for(var U=0;U<M.length;U++){for(let G=0;G<v;G++)C(R,p,G,P,y,M[U]);z.push(F.deflate(R,O))}let B,K=1e9;for(U=0;U<z.length;U++)z[U].length<K&&(B=U,K=z[U].length);return z[B]}function C(p,v,y,P,R,I){const V=y*P;let z=V+y;if(p[z]=I,z++,I==0)if(P<500)for(var O=0;O<P;O++)p[z+O]=v[V+O];else p.set(new Uint8Array(v.buffer,V,P),z);else if(I==1){for(O=0;O<R;O++)p[z+O]=v[V+O];for(O=R;O<P;O++)p[z+O]=v[V+O]-v[V+O-R]+256&255}else if(y==0){for(O=0;O<R;O++)p[z+O]=v[V+O];if(I==2)for(O=R;O<P;O++)p[z+O]=v[V+O];if(I==3)for(O=R;O<P;O++)p[z+O]=v[V+O]-(v[V+O-R]>>1)+256&255;if(I==4)for(O=R;O<P;O++)p[z+O]=v[V+O]-n(v[V+O-R],0,0)+256&255}else{if(I==2)for(O=0;O<P;O++)p[z+O]=v[V+O]+256-v[V+O-P]&255;if(I==3){for(O=0;O<R;O++)p[z+O]=v[V+O]+256-(v[V+O-P]>>1)&255;for(O=R;O<P;O++)p[z+O]=v[V+O]+256-(v[V+O-P]+v[V+O-R]>>1)&255}if(I==4){for(O=0;O<R;O++)p[z+O]=v[V+O]+256-n(0,v[V+O-P],0)&255;for(O=R;O<P;O++)p[z+O]=v[V+O]+256-n(v[V+O-R],v[V+O-P],v[V+O-R-P])&255}}}function L(p,v){const y=new Uint8Array(p),P=y.slice(0),R=new Uint32Array(P.buffer),I=x(P,v),V=I[0],z=I[1],O=y.length,M=new Uint8Array(O>>2);let F;if(y.length<2e7)for(var U=0;U<O;U+=4)F=E(V,B=y[U]*(1/255),K=y[U+1]*(1/255),G=y[U+2]*(1/255),Q=y[U+3]*(1/255)),M[U>>2]=F.ind,R[U>>2]=F.est.rgba;else for(U=0;U<O;U+=4){var B=y[U]*.00392156862745098,K=y[U+1]*(1/255),G=y[U+2]*(1/255),Q=y[U+3]*(1/255);for(F=V;F.left;)F=T(F.est,B,K,G,Q)<=0?F.left:F.right;M[U>>2]=F.ind,R[U>>2]=F.est.rgba}return{abuf:P.buffer,inds:M,plte:z}}function x(p,v,y){y==null&&(y=1e-4);const P=new Uint32Array(p.buffer),R={i0:0,i1:p.length,bst:null,est:null,tdst:0,left:null,right:null};R.bst=N(p,R.i0,R.i1),R.est=A(R.bst);const I=[R];for(;I.length<v;){let z=0,O=0;for(var V=0;V<I.length;V++)I[V].est.L>z&&(z=I[V].est.L,O=V);if(z<y)break;const M=I[O],F=k(p,P,M.i0,M.i1,M.est.e,M.est.eMq255);if(M.i0>=F||M.i1<=F){M.est.L=0;continue}const U={i0:M.i0,i1:F,bst:null,est:null,tdst:0,left:null,right:null};U.bst=N(p,U.i0,U.i1),U.est=A(U.bst);const B={i0:F,i1:M.i1,bst:null,est:null,tdst:0,left:null,right:null};for(B.bst={R:[],m:[],N:M.bst.N-U.bst.N},V=0;V<16;V++)B.bst.R[V]=M.bst.R[V]-U.bst.R[V];for(V=0;V<4;V++)B.bst.m[V]=M.bst.m[V]-U.bst.m[V];B.est=A(B.bst),M.left=U,M.right=B,I[O]=U,I.push(B)}for(I.sort((z,O)=>O.bst.N-z.bst.N),V=0;V<I.length;V++)I[V].ind=V;return[R,I]}function E(p,v,y,P,R){if(p.left==null)return p.tdst=function(U,B,K,G,Q){const q=B-U[0],H=K-U[1],j=G-U[2],oe=Q-U[3];return q*q+H*H+j*j+oe*oe}(p.est.q,v,y,P,R),p;const I=T(p.est,v,y,P,R);let V=p.left,z=p.right;I>0&&(V=p.right,z=p.left);const O=E(V,v,y,P,R);if(O.tdst<=I*I)return O;const M=E(z,v,y,P,R);return M.tdst<O.tdst?M:O}function T(p,v,y,P,R){const{e:I}=p;return I[0]*v+I[1]*y+I[2]*P+I[3]*R-p.eMq}function k(p,v,y,P,R,I){for(P-=4;y<P;){for(;b(p,y,R)<=I;)y+=4;for(;b(p,P,R)>I;)P-=4;if(y>=P)break;const V=v[y>>2];v[y>>2]=v[P>>2],v[P>>2]=V,y+=4,P-=4}for(;b(p,y,R)>I;)y-=4;return y+4}function b(p,v,y){return p[v]*y[0]+p[v+1]*y[1]+p[v+2]*y[2]+p[v+3]*y[3]}function N(p,v,y){const P=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],R=[0,0,0,0],I=y-v>>2;for(let V=v;V<y;V+=4){const z=p[V]*.00392156862745098,O=p[V+1]*(1/255),M=p[V+2]*(1/255),F=p[V+3]*(1/255);R[0]+=z,R[1]+=O,R[2]+=M,R[3]+=F,P[0]+=z*z,P[1]+=z*O,P[2]+=z*M,P[3]+=z*F,P[5]+=O*O,P[6]+=O*M,P[7]+=O*F,P[10]+=M*M,P[11]+=M*F,P[15]+=F*F}return P[4]=P[1],P[8]=P[2],P[9]=P[6],P[12]=P[3],P[13]=P[7],P[14]=P[11],{R:P,m:R,N:I}}function A(p){const{R:v}=p,{m:y}=p,{N:P}=p,R=y[0],I=y[1],V=y[2],z=y[3],O=P==0?0:1/P,M=[v[0]-R*R*O,v[1]-R*I*O,v[2]-R*V*O,v[3]-R*z*O,v[4]-I*R*O,v[5]-I*I*O,v[6]-I*V*O,v[7]-I*z*O,v[8]-V*R*O,v[9]-V*I*O,v[10]-V*V*O,v[11]-V*z*O,v[12]-z*R*O,v[13]-z*I*O,v[14]-z*V*O,v[15]-z*z*O],F=M,U=S;let B=[Math.random(),Math.random(),Math.random(),Math.random()],K=0,G=0;if(P!=0)for(let q=0;q<16&&(B=U.multVec(F,B),G=Math.sqrt(U.dot(B,B)),B=U.sml(1/G,B),!(q!=0&&Math.abs(G-K)<1e-9));q++)K=G;const Q=[R*O,I*O,V*O,z*O];return{Cov:M,q:Q,e:B,L:K,eMq255:U.dot(U.sml(255,Q),B),eMq:U.dot(B,Q),rgba:(Math.round(255*Q[3])<<24|Math.round(255*Q[2])<<16|Math.round(255*Q[1])<<8|Math.round(255*Q[0])<<0)>>>0}}var S={multVec:(p,v)=>[p[0]*v[0]+p[1]*v[1]+p[2]*v[2]+p[3]*v[3],p[4]*v[0]+p[5]*v[1]+p[6]*v[2]+p[7]*v[3],p[8]*v[0]+p[9]*v[1]+p[10]*v[2]+p[11]*v[3],p[12]*v[0]+p[13]*v[1]+p[14]*v[2]+p[15]*v[3]],dot:(p,v)=>p[0]*v[0]+p[1]*v[1]+p[2]*v[2]+p[3]*v[3],sml:(p,v)=>[p*v[0],p*v[1],p*v[2],p*v[3]]};bn.encode=function(v,y,P,R,I,V,z){R==null&&(R=0),z==null&&(z=!1);const O=h(v,y,P,R,[!1,!1,!1,0,z,!1]);return c(O,-1),u(O,y,P,I,V)},bn.encodeLL=function(v,y,P,R,I,V,z,O){const M={ctype:0+(R==1?0:2)+(I==0?0:4),depth:V,frames:[]},F=(R+I)*V,U=F*y;for(let B=0;B<v.length;B++)M.frames.push({rect:{x:0,y:0,width:y,height:P},img:new Uint8Array(v[B]),blend:0,dispose:1,bpp:Math.ceil(F/8),bpl:Math.ceil(U/8)});return c(M,0,!0),u(M,y,P,z,O)},bn.encode.compress=h,bn.encode.dither=a,bn.quantize=L,bn.quantize.getKDtree=x,bn.quantize.getNearest=E})();const sw={toArrayBuffer(t,e){const n=t.width,r=t.height,i=n<<2,o=t.getContext("2d").getImageData(0,0,n,r),s=new Uint32Array(o.data.buffer),a=(32*n+31)/32<<2,u=a*r,c=122+u,h=new ArrayBuffer(c),f=new DataView(h),d=1<<20;let m,C,L,x,E=d,T=0,k=0,b=0;function N(p){f.setUint16(k,p,!0),k+=2}function A(p){f.setUint32(k,p,!0),k+=4}function S(p){k+=p}N(19778),A(c),S(4),A(122),A(108),A(n),A(-r>>>0),N(1),N(32),A(3),A(u),A(2835),A(2835),S(8),A(16711680),A(65280),A(255),A(4278190080),A(1466527264),function p(){for(;T<r&&E>0;){for(x=122+T*a,m=0;m<i;)E--,C=s[b++],L=C>>>24,f.setUint32(x+m,C<<8|L),m+=4;T++}b<s.length?(E=d,setTimeout(p,sw._dly)):e(h)}()},toBlob(t,e){this.toArrayBuffer(t,n=>{e(new Blob([n],{type:"image/bmp"}))})},_dly:9};var tn={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},tR={[tn.CHROME]:16384,[tn.FIREFOX]:11180,[tn.DESKTOP_SAFARI]:16384,[tn.IE]:8192,[tn.IOS]:4096,[tn.ETC]:8192};const Bd=typeof window<"u",aw=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,lu=Bd&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),nR=(Bd||aw)&&(lu&&lu.getOriginalSymbol(window,"File")||typeof File<"u"&&File),lw=(Bd||aw)&&(lu&&lu.getOriginalSymbol(window,"FileReader")||typeof FileReader<"u"&&FileReader);function zd(t,e,n=Date.now()){return new Promise(r=>{const i=t.split(","),o=i[0].match(/:(.*?);/)[1],s=globalThis.atob(i[1]);let a=s.length;const u=new Uint8Array(a);for(;a--;)u[a]=s.charCodeAt(a);const c=new Blob([u],{type:o});c.name=e,c.lastModified=n,r(c)})}function uw(t){return new Promise((e,n)=>{const r=new lw;r.onload=()=>e(r.result),r.onerror=i=>n(i),r.readAsDataURL(t)})}function cw(t){return new Promise((e,n)=>{const r=new Image;r.onload=()=>e(r),r.onerror=i=>n(i),r.src=t})}function Ei(){if(Ei.cachedResult!==void 0)return Ei.cachedResult;let t=tn.ETC;const{userAgent:e}=navigator;return/Chrom(e|ium)/i.test(e)?t=tn.CHROME:/iP(ad|od|hone)/i.test(e)&&/WebKit/i.test(e)?t=tn.IOS:/Safari/i.test(e)?t=tn.DESKTOP_SAFARI:/Firefox/i.test(e)?t=tn.FIREFOX:(/MSIE/i.test(e)||document.documentMode)&&(t=tn.IE),Ei.cachedResult=t,Ei.cachedResult}function hw(t,e){const n=Ei(),r=tR[n];let i=t,o=e,s=i*o;const a=i>o?o/i:i/o;for(;s>r*r;){const u=(r+i)/2,c=(r+o)/2;u<c?(o=c,i=c*a):(o=u*a,i=u),s=i*o}return{width:i,height:o}}function Hu(t,e){let n,r;try{if(n=new OffscreenCanvas(t,e),r=n.getContext("2d"),r===null)throw new Error("getContext of OffscreenCanvas returns null")}catch{n=document.createElement("canvas"),r=n.getContext("2d")}return n.width=t,n.height=e,[n,r]}function fw(t,e){const{width:n,height:r}=hw(t.width,t.height),[i,o]=Hu(n,r);return e&&/jpe?g/.test(e)&&(o.fillStyle="white",o.fillRect(0,0,i.width,i.height)),o.drawImage(t,0,0,i.width,i.height),i}function Sl(){return Sl.cachedResult!==void 0||(Sl.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&typeof document<"u"&&"ontouchend"in document),Sl.cachedResult}function uu(t,e={}){return new Promise(function(n,r){let i,o;var s=function(){try{return o=fw(i,e.fileType||t.type),n([i,o])}catch(u){return r(u)}},a=function(u){try{var c=function(h){try{throw h}catch(f){return r(f)}};try{let h;return uw(t).then(function(f){try{return h=f,cw(h).then(function(d){try{return i=d,function(){try{return s()}catch(m){return r(m)}}()}catch(m){return c(m)}},c)}catch(d){return c(d)}},c)}catch(h){c(h)}}catch(h){return r(h)}};try{if(Sl()||[tn.DESKTOP_SAFARI,tn.MOBILE_SAFARI].includes(Ei()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(t).then(function(u){try{return i=u,s()}catch{return a()}},a)}catch{a()}})}function cu(t,e,n,r,i=1){return new Promise(function(o,s){let a;if(e==="image/png"){let f,d,m;return f=t.getContext("2d"),{data:d}=f.getImageData(0,0,t.width,t.height),m=bn.encode([d.buffer],t.width,t.height,4096*i),a=new Blob([m],{type:e}),a.name=n,a.lastModified=r,u.call(this)}{let f=function(){return u.call(this)};var c=f;if(e==="image/bmp")return new Promise(d=>sw.toBlob(t,d)).then((function(d){try{return a=d,a.name=n,a.lastModified=r,f.call(this)}catch(m){return s(m)}}).bind(this),s);{let d=function(){return f.call(this)};var h=d;if(typeof OffscreenCanvas=="function"&&t instanceof OffscreenCanvas)return t.convertToBlob({type:e,quality:i}).then((function(m){try{return a=m,a.name=n,a.lastModified=r,d.call(this)}catch(C){return s(C)}}).bind(this),s);{let m;return m=t.toDataURL(e,i),zd(m,n,r).then((function(C){try{return a=C,d.call(this)}catch(L){return s(L)}}).bind(this),s)}}}function u(){return o(a)}})}function Gn(t){t.width=0,t.height=0}function po(){return new Promise(function(t,e){let n,r,i,o;return po.cachedResult!==void 0?t(po.cachedResult):zd("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then(function(s){try{return n=s,uu(n).then(function(a){try{return r=a[1],cu(r,n.type,n.name,n.lastModified).then(function(u){try{return i=u,Gn(r),uu(i).then(function(c){try{return o=c[0],po.cachedResult=o.width===1&&o.height===2,t(po.cachedResult)}catch(h){return e(h)}},e)}catch(c){return e(c)}},e)}catch(u){return e(u)}},e)}catch(a){return e(a)}},e)})}function dw(t){return new Promise((e,n)=>{const r=new lw;r.onload=i=>{const o=new DataView(i.target.result);if(o.getUint16(0,!1)!=65496)return e(-2);const s=o.byteLength;let a=2;for(;a<s;){if(o.getUint16(a+2,!1)<=8)return e(-1);const u=o.getUint16(a,!1);if(a+=2,u==65505){if(o.getUint32(a+=2,!1)!=1165519206)return e(-1);const c=o.getUint16(a+=6,!1)==18761;a+=o.getUint32(a+4,c);const h=o.getUint16(a,c);a+=2;for(let f=0;f<h;f++)if(o.getUint16(a+12*f,c)==274)return e(o.getUint16(a+12*f+8,c))}else{if((65280&u)!=65280)break;a+=o.getUint16(a,!1)}}return e(-1)},r.onerror=i=>n(i),r.readAsArrayBuffer(t)})}function pw(t,e){const{width:n}=t,{height:r}=t,{maxWidthOrHeight:i}=e;let o,s=t;return isFinite(i)&&(n>i||r>i)&&([s,o]=Hu(n,r),n>r?(s.width=i,s.height=r/n*i):(s.width=n/r*i,s.height=i),o.drawImage(t,0,0,s.width,s.height),Gn(t)),s}function gw(t,e){const{width:n}=t,{height:r}=t,[i,o]=Hu(n,r);switch(e>4&&e<9?(i.width=r,i.height=n):(i.width=n,i.height=r),e){case 2:o.transform(-1,0,0,1,n,0);break;case 3:o.transform(-1,0,0,-1,n,r);break;case 4:o.transform(1,0,0,-1,0,r);break;case 5:o.transform(0,1,1,0,0,0);break;case 6:o.transform(0,1,-1,0,r,0);break;case 7:o.transform(0,-1,-1,0,r,n);break;case 8:o.transform(0,-1,1,0,0,n)}return o.drawImage(t,0,0,n,r),Gn(t),i}function Sv(t,e,n=0){return new Promise(function(r,i){let o,s,a,u,c,h,f,d,m,C,L,x,E,T,k,b,N,A,S,p;function v(P=5){if(e.signal&&e.signal.aborted)throw e.signal.reason;o+=P,e.onProgress(Math.min(o,100))}function y(P){if(e.signal&&e.signal.aborted)throw e.signal.reason;o=Math.min(Math.max(P,o),100),e.onProgress(o)}return o=n,s=e.maxIteration||10,a=1024*e.maxSizeMB*1024,v(),uu(t,e).then((function(P){try{return[,u]=P,v(),c=pw(u,e),v(),new Promise(function(R,I){var V;if(!(V=e.exifOrientation))return dw(t).then((function(O){try{return V=O,z.call(this)}catch(M){return I(M)}}).bind(this),I);function z(){return R(V)}return z.call(this)}).then((function(R){try{return h=R,v(),po().then((function(I){try{return f=I?c:gw(c,h),v(),d=e.initialQuality||1,m=e.fileType||t.type,cu(f,m,t.name,t.lastModified,d).then((function(V){try{{let F=function(){if(s--&&(k>a||k>E)){let B,K;return B=p?.95*S.width:S.width,K=p?.95*S.height:S.height,[N,A]=Hu(B,K),A.drawImage(S,0,0,B,K),d*=m==="image/png"?.85:.95,cu(N,m,t.name,t.lastModified,d).then(function(G){try{return b=G,Gn(S),S=N,k=b.size,y(Math.min(99,Math.floor((T-k)/(T-a)*100))),F}catch(Q){return i(Q)}},i)}return[1]},U=function(){return Gn(S),Gn(N),Gn(c),Gn(f),Gn(u),y(100),r(b)};var O=F,M=U;if(C=V,v(),L=C.size>a,x=C.size>t.size,!L&&!x)return y(100),r(C);var z;return E=t.size,T=C.size,k=T,S=f,p=!e.alwaysKeepResolution&&L,(z=(function(B){for(;B;){if(B.then)return void B.then(z,i);try{if(B.pop){if(B.length)return B.pop()?U.call(this):B;B=F}else B=B.call(this)}catch(K){return i(K)}}}).bind(this))(F)}}catch(F){return i(F)}}).bind(this),i)}catch(V){return i(V)}}).bind(this),i)}catch(I){return i(I)}}).bind(this),i)}catch(R){return i(R)}}).bind(this),i)})}const rR=`
let scriptImported = false
self.addEventListener('message', async (e) => {
  const { file, id, imageCompressionLibUrl, options } = e.data
  options.onProgress = (progress) => self.postMessage({ progress, id })
  try {
    if (!scriptImported) {
      // console.log('[worker] importScripts', imageCompressionLibUrl)
      self.importScripts(imageCompressionLibUrl)
      scriptImported = true
    }
    // console.log('[worker] self', self)
    const compressedFile = await imageCompression(file, options)
    self.postMessage({ file: compressedFile, id })
  } catch (e) {
    // console.error('[worker] error', e)
    self.postMessage({ error: e.message + '\\n' + e.stack, id })
  }
})
`;let Uc;function iR(t,e){return new Promise((n,r)=>{Uc||(Uc=function(s){const a=[];return a.push(s),URL.createObjectURL(new Blob(a))}(rR));const i=new Worker(Uc);i.addEventListener("message",function(s){if(e.signal&&e.signal.aborted)i.terminate();else if(s.data.progress===void 0){if(s.data.error)return r(new Error(s.data.error)),void i.terminate();n(s.data.file),i.terminate()}else e.onProgress(s.data.progress)}),i.addEventListener("error",r),e.signal&&e.signal.addEventListener("abort",()=>{r(e.signal.reason),i.terminate()}),i.postMessage({file:t,imageCompressionLibUrl:e.libURL,options:{...e,onProgress:void 0,signal:void 0}})})}function jt(t,e){return new Promise(function(n,r){let i,o,s,a,u,c;if(i={...e},s=0,{onProgress:a}=i,i.maxSizeMB=i.maxSizeMB||Number.POSITIVE_INFINITY,u=typeof i.useWebWorker!="boolean"||i.useWebWorker,delete i.useWebWorker,i.onProgress=m=>{s=m,typeof a=="function"&&a(s)},!(t instanceof Blob||t instanceof nR))return r(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(t.type))return r(new Error("The file given is not an image"));if(c=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,!u||typeof Worker!="function"||c)return Sv(t,i).then((function(m){try{return o=m,d.call(this)}catch(C){return r(C)}}).bind(this),r);var h=(function(){try{return d.call(this)}catch(m){return r(m)}}).bind(this),f=function(m){try{return Sv(t,i).then(function(C){try{return o=C,h()}catch(L){return r(L)}},r)}catch(C){return r(C)}};try{return i.libURL=i.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",iR(t,i).then(function(m){try{return o=m,h()}catch{return f()}},f)}catch{f()}function d(){try{o.name=t.name,o.lastModified=t.lastModified}catch{}try{i.preserveExif&&t.type==="image/jpeg"&&(!i.fileType||i.fileType&&i.fileType===t.type)&&(o=ow(t,o))}catch{}return n(o)}})}jt.getDataUrlFromFile=uw,jt.getFilefromDataUrl=zd,jt.loadImage=cw,jt.drawImageInCanvas=fw,jt.drawFileInCanvas=uu,jt.canvasToFile=cu,jt.getExifOrientation=dw,jt.handleMaxWidthOrHeight=pw,jt.followExifOrientation=gw,jt.cleanupCanvasMemory=Gn,jt.isAutoOrientationInBrowser=po,jt.approximateBelowMaximumCanvasSizeOfBrowser=hw,jt.copyExifWithoutOrientation=ow,jt.getBrowserName=Ei,jt.version="2.0.2";const oR=({isOpen:t,onClose:e})=>{const[n,r]=_.useState(""),[i,o]=_.useState(""),[s,a]=_.useState(null),[u,c]=_.useState(null);_.useState(!1);const[h,f]=_.useState(null),[d,m]=_.useState(!1),[C,L]=_.useState(!1);_.useEffect(()=>{t&&(navigator.geolocation?navigator.geolocation.getCurrentPosition(T=>{a({lat:T.coords.latitude,lng:T.coords.longitude})},T=>{console.error("Error getting location: ",T),alert("")}):alert(""))},[t]);const x=async T=>{if(T.target.files&&T.target.files[0]){const k=T.target.files[0];c(k);const b=new FileReader;b.onloadend=()=>{f(b.result)},b.readAsDataURL(k);try{const A=await jt(k,{maxSizeMB:1,maxWidthOrHeight:1024,useWebWorker:!0}),S=await QP(A);f(S)}catch(N){console.error("Error compressing image:",N),alert("")}}},E=async()=>{m(!0);try{await ZP(n,i,s,h),L(!0)}catch(T){console.error("Error adding document: ",T),alert("")}finally{m(!1)}};return t?J.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50",children:J.jsxs("div",{className:"bg-white p-5 rounded-lg shadow-lg relative w-full max-w-lg h-[500px] flex flex-col overflow-hidden",children:[J.jsx("div",{className:"flex-1 overflow-auto",children:C?J.jsxs("div",{className:"flex flex-col items-center justify-center h-full",children:[J.jsx("h2",{className:"text-2xl font-bold text-green-500 mb-4",children:""}),J.jsx("button",{onClick:e,className:"bg-blue-500 text-white px-4 py-2 rounded",children:""})]}):J.jsxs(J.Fragment,{children:[J.jsx(WP,{onClose:e,title:""}),J.jsx(GP,{onFileChange:x,imageUrl:h}),J.jsx(qP,{title:n,description:i,onTitleChange:T=>r(T.target.value),onDescriptionChange:T=>o(T.target.value)})]})}),!C&&J.jsx(KP,{loading:d,onClick:E})]})}):null};function sR(){const[t,e]=_.useState(!1),n=()=>{e(!0)},r=()=>{e(!1)};return J.jsxs("div",{className:"flex h-screen w-screen",children:[J.jsx("div",{className:"w-3/12 bg-gray-100 p-4 text-black",children:J.jsx("button",{onClick:n,className:"mt-4 bg-red-500 text-white px-4 py-2 rounded w-full",children:""})}),J.jsx(HP,{}),t&&J.jsx(oR,{isOpen:t,onClose:r})]})}/**
 * @remix-run/router v1.19.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function hu(){return hu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hu.apply(this,arguments)}var Ci;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ci||(Ci={}));const Tv="popstate";function aR(t){t===void 0&&(t={});function e(r,i){let{pathname:o,search:s,hash:a}=r.location;return rf("",{pathname:o,search:s,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:vw(i)}return uR(e,n,null,t)}function mw(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function lR(){return Math.random().toString(36).substr(2,8)}function Lv(t,e){return{usr:t.state,key:t.key,idx:e}}function rf(t,e,n,r){return n===void 0&&(n=null),hu({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?yw(e):e,{state:n,key:e&&e.key||r||lR()})}function vw(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function yw(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function uR(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a=Ci.Pop,u=null,c=h();c==null&&(c=0,s.replaceState(hu({},s.state,{idx:c}),""));function h(){return(s.state||{idx:null}).idx}function f(){a=Ci.Pop;let x=h(),E=x==null?null:x-c;c=x,u&&u({action:a,location:L.location,delta:E})}function d(x,E){a=Ci.Push;let T=rf(L.location,x,E);c=h()+1;let k=Lv(T,c),b=L.createHref(T);try{s.pushState(k,"",b)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;i.location.assign(b)}o&&u&&u({action:a,location:L.location,delta:1})}function m(x,E){a=Ci.Replace;let T=rf(L.location,x,E);c=h();let k=Lv(T,c),b=L.createHref(T);s.replaceState(k,"",b),o&&u&&u({action:a,location:L.location,delta:0})}function C(x){let E=i.location.origin!=="null"?i.location.origin:i.location.href,T=typeof x=="string"?x:vw(x);return T=T.replace(/ $/,"%20"),mw(E,"No window.location.(origin|href) available to create URL for href: "+T),new URL(T,E)}let L={get action(){return a},get location(){return t(i,s)},listen(x){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(Tv,f),u=x,()=>{i.removeEventListener(Tv,f),u=null}},createHref(x){return e(i,x)},createURL:C,encodeLocation(x){let E=C(x);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:d,replace:m,go(x){return s.go(x)}};return L}var Iv;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Iv||(Iv={}));function cR(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}const _w=["post","put","patch","delete"];new Set(_w);const hR=["get",..._w];new Set(hR);/**
 * React Router v6.26.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function of(){return of=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},of.apply(this,arguments)}const fR=_.createContext(null),ww=_.createContext(null);function dR(){return _.useContext(ww)!=null}function pR(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Ci.Pop,navigator:o,static:s=!1,future:a}=t;dR()&&mw(!1);let u=e.replace(/^\/*/,"/"),c=_.useMemo(()=>({basename:u,navigator:o,static:s,future:of({v7_relativeSplatPath:!1},a)}),[u,a,o,s]);typeof r=="string"&&(r=yw(r));let{pathname:h="/",search:f="",hash:d="",state:m=null,key:C="default"}=r,L=_.useMemo(()=>{let x=cR(h,u);return x==null?null:{location:{pathname:x,search:f,hash:d,state:m,key:C},navigationType:i}},[u,h,f,d,m,C,i]);return L==null?null:_.createElement(fR.Provider,{value:c},_.createElement(ww.Provider,{children:n,value:L}))}new Promise(()=>{});/**
 * React Router DOM v6.26.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const gR="6";try{window.__reactRouterVersion=gR}catch{}const mR="startTransition",kv=nE[mR];function vR(t){let{basename:e,children:n,future:r,window:i}=t,o=_.useRef();o.current==null&&(o.current=aR({window:i,v5Compat:!0}));let s=o.current,[a,u]=_.useState({action:s.action,location:s.location}),{v7_startTransition:c}=r||{},h=_.useCallback(f=>{c&&kv?kv(()=>u(f)):u(f)},[u,c]);return _.useLayoutEffect(()=>s.listen(h),[s,h]),_.createElement(pR,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:s,future:r})}var Av;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Av||(Av={}));var Pv;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Pv||(Pv={}));Fc.createRoot(document.getElementById("root")).render(J.jsx(ur.StrictMode,{children:J.jsx(vR,{basename:"/ODHack",children:J.jsx(sR,{})})}));
